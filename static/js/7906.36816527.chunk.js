/*! For license information please see 7906.36816527.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[7906],{97906:function(e,t,n){n.r(t);var a=n(38603),r=n(91532),o=n.n(r),l=n(58651),s=n(66797),i=n(12630),c=n(12908),u=n(69977),d=n(70658),m=n.n(d),f=n(37933),p=n(63022);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.Component{constructor(e){super(e),h(this,"handleBackupCreation",(()=>{this.props.createBackup()})),h(this,"askToDeleteSelectedBackupFactory",(e=>()=>{this.setState({showDeleteModal:!this.state.showDeleteModal,selectedBackup:e})})),h(this,"deleteSelectedBackup",(()=>{this.setState({showDeleteModal:!1},(async()=>{await this.props.deleteBackup(this.state.selectedBackup._id)}))})),h(this,"toggleDeleteModal",(()=>{this.setState({showDeleteModal:!this.state.showDeleteModal})})),this.state={selectedBackup:null,showDeleteModal:!1}}componentDidMount(){this.props.getBackups()}renderBackupList(){if(!this.props.admin.backups)return null;const{t:e}=this.props;return a.createElement(s.Z,{striped:!0,bordered:!0,hover:!0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,e("common:filename")),a.createElement("th",null,e("common:size")),a.createElement("th",null,e("common:date")),a.createElement("th",null,e("common:actions")))),a.createElement("tbody",null,this.props.admin.backups.map(((t,n)=>{if(!t)return null;const r=m()(t.size/1048576);return a.createElement("tr",{key:n},a.createElement("td",null,t.filename),a.createElement("td",null,`${r} MB`),a.createElement("td",null,t.createdAt),a.createElement("td",null,a.createElement("a",{"aria-label":e("download-backup"),href:`${p.ZP}/${t.filename}`,target:"_blank",rel:"noopener noreferrer"},a.createElement(c.Z,{placement:"bottom",overlay:a.createElement(u.Z,{id:"download-backup-tooltip"},e("download-backup"))},a.createElement(i.Z,{"aria-label":e("download-backup"),size:"sm",variant:"secondary",style:{marginRight:8}},a.createElement("i",{className:"fas fa-cloud-download-alt"})))),a.createElement(c.Z,{placement:"bottom",overlay:a.createElement(u.Z,{id:"delete-backup-tooltip"},e("delete-backup"))},a.createElement(i.Z,{"aria-label":e("delete-backup"),size:"sm",variant:"danger",onClick:this.askToDeleteSelectedBackupFactory(t)},a.createElement("i",{className:"fas fa-trash-alt"})))))}))))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"admin-settings-outer-container"},a.createElement("h1",null,e("created-backups")),this.renderBackupList(),a.createElement(i.Z,{size:"lg",onClick:this.handleBackupCreation},a.createElement("i",{className:"fas fa-cloud-upload-alt",style:{marginRight:12}}),e("create-backup"))),this.state.showDeleteModal?a.createElement(f.Z,{title:e("delete-backup"),message:a.createElement("div",null,a.createElement("p",null,e("delete-backup-confirm")),a.createElement("span",{style:{color:"red"}},this.state.selectedBackup.filename)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedBackup}):null)}}E.propTypes={admin:o().object.isRequired,createBackup:o().func.isRequired,deleteBackup:o().func.isRequired,getBackups:o().func.isRequired},t.default=(0,l.Z)(["admin_settings","common"])(E)},37933:function(e,t,n){var a=n(38603),r=n(91532),o=n.n(r),l=n(58651),s=n(12630),i=n(14704);const c=e=>a.createElement(i.Z,{show:e.show,onHide:e.close},a.createElement(i.Z.Header,null,a.createElement(i.Z.Title,{as:"h3"},e.title)),a.createElement(i.Z.Body,null,e.message),a.createElement(i.Z.Footer,null,a.createElement(s.Z,{onClick:e.close},e.t("cancel")),a.createElement(s.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))));c.propTypes={close:o().func,message:o().node,onConfirm:o().func,show:o().bool,title:o().string},c.defaultProps={close(){},message:"",onConfirm(){},show:!1,title:""},t.Z=(0,l.Z)(["common"])(c)},70658:function(e,t,n){var a=n(67433);e.exports=a},67433:function(e){var t=Math.round;e.exports=t},56193:function(e,t,n){var a=n(87462),r=n(63366),o=n(91532),l=n.n(o),s=n(38603),i=n(68761),c=n.n(i),u=["label","onClick","className"],d={label:l().string.isRequired,onClick:l().func},m=s.forwardRef((function(e,t){var n=e.label,o=e.onClick,l=e.className,i=(0,r.Z)(e,u);return s.createElement("button",(0,a.Z)({ref:t,type:"button",className:c()("close",l),onClick:o},i),s.createElement("span",{"aria-hidden":"true"},"\xd7"),s.createElement("span",{className:"sr-only"},n))}));m.displayName="CloseButton",m.propTypes=d,m.defaultProps={label:"Close"},t.Z=m},14704:function(e,t,n){n.d(t,{Z:function(){return G}});var a=n(63366),r=n(87462),o=n(68761),l=n.n(o),s=n(28338),i=n(60825),c=n(13770),u=n(91665),d=n(12950),m=n(20980),f=n(86301),p=n(49183),h=n(31361),E=n(38603),b=n(78673),v=(n(14180),n(94578)),Z=n(90169),g=n(23415),k=n(95440),y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",N=".sticky-top",w=".navbar-toggler",C=function(e){function t(){return e.apply(this,arguments)||this}(0,v.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var a,r=t.style[e];t.dataset[e]=r,(0,Z.Z)(t,((a={})[e]=parseFloat((0,Z.Z)(t,e))+n+"px",a))},n.restore=function(e,t){var n,a=t.dataset[e];void 0!==a&&(delete t.dataset[e],(0,Z.Z)(t,((n={})[e]=a,n)))},n.setContainerStyle=function(t,n){var a=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var r=(0,d.Z)();(0,g.Z)(n,y).forEach((function(e){return a.adjustAndStore("paddingRight",e,r)})),(0,g.Z)(n,N).forEach((function(e){return a.adjustAndStore("marginRight",e,-r)})),(0,g.Z)(n,w).forEach((function(e){return a.adjustAndStore("marginRight",e,r)}))}},n.removeContainerStyle=function(t,n){var a=this;e.prototype.removeContainerStyle.call(this,t,n),(0,g.Z)(n,y).forEach((function(e){return a.restore("paddingRight",e)})),(0,g.Z)(n,N).forEach((function(e){return a.restore("marginRight",e)})),(0,g.Z)(n,w).forEach((function(e){return a.restore("marginRight",e)}))},t}(k.Z),R=n(67561),x=n(51906),B=(0,x.Z)("modal-body"),D=E.createContext({onHide:function(){}}),S=n(54447),F=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],P=E.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.contentClassName,i=e.centered,c=e.size,u=e.children,d=e.scrollable,m=(0,a.Z)(e,F),f=(n=(0,S.vE)(n,"modal"))+"-dialog";return E.createElement("div",(0,r.Z)({},m,{ref:t,className:l()(f,o,c&&n+"-"+c,i&&f+"-centered",d&&f+"-scrollable")}),E.createElement("div",{className:l()(n+"-content",s)},u))}));P.displayName="ModalDialog";var M=P,T=(0,x.Z)("modal-footer"),H=n(56193),A=["bsPrefix","closeLabel","closeButton","onHide","className","children"],z=E.forwardRef((function(e,t){var n=e.bsPrefix,o=e.closeLabel,s=e.closeButton,i=e.onHide,c=e.className,u=e.children,d=(0,a.Z)(e,A);n=(0,S.vE)(n,"modal-header");var m=(0,E.useContext)(D),p=(0,f.Z)((function(){m&&m.onHide(),i&&i()}));return E.createElement("div",(0,r.Z)({ref:t},d,{className:l()(c,n)}),u,s&&E.createElement(H.Z,{label:o,onClick:p}))}));z.displayName="ModalHeader",z.defaultProps={closeLabel:"Close",closeButton:!1};var O,_=z,I=(0,n(49132).Z)("h4"),j=(0,x.Z)("modal-title",{Component:I}),L=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],q={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:M};function K(e){return E.createElement(R.Z,(0,r.Z)({},e,{timeout:null}))}function U(e){return E.createElement(R.Z,(0,r.Z)({},e,{timeout:null}))}var $=E.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,v=e.style,Z=e.dialogClassName,g=e.contentClassName,k=e.children,y=e.dialogAs,N=e["aria-labelledby"],w=e.show,R=e.animation,x=e.backdrop,B=e.keyboard,F=e.onEscapeKeyDown,P=e.onShow,M=e.onHide,T=e.container,H=e.autoFocus,A=e.enforceFocus,z=e.restoreFocus,_=e.restoreFocusOptions,I=e.onEntered,j=e.onExit,q=e.onExiting,$=e.onEnter,G=e.onEntering,J=e.onExited,Q=e.backdropClassName,V=e.manager,W=(0,a.Z)(e,L),X=(0,E.useState)({}),Y=X[0],ee=X[1],te=(0,E.useState)(!1),ne=te[0],ae=te[1],re=(0,E.useRef)(!1),oe=(0,E.useRef)(!1),le=(0,E.useRef)(null),se=(0,m.Z)(),ie=se[0],ce=se[1],ue=(0,f.Z)(M);n=(0,S.vE)(n,"modal"),(0,E.useImperativeHandle)(t,(function(){return{get _modal(){return ie}}}),[ie]);var de=(0,E.useMemo)((function(){return{onHide:ue}}),[ue]);function me(){return V||(O||(O=new C),O)}function fe(e){if(i.Z){var t=me().isContainerOverflowing(ie),n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;ee({paddingRight:t&&!n?(0,d.Z)():void 0,paddingLeft:!t&&n?(0,d.Z)():void 0})}}var pe=(0,f.Z)((function(){ie&&fe(ie.dialog)}));(0,p.Z)((function(){(0,u.Z)(window,"resize",pe),le.current&&le.current()}));var he=function(){re.current=!0},Ee=function(e){re.current&&ie&&e.target===ie.dialog&&(oe.current=!0),re.current=!1},be=function(){ae(!0),le.current=(0,h.Z)(ie.dialog,(function(){ae(!1)}))},ve=function(e){"static"!==x?oe.current||e.target!==e.currentTarget?oe.current=!1:null==M||M():function(e){e.target===e.currentTarget&&be()}(e)},Ze=(0,E.useCallback)((function(e){return E.createElement("div",(0,r.Z)({},e,{className:l()(n+"-backdrop",Q,!R&&"show")}))}),[R,Q,n]),ge=(0,r.Z)({},v,Y);R||(ge.display="block");return E.createElement(D.Provider,{value:de},E.createElement(b.Z,{show:w,ref:ce,backdrop:x,container:T,keyboard:!0,autoFocus:H,enforceFocus:A,restoreFocus:z,restoreFocusOptions:_,onEscapeKeyDown:function(e){B||"static"!==x?B&&F&&F(e):(e.preventDefault(),be())},onShow:P,onHide:M,onEnter:function(e,t){e&&(e.style.display="block",fe(e)),null==$||$(e,t)},onEntering:function(e,t){null==G||G(e,t),(0,s.ZP)(window,"resize",pe)},onEntered:I,onExit:function(e){null==le.current||le.current(),null==j||j(e)},onExiting:q,onExited:function(e){e&&(e.style.display=""),null==J||J(e),(0,u.Z)(window,"resize",pe)},manager:me(),containerClassName:n+"-open",transition:R?K:void 0,backdropTransition:R?U:void 0,renderBackdrop:Ze,renderDialog:function(e){return E.createElement("div",(0,r.Z)({role:"dialog"},e,{style:ge,className:l()(o,n,ne&&n+"-static"),onClick:x?ve:void 0,onMouseUp:Ee,"aria-labelledby":N}),E.createElement(y,(0,r.Z)({},W,{onMouseDown:he,className:Z,contentClassName:g}),k))}}))}));$.displayName="Modal",$.defaultProps=q,$.Body=B,$.Header=_,$.Title=j,$.Footer=T,$.Dialog=M,$.TRANSITION_DURATION=300,$.BACKDROP_TRANSITION_DURATION=150;var G=$},66797:function(e,t,n){var a=n(87462),r=n(63366),o=n(68761),l=n.n(o),s=n(38603),i=n(54447),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=s.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,u=e.striped,d=e.bordered,m=e.borderless,f=e.hover,p=e.size,h=e.variant,E=e.responsive,b=(0,r.Z)(e,c),v=(0,i.vE)(n,"table"),Z=l()(o,v,h&&v+"-"+h,p&&v+"-"+p,u&&v+"-striped",d&&v+"-bordered",m&&v+"-borderless",f&&v+"-hover"),g=s.createElement("table",(0,a.Z)({},b,{className:Z,ref:t}));if(E){var k=v+"-responsive";return"string"===typeof E&&(k=k+"-"+E),s.createElement("div",{className:k},g)}return g}));t.Z=u},51906:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(87462),r=n(63366),o=n(68761),l=n.n(o),s=n(62489),i=n(38603),c=n(54447),u=["className","bsPrefix","as"];function d(e,t){var n,o=void 0===t?{}:t,d=o.displayName,m=void 0===d?(n=e)[0].toUpperCase()+(0,s.Z)(n).slice(1):d,f=o.Component,p=o.defaultProps,h=i.forwardRef((function(t,n){var o=t.className,s=t.bsPrefix,d=t.as,m=void 0===d?f||"div":d,p=(0,r.Z)(t,u),h=(0,c.vE)(s,e);return i.createElement(m,(0,a.Z)({ref:n,className:l()(o,h)},p))}));return h.defaultProps=p,h.displayName=m,h}},49132:function(e,t,n){var a=n(87462),r=n(38603),o=n(68761),l=n.n(o);t.Z=function(e){return r.forwardRef((function(t,n){return r.createElement("div",(0,a.Z)({},t,{ref:n,className:l()(t.className,e)}))}))}}}]);
//# sourceMappingURL=7906.36816527.chunk.js.map