{"version":3,"sources":["components/confirm-email/index.js","containers/visible-confirm-email/index.js"],"names":[],"mappings":"0sBAsCA,KAAM,cAAe,CAAC,CAAE,aAAc,YAAe,CACpD,KAAM,CAAE,GAAM,gBAAgB,QAAS,EACjC,CAAE,QAAS,YAAe,mBAAU,EAAG,EAE7C,0BAAW,IAAM,CAChB,KAAM,QAAS,OAAO,SAAS,QAAU,OAAO,SAAS,KAAK,UAAW,EAAG,EAEtE,MAAQ,aADH,MAAmB,MAAO,EACnB,MAClB,aAAc,KAAM,EAAE,KAAQ,YAAgB,CAC7C,WAAY,UAAW,CACxB,CAAC,CACF,EAAG,CAAE,YAAa,CAAE,EAEnB,oBAAC,OAAI,UAAU,SACd,oBAAC,eAAI,CAAC,MAAO,CAAE,UAAW,0BAA2B,aAAc,MAAO,QAAS,IAAM,WAAY,wBAAyB,GAC7H,oBAAC,2BACA,oBAAC,sBAAW,GAAG,MAAM,EAAE,sBAAsB,CAAE,CAChD,EACA,oBAAC,yBACA,oBAAC,KAAE,cAAY,WAAY,OAAQ,CACpC,EACA,oBAAC,uBAAY,MAAO,CAAE,WAAY,wBAAyB,UAAW,OAAQ,GAC7E,oBAAC,qCAAI,CAAC,GAAG,WAAW,EAAE,iBAAiB,CAAE,EACzC,oBAAC,YAAK,KAAG,EACT,oBAAC,qCAAI,CAAC,GAAG,UAAU,EAAE,cAAc,CAAE,CACtC,CACD,EACC,SAAS,aAAe,oBAAC,OACzB,UAAU,sBACV,IAAK,SAAS,aACd,IAAI,eACL,EAAK,IACN,CAEF,EAKA,aAAa,UAAY,CACxB,aAAc,qCACd,SAAU,2BACX,EAEA,aAAa,aAAe,CAC3B,SAAU,CAAC,CACZ,EAKA,kBAAe,a,gCC9Df,yBAA0B,MAAQ,CACjC,MAAO,CACN,SAAU,MAAM,QACjB,CACD,CAEA,4BAA6B,SAAW,CACvC,MAAO,CACN,aAAc,OACf,CACD,CAUA,0BAL4B,gBAAS,gBAAiB,kBAAmB,EAAG,aAAa,C","file":"static/js/7278.f80b8ef4.chunk.js","sourcesContent":["/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { Link } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport 'css/login.css';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n * Renders a confirmation email page that is displayed when a user clicks on a confirmation link in their email.\r\n *\r\n * @param {Object} props - component props\r\n * @param {Function} props.confirmEmail - function to confirm a user's email address\r\n * @param {Object} props.settings - ISLE instance settings\r\n * @returns {ReactElement} component\r\n */\r\nconst ConfirmEmail = ({ confirmEmail, settings }) => {\r\n\tconst { t } = useTranslation( 'common' );\r\n\tconst [ message, setMessage ] = useState( '' );\r\n\r\n\tuseEffect( () => {\r\n\t\tconst search = window.location.search || window.location.hash.substring( 16 );\r\n\t\tconst qs = queryString.parse( search );\r\n\t\tconst token = qs[ 'token' ];\r\n\t\tconfirmEmail( token ).then( ( newMessage ) => {\r\n\t\t\tsetMessage( newMessage );\r\n\t\t});\r\n\t}, [ confirmEmail ] );\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<Card style={{ boxShadow: '0 0 8px rgba(0,0,0,0.3)', borderRadius: '6px', opacity: 0.98, background: 'rgba(255,255,255,0.75)' }}>\r\n\t\t\t\t<Card.Header>\r\n\t\t\t\t\t<Card.Title as=\"h3\">{t('common:confirm-email')}</Card.Title>\r\n\t\t\t\t</Card.Header>\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<p data-testid=\"message\" >{message}</p>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t\t<Card.Footer style={{ background: 'rgba(255,255,255,0.6)', textAlign: 'right' }}>\r\n\t\t\t\t\t<Link to=\"/signup\">{t('common:register')}</Link>\r\n\t\t\t\t\t<span> | </span>\r\n\t\t\t\t\t<Link to=\"/login\">{t('common:login')}</Link>\r\n\t\t\t\t</Card.Footer>\r\n\t\t\t</Card>\r\n\t\t\t{settings.brandingLogo ? <img\r\n\t\t\t\tclassName=\"login-branding-logo\"\r\n\t\t\t\tsrc={settings.brandingLogo}\r\n\t\t\t\talt=\"Branded Logo\"\r\n\t\t\t/> : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\n// PROPERTIES //\r\n\r\nConfirmEmail.propTypes = {\r\n\tconfirmEmail: PropTypes.func.isRequired,\r\n\tsettings: PropTypes.object\r\n};\r\n\r\nConfirmEmail.defaultProps = {\r\n\tsettings: {}\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default ConfirmEmail;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmEmail from 'components/confirm-email';\r\nimport { confirmEmail } from 'actions/user';\r\n\r\n\r\n// FUNCTIONS //\r\n\r\nfunction mapStateToProps( state ) {\r\n\treturn {\r\n\t\tsettings: state.settings\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps( dispatch ) {\r\n\treturn {\r\n\t\tconfirmEmail: confirmEmail\r\n\t};\r\n}\r\n\r\n\r\n// MAIN //\r\n\r\nconst VisibleConfirmEmail = connect( mapStateToProps, mapDispatchToProps )( ConfirmEmail );\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default VisibleConfirmEmail;\r\n"],"sourceRoot":""}