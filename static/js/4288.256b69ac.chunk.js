/*! For license information please see 4288.256b69ac.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[4288],{82565:function(e,t,n){n.d(t,{Qi:function(){return p},CP:function(){return f},Np:function(){return v},hb:function(){return g},mm:function(){return E}});var r=n(87757),a=n.n(r),o=n(15861),s=n(63834),i=n(98695),c=n(41985),l=n(33357),u=n(605),m=function(){var e=(0,o.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Yy.get(s.ZP+"/get_custom_fields");case 3:n=e.sent,t({type:l.C3,payload:{customFields:n.data.fields}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,c.EG)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return(0,o.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:case"end":return t.stop()}}),t)})))},d=function(){var e=(0,o.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Yy.post(s.ZP+"/increment_field_position",{id:n});case 3:r=e.sent,t({type:l.S5,payload:{customFields:r.data.fields}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,c.EG)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e){return function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=(0,o.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Yy.post(s.ZP+"/decrement_field_position",{id:n});case 3:r=e.sent,t({type:l.rh,payload:{customFields:r.data.fields}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,c.EG)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e){return function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(){var e=(0,o.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Yy.post(s.ZP+"/delete_custom_field",{id:n});case 3:r=e.sent,(0,c.wN)(t,{title:i.Z.t("common:deleted"),message:r.data.message,level:"success"}),t({type:l.CH,payload:{id:n}}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",(0,c.EG)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(e){return function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){var e=(0,o.Z)(a().mark((function e(t,n){var r,o,m,p,d,f,h,v,Z;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,o=n.description,m=n.type,p=n.options,d=n.position,f=n.showOnProfile,h=n.editableOnSignup,v=n.editableOnProfile,e.prev=1,e.next=4,u.Yy.post(s.ZP+"/create_custom_field",{name:r,description:o,type:m,options:p,position:d,showOnProfile:f,editableOnSignup:h,editableOnProfile:v});case 4:return Z=e.sent,(0,c.wN)(t,{title:i.Z.t("common:created"),message:Z.data.message,level:"success"}),t({type:l.Hs,payload:Z.data.field}),e.abrupt("return",Z);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",(0,c.EG)(t,e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){return function(){var t=(0,o.Z)(a().mark((function t(n){var r,o,s,i,c,l,u,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.name,o=n.description,s=n.type,i=n.options,c=n.position,l=n.showOnProfile,u=n.editableOnSignup,m=n.editableOnProfile,t.next=3,y(e,{name:r,description:o,type:s,options:i,position:c,showOnProfile:l,editableOnSignup:u,editableOnProfile:m});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},63980:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(41488),a=n(29236),o=n(1413),s=n(87757),i=n.n(s),c=n(15861),l=n(15671),u=n(43144),m=n(97326),p=n(60136),d=n(29388),f=n(4942),h=n(12929),v=n(25472),Z=n(89308),g=n(70048),y=n(29530),E=n(72945),w=n(23596),b=n(54012),x=n(75018),k=n(73230),C=n(52787),S=n(66734),F=n(58932),P=n(92637),I=n(47701),N=n(14657),O=n(10077),R=n.n(O),_=n(61562),L=n.n(_),V=n(85840),A=n(59486),T=n(98695),U=(0,A.EN)((function(e){return r.createElement(V.Z,{variant:e.successful?"success":"warning",show:e.show},r.createElement(V.Z.Header,null,r.createElement(V.Z.Title,null,T.Z.t("signup:create-user"))),r.createElement(V.Z.Body,null,e.message),r.createElement(V.Z.Footer,null,e.successful?r.createElement(g.Z,{onClick:function(){e.history.push("/login")}},T.Z.t("signup:go-to-login-page")):r.createElement(g.Z,{onClick:e.close},T.Z.t("signup:close"))))})),M=(n(27184),function(e){return r.createElement(I.Z,{id:"tooltip"},e)}),D=R()("isle-dashboard:signup"),G=function(e){(0,p.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,m.Z)(r),"handleSubmit",function(){var e=(0,c.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(r.getEmailValidationState()&&r.getNameValidationState()&&r.getPasswordValidationState())){e.next=16;break}return e.prev=2,e.next=5,r.props.createUser({name:(o=r.state).name,email:o.email,password:o.password,customFields:o.customFields});case 5:n=e.sent,r.setState({message:n.data.message,successful:!0,showModal:!0}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),a=e.t0.response?e.t0.response.data:e.t0.message,D("Encountered an error: "+a),r.setState({message:a,successful:!1,showModal:!0});case 14:e.next=17;break;case 16:r.setState({showSubmitOverlay:!0,overlayTarget:t.target},(function(){setTimeout((function(){r.setState({showSubmitOverlay:!1})}),4e3)}));case 17:case"end":return e.stop()}var o}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),(0,f.Z)((0,m.Z)(r),"handleInputChange",(function(e){var t=e.target,n=t.value,a=t.name;r.setState((0,f.Z)({},a,n))})),(0,f.Z)((0,m.Z)(r),"getEmailValidationState",(function(){return L()(r.state.email)})),(0,f.Z)((0,m.Z)(r),"getNameValidationState",(function(){return r.state.name.length>3})),(0,f.Z)((0,m.Z)(r),"getPasswordValidationState",(function(){var e=r.state,t=e.password,n=e.passwordRepeat;return!(t.length<6||0===n.length)&&t===n})),(0,f.Z)((0,m.Z)(r),"close",(function(){r.setState({showModal:!1})})),r.state={name:"",email:"",password:"",passwordRepeat:"",showModal:!1,customFields:{}},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.props.getCustomFields()}},{key:"renderEmail",value:function(){var e=this.props.t;return r.createElement(S.Z,{placement:"right",overlay:M(e("email-tooltip"))},r.createElement(k.Z,{controlId:"form-email"},r.createElement(w.Z,null,r.createElement(E.Z,{sm:3},r.createElement(b.Z,null,e("common:email"))),r.createElement(E.Z,{sm:9},r.createElement(x.Z,{name:"email",type:"email",autoComplete:"username email",placeholder:e("common:enter-email"),onChange:this.handleInputChange,isInvalid:this.state.email&&!this.getEmailValidationState()}),r.createElement(C.Z.Control.Feedback,{type:"invalid"},e("invalid-email"))))))}},{key:"renderName",value:function(){var e=this.props.t;return r.createElement(S.Z,{placement:"right",overlay:M(e("name-tooltip"))},r.createElement(k.Z,{controlId:"form-name"},r.createElement(w.Z,null,r.createElement(E.Z,{sm:3},r.createElement(b.Z,null,e("common:name"))),r.createElement(E.Z,{sm:9},r.createElement(x.Z,{name:"name",type:"text",placeholder:e("common:enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),r.createElement(C.Z.Control.Feedback,{type:"invalid"},e("invalid-name"))))))}},{key:"renderPasswordFields",value:function(){var e=this.props.t,t=this.getPasswordValidationState(),n=this.state.password||this.state.passwordRepeat;return r.createElement(r.Fragment,null,r.createElement(S.Z,{placement:"right",overlay:M(e("password-tooltip"))},r.createElement(k.Z,{controlId:"form-password"},r.createElement(w.Z,null,r.createElement(E.Z,{sm:3},r.createElement(b.Z,null,e("common:password"))),r.createElement(E.Z,{sm:9},r.createElement(x.Z,{name:"password",type:"password",autoComplete:"new-password",placeholder:e("choose-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:n&&!t}),r.createElement(C.Z.Control.Feedback,{type:"invalid"},e("invalid-password")))))),r.createElement(k.Z,{controlId:"form-repeat-password"},r.createElement(w.Z,null,r.createElement(E.Z,{sm:3},r.createElement(b.Z,null,e("common:repeat"))),r.createElement(E.Z,{sm:{span:9}},r.createElement(x.Z,{name:"passwordRepeat",type:"password",autoComplete:"new-password",placeholder:e("confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:n&&!t}),r.createElement(C.Z.Control.Feedback,{type:"invalid"},e("invalid-password-match"))))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.settings,s=this.state.customFields,i=this.props.user.availableCustomFields||[];return r.createElement(r.Fragment,null,r.createElement("div",{className:"login"},r.createElement(y.Z,{style:{boxShadow:"0 0 8px rgba(0,0,0,0.3)",borderRadius:"6px",opacity:.98,background:"rgba(255,255,255,0.75)"}},r.createElement(y.Z.Header,null,r.createElement(y.Z.Title,{as:"h1",style:{textAlign:"center"}},"ISLE ",r.createElement("small",null,"Dashboard"))),r.createElement(y.Z.Body,null,r.createElement(C.Z,null,this.renderEmail(),this.renderName(),this.renderPasswordFields(),i.filter((function(e){return e.editableOnSignup})).map((function(t,n){var a,i=s[t.name];return a="checkbox"===t.type?r.createElement(k.Z,{controlId:"form-".concat(t.name),as:w.Z},r.createElement(E.Z,{sm:3}),r.createElement(E.Z,{sm:3},r.createElement(C.Z.Check,{type:"checkbox",label:t.name,defaultChecked:i,onChange:function(n){var r=(0,o.Z)({},e.state.customFields);r[t.name]=n.target.checked,e.setState({customFields:r,changed:!0})}}))):"text"===t.type?r.createElement(k.Z,{controlId:"form-".concat(t.name),as:w.Z},r.createElement(E.Z,{sm:3},r.createElement(b.Z,null,t.name)),r.createElement(E.Z,{sm:9},r.createElement(x.Z,{name:t.name,type:"text",value:i,placeholder:"Enter ".concat(t.name,"..."),onChange:function(n){var r=(0,o.Z)({},e.state.customFields);r[t.name]=n.target.value,e.setState({customFields:r,changed:!0})},autoComplete:"none"}))):r.createElement(k.Z,{controlId:"form-".concat(t.name),as:w.Z},r.createElement(E.Z,{sm:3},r.createElement(b.Z,null,t.name)),r.createElement(E.Z,{sm:9},r.createElement(Z.ZP,{defaultValue:i?{label:i,value:i}:null,options:t.options.map((function(e){return{value:e,label:e}})),onChange:function(n){var r=(0,o.Z)({},e.state.customFields);r[t.name]=n.value,e.setState({customFields:r,changed:!0})}}))),r.createElement(S.Z,{key:n,placement:"top",overlay:M(t.description)},a)})),r.createElement("p",null,r.createElement(h.c,{i18nKey:"signup:tos-disclaimer"},"Through clicking the signup button you agree to our ",r.createElement(N.rU,{to:"/terms"},"terms of service"),". Learn more about how your data is processed in our ",r.createElement(N.rU,{to:"/privacy"},"privacy policy"),".")),r.createElement(k.Z,null,r.createElement(g.Z,{variant:"primary",className:"centered",type:"submit",onClick:this.handleSubmit},n("common:register"))))),r.createElement(y.Z.Footer,{style:{background:"rgba(255,255,255,0.6)",textAlign:"right"}},r.createElement(N.rU,{to:"/forgot-password"},n("common:forgot-password")),r.createElement("span",null," | "),r.createElement(N.rU,{to:"/login"},n("common:login")))),a.brandingLogo?r.createElement("img",{className:"login-branding-logo",src:a.brandingLogo,alt:"Branded Logo"}):null),r.createElement(U,{show:this.state.showModal,close:this.close,message:this.state.message,successful:this.state.successful}),r.createElement(F.Z,{show:this.state.showSubmitOverlay,target:this.state.overlayTarget,placement:"right",containerPadding:20},r.createElement(P.Z,{id:"popover-contained",title:"Input fields are not valid"},n("signup-not-valid"))))}}]),n}(r.Component);G.defaultProps={settings:{},user:{}};var H=(0,v.Z)(["signup","common"])(G),K=n(60299),Y=n(82565);var j=(0,a.$j)((function(e){return{user:e.user,settings:e.settings}}),(function(e){return{createUser:K.r4,getCustomFields:(0,Y.Qi)(e)}}))(H)},61562:function(e,t,n){var r=n(27859);e.exports=r},27859:function(e,t,n){var r=n(20842).isPrimitive,a=/@/;e.exports=function(e){return r(e)&&a.test(e)}},44503:function(e,t,n){n.d(t,{Z:function(){return a}});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(e,t){return r(e.querySelectorAll(t))}},40539:function(e,t,n){var r=n(41488).createContext(null);r.displayName="CardContext",t.Z=r},14657:function(e,t,n){n.d(t,{rU:function(){return h}});var r=n(59486),a=n(94578),o=n(41488),s=n(86358),i=(n(83603),n(87462)),c=n(63366),l=n(83697);o.Component;o.Component;var u=function(e,t){return"function"===typeof e?e(t):e},m=function(e,t){return"string"===typeof e?(0,s.ob)(e,null,null,t):e},p=function(e){return e},d=o.forwardRef;"undefined"===typeof d&&(d=p);var f=d((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,s=(0,c.Z)(e,["innerRef","navigate","onClick"]),l=s.target,u=(0,i.Z)({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=p!==d&&t||n,o.createElement("a",u)}));var h=d((function(e,t){var n=e.component,a=void 0===n?f:n,h=e.replace,v=e.to,Z=e.innerRef,g=(0,c.Z)(e,["component","replace","to","innerRef"]);return o.createElement(r.s6.Consumer,null,(function(e){e||(0,l.Z)(!1);var n=e.history,r=m(u(v,e.location),e.location),c=r?n.createHref(r):"",f=(0,i.Z)({},g,{href:c,navigate:function(){var t=u(v,e.location),r=(0,s.Ep)(e.location)===(0,s.Ep)(m(t));(h||r?n.replace:n.push)(t)}});return p!==d?f.ref=t||Z:f.innerRef=Z,o.createElement(a,f)}))})),v=function(e){return e},Z=o.forwardRef;"undefined"===typeof Z&&(Z=v);Z((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,s=e.activeClassName,p=void 0===s?"active":s,d=e.activeStyle,f=e.className,g=e.exact,y=e.isActive,E=e.location,w=e.sensitive,b=e.strict,x=e.style,k=e.to,C=e.innerRef,S=(0,c.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(r.s6.Consumer,null,(function(e){e||(0,l.Z)(!1);var n=E||e.location,s=m(u(k,n),n),c=s.pathname,F=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=F?(0,r.LX)(n.pathname,{path:F,exact:g,sensitive:w,strict:b}):null,I=!!(y?y(P,n):P),N="function"===typeof f?f(I):f,O="function"===typeof x?x(I):x;I&&(N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(N,p),O=(0,i.Z)({},O,d));var R=(0,i.Z)({"aria-current":I&&a||null,className:N,style:O,to:s},S);return v!==Z?R.ref=t||C:R.innerRef=C,o.createElement(h,R)}))}))},27184:function(){},42982:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(30907);var a=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=4288.256b69ac.chunk.js.map