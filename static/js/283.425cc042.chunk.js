/*! For license information please see 283.425cc042.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[283],{99661:function(e,t,a){a.r(t),a.d(t,{default:function(){return re}});var s=a(38603),r=a(91532),n=a.n(r),o=a(2561),l=a.n(o),i=a(58651),c=a(53697),m=a.n(c),d=a(87078),u=a(12630),h=a(12908),p=a(69977),g=a(5610),f=a(70658),E=a.n(f),v=a(88928),Z=a.n(v),b=a(49148),w=a.n(b),C=a(31617),y=a(37933),x=a(63022),k=a(76470),F=a(34668),D=a(73745),S=a(27925),I=a(33547),M=a(65307),N=a(76282),P=a(72868),T=a(34980),U=a(14704),H=a(67289),A=a(30528),R=a(20328),L=a(47331),W=a(56233),q=a(72454),z=a(62810),V=a.n(z);function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const O=e=>s.createElement(p.Z,{id:"tooltip"},e);class $ extends s.Component{constructor(e){super(e),_(this,"handleSubmit",(e=>{e.preventDefault(),this.getEmailValidationState()&&this.getNameValidationState()&&this.getPasswordValidationState()&&this.props.onConfirm((({name:e,email:t,password:a,customFields:s})=>({name:e,email:t,password:a,customFields:s}))(this.state))})),_(this,"handleInputChange",(e=>{const t=e.target,a=t.value,s=t.name;this.setState({[s]:a})})),_(this,"getEmailValidationState",(()=>V()(this.state.email))),_(this,"getNameValidationState",(()=>this.state.name.length>3)),_(this,"getPasswordValidationState",(()=>{const{password:e,passwordRepeat:t}=this.state;return!(e.length<6||0===t.length)&&e===t})),this.state={name:"",email:"",password:"",passwordRepeat:"",customFields:{}}}componentDidMount(){this.props.getCustomFields()}renderEmail(){const{t:e}=this.props;return s.createElement(h.Z,{placement:"right",overlay:O(e("email-tooltip"))},s.createElement(W.Z,{controlId:"form-email"},s.createElement(R.Z,null,s.createElement(A.Z,{sm:3},s.createElement(L.Z,null,e("common:email"))),s.createElement(A.Z,{sm:9},s.createElement(d.Z,{name:"email",type:"email",autoComplete:"username email",placeholder:e("common:enter-email"),onChange:this.handleInputChange,isInvalid:this.state.email&&!this.getEmailValidationState()}),s.createElement(q.Z.Control.Feedback,{type:"invalid"},e("invalid-email"))))))}renderName(){const{t:e}=this.props;return s.createElement(h.Z,{placement:"right",overlay:O(e("name-tooltip"))},s.createElement(W.Z,{controlId:"form-name"},s.createElement(R.Z,null,s.createElement(A.Z,{sm:3},s.createElement(L.Z,null,e("common:name"))),s.createElement(A.Z,{sm:9},s.createElement(d.Z,{name:"name",type:"text",placeholder:e("common:enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),s.createElement(q.Z.Control.Feedback,{type:"invalid"},e("invalid-name"))))))}renderPasswordFields(){const{t:e}=this.props,t=this.getPasswordValidationState(),a=this.state.password||this.state.passwordRepeat;return s.createElement(s.Fragment,null,s.createElement(h.Z,{placement:"right",overlay:O(e("password-tooltip"))},s.createElement(W.Z,{controlId:"form-password"},s.createElement(R.Z,null,s.createElement(A.Z,{sm:3},s.createElement(L.Z,null,e("common:password"))),s.createElement(A.Z,{sm:9},s.createElement(d.Z,{name:"password",type:"password",autoComplete:"new-password",placeholder:e("choose-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!t}),s.createElement(q.Z.Control.Feedback,{type:"invalid"},e("invalid-password")))))),s.createElement(W.Z,{controlId:"form-repeat-password"},s.createElement(R.Z,null,s.createElement(A.Z,{sm:3},s.createElement(L.Z,null,e("common:repeat"))),s.createElement(A.Z,{sm:{span:9}},s.createElement(d.Z,{name:"passwordRepeat",type:"password",autoComplete:"new-password",placeholder:e("confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!t}),s.createElement(q.Z.Control.Feedback,{type:"invalid"},e("invalid-password-match"))))))}render(){const{t:e}=this.props,t=this.state.customFields,a=this.props.user.availableCustomFields||[];return s.createElement(U.Z,{show:!0,onHide:this.props.onHide},s.createElement(U.Z.Header,{closeButton:!0},s.createElement(U.Z.Title,{as:"h3"},e("admin:create-new-user"))),s.createElement(U.Z.Body,null,s.createElement(q.Z,null,this.renderEmail(),this.renderName(),this.renderPasswordFields(),a.filter((e=>e.editableOnSignup)).map(((e,a)=>{let r;const n=t[e.name];return r="checkbox"===e.type?s.createElement(W.Z,{controlId:`form-${e.name}`,as:R.Z},s.createElement(A.Z,{sm:3}),s.createElement(A.Z,{sm:3},s.createElement(q.Z.Check,{type:"checkbox",label:e.name,defaultChecked:n,onChange:t=>{const a={...this.state.customFields};a[e.name]=t.target.checked,this.setState({customFields:a,changed:!0})}}))):"text"===e.type?s.createElement(W.Z,{controlId:`form-${e.name}`,as:R.Z},s.createElement(A.Z,{sm:3},s.createElement(L.Z,null,e.name)),s.createElement(A.Z,{sm:9},s.createElement(d.Z,{name:e.name,type:"text",value:n,placeholder:`Enter ${e.name}...`,onChange:t=>{const a={...this.state.customFields};a[e.name]=t.target.value,this.setState({customFields:a,changed:!0})},autoComplete:"none"}))):s.createElement(W.Z,{controlId:`form-${e.name}`,as:R.Z},s.createElement(A.Z,{sm:3},s.createElement(L.Z,null,e.name)),s.createElement(A.Z,{sm:9},s.createElement(H.ZP,{defaultValue:n?{label:n,value:n}:null,options:e.options.map((e=>({value:e,label:e}))),onChange:t=>{const a={...this.state.customFields};a[e.name]=t.value,this.setState({customFields:a,changed:!0})}}))),s.createElement(h.Z,{key:a,placement:"top",overlay:O(e.description)},r)})),s.createElement(W.Z,null,s.createElement(u.Z,{variant:"primary",className:"centered",type:"submit",onClick:this.handleSubmit},e("common:confirm"))))))}}$.propTypes={getCustomFields:n().func.isRequired,onConfirm:n().func.isRequired,onHide:n().func.isRequired,user:n().object},$.defaultProps={user:{}};var j=(0,i.Z)(["signup","admin","common"])($),B=a(14224),G=a(15138),J=a.n(G);function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const K=e=>s.createElement(p.Z,{id:"tooltip"},e),Q=l()("isle-dashboard");class X extends s.Component{constructor(e){super(e),Y(this,"handleUpdate",(()=>{const{name:e,password:t,organization:a,writeAccess:s,verifiedEmail:r,administrator:n,twoFactorAuth:o}=this.state,l={name:e,organization:a,id:this.props.user._id,writeAccess:s,verifiedEmail:r,administrator:n,twoFactorAuth:o};let i=!1;t&&(l.password=t,i=!0),J()(this.state.customFields)||(l.customFields=this.state.customFields,i=!0);const c=this.props.user;e===c.name&&a===c.organization&&s===c.writeAccess&&r===c.verifiedEmail&&n===c.administrator&&o===c.twoFactorAuth||(i=!0),i&&(Q("Update user..."),this.props.updateUser(l),this.props.onHide())})),Y(this,"handleInputChange",(e=>{const t=e.target,a=t.value,s=t.name;this.setState({[s]:a})})),Y(this,"handleCheckboxChangeFactory",(e=>t=>{this.setState({[e]:t.target.checked})})),Y(this,"getNameValidationState",(()=>{const{name:e}=this.state;return e&&e.length>3})),Y(this,"getPasswordValidationState",(()=>{const{password:e}=this.state;return e.length>=6})),this.state={email:e.user.email,name:e.user.name,organization:e.user.organization,password:"",writeAccess:e.user.writeAccess,verifiedEmail:e.user.verifiedEmail,administrator:e.user.administrator,customFields:e.user.customFields||{},twoFactorAuth:e.user.twoFactorAuth}}render(){const e=this.getPasswordValidationState(),t=this.getNameValidationState(),a=this.state.password||this.state.passwordRepeat,r=this.props.t,n=this.props.user.customFields||{};return s.createElement(s.Fragment,null,s.createElement(U.Z,{dialogClassName:"user-edit-modal",show:this.props.show,onHide:this.props.onHide},s.createElement(U.Z.Header,null,s.createElement(U.Z.Title,{as:"h3",style:{width:"100%"}},r("common:profile"),s.createElement(h.Z,{placement:"right",overlay:K(r("close-edit-modal"))},s.createElement(u.Z,{onClick:this.props.onHide,style:{float:"right"},variant:"outline-secondary","aria-label":r("close-edit-modal"),className:"modal-close"},s.createElement("span",{"aria-hidden":"true"},"x"))))),s.createElement(q.Z,{noValidate:!0,style:{padding:"20px"}},s.createElement(R.Z,null,s.createElement(A.Z,{md:4},s.createElement("img",{src:`${x.ZP}/avatar/${this.props.user.picture}`,alt:"Profile Pic",width:"160px"})),s.createElement(A.Z,{md:4},s.createElement(W.Z,{controlId:"form-email"},s.createElement(L.Z,null,r("common:email")),s.createElement(d.Z,{name:"email",type:"email",value:this.state.email,disabled:!0,autoComplete:"none"})),s.createElement(h.Z,{placement:"right",overlay:K(r("update-name"))},s.createElement(W.Z,{controlId:"form-name"},s.createElement(L.Z,null,r("common:name")),s.createElement(d.Z,{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,isInvalid:!t,autoComplete:"none"}),s.createElement(q.Z.Control.Feedback,{type:"invalid"},r("invalid-name")))),s.createElement(h.Z,{placement:"right",overlay:K(r("update-organization"))},s.createElement(W.Z,{controlId:"form-organization"},s.createElement(L.Z,null,r("common:organization")),s.createElement(d.Z,{name:"organization",type:"text",value:this.state.organization,onChange:this.handleInputChange,autoComplete:"none"})))),s.createElement(A.Z,{md:4},s.createElement(h.Z,{placement:"right",overlay:K(r("admin:enter-new-password"))},s.createElement(W.Z,{controlId:"form-password"},s.createElement(L.Z,null,r("common:password")),s.createElement(d.Z,{name:"password",type:"password","data-lpignore":"true",value:this.state.password,autoComplete:"none",placeholder:r("common:choose-new-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!e}),s.createElement(q.Z.Control.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))),s.createElement(W.Z,null,s.createElement(q.Z.Check,{type:"checkbox",label:r("admin:instructor"),defaultChecked:this.props.user.writeAccess,onChange:this.handleCheckboxChangeFactory("writeAccess")}),s.createElement(q.Z.Check,{type:"checkbox",label:r("admin:admin"),defaultChecked:this.props.user.administrator,onChange:this.handleCheckboxChangeFactory("administrator")}),s.createElement(q.Z.Check,{type:"checkbox",label:r("admin:email-verified"),defaultChecked:this.props.user.verifiedEmail,onChange:this.handleCheckboxChangeFactory("verifiedEmail")}),s.createElement(q.Z.Check,{type:"checkbox",label:r("common:two-factor-authentication"),defaultChecked:this.props.user.twoFactorAuth,onChange:this.handleCheckboxChangeFactory("twoFactorAuth")})))),s.createElement(R.Z,null,this.props.availableCustomFields.map(((e,t)=>{let a;const r=n[e.name];return a="checkbox"===e.type?s.createElement(q.Z.Check,{type:"checkbox",label:e.name,defaultChecked:r,onChange:t=>{const a={...this.state.customFields};a[e.name]=t.target.checked,this.setState({customFields:a})}}):"text"===e.type?s.createElement(W.Z,{controlId:`form-${e.name}`},s.createElement(L.Z,null,e.name),s.createElement(d.Z,{name:e.name,type:"text",value:r,placeholder:`Enter ${e.name}...`,onChange:t=>{const a={...this.state.customFields};a[e.name]=t.target.value,this.setState({customFields:a})},autoComplete:"none"})):s.createElement(W.Z,{controlId:`form-${e.name}`},s.createElement(L.Z,null,e.name),s.createElement(H.ZP,{defaultValue:r?{label:r,value:r}:null,options:e.options.map((e=>({value:e,label:e}))),onChange:t=>{const a={...this.state.customFields};a[e.name]=t.value,this.setState({customFields:a})}})),s.createElement(A.Z,{md:4,key:t},s.createElement(h.Z,{placement:"top",overlay:K(e.description)},a))})))),s.createElement(B.Z,null,s.createElement(u.Z,{block:!0,disabled:!1,onClick:this.handleUpdate},r("common:update")))))}}X.propTypes={availableCustomFields:n().array.isRequired,onHide:n().func.isRequired,show:n().bool.isRequired,t:n().func.isRequired,updateUser:n().func.isRequired,user:n().object.isRequired},X.defaultProps={};var ee=X;function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ae=l()("isle-dashboard:admin");class se extends s.Component{constructor(e){super(e),te(this,"toggleImpersonateModal",(()=>{this.setState({showImpersonateModal:!this.state.showImpersonateModal})})),te(this,"toggleDeleteModal",(()=>{this.setState({showDeleteModal:!this.state.showDeleteModal})})),te(this,"toggleEditModal",(()=>{this.setState({showEditModal:!this.state.showEditModal})})),te(this,"impersonateUser",(()=>{this.setState({showImpersonateModal:!1},(()=>{this.props.impersonateUser({id:this.state.selectedUser._id,password:this.state.password})}))})),te(this,"deleteSelectedUser",(()=>{ae(`Delete user ${this.state.selectedUser.name} with id ${this.state.selectedUser._id}`),this.setState({showDeleteModal:!1},(()=>{this.props.deleteUser({id:this.state.selectedUser._id})}))})),te(this,"askToImpersonateSelectedUserFactory",(e=>()=>{this.setState({showImpersonateModal:!this.state.showImpersonateModal,selectedUser:e})})),te(this,"askToDeleteSelectedUserFactory",(e=>()=>{this.setState({showDeleteModal:!this.state.showDeleteModal,selectedUser:e})})),te(this,"askToEditUserFactory",(e=>()=>{this.setState({showEditModal:!this.state.showEditModal,selectedUser:e})})),te(this,"sanitizeFactory",(e=>async()=>{const t=await this.props.sanitizeRequest({id:e._id});if(t&&t.data)return this.props.addNotification({title:this.props.t("sanitize-user"),message:t.data.message,level:"success",position:"tl"})})),te(this,"handlePassword",(e=>{this.setState({password:e.target.value})})),te(this,"createColumns",(()=>{const{t:e}=this.props,t=this.props.admin.users;let a=0,r=0,n=0,o=Z(),l=0;for(let s=0;s<t.length;s++)t[s].chatMessages>a&&(a=t[s].chatMessages),t[s].nActions>r&&(r=t[s].nActions),t[s].spentTime>n&&(n=t[s].spentTime),t[s].createdAt>l&&(l=t[s].createdAt),t[s].updatedAt>l&&(l=t[s].updatedAt),t[s].createdAt<o&&(o=t[s].createdAt),t[s].updatedAt<o&&(o=t[s].updatedAt);return o=m()(o),l=m()(l),[{Header:"Pic",accessor:"picture",Cell:e=>s.createElement("img",{className:"table-pic",src:`${x.ZP}/thumbnail/${e.original.picture}`,alt:"Profile Pic"}),maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1,style:{color:"darkslategrey"}},(0,N.Z)({Header:e("common:name"),accessor:"name",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,N.Z)({Header:e("common:email"),accessor:"email",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:P.Z}),(0,N.Z)({Header:e("common:organization"),accessor:"organization",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:200,filterMethod:P.Z}),(0,S.Z)({Header:e("instructor"),accessor:"writeAccess",trueLabel:e("instructor"),falseLabel:e("no-instructor"),maxWidth:100}),(0,S.Z)({Header:e("admin"),accessor:"administrator",trueLabel:e("admin"),falseLabel:e("no-admin"),maxWidth:100}),(0,S.Z)({Header:e("email-verified"),accessor:"verifiedEmail",trueLabel:e("verified"),falseLabel:e("not-verified"),maxWidth:90}),(0,S.Z)({Header:e("common:two-factor-authentication"),accessor:"twoFactorAuth",trueLabel:e("common:enabled"),falseLabel:e("common:not-enabled"),maxWidth:100}),(0,I.Z)({Header:e("common:chat-messages"),accessor:"chatMessages",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:120,maxValue:a}),(0,I.Z)({Header:e("common:time-spent"),accessor:"spentTime",Cell:e=>(0,T.Z)(e.value,{minutes:!0,hours:!0}),style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:n,formatLabel:e=>`${E()(e/36e5)}h`}),(0,I.Z)({Header:e("common:number-of-actions"),accessor:"nActions",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:r}),(0,M.Z)({Header:e("last-updated"),accessor:"updatedAt",Cell:e=>new Date(e.value).toLocaleString(),startDate:o,endDate:l,t:e}),(0,M.Z)({Header:e("created-at"),accessor:"createdAt",Cell:e=>new Date(e.value).toLocaleString(),startDate:o,endDate:l,t:e}),{Header:e("common:data"),accessor:"lessonData",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:e=>{if(e.value){const t=w()(e.value,(e=>this.props.admin.lessonsMap?this.props.admin.lessonsMap[e]:e)),a=s.createElement(g.Z,{id:"popover-data",style:{maxWidth:400,maxHeight:"80vh",overflowY:"auto"}},s.createElement(g.Z.Title,{as:"h3"},"Data"),s.createElement(g.Z.Content,{style:{backgroundColor:"lightblue"}},s.createElement("pre",null,JSON.stringify(t,null,2))));return s.createElement(h.Z,{trigger:"click",placement:"left",overlay:a},s.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:60,resizable:!1,filterable:!1,sortable:!1},...(this.props.user.availableCustomFields||[]).map((t=>"text"===t.type?(0,N.Z)({Header:t.name,accessor:"customFields."+t.name,maxWidth:100,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:P.Z}):"checkbox"===t.type?(0,S.Z)({Header:t.name,accessor:"customFields."+t.name,trueLabel:e("yes"),falseLabel:e("no"),maxWidth:100}):(0,D.Z)({Header:t.name,accessor:"customFields."+t.name,labels:t.options}))),{Header:e("common:actions"),Cell:t=>t.row.email===this.props.user.email?null:s.createElement("div",null,s.createElement(h.Z,{placement:"bottom",overlay:s.createElement(p.Z,{id:"edit_user_data"},e("edit-user-data"))},s.createElement(u.Z,{variant:"outline-secondary","aria-label":e("edit-user-data"),onClick:this.askToEditUserFactory(t.row._original)},s.createElement("div",{className:"fa fa-edit"}))),s.createElement(h.Z,{placement:"bottom",overlay:s.createElement(p.Z,{id:"sanitize_user"},e("sanitize-user"))},s.createElement(u.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:this.sanitizeFactory(t.row._original),"aria-label":e("sanitize-user")},s.createElement("div",{className:"fas fa-band-aid"}))),s.createElement(h.Z,{placement:"bottom",overlay:s.createElement(p.Z,{id:"impersonate_user"},e("impersonate-user"))},s.createElement(u.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:this.askToImpersonateSelectedUserFactory(t.row._original),"aria-label":e("impersonate-user")},s.createElement("div",{className:"fa fa-theater-masks"}))),s.createElement(h.Z,{placement:"bottom",overlay:s.createElement(p.Z,{id:"delete_user"},e("delete-user"))},s.createElement(u.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:this.askToDeleteSelectedUserFactory(t.row._original),"aria-label":e("delete-user")},s.createElement("div",{className:"fa fa-trash-alt"})))),resizable:!1,filterable:!1,sortable:!1}]})),te(this,"toggleExplorer",(()=>{this.setState({showExplorer:!this.state.showExplorer})})),te(this,"toggleUserCreation",(()=>{this.setState({showUserCreation:!this.state.showUserCreation})})),this.state={selectedUser:null,showDeleteModal:!1,showImpersonateModal:!1,showUserCreation:!1,password:"",showEditModal:!1,columns:this.createColumns()}}componentDidMount(){this.props.getCustomFields(),this.props.getUsers()}componentDidUpdate(e){e.admin.users===this.props.admin.users&&e.user.availableCustomFields===this.props.user.availableCustomFields||this.setState({columns:this.createColumns()})}render(){const{t:e}=this.props;if(this.state.showExplorer){const t=this.props.admin.users;let a=[];for(let e=0;e<t.length;e++){const s=t[e],r={};r.name=s.name,r.email=s.email,r.nActions=s.nActions,r.ownedNamespaces=s.ownedNamespaces.length,r.enrolledNamespaces=s.enrolledNamespaces.length,r.chatMessages=s.chatMessages.length,r.badges=s.badges.length,r.score=s.score,r.spentTime=s.spentTime,r.administrator=s.administrator,r.verifiedEmail=s.verifiedEmail,r.instructor=s.writeAccess,r.createdAt=s.createdAt,r.updatedAt=s.updatedAt,a.push(r)}return a=(0,k.Z)(a),s.createElement(F.Z,{title:e("explorer-users-title"),data:a,categorical:["administrator","instructor","verifiedEmail","createdAt","updatedAt"],quantitative:["nActions","ownedNamespaces","enrolledNamespaces","chatMessages","badges","score","spentTime"],close:this.toggleExplorer})}return s.createElement(s.Fragment,null,s.createElement(C.Z,{data:this.props.admin.users,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:e}),s.createElement(h.Z,{placement:"left",overlay:s.createElement(p.Z,null,e("create-new-user"))},s.createElement(u.Z,{"aria-label":e("create-new-user"),style:{marginRight:-9,float:"right"},onClick:this.toggleUserCreation},s.createElement("i",{className:"fas fa-plus"}))),this.state.showImpersonateModal?s.createElement(y.Z,{title:e("impersonate-user"),message:s.createElement("span",null,e("enter-password"),s.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),".",e("automatic-logout"),s.createElement(d.Z,{name:"password",type:"password",placeholder:e("password-placeholder"),onChange:this.handlePassword,maxLength:30,minLength:6,style:{marginTop:8}})),close:this.toggleImpersonateModal,show:this.state.showImpersonateModal,onConfirm:this.impersonateUser}):null,this.state.showDeleteModal?s.createElement(y.Z,{title:e("delete-user"),message:s.createElement("span",null,e("delete-user-confirm"),s.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),"?"),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedUser}):null,this.state.showEditModal?s.createElement(ee,{user:this.state.selectedUser,availableCustomFields:this.props.user.availableCustomFields,t:this.props.t,show:this.state.showEditModal,updateUser:this.props.updateUser,onHide:this.toggleEditModal}):null,this.state.showUserCreation?s.createElement(j,{user:this.props.user,getCustomFields:this.props.getCustomFields,onHide:this.toggleUserCreation,onConfirm:async t=>{try{await this.props.createUser(t),this.props.addNotification({message:e("user-successfully-created"),level:"success"}),this.toggleUserCreation(),this.props.getUsers()}catch(a){this.props.addNotification({message:a.response.data,level:"error"})}}}):null)}}se.propTypes={addNotification:n().func.isRequired,admin:n().object.isRequired,createUser:n().func.isRequired,deleteUser:n().func.isRequired,getCustomFields:n().func.isRequired,getUsers:n().func.isRequired,impersonateUser:n().func.isRequired,sanitizeRequest:n().func.isRequired,t:n().func.isRequired,updateUser:n().func.isRequired,user:n().object.isRequired};var re=(0,i.Z)(["admin","common"])(se)},37933:function(e,t,a){var s=a(38603),r=a(91532),n=a.n(r),o=a(58651),l=a(12630),i=a(14704);const c=e=>s.createElement(i.Z,{show:e.show,onHide:e.close},s.createElement(i.Z.Header,null,s.createElement(i.Z.Title,{as:"h3"},e.title)),s.createElement(i.Z.Body,null,e.message),s.createElement(i.Z.Footer,null,s.createElement(l.Z,{onClick:e.close},e.t("cancel")),s.createElement(l.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))));c.propTypes={close:n().func,message:n().node,onConfirm:n().func,show:n().bool,title:n().string},c.defaultProps={close(){},message:"",onConfirm(){},show:!1,title:""},t.Z=(0,o.Z)(["common"])(c)},31617:function(e,t,a){a.d(t,{Z:function(){return h}});var s=a(38603),r=a(91532),n=a.n(r),o=a(90037),l=a(12630),i=a(60805),c=a(12908),m=a(69977);a(3100);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},d.apply(this,arguments)}class u extends s.Component{constructor(...e){var t,a,s;super(...e),s=()=>({id:this.props.id||"dashboard-table"}),(a="getProps")in(t=this)?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s}render(){const{t:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(o.Z,d({},this.props,{filterable:!0,className:`dashboard-table ${this.props.className}`,data:this.props.data,columns:this.props.columns,previousText:e("common:previous"),nextText:e("common:next"),loadingText:e("common:loading"),noDataText:e("common:no-rows-found"),pageText:e("common:page"),ofText:e("common:of"),rowsText:e("common:rows"),ref:e=>{this.table=e},getProps:this.getProps})),this.props.onButtonClick?s.createElement(i.Z,{vertical:!0,style:{float:"right",marginRight:-9}},s.createElement(c.Z,{placement:"left",overlay:s.createElement(m.Z,{id:"explorer-tooltip"},e("common:data-explorer"))},s.createElement(l.Z,{"aria-label":e("common:data-explorer"),variant:"primary",style:{marginBottom:8},onClick:this.props.onButtonClick},s.createElement("i",{className:"fas fa-chart-bar"})))):null)}}u.propTypes={className:n().string,columns:n().array.isRequired,data:n().oneOfType([n().object,n().array]).isRequired,onButtonClick:n().func.isRequired,t:n().func},u.defaultProps={className:"",t(){}};var h=u},34668:function(e,t,a){const s=(0,a(221).Z)((()=>Promise.all([a.e(8504),a.e(6351)]).then(a.bind(a,27248))));t.Z=s},27925:function(e,t,a){var s=a(38603);t.Z=function({Header:e,accessor:t,trueLabel:a,falseLabel:r,printLabels:n=!1,maxWidth:o=150}){let l,i;return n?(l=e=>!0===e.value?a:!1===e.value?r:null,i={marginTop:"8px",color:"darkslategrey"}):(l=e=>e.value?s.createElement("i",{className:"far fa-check-square"}):null,i={marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center"}),{Header:e,accessor:t,style:i,Cell:l,filterMethod:(e,t)=>{if("all"===e.value)return!0;const a=e.pivotId||e.id;return void 0===t[a]||String(t[a])===e.value},Filter:({filter:e,onChange:t})=>{const n=e=>{const a=e.target.value;t(a)};let o;return o=e?e.value:"all",s.createElement("select",{onBlur:n,onChange:n,style:{width:"100%",backgroundColor:"ghostwhite"},value:o},s.createElement("option",{value:"all"},"Show All"),s.createElement("option",{value:!0},a),s.createElement("option",{value:!1},r))},maxWidth:o}}},73745:function(e,t,a){var s=a(38603);t.Z=function({Header:e,Cell:t,accessor:a,labels:r,maxWidth:n=150}){return{Header:e,accessor:a,style:undefined,Cell:t,filterMethod:(e,t)=>{if("all"===e.value)return!0;const a=e.pivotId||e.id;return void 0===t[a]||String(t[a])===e.value},Filter:({filter:e,onChange:t})=>{const a=e=>{const a=e.target.value;t(a)};let n;return n=e?e.value:"all",s.createElement("select",{onBlur:a,onChange:a,style:{width:"100%",backgroundColor:"ghostwhite"},value:n},s.createElement("option",{value:"all"},"Show All"),r.map(((e,t)=>s.createElement("option",{value:e,key:t},e))))},maxWidth:n}}},65307:function(e,t,a){var s=a(38603),r=a(52089),n=a(12908),o=a(5610),l=a(12630);a(77511);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends s.Component{constructor(e){super(e),i(this,"handleDatesChange",(({startDate:e,endDate:t})=>{this.setState({startDate:e,endDate:t},(()=>{this.props.onDatesChange(this.state)}))})),i(this,"handleReset",(()=>{this.setState({startDate:this.props.minDate,endDate:this.props.maxDate},(()=>{this.props.onDatesChange(this.state)}))})),this.state={startDate:e.startDate,endDate:e.endDate}}componentDidUpdate(e){this.props.startDate===e.startDate&&this.props.endDate===e.endDate||this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}render(){return s.createElement(s.Fragment,null,s.createElement(r.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,startDateId:"start_date_input",endDateId:"end_date_input",onDatesChange:this.handleDatesChange,focusedInput:this.state.focusedInput,onFocusChange:e=>this.setState({focusedInput:e}),isOutsideRange:()=>!1}),s.createElement(l.Z,{"aria-label":this.props.t("common:close"),variant:"warning",onClick:this.handleReset,style:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,fontSize:20}},"x"))}}const m=e=>new Date(e.value).toLocaleString();t.Z=function({Header:e,accessor:t,Cell:a,style:r,startDate:i,endDate:d,t:u,maxWidth:h=150}){return{Header:e,accessor:t,style:r,Cell:a||m,filterMethod:(e,t)=>{if(!e.value)return!0;const{startDate:a,endDate:s}=e.value,r=t[e.pivotId||e.id].getTime();return a&&s?r>=a.valueOf()&&r<=s.valueOf():a?r>=a.valueOf():!s||r<=s.valueOf()},Filter:({filter:e,onChange:t})=>{const a=e&&e.value||{},r=s.createElement(o.Z,{id:"popover-data",style:{maxWidth:400}},s.createElement(o.Z.Title,{as:"h3"},u("common:dates")),s.createElement(o.Z.Content,{style:{backgroundColor:"grey"}},s.createElement(c,{startDate:a.startDate||i,minDate:i,maxDate:d,endDate:a.endDate||d,onDatesChange:({startDate:e,endDate:a})=>{t({startDate:e,endDate:a})},t:u})));return s.createElement(n.Z,{trigger:"click",placement:"right",overlay:r},s.createElement(l.Z,{"aria-label":u("common:toggle-calendar"),size:"sm",style:{float:"left",marginLeft:6},variant:"secondary"},s.createElement("i",{className:"far fa-calendar-alt"})))},maxWidth:h}}},33547:function(e,t,a){var s=a(38603),r=a(94688),n=a.n(r),o=a(83087),l=a.n(o),i=a(64817),c=a.n(i),m=a(21598),d=a.n(m);a(5541);const u=(e,t)=>{const a=t[e.pivotId||e.id];return a>=e.value.min&&a<=e.value.max},h=e=>d()(e,-2);t.Z=function({Header:e,accessor:t,Cell:a,minValue:r=0,maxValue:o=1,maxWidth:i=150,filterMethod:m,formatLabel:p}){const g=`header-${c()(l()(e," ","-"))}`;return{Header:s.createElement("span",{id:g},e),accessor:t,Cell:a||(e=>e.value?`${d()(e.value,-3)}`:"NA"),filterMethod:m||u,Filter:({filter:e,onChange:t})=>{r===o&&(o=r+=1);const a={max:o,min:r};return s.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},s.createElement(n(),{ariaLabelledby:g,ariaControls:"dashboard-table",allowSameValues:!0,maxValue:o,minValue:r,step:.1,value:e?e.value:a,onChange:e=>{t(e)},formatLabel:p||h}))},maxWidth:i}}},76282:function(e,t,a){var s=a(38603),r=a(87078),n=a(72868);t.Z=function({id:e,Header:t,Cell:a,accessor:o,maxWidth:l=150,minWidth:i,filterMethod:c}){i>l&&(l=i);const m={id:e,Header:t,accessor:o,Cell:a,filterMethod:c||n.Z,Filter:({filter:e,onChange:a})=>s.createElement(r.Z,{"aria-label":t,autoComplete:"none",onChange:e=>{a(e.target.value)}})};return l&&(m.maxWidth=l),i&&(m.minWidth=i),m}},34980:function(e,t,a){var s=a(87324),r=a.n(s);t.Z=(e,t={hours:!0,minutes:!0,seconds:!0})=>{e/=1e3;const a=r()(e/3600);e%=3600;let s=r()(e/60);s<10&&(s="0"+s),e%=60;let n=r()(e);n<10&&(n="0"+n);let o="";return t.hours&&(o+=a),t.minutes&&(o&&(o+=":"),o+=s),t.seconds&&(o&&(o+=":"),o+=n),o}},72868:function(e,t,a){var s=a(89506),r=a.n(s),n=a(64817),o=a.n(n);t.Z=(e,t)=>{const a=t[e.id]||"";return r()(o()(a),o()(e.value))}},62810:function(e,t,a){var s=a(40942);e.exports=s},40942:function(e,t,a){var s=a(24500).isPrimitive,r=/@/;e.exports=function(e){return s(e)&&r.test(e)}},15138:function(e,t,a){var s=a(24556);e.exports=s},24556:function(e,t,a){var s=a(45014),r=a(87973),n=a(62427)();e.exports=function(e){return!!r(e)&&(!(s(e).length>0)&&!(n&&Object.getOwnPropertySymbols(e).length>0))}},47259:function(e){e.exports=9007199254740991},77025:function(e,t,a){var s=a(46788);e.exports=s},46788:function(e,t,a){var s=a(88928),r=a(24469);e.exports=function(e){return e===s||e===r}},48207:function(e,t,a){var s=a(42560);e.exports=s},42560:function(e){e.exports=function(e){return Math.abs(e)}},49148:function(e,t,a){var s=a(40466);e.exports=s},40466:function(e,t,a){var s=a(13578),r=a(74802);e.exports=function(e,t){var a,n,o;if("object"!==typeof e||null===e)throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if(!s(t))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+t+"`.");for(n in a={},e)r(e,n)&&(a[n=t(n,o=e[n],e)]=o);return a}},14224:function(e,t,a){a.d(t,{Z:function(){return D}});var s=a(87462),r=a(63366),n=a(68761),o=a.n(n),l=a(38603),i=a(54447),c=a(51906),m=a(49132),d=a(65044),u=["bsPrefix","className","variant","as"],h=l.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,c=e.variant,m=e.as,d=void 0===m?"img":m,h=(0,r.Z)(e,u),p=(0,i.vE)(a,"card-img");return l.createElement(d,(0,s.Z)({ref:t,className:o()(c?p+"-"+c:p,n)},h))}));h.displayName="CardImg",h.defaultProps={variant:null};var p=h,g=["bsPrefix","className","bg","text","border","body","children","as"],f=(0,m.Z)("h5"),E=(0,m.Z)("h6"),v=(0,c.Z)("card-body"),Z=(0,c.Z)("card-title",{Component:f}),b=(0,c.Z)("card-subtitle",{Component:E}),w=(0,c.Z)("card-link",{Component:"a"}),C=(0,c.Z)("card-text",{Component:"p"}),y=(0,c.Z)("card-header"),x=(0,c.Z)("card-footer"),k=(0,c.Z)("card-img-overlay"),F=l.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,c=e.bg,m=e.text,u=e.border,h=e.body,p=e.children,f=e.as,E=void 0===f?"div":f,Z=(0,r.Z)(e,g),b=(0,i.vE)(a,"card"),w=(0,l.useMemo)((function(){return{cardHeaderBsPrefix:b+"-header"}}),[b]);return l.createElement(d.Z.Provider,{value:w},l.createElement(E,(0,s.Z)({ref:t},Z,{className:o()(n,b,c&&"bg-"+c,m&&"text-"+m,u&&"border-"+u)}),h?l.createElement(v,null,p):p))}));F.displayName="Card",F.defaultProps={body:!1},F.Img=p,F.Title=Z,F.Subtitle=b,F.Body=v,F.Link=w,F.Text=C,F.Header=y,F.Footer=x,F.ImgOverlay=k;var D=F},20328:function(e,t,a){var s=a(87462),r=a(63366),n=a(68761),o=a.n(n),l=a(38603),i=a(54447),c=["bsPrefix","className","noGutters","as"],m=["xl","lg","md","sm","xs"],d=l.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,d=e.noGutters,u=e.as,h=void 0===u?"div":u,p=(0,r.Z)(e,c),g=(0,i.vE)(a,"row"),f=g+"-cols",E=[];return m.forEach((function(e){var t,a=p[e];delete p[e];var s="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&E.push(""+f+s+"-"+t)})),l.createElement(h,(0,s.Z)({ref:t},p,{className:o().apply(void 0,[n,g,d&&"no-gutters"].concat(E))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.Z=d},67289:function(e,t,a){var s=a(87462),r=a(38603),n=a(30996),o=a(92381),l=a(15671),i=a(43144),c=a(60136),m=a(11611),d=a(62445),u=a(66974),h=a(37643),p=(a(32906),r.forwardRef((function(e,t){var a=(0,o.u)(e);return r.createElement(n.S,(0,s.Z)({ref:t},a))})));r.Component;t.ZP=p},5541:function(){}}]);
//# sourceMappingURL=283.425cc042.chunk.js.map