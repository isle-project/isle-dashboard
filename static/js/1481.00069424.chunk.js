"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[1481],{31481:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_22__),debug__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11227),debug__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(81468),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(99201),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_15__),react_bootstrap_ButtonGroup__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(63319),react_bootstrap_ButtonGroup__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_bootstrap_ButtonGroup__WEBPACK_IMPORTED_MODULE_21__),react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(18868),react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_16__),react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(70448),react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_18__),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(28269),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_19__),react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1266),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13__),react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(80983),react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_17__),react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(18350),react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14__),react_plotly_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58660),_stdlib_math_base_special_round__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(55809),_stdlib_math_base_special_round__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_stdlib_math_base_special_round__WEBPACK_IMPORTED_MODULE_3__),_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25351),_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_4__),_stdlib_utils_pluck__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60149),_stdlib_utils_pluck__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_stdlib_utils_pluck__WEBPACK_IMPORTED_MODULE_5__),_stdlib_string_uppercase__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27705),_stdlib_string_uppercase__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_stdlib_string_uppercase__WEBPACK_IMPORTED_MODULE_6__),components_searchbar__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(55343),constants_server__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(94204),constants_colors__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(76780),utils_file_saver_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(19446),_isle_project_utils_obs_to_var__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93390),ev_components_data_explorer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(63787),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b)),__publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);function diff(y){const out=[];if(!y)return out;for(let i=1;i<y.length;i++){const v=y[i]-y[i-1];out.push(v)}return out}function reverse(side){switch(side){case"left":return"right";case"right":return"left";case"up":return"down";case"down":return"up"}}const debug=debug__WEBPACK_IMPORTED_MODULE_1___default()("isle-dashboard:admin"),POSITIONS=[0,.9,.1,.8,.2,.7,.3],COLOR_MAPPING={users:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[0],namespaces:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[1],lessons:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[2],cohorts:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[3],files:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[4],events:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[5],sessionData:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[7],dailyActiveUsers:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[8],weeklyActiveUsers:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[9],monthlyActiveUsers:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[10],tickets:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[11],closedTickets:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[12],openTickets:constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[13]},DATA_KEY_MAPPING={users:"nUsers",namespaces:"nNamespaces",lessons:"nLessons",cohorts:"nCohorts",files:"nFiles",events:"nEvents",sessionData:"nSessionData",tickets:"nTickets",openTickets:"nOpenTickets",closedTickets:"nClosedTickets",dailyActiveUsers:"dailyActiveUsers",weeklyActiveUsers:"weeklyActiveUsers",monthlyActiveUsers:"monthlyActiveUsers"},DISPLAY_IN_PLOT={users:!1,namespaces:!1,lessons:!1,cohorts:!1,files:!1,events:!1,sessionData:!1,dailyActiveUsers:!1,weeklyActiveUsers:!1,monthlyActiveUsers:!1,tickets:!1,openTickets:!1,closedTickets:!1},BUTTONS_TO_REMOVE=["sendDataToCloud","zoom2d","pan2d","select2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","toggleHover","toggleSpikelines","resetViews"];class Overview extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props);__publicField(this,"hideExplorer",()=>{this.setState({dataExplorer:"hidden"})}),__publicField(this,"handleFilterChange",event=>{const str=_stdlib_string_uppercase__WEBPACK_IMPORTED_MODULE_6___default()(event.target.value),filtered=[];for(let i=0;i<this.props.statistics.actionTypes.length;i++){const actionType=this.props.statistics.actionTypes[i];actionType&&(actionType._id.type||"").includes(str)&&filtered.push(actionType)}this.setState({filteredActionTypes:filtered})}),__publicField(this,"renderExplorer",()=>{let explorer;switch(this.state.dataExplorer){case"action-types":explorer=react__WEBPACK_IMPORTED_MODULE_0__.createElement(ev_components_data_explorer__WEBPACK_IMPORTED_MODULE_11__.Z,{title:this.props.t("explorer-action-types-title"),data:__spreadProps(__spreadValues({},this.state.historicalActionTypes),{time:this.props.historicalStatistics.map(x=>x.createdAt)}),categorical:["time"],close:this.hideExplorer});break;case"overview-statistics":explorer=react__WEBPACK_IMPORTED_MODULE_0__.createElement(ev_components_data_explorer__WEBPACK_IMPORTED_MODULE_11__.Z,{title:this.props.t("explorer-overview-stats-title"),data:(0,_isle_project_utils_obs_to_var__WEBPACK_IMPORTED_MODULE_10__.Z)(this.props.historicalStatistics),categorical:["createdAt"],close:this.hideExplorer});break}return explorer}),this.state={displayInPlot:__spreadProps(__spreadValues({},DISPLAY_IN_PLOT),{users:!0}),revision:0,filteredActionTypes:props.statistics.actionTypes,historicalActionTypes:null,useDifferencing:!1,dataExplorer:"hidden"}}componentDidMount(){this.props.getOverviewStatistics();const last=this.props.historicalStatistics[this.props.historicalStatistics.length-1];if(last&&last.updatedAt){const date=new Date(last.updatedAt),year=date.getFullYear(),month=date.getMonth(),dayOfMonth=date.getDate();debug(`Latest data from ${month}/${dayOfMonth}/${year}...`);const currentDate=new Date,currentYear=currentDate.getFullYear(),currentMonth=currentDate.getMonth(),currentDayOfMonth=currentDate.getDate();debug(`Current date is ${currentMonth}/${currentDayOfMonth}/${currentYear}`),(currentYear>year||currentMonth>month||currentDayOfMonth>dayOfMonth)&&(debug("Request historical data from server..."),this.props.getHistoricalOverviewStats())}else debug("Retrieve overview data..."),this.props.getHistoricalOverviewStats();this.props.historicalStatistics&&this.extractHistoricalActionTypes()}componentDidUpdate(prevProps){this.props.statistics.actionTypes!==prevProps.statistics.actionTypes&&this.setState({filteredActionTypes:this.props.statistics.actionTypes}),this.props.historicalStatistics.length!==prevProps.historicalStatistics.length&&this.extractHistoricalActionTypes()}extractHistoricalActionTypes(){debug("Extract and format action types for time series display...");const actionTypes=_stdlib_utils_pluck__WEBPACK_IMPORTED_MODULE_5___default()(this.props.historicalStatistics,"actionTypes"),out={};for(let i=0;i<actionTypes.length;i++)if(!!actionTypes[i])for(let j=0;j<actionTypes[i].length;j++){const action=actionTypes[i][j],name=action._id.type;out[name]||(out[name]=[]),out[name][i]=action.count}this.setState({historicalActionTypes:out})}renderTimeSeries(){let title="";const data=this.props.historicalStatistics,dates=_stdlib_utils_pluck__WEBPACK_IMPORTED_MODULE_5___default()(data,"createdAt"),dateRange=[dates[0],dates[dates.length-1]],layout={xaxis:{autorange:!0,range:dateRange,rangeselector:{buttons:[{count:7,label:"1w",step:"day",stepmode:"backward"},{count:1,label:"1m",step:"month",stepmode:"backward"},{count:6,label:"6m",step:"month",stepmode:"backward"},{step:"all"}]},rangeslider:{range:dateRange},type:"date",fixedrange:!0},legend:{orientation:"h"},margin:{l:10,r:15,b:30,t:30,pad:10}},keys=_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_4___default()(this.state.displayInPlot),displayedData=[],domain=[0,1];for(let i=0;i<keys.length;i++){const key=keys[i];if(this.state.displayInPlot[key]===!0){title+=title===""?"":", ",title+=this.props.t("common:"+key);let color,y;COLOR_MAPPING[key]?(color=COLOR_MAPPING[key],y=_stdlib_utils_pluck__WEBPACK_IMPORTED_MODULE_5___default()(data,DATA_KEY_MAPPING[key])):(color=constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z[i%constants_colors__WEBPACK_IMPORTED_MODULE_12__.Z.length+7],y=this.state.historicalActionTypes[key]),this.state.useDifferencing&&(y=diff(y));const trace={type:this.state.useDifferencing?"bar":"scatter",mode:"line",name:this.props.t("common:"+key),x:dates,y,marker:{color}};this.state.useDifferencing&&(trace.offsetgroup=displayedData.length);const len=displayedData.length;len>0&&(trace.yaxis=`y${len+1}`),displayedData.push(trace);const yaxis={title:this.props.t("common:"+key),titlefont:{color},tickfont:{color},fixedrange:!0};displayedData.length>1&&(yaxis.overlaying="y"),displayedData.length%2===0?(yaxis.side="left",domain[0]+=.1):(yaxis.side="right",domain[1]-=.1),yaxis.position=POSITIONS[displayedData.length],len===0?layout.yaxis=yaxis:layout[`yaxis${len+1}`]=yaxis}}return layout.xaxis.domain=domain,layout.title=`${this.state.useDifferencing?this.props.t("daily-changes-of"):this.props.t("time-series-of")}${title}`,displayedData.length===0?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"jumbotron",style:{width:"100%",height:"73.7%"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{style:{textAlign:"center",marginTop:"12%"}},"Select a variable to be displayed...")):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_plotly_js__WEBPACK_IMPORTED_MODULE_2__.Z,{revision:this.state.revision,data:displayedData,config:{displayModeBar:"hover",displaylogo:!1,modeBarButtonsToRemove:BUTTONS_TO_REMOVE,modeBarButtonsToAdd:[{name:this.props.t("download-data"),icon:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},click:gd=>{const blob=new Blob([JSON.stringify(gd.data)],{type:"application/json"});(0,utils_file_saver_js__WEBPACK_IMPORTED_MODULE_9__.Z)(blob,`stats_${title}.json`)}}]},layout,style:{width:"100%",height:"80%"},useResizeHandler:!0}),displayedData.length>0?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default(),{onClick:()=>{this.setState({displayInPlot:__spreadValues({},DISPLAY_IN_PLOT),revision:this.state.revision+1})},style:{marginLeft:"35%"}},this.props.t("common:reset")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default(),{onClick:()=>{this.setState({useDifferencing:!this.state.useDifferencing})},style:{marginLeft:"1%"}},this.state.useDifferencing?"Display Time Series":this.props.t("display-daily-changes"))):null)}renderDiskUsage(){if(!this.props.statistics.database)return null;let{fsUsedSize,fsTotalSize}=this.props.statistics.database;fsUsedSize/=1024*1024*1024,fsTotalSize/=1024*1024*1024;const usedSpace=_stdlib_math_base_special_round__WEBPACK_IMPORTED_MODULE_3___default()(fsUsedSize),freeSpace=_stdlib_math_base_special_round__WEBPACK_IMPORTED_MODULE_3___default()(fsTotalSize-fsUsedSize),{t}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_plotly_js__WEBPACK_IMPORTED_MODULE_2__.Z,{data:[{values:[usedSpace,freeSpace],labels:[`${t("used-space")}: ${usedSpace} GB`,`${t("free-space")}: ${freeSpace} GB`],type:"pie"}],config:{displayModeBar:!1,displaylogo:!1},layout:{plot_bgcolor:"rgba(0,0,0,0.0)",paper_bgcolor:"rgba(0,0,0,0.0)",xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},autosize:!0,margin:{l:50,r:50,b:50,t:50}},useResizeHandler:!0,style:{width:"75%",height:"200px"}})}renderDatabaseStats(){const{t}=this.props;if(!this.props.statistics.database)return null;const{storageSize,dataSize,objects,avgObjSize}=this.props.statistics.database;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default(),{variant:"flush",style:{fontSize:"1em"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},t("physical-storage-size"),": ",storageSize),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},t("reserved-storage-size"),": ",dataSize),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},t("number-of-objects"),": ",objects," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},t("average-object-size"),": ",_stdlib_math_base_special_round__WEBPACK_IMPORTED_MODULE_3___default()(avgObjSize)))}renderDailyStatistics(){const{t}=this.props,{dailyActiveUsers,weeklyActiveUsers,monthlyActiveUsers,lastHourActiveUsers}=this.props.statistics;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default(),{variant:"flush",style:{fontSize:"1em"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},t("last-hour-active-users"),":",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{float:"right",marginRight:56}},lastHourActiveUsers)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,t("daily-active-users"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{marginRight:24}},dailyActiveUsers),this.renderPlotButton("dailyActiveUsers","down"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,t("weekly-active-users"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{marginRight:24}},weeklyActiveUsers),this.renderPlotButton("weeklyActiveUsers","down"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ListGroup__WEBPACK_IMPORTED_MODULE_14___default().Item,{style:{padding:".5rem 0.8rem"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,t("monthly-active-users"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{marginRight:24}},monthlyActiveUsers),this.renderPlotButton("monthlyActiveUsers","down"))))}renderActionTypes(){const actionTypes=this.state.filteredActionTypes;return actionTypes?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,this.props.t("common:actions"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_15___default(),{placement:"right",overlay:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_16___default(),{id:"explorer-action-types-tooltip"},this.props.t("common:data-explorer"))},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default(),{"aria-label":this.props.t("common:data-explorer"),onClick:()=>{this.setState({dataExplorer:"action-types"})},style:{marginLeft:12}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-chart-bar"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_searchbar__WEBPACK_IMPORTED_MODULE_7__.Z,{style:{position:"absolute",top:0,right:8,width:140,fontSize:"1.2rem"},placeholder:"Search...",onChange:this.handleFilterChange})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"action-types-table-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_17___default(),{striped:!0,hover:!0,className:"action-types-table",size:"sm"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:visualize")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:type")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:count")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",null,actionTypes.map((x,i)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{key:i},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton(x._id.type,"right")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,x._id.type),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,x.count))))))):null}renderPlotButton(name,side="left",icon){const clickHandler=()=>{const newDisplayInPlot=__spreadValues({},this.state.displayInPlot);newDisplayInPlot[name]=!newDisplayInPlot[name],this.setState({displayInPlot:DISPLAY_IN_PLOT},()=>{this.setState({displayInPlot:newDisplayInPlot,revision:this.state.revision+1})})};return this.state.displayInPlot[name]?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default(),{"aria-label":this.props.t("hide-data",{name}),variant:"warning",size:"sm",onClick:clickHandler},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:icon||`fas fa-arrow-circle-${side}`})):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default(),{"aria-label":this.props.t("show-data",{name}),variant:"secondary",size:"sm",onClick:clickHandler},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:icon||`fas fa-arrow-circle-${reverse(side)}`}))}render(){debug("Rendering overview page...");const{nUsers,nNamespaces,nLessons,nCohorts,nSessionData,nFiles,nEvents,nTickets}=this.props.statistics,{t}=this.props,overviewPanel=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_18___default(),{className:"admin-outer-container slide-in-right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_19___default(),{className:"first-row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__.default,{className:"column-border",sm:4,md:3},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,this.props.t("overall"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_15___default(),{placement:"right",overlay:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_16___default(),{id:"explorer-overview-tooltip"},t("common:data-explorer"))},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_13___default(),{"aria-label":t("common:data-explorer"),onClick:()=>{this.setState({dataExplorer:"overview-statistics"})},style:{marginLeft:12}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-chart-bar"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"overview-server-name"},constants_server__WEBPACK_IMPORTED_MODULE_8__.ZP)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_17___default(),{striped:!0,hover:!0,className:"overview-table"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:icon")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:table")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:count")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",null,this.props.t("common:visualize")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-user",style:{color:COLOR_MAPPING.users}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("admin:users")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nUsers),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("users"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-school",style:{color:COLOR_MAPPING.namespaces}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:courses")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nNamespaces),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("namespaces"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-chalkboard",style:{color:COLOR_MAPPING.lessons}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:lessons")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nLessons),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("lessons"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-users",style:{color:COLOR_MAPPING.cohorts}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:cohorts")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nCohorts),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("cohorts"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-file",style:{color:COLOR_MAPPING.files}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:files")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nFiles),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("files"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-clock",style:{color:COLOR_MAPPING.events}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:events")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nEvents),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("events"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-shoe-prints",style:{color:COLOR_MAPPING.sessionData}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:sessionData")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nSessionData),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,this.renderPlotButton("sessionData"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fas fa-medkit",style:{color:COLOR_MAPPING.tickets}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,t("common:tickets")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,nTickets),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_ButtonGroup__WEBPACK_IMPORTED_MODULE_21___default(),null,this.renderPlotButton("tickets"),this.renderPlotButton("openTickets","left","fas fa-lock-open"),this.renderPlotButton("closedTickets","left","fas fa-lock"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__.default,{className:"column-border",sm:8,md:6},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,this.props.t("over-time")),this.renderTimeSeries()),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__.default,{sm:12,md:3,style:{position:"relative"}},this.renderActionTypes())),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_19___default(),{className:"second-row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__.default,{md:3,sm:4,className:"column-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,t("disk-usage")),this.renderDiskUsage()),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__.default,{md:6,sm:8,className:"column-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,t("database")),this.renderDatabaseStats()),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_20__.default,{md:3,sm:12},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,this.props.t("daily-statistics")),this.renderDailyStatistics())));return this.state.dataExplorer==="hidden"?overviewPanel:this.renderExplorer()}}Overview.propTypes={getHistoricalOverviewStats:prop_types__WEBPACK_IMPORTED_MODULE_22___default().func.isRequired,getOverviewStatistics:prop_types__WEBPACK_IMPORTED_MODULE_22___default().func.isRequired,historicalStatistics:prop_types__WEBPACK_IMPORTED_MODULE_22___default().array,statistics:prop_types__WEBPACK_IMPORTED_MODULE_22___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_22___default().func.isRequired},Overview.defaultProps={historicalStatistics:[],statistics:{}},__webpack_exports__.default=(0,react_i18next__WEBPACK_IMPORTED_MODULE_23__.Zh)(["admin","common"])(Overview)},55343:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(81468),react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34168),react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26199),react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_4__),react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16644),react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_3__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5__),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};const SearchBar=props=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.$G)(["header_bar","common"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_2___default(),{style:__spreadValues({width:"14vw",minWidth:"120px",float:"left",marginBottom:"4px",marginRight:"5px"},props.style)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_3___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_4___default(),{className:"header-bar-search",type:"text",placeholder:props.placeholder,value:props.value,onChange:props.onChange,"aria-label":t("search-field"),style:{height:"38px"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5___default(),{"aria-label":t("search-field-icon"),disabled:!0,variant:"secondary",style:{cursor:"auto"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fa fa-search"}))))};__webpack_exports__.Z=SearchBar},76780:function(__unused_webpack_module,__webpack_exports__){const COLORS=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#c49c94","#e377c2","#17becf","#aec7e8","#ffbb78","#ff9896","#98df8a","#7f7f7f","#c5b0d5","#f7b6d2","#bcbd22","#c7c7c7","#dbdb8d","#9edae5"];__webpack_exports__.Z=COLORS},63787:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var components_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15052);const DashboardDataExplorer=(0,components_async__WEBPACK_IMPORTED_MODULE_0__.Z)(()=>Promise.all([__webpack_require__.e(8512),__webpack_require__.e(1419)]).then(__webpack_require__.bind(__webpack_require__,72186)));__webpack_exports__.Z=DashboardDataExplorer}}]);

//# sourceMappingURL=1481.00069424.chunk.js.map