"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties;var __getOwnPropDescs=Object.getOwnPropertyDescriptors;var __getOwnPropSymbols=Object.getOwnPropertySymbols;var __hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));var __objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(source!=null&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target};(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5812],{88608:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(81468),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89194),react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1__);const ConfirmModal=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default(),{show:props.show,onHide:props.close},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Header,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Title,{as:"h3"},props.title)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Body,null,props.message),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Footer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default(),{onClick:props.close},props.t("cancel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default(),{variant:"danger",onClick:props.onConfirm},props.t("confirm"))));ConfirmModal.propTypes={close:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,message:prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,onConfirm:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,show:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,title:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},ConfirmModal.defaultProps={close(){},message:"",onConfirm(){},show:!1,title:""},__webpack_exports__.Z=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.Zh)(["common"])(ConfirmModal)},20199:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return visible_edit_namespace}});var react=__webpack_require__(67294),lib=__webpack_require__(37424),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),commonjs=__webpack_require__(81468),Alert=__webpack_require__(93166),Alert_default=__webpack_require__.n(Alert),Badge=__webpack_require__(86100),Badge_default=__webpack_require__.n(Badge),Button=__webpack_require__(89876),Button_default=__webpack_require__.n(Button),ButtonGroup=__webpack_require__(63319),ButtonGroup_default=__webpack_require__.n(ButtonGroup),Card=__webpack_require__(51889),Card_default=__webpack_require__.n(Card),Container=__webpack_require__(70448),Container_default=__webpack_require__.n(Container),Col=__webpack_require__(1266),Row=__webpack_require__(28269),Row_default=__webpack_require__.n(Row),FormControl=__webpack_require__(26199),FormControl_default=__webpack_require__.n(FormControl),FormLabel=__webpack_require__(65903),FormLabel_default=__webpack_require__.n(FormLabel),FormGroup=__webpack_require__(34168),FormGroup_default=__webpack_require__.n(FormGroup),Form=__webpack_require__(17383),Form_default=__webpack_require__.n(Form),ListGroup=__webpack_require__(18350),ListGroup_default=__webpack_require__.n(ListGroup),ListGroupItem=__webpack_require__(36604),ListGroupItem_default=__webpack_require__.n(ListGroupItem),OverlayTrigger=__webpack_require__(99201),OverlayTrigger_default=__webpack_require__.n(OverlayTrigger),Tooltip=__webpack_require__(18868),Tooltip_default=__webpack_require__.n(Tooltip),is_array_lib=__webpack_require__(76266),is_array_lib_default=__webpack_require__.n(is_array_lib),trim_lib=__webpack_require__(87594),trim_lib_default=__webpack_require__.n(trim_lib),text_select=__webpack_require__(70264),Modal=__webpack_require__(89194),Modal_default=__webpack_require__.n(Modal);const MsgModal=({show,close,message,title})=>react.createElement(Modal_default(),{show,onHide:close},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement(Modal_default().Title,null,title)),react.createElement(Modal_default().Body,null,message),react.createElement(Modal_default().Footer,null,react.createElement(Button_default(),{onClick:close},"Close")));MsgModal.propTypes={close:prop_types_default().func,message:prop_types_default().string,show:prop_types_default().bool,title:prop_types_default().string},MsgModal.defaultProps={close(){},message:"",show:!1,title:""};var message_modal=MsgModal,confirm_modal=__webpack_require__(88608),create_namespace=__webpack_require__(29724),check_url_path=__webpack_require__(48297),browser=__webpack_require__(11227),browser_default=__webpack_require__.n(browser),FormCheck=__webpack_require__(3692),FormCheck_default=__webpack_require__.n(FormCheck),react_dates=__webpack_require__(76141),moment=__webpack_require__(30381),moment_default=__webpack_require__.n(moment),is_email_address_lib=__webpack_require__(11738),is_email_address_lib_default=__webpack_require__.n(is_email_address_lib),_datepicker=__webpack_require__(71990),__defProp2=Object.defineProperty,__defNormalProp2=(obj,key,value)=>key in obj?__defProp2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__publicField=(obj,key,value)=>(__defNormalProp2(obj,typeof key!="symbol"?key+"":key,value),value);const debug=browser_default()("isle-dashboard:edit-cohort");function validateInputs({emails,title}){let invalid=!1;return emails.forEach(owner=>{is_email_address_lib_default()(owner)||(invalid=!0)}),invalid?!1:title.length>=4}class EditCohortModal extends react.Component{constructor(props){super(props);__publicField(this,"handleInputChange",event=>{const target=event.target,name=target.name;let value=target.value;this.setState({[name]:value},()=>{this.setState({disabled:!validateInputs({emails:this.state.members,title:this.state.title})})})}),__publicField(this,"handleUpdate",()=>{const updatedCohort={_id:this.props._id,emailFilter:this.state.emailFilter,startDate:this.state.startDate.startOf("day").toDate(),endDate:this.state.endDate.endOf("day").toDate(),members:this.state.members.join(","),title:this.state.title,private:this.state.private};this.props.onUpdate(updatedCohort),this.props.onHide()}),__publicField(this,"handleDelete",()=>{this.props.onDelete(this.props._id),this.closeDeleteModal(),this.props.onHide()}),__publicField(this,"closeDeleteModal",()=>{this.setState({showDeleteModal:!1})}),__publicField(this,"handleStudentChange",newValue=>{debug("Handle change of cohort members...");const members=is_array_lib_default()(newValue)?newValue.map(x=>x.value):[];this.setState({members,disabled:!validateInputs({emails:members,title:this.state.title})})}),this.state={disabled:!1,startDate:moment_default()(props.startDate),endDate:moment_default()(props.endDate),title:props.title,members:props.members.map(user=>user.email),showDeleteModal:!1,private:props.private,emailFilter:props.emailFilter}}render(){const{t}=this.props,content=react.createElement(Form_default(),{style:{padding:"10px"}},react.createElement(Row_default(),null,react.createElement(Col.default,{md:6},react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"titleTooltip"},t("cohort-title-tooltip"))},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("common:title")),react.createElement(FormControl_default(),{name:"title",type:"text",value:this.state.title,onChange:this.handleInputChange})))),react.createElement(Col.default,{md:6},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("cohort-period")),react.createElement("br",null),react.createElement(react_dates.DateRangePicker,{startDateId:"panel_start_date_input",endDateId:"panel_end_date_input",startDate:this.state.startDate,endDate:this.state.endDate,onDatesChange:({startDate,endDate})=>this.setState({startDate,endDate}),focusedInput:this.state.focusedInput,onFocusChange:focusedInput=>this.setState({focusedInput})})))),react.createElement("hr",null),react.createElement(Row_default(),null,react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"enrolledTooltip"},t("enrolled-tooltip"))},react.createElement(FormGroup_default(),{className:"cohort-modal-enrolled-group"},react.createElement(FormLabel_default(),null,t("enrolled-students")),react.createElement(text_select.Z,{placeholder:t("enter-emails"),defaultValue:this.state.members,onChange:this.handleStudentChange,styles:{control:()=>({width:"100%"})}})))),react.createElement("hr",null),react.createElement(Row_default(),null,react.createElement(OverlayTrigger_default(),{placement:"left",overlay:react.createElement(Tooltip_default(),{id:"preventTooltip"},t("prevent-tooltip"))},react.createElement(FormCheck_default(),{checked:this.state.private,onChange:event=>{this.setState({private:!this.state.private})},type:"checkbox",label:t("prevent-label")}))),react.createElement("hr",null),react.createElement(Row_default(),null,react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"filterTooltip"},t("filter-tooltip"))},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("email-filter")),react.createElement(FormControl_default(),{style:{width:"25vw"},name:"emailFilter",type:"text",value:this.state.emailFilter,placeholder:t("filter-placeholder"),onChange:this.handleInputChange})))));return react.createElement(react.Fragment,null,react.createElement(Modal_default(),{size:"lg",show:this.props.show,onHide:this.props.onHide},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement(Modal_default().Title,{as:"h3"},t("edit-cohort",{title:this.props.title}))),react.createElement(Modal_default().Body,null,content),react.createElement(Modal_default().Footer,null,react.createElement(ButtonGroup_default(),null,react.createElement(Button_default(),{onClick:()=>{this.setState({showDeleteModal:!0})},variant:"danger"},t("common:delete")),react.createElement(Button_default(),{onClick:this.props.onHide},t("common:cancel")),react.createElement(Button_default(),{variant:"success",disabled:this.state.disabled,onClick:this.handleUpdate},t("common:save"))))),react.createElement(confirm_modal.Z,{show:this.state.showDeleteModal,close:this.closeDeleteModal,message:t("delete-cohort"),title:`${t("delete")}?`,onConfirm:this.handleDelete}))}}EditCohortModal.propTypes={_id:prop_types_default().string.isRequired,emailFilter:prop_types_default().string.isRequired,endDate:prop_types_default().string,members:prop_types_default().array.isRequired,onDelete:prop_types_default().func,onHide:prop_types_default().func.isRequired,onUpdate:prop_types_default().func,private:prop_types_default().bool.isRequired,show:prop_types_default().bool.isRequired,startDate:prop_types_default().string.isRequired,t:prop_types_default().func.isRequired,title:prop_types_default().string.isRequired},EditCohortModal.defaultProps={endDate:null,onUpdate(){},onDelete(){}};var edit_cohort_modal=EditCohortModal;function create_cohort_modal_validateInputs(emails,title){let invalid=!1;return emails.forEach(owner=>{is_email_address_lib_default()(owner)||(invalid=!0)}),invalid?!1:title.length>=4}const CreateCohortModal=({close,onCreate,show,t})=>{const[title,setTitle]=(0,react.useState)(""),[emailFilter,setEmailFilter]=(0,react.useState)(""),[dates,setDates]=(0,react.useState)({start:moment_default()().startOf("day"),end:moment_default()().add(3,"months").endOf("day")}),[isPrivate,setIsPrivate]=(0,react.useState)(!1),[students,setStudents]=(0,react.useState)([]),[focusedInput,setFocusedInput]=(0,react.useState)(null),handleClose=()=>{close()},handleCreate=()=>{const cohort2={emailFilter,title,startDate:dates.start.startOf("day").toDate(),endDate:dates.end.endOf("day").toDate(),private:isPrivate,students:students.join(",")};onCreate(cohort2)},disabled=!create_cohort_modal_validateInputs(students,title),body=react.createElement(Form_default(),{style:{paddingLeft:20,paddingRight:20}},react.createElement(Row_default(),null,react.createElement(Col.default,{md:6},react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"titleTooltip"},t("cohort-title-tooltip"))},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("common:title")),react.createElement(FormControl_default(),{name:"title",type:"text",placeholder:t("cohort-title-placeholder"),onChange:event=>setTitle(event.target.value)})))),react.createElement(Col.default,{md:6},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("cohort-period")),react.createElement(react_dates.DateRangePicker,{startDateId:"start_date_input",endDateId:"end_date_input",startDate:dates.start,endDate:dates.end,onDatesChange:({startDate,endDate})=>{setDates({start:startDate,end:endDate})},focusedInput,onFocusChange:setFocusedInput})))),react.createElement("hr",null),react.createElement(Row_default(),null,react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"enrolledTooltip"},t("enrolled-tooltip"))},react.createElement(FormGroup_default(),{className:"cohort-modal-enrolled-group"},react.createElement(FormLabel_default(),null,t("enrolled-students")),react.createElement(text_select.Z,{placeholder:t("enter-emails"),onChange:newValue=>{const newStudents=is_array_lib_default()(newValue)?newValue.map(x=>x.value):[];setStudents(newStudents)},defaultValue:students,isClearable:!0,styles:{control:()=>({width:"100%"})}})))),react.createElement("hr",null),react.createElement(Row_default(),null,react.createElement(OverlayTrigger_default(),{placement:"left",overlay:react.createElement(Tooltip_default(),{id:"preventTooltip"},t("prevent-tooltip"))},react.createElement(FormCheck_default(),{checked:isPrivate,onChange:()=>{setIsPrivate(!isPrivate)},type:"checkbox",label:t("prevent-label")}))),react.createElement("hr",null),react.createElement(Row_default(),null,react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"filterTooltip"},t("filter-tooltip"))},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("email-filter")),react.createElement(FormControl_default(),{style:{width:"25vw"},name:"emailFilter",type:"text",placeholder:t("filter-placeholder"),onChange:event=>setEmailFilter(event.target.value)})))));return react.createElement(Modal_default(),{size:"lg",show,onHide:handleClose},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement(Modal_default().Title,{as:"h3"},t("create-new-cohort"))),react.createElement(Modal_default().Body,null,body),react.createElement(Modal_default().Footer,null,react.createElement(Button_default(),{onClick:handleClose},t("common:cancel")),react.createElement(Button_default(),{variant:"success",disabled,onClick:handleCreate},t("common:create"))))};CreateCohortModal.propTypes={close:prop_types_default().func,onCreate:prop_types_default().func,show:prop_types_default().bool,t:prop_types_default().func.isRequired},CreateCohortModal.defaultProps={close(){},onCreate(){},show:!1};var create_cohort_modal=CreateCohortModal,react_select_cjs_prod=__webpack_require__(87583),__async=(__this,__arguments,generator)=>new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())});const ImportCourseModal=({namespaces,show,close,targetNamespace,copyNamespaceLessons,t})=>{const[selectedCourse,setSelectedCourse]=(0,react.useState)(null),handleSelection=obj=>{setSelectedCourse(obj.value)},handleImport=()=>__async(void 0,null,function*(){(yield copyNamespaceLessons({source:selectedCourse.title,target:targetNamespace.title}))instanceof Error||close()}),options=namespaces.map(x=>({label:x.title,value:x}));return react.createElement(Modal_default(),{size:"lg",show,onHide:close},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement(Modal_default().Title,{as:"h3"},t("import-course"))),react.createElement(Modal_default().Body,null,react.createElement("p",null,t("import-course-description")),react.createElement(Form_default().Group,{controlId:"form-course-select"},react.createElement(Form_default().Label,null,t("select-namespace")),react.createElement(react_select_cjs_prod.ZP,{options,onChange:handleSelection}))),react.createElement(Modal_default().Footer,null,react.createElement(Button_default(),{onClick:close},t("common:cancel")),react.createElement(Button_default(),{variant:"success",disabled:!selectedCourse,onClick:handleImport},t("common:import"))))};ImportCourseModal.propTypes={close:prop_types_default().func.isRequired,copyNamespaceLessons:prop_types_default().func.isRequired,namespaces:prop_types_default().array,show:prop_types_default().bool,t:prop_types_default().func.isRequired,targetNamespace:prop_types_default().object.isRequired},ImportCourseModal.defaultProps={namespaces:[],show:!1};var import_course_modal=ImportCourseModal,server=__webpack_require__(94204),edit_namespace_defProp=Object.defineProperty,__defProps2=Object.defineProperties,__getOwnPropDescs2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,edit_namespace_defNormalProp=(obj,key,value)=>key in obj?edit_namespace_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues2=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp2.call(b,prop)&&edit_namespace_defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols2)for(var prop of __getOwnPropSymbols2(b))__propIsEnum2.call(b,prop)&&edit_namespace_defNormalProp(a,prop,b[prop]);return a},__spreadProps2=(a,b)=>__defProps2(a,__getOwnPropDescs2(b)),edit_namespace_publicField=(obj,key,value)=>(edit_namespace_defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);class EditNamespace extends react.Component{constructor(props){super(props);edit_namespace_publicField(this,"handleInputChange",event=>{const target=event.target,name=target.name;let value=target.value;this.setState({[name]:value})}),edit_namespace_publicField(this,"handleUpdate",()=>{this.props.updateCurrentNamespace({_id:this.props.namespace._id,description:this.state.description,title:this.state.title,enableTicketing:this.state.enableTicketing,owners:this.state.owners})}),edit_namespace_publicField(this,"handleDelete",()=>{this.props.deleteCurrentNamespace(this.props.namespace._id,this.props.history)}),edit_namespace_publicField(this,"close",()=>{this.setState({showModal:!1})}),edit_namespace_publicField(this,"closeDeleteModal",()=>{this.setState({showDeleteModal:!1})}),edit_namespace_publicField(this,"closeCreateCohortModal",()=>{this.setState({showCreateCohortModal:!1})}),edit_namespace_publicField(this,"closeImportModal",()=>{this.setState({showImportModal:!1})}),edit_namespace_publicField(this,"createCohort",cohort2=>{cohort2.namespaceID=this.props.namespace._id,this.props.createCohort(cohort2,this.props.namespace._id),this.closeCreateCohortModal()}),edit_namespace_publicField(this,"deleteCohort",cohortID=>{this.props.deleteCohort(cohortID,this.props.namespace._id)}),edit_namespace_publicField(this,"updateCohort",cohort2=>{this.props.updateCohort(cohort2,this.props.namespace._id)}),edit_namespace_publicField(this,"handleOwnerChange",newValue=>{if(!newValue)return this.setState({owners:[]});const owners2=newValue.map(x=>trim_lib_default()(x.value));this.setState({owners:owners2})}),edit_namespace_publicField(this,"closeEditCohortModal",()=>{this.setState({selectedCohort:null,showEditCohortModal:!1})}),edit_namespace_publicField(this,"cohortModalFactory",idx=>()=>{this.setState({selectedCohort:this.props.cohorts[idx],showEditCohortModal:!0})});let{title,description,owners,enableTicketing}=this.props.namespace;is_array_lib_default()(owners)&&(owners=owners.map(owner=>owner.email)),this.state={title,description,owners,enableTicketing,showDeleteModal:!1,showImportModal:!1,showCreateCohortModal:!1,showEditCohortModal:!1,selectedCohort:null}}renderModals(){const{t}=this.props;return react.createElement(react.Fragment,null,react.createElement(message_modal,{show:this.state.showModal,close:this.close,message:this.state.message,successful:this.state.successful,title:t("update-course")}),react.createElement(confirm_modal.Z,{show:this.state.showDeleteModal,close:this.closeDeleteModal,message:t("delete-course"),title:`${t("delete")}?`,onConfirm:this.handleDelete}),this.state.showCreateCohortModal?react.createElement(create_cohort_modal,{show:this.state.showCreateCohortModal,close:this.closeCreateCohortModal,onCreate:this.createCohort,t:this.props.t}):null,this.state.showImportModal?react.createElement(import_course_modal,{show:this.state.showImportModal,close:this.closeImportModal,namespaces:this.props.user.ownedNamespaces,targetNamespace:this.props.namespace,copyNamespaceLessons:this.props.copyNamespaceLessons,t:this.props.t}):null,this.state.showEditCohortModal?react.createElement(edit_cohort_modal,__spreadProps2(__spreadValues2({show:this.state.showEditCohortModal},this.state.selectedCohort),{onDelete:this.deleteCohort,onHide:this.closeEditCohortModal,onUpdate:this.updateCohort,t:this.props.t})):null)}renderCohortList(){const{t}=this.props;return react.createElement(ListGroup_default(),null,this.props.cohorts.map((cohort2,idx)=>react.createElement(ListGroupItem_default(),{variant:"light",eventKey:idx,key:idx,style:{backgroundColor:"white"}},react.createElement("label",null,cohort2.title),react.createElement("span",{style:{marginLeft:5,color:"black"}},"(",t("no-students"),":"),react.createElement(Badge_default(),{bg:"primary"},cohort2.members.length),react.createElement("span",{style:{color:"black"}},")"),react.createElement(Button_default(),{size:"sm",onClick:this.cohortModalFactory(idx),style:{float:"right"}},t("common:edit")))))}render(){const{t}=this.props;if(!this.props.namespace._id)return react.createElement(Container_default(),{className:"edit-namespace-container"},react.createElement(Alert_default(),{variant:"danger"},t("common:no-course-selected")));const validTitle=(0,create_namespace.uq)(this.state.title),invalidTitleChars=(0,check_url_path.Z)(this.state.title),validDescription=(0,create_namespace.O5)(this.state.description),validOwners=(0,create_namespace.OT)(this.state.owners);return react.createElement(Container_default(),{className:"edit-namespace-container"},react.createElement(Row_default(),null,react.createElement(Col.default,{sm:4},react.createElement(Card_default(),null,react.createElement(Card_default().Header,null,react.createElement(Card_default().Title,{as:"h3"},t("edit-course"))),react.createElement(Card_default().Body,null,react.createElement(Form_default(),{style:{padding:"20px"},className:"d-grid gap-3"},react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"ownerTooltip"},t("owner-tooltip"))},react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),{htmlFor:"owners-text-select"},t("common:owners")),react.createElement(text_select.Z,{id:"owners-text-select",placeholder:t("enter-emails"),onChange:this.handleOwnerChange,defaultValue:this.state.owners,isInvalid:!(0,create_namespace.OT)(this.state.owners)}),react.createElement(FormControl_default().Feedback,{type:"invalid"},t("invalid-owners")))),react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"courseTooltip"},t("accessible-at"),react.createElement("code",null,server.ZP+"/<course>/<lesson>"))},react.createElement(FormGroup_default(),{controlId:"form-course"},react.createElement(FormLabel_default(),null,t("course-identifier")),react.createElement(FormControl_default(),{name:"title",type:"text",value:this.state.title,onChange:this.handleInputChange,isInvalid:!validTitle}),react.createElement(FormControl_default().Feedback,{type:"invalid"},invalidTitleChars?"Course identifier contains invalid character(s): "+invalidTitleChars[0]:"Course identifier must be at least three characters long and should not contain any spaces."))),react.createElement(OverlayTrigger_default(),{placement:"right",overlay:react.createElement(Tooltip_default(),{id:"titleTooltip"},t("title-tooltip"))},react.createElement(FormGroup_default(),{controlId:"form-description"},react.createElement(FormLabel_default(),null,t("title-description")),react.createElement(FormControl_default(),{name:"description",type:"text",value:this.state.description,onChange:this.handleInputChange,isInvalid:!validDescription}),react.createElement(FormControl_default().Feedback,{type:"invalid"},t("invalid-description")))),react.createElement(Form_default().Check,{"aria-label":t("enable-ticketing"),type:"checkbox",label:t("enable-ticketing"),defaultChecked:this.state.enableTicketing,onChange:event=>{this.setState({enableTicketing:event.target.checked})}})),react.createElement(Button_default(),{type:"submit",disabled:!validOwners||!validTitle||!validDescription,onClick:this.handleUpdate},t("common:update"))),this.renderModals())),react.createElement(Col.default,{sm:5},react.createElement(Card_default(),null,react.createElement(Card_default().Header,null,react.createElement(Card_default().Title,{as:"h3"},t("manage-cohorts"))),react.createElement(Card_default().Body,null,this.renderCohortList(),react.createElement(Button_default(),{size:"small",variant:"success",style:{float:"right",marginTop:14,background:"#3c763d"},onClick:()=>{this.setState({showCreateCohortModal:!0})}},t("create-cohort"))))),react.createElement(Col.default,{sm:3},react.createElement(Card_default(),null,react.createElement(Card_default().Header,null,react.createElement(Card_default().Title,{as:"h3"},t("common:actions"))),react.createElement(Card_default().Body,null,react.createElement(ButtonGroup_default(),{vertical:!0},react.createElement(Button_default(),{onClick:()=>{this.setState({showDeleteModal:!0})},variant:"outline-danger"},t("delete-namespace")),react.createElement(Button_default(),{onClick:()=>{this.setState({showImportModal:!0})},variant:"outline-secondary"},t("import-existing-course"))))))))}}EditNamespace.propTypes={addNotification:prop_types_default().func.isRequired,cohorts:prop_types_default().array,copyNamespaceLessons:prop_types_default().func.isRequired,createCohort:prop_types_default().func.isRequired,deleteCohort:prop_types_default().func.isRequired,deleteCurrentNamespace:prop_types_default().func.isRequired,history:prop_types_default().object.isRequired,namespace:prop_types_default().object.isRequired,t:prop_types_default().func.isRequired,updateCohort:prop_types_default().func.isRequired,updateCurrentNamespace:prop_types_default().func.isRequired,user:prop_types_default().object.isRequired},EditNamespace.defaultProps={cohorts:[]};var edit_namespace=(0,commonjs.Zh)(["namespace","common"])(EditNamespace),cohort=__webpack_require__(72371),namespace=__webpack_require__(23218),notification=__webpack_require__(16120),lesson=__webpack_require__(36189);function mapStateToProps(state){return{user:state.user,namespace:state.namespace,cohorts:state.namespace.cohorts}}function mapDispatchToProps(dispatch){return{addNotification:(0,notification.pP)(dispatch),createCohort:(0,cohort.CA)(dispatch),deleteCohort:(0,cohort.p6)(dispatch),updateCohort:(0,cohort.nm)(dispatch),deleteCurrentNamespace:(0,namespace.kC)(dispatch),updateCurrentNamespace:(0,namespace.J3)(dispatch),copyNamespaceLessons:(0,lesson.Ao)(dispatch)}}var visible_edit_namespace=(0,lib.connect)(mapStateToProps,mapDispatchToProps)(edit_namespace)},93166:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_uncontrollable=__webpack_require__(81560),_useEventCallback=_interopRequireDefault(__webpack_require__(57738)),_Anchor=_interopRequireDefault(__webpack_require__(62305)),_ThemeProvider=__webpack_require__(3349),_Fade=_interopRequireDefault(__webpack_require__(7269)),_CloseButton=_interopRequireDefault(__webpack_require__(86151)),_divWithClassName=_interopRequireDefault(__webpack_require__(3081)),_createWithBsPrefix=_interopRequireDefault(__webpack_require__(20158)),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const DivStyledAsH4=(0,_divWithClassName.default)("h4");DivStyledAsH4.displayName="DivStyledAsH4";const AlertHeading=(0,_createWithBsPrefix.default)("alert-heading",{Component:DivStyledAsH4}),AlertLink=(0,_createWithBsPrefix.default)("alert-link",{Component:_Anchor.default}),defaultProps={variant:"primary",show:!0,transition:_Fade.default,closeLabel:"Close alert"},Alert=React.forwardRef((uncontrolledProps,ref)=>{const _a=(0,_uncontrollable.useUncontrolled)(uncontrolledProps,{show:"onClose"}),{bsPrefix,show,closeLabel,closeVariant,className,children,variant,onClose,dismissible,transition}=_a,props=__objRest(_a,["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"]),prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"alert"),handleClose=(0,_useEventCallback.default)(e=>{onClose&&onClose(!1,e)}),Transition=transition===!0?_Fade.default:transition,alert=(0,_jsxRuntime.jsxs)("div",__spreadProps(__spreadValues({role:"alert"},Transition?void 0:props),{ref,className:(0,_classnames.default)(className,prefix,variant&&`${prefix}-${variant}`,dismissible&&`${prefix}-dismissible`),children:[dismissible&&(0,_jsxRuntime.jsx)(_CloseButton.default,{onClick:handleClose,"aria-label":closeLabel,variant:closeVariant}),children]}));return Transition?(0,_jsxRuntime.jsx)(Transition,__spreadProps(__spreadValues({unmountOnExit:!0},props),{ref:void 0,in:show,children:alert})):show?alert:null});Alert.displayName="Alert",Alert.defaultProps=defaultProps;var _default=Object.assign(Alert,{Link:AlertLink,Heading:AlertHeading});exports.default=_default,module.exports=exports.default},86100:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const defaultProps={bg:"primary",pill:!1},Badge=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,bg,pill,text,className,as:Component="span"}=_b,props=__objRest(_b,["bsPrefix","bg","pill","text","className","as"]);const prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"badge");return(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,prefix,pill&&"rounded-pill",text&&`text-${text}`,bg&&`bg-${bg}`)}))});Badge.displayName="Badge",Badge.defaultProps=defaultProps;var _default=Badge;exports.default=_default,module.exports=exports.default},70448:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const defaultProps={fluid:!1},Container=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,fluid,as:Component="div",className}=_b,props=__objRest(_b,["bsPrefix","fluid","as","className"]);const prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"container"),suffix=typeof fluid=="string"?`-${fluid}`:"-fluid";return(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,fluid?`${prefix}${suffix}`:prefix)}))});Container.displayName="Container",Container.defaultProps=defaultProps;var _default=Container;exports.default=_default,module.exports=exports.default},18350:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_warning=_interopRequireDefault(__webpack_require__(42473)),_uncontrollable=__webpack_require__(81560),_Nav=_interopRequireDefault(__webpack_require__(93931)),_ThemeProvider=__webpack_require__(3349),_ListGroupItem=_interopRequireDefault(__webpack_require__(36604)),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const ListGroup=React.forwardRef((props,ref)=>{const _a=(0,_uncontrollable.useUncontrolled)(props,{activeKey:"onSelect"}),{className,bsPrefix:initialBsPrefix,variant,horizontal,numbered,as="div"}=_a,controlledProps=__objRest(_a,["className","bsPrefix","variant","horizontal","numbered","as"]),bsPrefix=(0,_ThemeProvider.useBootstrapPrefix)(initialBsPrefix,"list-group");let horizontalVariant;return horizontal&&(horizontalVariant=horizontal===!0?"horizontal":`horizontal-${horizontal}`),(0,_jsxRuntime.jsx)(_Nav.default,__spreadProps(__spreadValues({ref},controlledProps),{as,className:(0,_classnames.default)(className,bsPrefix,variant&&`${bsPrefix}-${variant}`,horizontalVariant&&`${bsPrefix}-${horizontalVariant}`,numbered&&`${bsPrefix}-numbered`)}))});ListGroup.displayName="ListGroup";var _default=Object.assign(ListGroup,{Item:_ListGroupItem.default});exports.default=_default,module.exports=exports.default},36604:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_useEventCallback=_interopRequireDefault(__webpack_require__(57738)),_NavItem=__webpack_require__(44967),_SelectableContext=__webpack_require__(24767),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const ListGroupItem=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,active,disabled,eventKey,className,variant,action,as}=_b,props=__objRest(_b,["bsPrefix","active","disabled","eventKey","className","variant","action","as"]);bsPrefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"list-group-item");const[navItemProps,meta]=(0,_NavItem.useNavItem)(__spreadValues({key:(0,_SelectableContext.makeEventKey)(eventKey,props.href),active},props)),handleClick=(0,_useEventCallback.default)(event=>{if(disabled){event.preventDefault(),event.stopPropagation();return}navItemProps.onClick(event)});disabled&&props.tabIndex===void 0&&(props.tabIndex=-1,props["aria-disabled"]=!0);const Component=as||(action?props.href?"a":"button":"div");return(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues(__spreadValues({ref},props),navItemProps),{onClick:handleClick,className:(0,_classnames.default)(className,bsPrefix,meta.isActive&&"active",disabled&&"disabled",variant&&`${bsPrefix}-${variant}`,action&&`${bsPrefix}-action`)}))});ListGroupItem.displayName="ListGroupItem";var _default=ListGroupItem;exports.default=_default,module.exports=exports.default},28269:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const DEVICE_SIZES=["xxl","xl","lg","md","sm","xs"],Row=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,className,as:Component="div"}=_b,props=__objRest(_b,["bsPrefix","className","as"]);const decoratedBsPrefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"row"),sizePrefix=`${decoratedBsPrefix}-cols`,classes=[];return DEVICE_SIZES.forEach(brkPoint=>{const propValue=props[brkPoint];delete props[brkPoint];let cols;propValue!=null&&typeof propValue=="object"?{cols}=propValue:cols=propValue;const infix=brkPoint!=="xs"?`-${brkPoint}`:"";cols!=null&&classes.push(`${sizePrefix}${infix}-${cols}`)}),(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,decoratedBsPrefix,...classes)}))});Row.displayName="Row";var _default=Row;exports.default=_default,module.exports=exports.default}}]);

//# sourceMappingURL=5812.8b2d83ac.chunk.js.map