"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[4320],{3705:function(module,__unused_webpack_exports,__webpack_require__){var papplyRight=__webpack_require__(48935);module.exports=papplyRight},48935:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(5726);function papplyRight(fcn){var pargs,len,i;if(!isFunction(fcn))throw new TypeError("invalid argument. First argument must be a function. Value: `"+fcn+"`.");for(len=arguments.length-1,pargs=new Array(len),i=1;i<arguments.length;i++)pargs[i-1]=arguments[i];return pappliedRight;function pappliedRight(){var nargs,args,j;for(nargs=arguments.length,args=new Array(len+nargs),j=0;j<args.length;j++)j>=nargs?args[j]=pargs[j-nargs]:args[j]=arguments[j];return fcn.apply(null,args)}}module.exports=papplyRight},84638:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return main}});var react=__webpack_require__(45254),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),commonjs=__webpack_require__(81468),lib=__webpack_require__(3705),lib_default=__webpack_require__.n(lib),round_lib=__webpack_require__(55809),round_lib_default=__webpack_require__.n(round_lib),keys_lib=__webpack_require__(25351),keys_lib_default=__webpack_require__.n(keys_lib),is_array_lib=__webpack_require__(76266),is_array_lib_default=__webpack_require__.n(is_array_lib),entries_lib=__webpack_require__(49214),entries_lib_default=__webpack_require__.n(entries_lib),is_number_lib=__webpack_require__(91317),is_nan_lib=__webpack_require__(15848),is_nan_lib_default=__webpack_require__.n(is_nan_lib),components_table=__webpack_require__(63393),statistic=__webpack_require__(10665),factor_variable=__webpack_require__(93199),prop_check=__webpack_require__(25048);function groupedCompleteCases(arr,groupData){const indices=[],len=arr[0].length;for(let j=0;j<len;j++){let complete=!0;for(let i=0;i<arr.length;i++){const x=arr[i][j];if(!(0,is_number_lib.isPrimitive)(x)||is_nan_lib_default()(x)){complete=!1;break}}complete&&indices.push(j)}const out={};for(let i=0;i<arr.length;i++)for(let j=0;j<indices.length;j++){const group=groupData[indices[j]];if(!out[group]){out[group]=new Array(arr.length);for(let k=0;k<arr.length;k++)out[group][k]=[]}const idx=indices[j];out[group][i].push(arr[i][idx])}return out}var grouped_complete_cases=groupedCompleteCases;function groupedCases(arr,groupData){const out={},len=arr[0].length;for(let i=0;i<arr.length;i++)for(let j=0;j<len;j++){const group=groupData[j];if(!out[group]){out[group]=new Array(arr.length);for(let k=0;k<arr.length;k++)out[group][k]=[]}out[group][i].push(arr[i][j])}return out}var grouped_cases=groupedCases;function completeCases(arr){const indices=[],len=arr[0].length;for(let j=0;j<len;j++){let complete=!0;for(let i=0;i<arr.length;i++){const x=arr[i][j];if(!(0,is_number_lib.isPrimitive)(x)||is_nan_lib_default()(x)){complete=!1;break}}complete&&indices.push(j)}const out=new Array(arr.length);for(let i=0;i<arr.length;i++){const arr2=new Array(indices.length);for(let j=0;j<indices.length;j++){const idx=indices[j];arr2[j]=arr2[i][idx]}out[i]=arr2}return out}var complete_cases=completeCases,extract_used_categories=__webpack_require__(77595);const SORT_OPTS={numeric:!0};function by2WithCount(arr1,arr2,factor,functions,group){let result={},ret1={},ret2={};for(let i=0;i<factor.length;i++)is_array_lib_default()(ret1[factor[i]])||(ret1[factor[i]]=[],ret2[factor[i]]=[]),ret1[factor[i]].push(arr1[i]),ret2[factor[i]].push(arr2[i]);let keys;group.length===1?keys=(0,extract_used_categories.Z)(ret1,group[0]):(keys=keys_lib_default()(ret1),keys.sort((a,b)=>a.localeCompare(b,void 0,SORT_OPTS)));for(let i=0;i<keys.length;i++){const key=keys[i];result[key]={value:functions.map(f=>f(ret1[key],ret2[key])),size:ret1[key].length}}return{keys,result}}var by2_with_count=by2WithCount;const by_with_count_SORT_OPTS={numeric:!0};function byWithCount(arr,factor,functions,group){let table={};for(let i=0;i<arr.length;i++)is_array_lib_default()(table[factor[i]])||(table[factor[i]]=[]),table[factor[i]].push(arr[i]);let keys=keys_lib_default()(table);if(group.length===2){const cat1=group[0].categories,cat2=group[1].categories;cat1&&cat2?keys.sort((a,b)=>{const as=a.split(":"),bs=b.split(":");let diff=cat1.indexOf(as[0])-cat1.indexOf(bs[0]);return diff!==0||(diff=cat2.indexOf(as[1])-cat2.indexOf(bs[1])),diff}):cat1?keys.sort((a,b)=>{const as=a.split(":"),bs=b.split(":");let diff=cat1.indexOf(as[0])-cat1.indexOf(bs[0]);return diff!==0?diff:as[1].localeCompare(bs[1],void 0,by_with_count_SORT_OPTS)}):cat2?keys.sort((a,b)=>{const as=a.split(":"),bs=b.split(":");let diff=as[0].localeCompare(bs[0],void 0,by_with_count_SORT_OPTS);return diff!==0||(diff=cat2.indexOf(as[1])-cat2.indexOf(bs[1])),diff}):keys.sort((a,b)=>a.localeCompare(b,void 0,by_with_count_SORT_OPTS))}else group.length===1&&group[0].categories?keys=(0,extract_used_categories.Z)(table,group[0]):keys.sort((a,b)=>a.localeCompare(b,void 0,by_with_count_SORT_OPTS));const out={};for(let i=0;i<keys.length;i++){const key=keys[i];out[key]={value:functions.map(f=>f(table[key])),size:table[key].length}}return out}var by_with_count=byWithCount,__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};const N="N",IQR="IQR",IQRTable=({e,t})=>react.createElement(components_table.Z,{bordered:!0,size:"sm"},react.createElement("thead",null,react.createElement("tr",null,react.createElement("th",null,t("variable")),react.createElement("th",null,IQR),react.createElement("th",null,t("lower")),react.createElement("th",null,t("upper")),react.createElement("th",null,N))),react.createElement("tbody",null,entries_lib_default()(e.result).map((res,idx)=>react.createElement("tr",{key:idx},react.createElement("td",null,res[0]),res[1].value[0].map((e2,i)=>react.createElement("td",{key:i},e2.toFixed(3))),react.createElement("td",null,res[1].size))))),RangeTable=({e,t})=>react.createElement(components_table.Z,{bordered:!0,size:"sm"},react.createElement("thead",null,react.createElement("tr",null,react.createElement("th",null,t("variable")),react.createElement("th",null,t("range")),react.createElement("th",null,t("min")),react.createElement("th",null,t("max")),react.createElement("th",null,N))),react.createElement("tbody",null,entries_lib_default()(e.result).map((res,idx)=>react.createElement("tr",{key:idx},react.createElement("td",null,res[0]),res[1].value[0].map((e2,i)=>react.createElement("td",{key:i},e2.toFixed(3))),react.createElement("td",null,res[1].size))))),CorrelationTable=props=>{const title=props.group?props.group:"Correlation Matrix",thead=react.createElement("thead",null,react.createElement("tr",null,react.createElement("th",null,title," (N=",props.result.size,")"),props.variables.map((x,i)=>react.createElement("th",{key:i},x)))),tbody=react.createElement("tbody",null,props.variables.map((x,i)=>react.createElement("tr",{key:i},react.createElement("th",null,x),props.result.value[i].map((y,j)=>react.createElement("td",{key:j},y.toFixed(3))))));return react.createElement(components_table.Z,__spreadValues({bordered:!0,size:"sm"},props),thead,tbody)},CorrelationMatrix=({e,t})=>{if(e.group){const tables=[],keys=keys_lib_default()(e.result);for(let i=0;i<keys.length;i++){const key=keys[i],table=react.createElement(CorrelationTable,{key,group:key,result:e.result[key],variables:e.variables});tables.push(table)}return tables}return react.createElement(CorrelationTable,{result:e.result,variables:e.variables})};function generateStatistics({data,t,statistics,variables,secondVariable,group,omit,quantiles}){const funs=[],statLabels=[];for(let i=0;i<statistics.length;i++){const stat=statistics[i];if(stat==="Quantile")for(let j=0;j<quantiles.length;j++){const quantile=quantiles[j];funs.push(lib_default()((0,statistic.Z)(stat),quantile,5)),statLabels.push(`${round_lib_default()(quantile*100)}% ${t("quantile")}`)}else funs.push((0,statistic.Z)(stat)),statLabels.push(stat)}if(statLabels[0]==="Correlation Matrix"){let arrs=variables.map(x=>data[x]);if(group){let groupData;if(group.length===2){groupData=[];for(let i=0;i<arrs[0].length;i++){const groupLabel=group.map(g=>data[g][i]).join(":");groupData.push(groupLabel)}}else groupData=data[group[0]];omit?arrs=grouped_complete_cases(arrs,groupData):arrs=grouped_cases(arrs,groupData)}else omit&&(arrs=complete_cases(arrs));let result2;if(group){result2={};const keys=keys_lib_default()(arrs);for(let i=0;i<keys.length;i++)result2[keys[i]]={value:funs.map(f=>f.apply(null,arrs[keys[i]]))[0],size:arrs[keys[i]][0].length}}else result2={value:funs.map(f=>f.apply(null,arrs))[0],size:arrs[0].length};return{variables,statistics:statLabels,type:"Statistics",result:result2,group}}const result={};for(let i=0;i<variables.length;i++){let groupData,res,x,y,variable=variables[i];if(group){if(omit)if(x=[],y=[],groupData=[],variable&&secondVariable){let first=data[variable],second=data[secondVariable];for(let i2=0;i2<first.length;i2++)if((0,is_number_lib.isPrimitive)(first[i2])&&!is_nan_lib_default()(first[i2])&&(0,is_number_lib.isPrimitive)(second[i2])&&!is_nan_lib_default()(second[i2])){x.push(first[i2]),y.push(second[i2]);const groupLabel=group.map(g=>data[g][i2]).join(":");groupData.push(groupLabel)}}else{let first=data[variable];for(let i2=0;i2<first.length;i2++)if((0,is_number_lib.isPrimitive)(first[i2])&&!is_nan_lib_default()(first[i2])){x.push(first[i2]);const groupLabel=group.map(g=>data[g][i2]).join(":");groupData.push(groupLabel)}}else if(x=data[variable],y=data[secondVariable],group.length===2){groupData=[];for(let i2=0;i2<data[variable].length;i2++){const groupLabel=group.map(g=>data[g][i2]).join(":");groupData.push(groupLabel)}}else groupData=data[group[0]];if(statLabels[0]==="Correlation"){const out=by2_with_count(x,y,groupData,funs,group);res=out.result;const keys=out.keys;for(let i2=0;i2<keys.length;i2++){const key=keys[i2];res[key].value=res[key].value.map(mat=>mat[0][1])}variable=`${variable} ${t("vs")} ${secondVariable}`}else res=by_with_count(x,groupData,funs,group)}else{if(omit)if(x=[],y=[],variable&&secondVariable){let first=data[variable],second=data[secondVariable];for(let i2=0;i2<first.length;i2++)(0,is_number_lib.isPrimitive)(first[i2])&&!is_nan_lib_default()(first[i2])&&(0,is_number_lib.isPrimitive)(second[i2])&&!is_nan_lib_default()(second[i2])&&(x.push(first[i2]),y.push(second[i2]))}else{let first=data[variable];for(let i2=0;i2<first.length;i2++)(0,is_number_lib.isPrimitive)(first[i2])&&!is_nan_lib_default()(first[i2])&&x.push(first[i2])}else x=data[variable],y=data[secondVariable];statLabels[0]==="Correlation"?(res={value:funs.map(f=>f(x,y)[0][1]),size:x.length},variable=`${variable} ${t("vs")} ${secondVariable}`):res={value:funs.map(f=>f(x)),size:x.length}}result[variable]=res}return{variables,statistics:statLabels,type:"Statistics",result,group}}function SummaryStatistics({variables,statistics,data,secondVariable,group,omit,quantiles}){const{t}=(0,commonjs.$G)("data-explorer"),e=(0,react.useMemo)(()=>generateStatistics({data,t,statistics,variables,secondVariable,group,omit,quantiles}),[data,statistics,variables,group,omit,quantiles,secondVariable,t]);if(e.group){if(e.statistics.length===1&&e.statistics[0]==="Correlation Matrix")return react.createElement(CorrelationMatrix,{e,t});const variables2=entries_lib_default()(e.result);let header;return e.statistics.length===1&&e.statistics[0]==="Range"?header=react.createElement("tr",null,react.createElement("th",{className:"not-sortable"},t("variable")),e.group.map((x,i)=>react.createElement("th",{key:i},x)),react.createElement("th",null,t("range")),react.createElement("th",null,t("min")),react.createElement("th",null,t("max")),react.createElement("th",null,N)):e.statistics.length===1&&e.statistics[0]==="Interquartile Range"?header=react.createElement("tr",null,react.createElement("th",{className:"not-sortable"},t("variable")),e.group.map((x,i)=>react.createElement("th",{key:i},x)),react.createElement("th",null,IQR),react.createElement("th",null,t("lower")),react.createElement("th",null,t("upper")),react.createElement("th",null,N)):header=react.createElement("tr",null,react.createElement("th",{className:"not-sortable"},variables2.length>1?"Variable":variables2[0][0]),e.group.map((x,i)=>react.createElement("th",{key:i},x)),e.statistics.map((name,i)=>react.createElement("th",{key:i},name)),react.createElement("th",null,N)),react.createElement(components_table.Z,{bordered:!0,size:"sm"},react.createElement("thead",null,header),react.createElement("tbody",null,variables2.map(res=>{let grouped=entries_lib_default()(res[1]);return grouped=grouped.map((arr,groupIndex)=>{let cats;return e.group.length>1?cats=arr[0].split(":").map((x,i)=>react.createElement("td",{key:i},x)):cats=react.createElement("td",null,arr[0]),react.createElement("tr",{key:groupIndex},react.createElement("td",null,variables2.length>1?res[0]:""),cats,arr[1].value.map((v,groupIndex2)=>is_array_lib_default()(v)?e.statistics.length===1?v.map((elem,i)=>react.createElement("td",{key:i},elem.toFixed(3))):react.createElement("td",{key:groupIndex2},v[0].toFixed(3)):react.createElement("td",{key:groupIndex2},v.toFixed(3))),react.createElement("td",null,arr[1].size," "))}),grouped})))}if(e.statistics.length===1){if(e.statistics[0]==="Range")return react.createElement(RangeTable,{e,t});if(e.statistics[0]==="Interquartile Range")return react.createElement(IQRTable,{e,t});if(e.statistics[0]==="Correlation Matrix")return react.createElement(CorrelationMatrix,{e,t})}return react.createElement(components_table.Z,{bordered:!0,size:"sm"},react.createElement("thead",null,react.createElement("tr",null,react.createElement("th",{className:"not-sortable"},t("variable")),e.statistics.map((name,i)=>react.createElement("th",{key:i},name)),react.createElement("th",null,N))),react.createElement("tbody",null,entries_lib_default()(e.result).map(res=>react.createElement("tr",{key:res[0]},react.createElement("td",null,res[0]),res[1].value.map((v,i)=>is_array_lib_default()(v)?react.createElement("td",{key:i},v[0].toFixed(3)):react.createElement("td",{key:i},v.toFixed(3))),react.createElement("td",null,res[1].size)))))}SummaryStatistics.propTypes={data:prop_types_default().object.isRequired,variables:prop_types_default().arrayOf(prop_types_default().string).isRequired,statistics:prop_types_default().arrayOf(prop_types_default().oneOf(["Mean","Median","Min","Max","Range","Interquartile Range","Standard Deviation","Variance","Correlation","Correlation Matrix","Skewness","Excess Kurtosis","First Quartile","Third Quartile","Quantile","Five-Number Summary"])).isRequired,secondVariable:prop_types_default().string,omit:prop_types_default().bool,group:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().string,prop_types_default().instanceOf(factor_variable.E)])),quantiles:prop_types_default().array},SummaryStatistics.defaultProps={secondVariable:null,omit:!1,group:null,quantiles:null};var main=(0,prop_check.W)(SummaryStatistics)}}]);

//# sourceMappingURL=SummaryStatistics.3478284b.chunk.js.map