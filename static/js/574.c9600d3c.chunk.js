"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[574],{43006:function(e,t,n){n.d(t,{Z:function(){return V}});var a=n(15671),l=n(43144),i=n(97326),o=n(60136),r=n(29388),s=n(4942),u=n(1413),c=n(41488),d=n(25472),p=n(33606),m=n.n(p),h=n(62059),f=n(66301),Z=n(47701),v=n(93391),b=n(3671),C=n.n(b),g=n(33837),y=n.n(g),E=n(81064),w=n.n(E),k=n(6233),F=n.n(k),P={clearIndicator:function(e,t){return(0,u.Z)((0,u.Z)({},e),{},{cursor:"pointer"})},multiValueRemove:function(e,t){return(0,u.Z)((0,u.Z)({},e),{},{cursor:"pointer"})},valueContainer:function(e,t){return(0,u.Z)((0,u.Z)({},e),{},{cursor:"text"})}},I=function(e){return{label:e,value:e}},O=function(e){return w()(e)?null:C()(e)&&e[0].label&&e[0].value?e:e.map(I)},S=function(e){(0,o.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),l=t.call(this,e),(0,s.Z)((0,i.Z)(l),"handleChange",(function(e){l.setState({value:e}),l.props.onChange(e)})),(0,s.Z)((0,i.Z)(l),"handleInputChange",(function(e,t){"menu-close"===t.action?l.addInputValues():"input-blur"!==t.action&&l.setState({inputValue:e})})),(0,s.Z)((0,i.Z)(l),"addInputValues",(function(){var e,t=l.state,n=t.inputValue,a=t.value;if(!n)return null;n=y()(n,",")?n.split(",").map((function(e){return F()(e)})):[F()(n)],e=a?a.concat(n.map(I)):n.map(I),l.setState({inputValue:"",value:e},(function(){l.props.onChange(l.state.value)}))})),(0,s.Z)((0,i.Z)(l),"handleKeyDown",(function(e){switch(e.key){case"Enter":case"Tab":l.addInputValues()}})),l.state={inputValue:"",value:O(e.defaultValue)},l}return(0,l.Z)(n,[{key:"componentDidUpdate",value:function(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:O(this.props.defaultValue)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=t.value,l=this.props.isInvalid,i={DropdownIndicator:null,MultiValueLabel:function(t){var n=function(){m()(t.data.label)};return c.createElement(v.Z,{overlay:c.createElement(Z.Z,{id:"copy_tooltip"},e.props.t("copy-tooltip")),placement:"bottom"},c.createElement("span",{role:"button",tabIndex:0,onClick:n,onKeyPress:n,className:"text-select-copy","aria-label":e.props.t("copy-tooltip")},c.createElement(f.c.MultiValueLabel,t)))}};return c.createElement(h.ZP,{inputId:this.props.id,components:i,inputValue:n,isClearable:this.props.isClearable,isMulti:!0,menuIsOpen:!1,onChange:this.handleChange,onInputChange:this.handleInputChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,value:a,styles:(0,u.Z)((0,u.Z)({},P),{},{control:function(e,t){var n=(0,u.Z)({},e);return t.isFocused&&l&&(n.boxShadow="0 0 0 0.2rem rgba(220,53,69,0.25)"),n.borderColor=l?"#dc3545":"#ddd",n["&:hover"]={borderColor:l?"#dc3545":"#ddd"},n}},this.props.styles),t:this.props.t})}}]),n}(c.Component);S.defaultProps={defaultValue:[],id:null,isClearable:!1,isInvalid:!1,onChange:function(){},placeholder:"",styles:{}};var V=(0,d.Z)(["text_select","common"])(S)},10574:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var a=n(15671),l=n(43144),i=n(97326),o=n(60136),r=n(29388),s=n(4942),u=n(41488),c=n(25472),d=n(70048),p=n(47701),m=n(62300),h=n(54544),f=n(93391),Z=n(44524),v=n(89308),b=n(54012),C=n(75018),g=n(73230),y=n(51189),E=n(3252),w=n(43006),k=[{value:"text",label:"Text"},{value:"dropdown",label:"Dropdown"},{value:"checkbox",label:"Checkbox"}],F=function(e){(0,o.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),l=t.call(this,e),(0,s.Z)((0,i.Z)(l),"createCustomField",(function(){var e={name:l.state.name,description:l.state.description,type:l.state.type.value,position:l.props.customFields.length,showOnProfile:l.state.showOnProfile,editableOnSignup:l.state.editableOnSignup,editableOnProfile:l.state.editableOnProfile};"dropdown"===e.type&&(e.options=l.state.options.map((function(e){return e.value}))),l.props.createCustomField(e),l.props.onHide()})),(0,s.Z)((0,i.Z)(l),"handleInputChange",(function(e){var t=e.target,n=t.value,a=t.name;l.setState((0,s.Z)({},a,n))})),(0,s.Z)((0,i.Z)(l),"handleCheckboxChangeFactory",(function(e){return function(t){l.setState((0,s.Z)({},e,t.target.checked))}})),l.state={name:"",description:"",type:k[0],options:[],showOnProfile:!1,editableOnSignup:!1,editableOnProfile:!1},l}return(0,l.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.t,n=this.state,a=n.name,l=n.description,i=a.length>=3,o=l.length>=3;return u.createElement(u.Fragment,null,u.createElement(E.Z,{show:this.props.show,onHide:this.props.onHide},u.createElement(E.Z.Header,{closeButton:!0},u.createElement(E.Z.Title,{as:"h3",style:{width:"100%"}},t("admin_settings:create-user-field"))),u.createElement(E.Z.Body,null,u.createElement(g.Z,{controlId:"formFieldName"},u.createElement(b.Z,null,t("field-name")),u.createElement(C.Z,{name:"name",type:"text",placeholder:t("enter-field-name"),defaultValue:a,onChange:this.handleInputChange,isInvalid:!i}),u.createElement(C.Z.Feedback,{type:"invalid"},t("invalid-name"))),u.createElement(g.Z,{controlId:"formFieldDescription"},u.createElement(b.Z,null,t("field-description")),u.createElement(C.Z,{name:"description",type:"text",placeholder:t("enter-field-description"),defaultValue:l,onChange:this.handleInputChange,isInvalid:!o}),u.createElement(C.Z.Feedback,{type:"invalid"},t("invalid-description"))),u.createElement(g.Z,{controlId:"formFieldType"},u.createElement(b.Z,null,t("field-type")),u.createElement(v.ZP,{options:k,defaultValue:this.state.type,onChange:function(t){e.setState({type:t})}}),"dropdown"===this.state.type.value?u.createElement(w.Z,{placeholder:t("create-dropdown-options"),options:this.state.options,onChange:function(t){e.setState({options:t})}}):null),u.createElement(g.Z,null,u.createElement(y.Z,{type:"checkbox",label:t("editable-on-signup"),defaultChecked:!1,onChange:function(t){e.setState({editableOnSignup:!e.state.editableOnSignup})}})),u.createElement(g.Z,null,u.createElement(y.Z,{type:"checkbox",label:t("show-on-profile"),defaultChecked:!1,onChange:function(t){e.setState({showOnProfile:!e.state.showOnProfile})}})),u.createElement(g.Z,null,u.createElement(y.Z,{type:"checkbox",label:t("editable-on-profile"),defaultChecked:!1,onChange:function(t){e.setState({editableOnProfile:!e.state.editableOnProfile})}}))),u.createElement(E.Z.Footer,null,u.createElement(d.Z,{onClick:this.props.onHide},t("common:cancel")),u.createElement(d.Z,{variant:"success",onClick:this.createCustomField,disabled:!i||!o},t("common:create")))))}}]),n}(u.Component);F.defaultProps={customFields:[]};var P=F,I=function(e){(0,o.Z)(n,e);var t=(0,r.Z)(n);function n(e){var l;return(0,a.Z)(this,n),l=t.call(this,e),(0,s.Z)((0,i.Z)(l),"toggleCreateModal",(function(){l.setState({showCreateModal:!l.state.showCreateModal})})),(0,s.Z)((0,i.Z)(l),"handleDeletionFactory",(function(e){return function(){l.props.deleteCustomField(e)}})),l.state={showCreateModal:!1},l}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.props.getCustomFields()}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.props.user.availableCustomFields||[];return u.createElement(u.Fragment,null,u.createElement("div",{className:"admin-settings-outer-container"},u.createElement(Z.Z,null,u.createElement("h1",null,this.props.t("user-fields")),u.createElement("p",null,this.props.t("user-fields-description")),n.length>0?u.createElement(h.Z,{className:"admin-settings-fields-list"},n.map((function(a,l){var i;return"dropdown"===a.type&&(i="; options: ".concat(a.options.join(", "))),u.createElement(h.Z.Item,{key:l},u.createElement("b",null,a.name),": ",a.description," (type: ",a.type,i,")",a.editableOnSignup?", editableOnSignup":"",a.showOnProfile?", showOnProfile":"",a.editableOnProfile?", editableOnProfile":"",u.createElement(f.Z,{placement:"left",overlay:u.createElement(p.Z,{id:"delete_field"},t("delete-field"))},u.createElement(d.Z,{variant:"outline-secondary",onClick:e.handleDeletionFactory(a._id),"aria-label":t("delete-field")},u.createElement("div",{className:"fa fa-trash-alt"}))),u.createElement(d.Z,{"aria-label":t("increment-position"),variant:"outline-secondary",onClick:function(){e.props.incrementFieldPosition(a._id)},disabled:l===n.length-1},u.createElement("i",{className:"fas fa-arrow-down"})),u.createElement(d.Z,{"aria-label":t("decrement-position"),variant:"outline-secondary",onClick:function(){e.props.decrementFieldPosition(a._id)},disabled:0===l},u.createElement("i",{className:"fas fa-arrow-up"})))}))):u.createElement(m.Z,{className:"admin-settings-fields-jumbotron"},t("no-custom-fields")),u.createElement(d.Z,{variant:"primary",onClick:this.toggleCreateModal},u.createElement("i",{className:"fas fa-plus",style:{marginRight:8}}),this.props.t("add-user-field")))),this.state.showCreateModal?u.createElement(P,{show:this.state.showCreateModal,onHide:this.toggleCreateModal,t:this.props.t,createCustomField:this.props.createCustomField,availableCustomFields:this.props.user.availableCustomFields}):null)}}]),n}(u.Component);I.defaultProps={user:{}};var O=(0,c.Z)("admin_settings")(I)},44524:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(29236),l=n(15671),i=n(43144),o=n(60136),r=n(29388),s=n(41488),u=n(25472),c=n(62300),d=function(e){(0,o.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props.admin;return this.props.user.licensed||e.license&&e.license.valid?this.props.children:s.createElement(c.Z,{style:{width:"100%",height:"73.7%"}},s.createElement("h3",{style:{textAlign:"center",marginTop:"12%"}},this.props.t("not-available-in-community-edition")))}}]),n}(s.Component);d.defaultProps={admin:null,user:null};var p=(0,u.Z)("common")(d);var m=(0,a.$j)((function(e){return{admin:e.admin,user:e.user}}),(function(){return{}}))(p)}}]);
//# sourceMappingURL=574.c9600d3c.chunk.js.map