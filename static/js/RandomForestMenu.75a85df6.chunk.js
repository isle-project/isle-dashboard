"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5738],{50388:function(e,t,n){const a=(0,n(29191).Z)((()=>n.e(1438).then(n.bind(n,17451))));t.Z=a},38118:function(e,t,n){n.r(t);var a=n(38603),s=n(91532),i=n.n(s),l=n(93918),o=n(89956),r=n(92881),u=n.n(r),p=n(89506),c=n.n(p),m=n(22949),d=n.n(m),h=n(63041),f=n.n(h),y=n(87324),g=n.n(y),b=n(83276),x=n.n(b),E=n(3021),C=n(28564),v=n(50388),T=n(63903),Z=n(2443),S=n(80595);function K(e,t){return e?"Classificiation"===t?g()(x()(e.length)):e.length<3?1:g()(e.length/3):1}class P extends a.Component{constructor(e){var t,n,s;super(e),s=()=>{let{y:e,x:t,type:n,nTrees:s,nTry:i,impurityMeasure:l,scoreThreshold:o,maxTreeDepth:r,minItemsCount:u}=this.state;const p=a.createElement(T.Z,{x:t,y:e,type:n,nTrees:s,nTry:i,impurityMeasure:l,scoreThreshold:o,maxTreeDepth:r,minItemsCount:u,quantitative:this.props.quantitative,data:this.props.data,onPredict:(t,a)=>{const s=f()(this.props.data,1);if("Classification"===n){const n=this.props.categorical.slice(),i=t.predict(s).map((e=>String(e)));let l="pred_forest"+a;s[l]=i,c()(n,l)||n.push(l),l="correct_forest"+a;const o=this.props.data[e];s[l]=i.map(((e,t)=>e===String(o[t])?"Yes":"No")),c()(n,l)||n.push(l),this.props.onGenerate(this.props.quantitative,n,s)}}});this.props.logAction(Z.P$,{y:e,x:t,type:n,nTrees:s,nTry:i}),this.props.onCreated(p)},(n="compute")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,this.state={y:e.categorical[0],x:e.quantitative[0],type:"Classification",nTrees:50,nTry:1,impurityMeasure:"gini",scoreThreshold:.01,maxTreeDepth:20,minItemsCount:50}}render(){const{categorical:e,quantitative:t,t:n}=this.props,{x:s,y:i,type:r,nTrees:p,nTry:c}=this.state;return a.createElement(o.Z,{style:{fontSize:"14px",maxWidth:600}},a.createElement(o.Z.Header,{as:"h4"},n("Random Forest"),a.createElement(S.Z,{title:n("Random Forest"),content:"Instead of growing a single decision tree, a random forest as an ensemble method constructs many decision trees at once and returns the average of the predictions (regression case) or the majority vote (classification case) of the individual trees"})),a.createElement(o.Z.Body,null,a.createElement(E.Z,{legend:n("type"),options:["Classification"],defaultValue:r,onChange:n=>{n!==this.state.type&&this.setState({type:n,y:"Classification"===n?e[0]:t[0],nTry:K(this.state.x,n)})}}),a.createElement(E.Z,{legend:n("outcome-y"),options:"Classification"===r?e:t,defaultValue:i,onChange:e=>this.setState({y:e})}),a.createElement(E.Z,{legend:n("predictors-x"),multi:!0,options:u()(t.concat(e)),defaultValue:s||"",onChange:e=>{this.setState({x:e,nTry:K(e,r)})}}),a.createElement(C.Z,{legend:n("number-of-trees"),defaultValue:p,inputStyle:{float:"right"},onChange:e=>this.setState({nTrees:e}),tooltipPlacement:"top",min:1}),a.createElement(C.Z,{legend:n("predictors-to-check"),defaultValue:c,inputStyle:{float:"right"},onChange:e=>this.setState({nTry:e}),tooltipPlacement:"top",min:1,max:d()(s)?s.length:1}),a.createElement(v.Z,{header:n("change-tree-features"),headerStyle:{fontSize:"1rem"}},a.createElement(C.Z,{legend:n("score-threshold-for-split"),min:0,max:1,step:.001,defaultValue:this.state.scoreThreshold,onChange:e=>this.setState({scoreThreshold:e})}),a.createElement(C.Z,{legend:n("maximum-tre-depth"),min:1,max:50,defaultValue:this.state.maxTreeDepth,onChange:e=>this.setState({maxTreeDepth:e})}),a.createElement(C.Z,{legend:n("min-obs-leafs"),min:1,defaultValue:this.state.minItemsCount,onChange:e=>this.setState({minItemsCount:e})})),"Classification"===r?a.createElement(E.Z,{legend:n("impurity-measure"),defaultValue:this.state.impurityMeasure,options:["gini","entropy"],onChange:e=>this.setState({impurityMeasure:e})}):null,a.createElement(l.Z,{disabled:!s||0===s.length,variant:"primary",block:!0,onClick:this.compute},n("calculate"))))}}P.defaultProps={logAction(){}},P.propTypes={categorical:i().array.isRequired,quantitative:i().array.isRequired,data:i().object.isRequired,logAction:i().func,onGenerate:i().func.isRequired,onCreated:i().func.isRequired},t.default=P},80595:function(e,t,n){var a=n(38603),s=n(91532),i=n.n(s),l=n(93918),o=n(58479),r=n(49628),u=n(3569),p=n(54849);const c=e=>{const t=a.createElement(o.Z,{id:"popover-positioned-right"},a.createElement(r.Z,null,e.title),a.createElement(u.Z,null,e.content));return a.createElement(p.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},a.createElement(l.Z,{size:"sm",variant:"outline-secondary",className:"question-button"},a.createElement("div",{className:"fa fa-question"})))};c.propTypes={content:i().oneOfType([i().string,i().node]).isRequired,title:i().string.isRequired},t.Z=c},28564:function(e,t,n){n.d(t,{Z:function(){return q}});var a=n(38603),s=n(91532),i=n.n(s),l=n(38564),o=n.n(l),r=n(52458),u=n(89506),p=n.n(u),c=n(4286),m=n.n(c),d=n(24500),h=n(17218),f=n.n(h),y=n(42415),g=n(88928),b=n.n(g),x=n(24469),E=n.n(x),C=n(94123),v=n(26516),T=n(61202);var Z=function({min:e,max:t,step:n,t:a}){let s=`${a("enter")} ${a(1===n?"integer":"number")} `;return t!==b()&&e!==E()?s+=`${a("between")} ${e} ${a("and")} ${t}`:e!==E()?s+=`${a("larger-or-equal-to")} ${e}`:t!==b()&&(s+=`${a("smaller-or-equal-to")} ${t}`),s};const S=o()("isle:number-input"),K=(0,T.Z)("number-input"),P=e=>{const t=(0,a.useRef)(e.id||K(e)),{bind:s,defaultValue:i,min:l,max:o,step:u,value:c,onBlur:h,onChange:g}=e,{t:b}=(0,r.$)("input"),x=(0,a.useContext)(v.Z),[E,T]=(0,a.useState)(c||(s&&x.state?x.state[s]:i));(0,a.useEffect)((()=>{if(s){const e=n.g.lesson.state[s];e!==E&&(0,y.isPrimitive)(E)&&T(e)}}),[s,E]),(0,a.useEffect)((()=>{T(i)}),[i]),(0,a.useEffect)((()=>{s&&T(n.g.lesson.state[s])}),[s]);const P=(0,a.useCallback)((e=>{S("Handle change of input field...");let t=e.target.validity.valid,a=e.target.value;T(a),c||t&&""!==a&&"-"!==a&&"."!==a&&"-."!==a?(a=parseFloat(a),m()(a)&&(a=""),g(a),s&&n.g.lesson.setState({[s]:a})):s&&n.g.lesson.setState({[s]:a})}),[s,c,g]),q=(0,a.useCallback)((e=>{S("Finished change...");let t=e.target.value;if(p()(t,"/")){S("Encountered a fraction...");const e=t.split("/");""!==e[0]&&""!==e[1]&&(t=parseFloat(e[0])/parseFloat(e[1]))}m()(t)?t="":""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t=parseFloat(t)),t>o?t=o:t<l?t=l:1===u&&""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t-=t%u),g(t),h(t),t!==E&&(T(t),s&&n.g.lesson.setState({[s]:t}))}),[s,l,o,u,E,h,g]),w=f()(e.tooltip)?Z({min:l,max:o,step:u,t:b}):e.tooltip;if(!0===e.inline){const n=a.createElement("span",{className:"input",style:{padding:"5px",...e.style}},e.legend?a.createElement("label",{htmlFor:t.current}," ",e.legend," =  "):null,a.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==c?c:E,step:e.step,min:e.min,max:e.max,style:{width:"80px",paddingLeft:"6px",marginLeft:"3px",...e.inputStyle},onChange:P,onBlur:q,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"}),e.description?a.createElement("span",null,"(",e.description,")"):a.createElement("span",null));return e.disabled?n:a.createElement(C.Z,{id:"number-input-tooltip-inline",placement:"top",show:!e.disabled,tooltip:w},n)}const V=a.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==c?c:E,step:e.step,min:e.min,max:e.max,style:{width:"80px",marginLeft:"24px",...e.inputStyle},onChange:P,onBlur:q,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"});return a.createElement("div",{className:"input",style:{marginBottom:"4px",marginTop:"4px",...e.style}},e.legend?a.createElement("span",null,a.createElement("label",{htmlFor:t.current},(0,d.isPrimitive)(e.legend)?e.legend+":":e.legend),e.description?a.createElement("span",null," ",e.description):null):null,a.createElement(C.Z,{id:"number-input-tooltip",placement:e.tooltipPlacement,tooltip:w,show:!e.disabled},a.createElement("span",{className:"number-input-span"},V)))};P.defaultProps={bind:"",disabled:!1,legend:null,min:E(),max:b(),step:1,defaultValue:0,onBlur(){},onChange(){},onKeyDown(){},onKeyPress(){},onKeyUp(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},P.propTypes={bind:i().string,defaultValue:i().number,disabled:i().bool,inline:i().bool,legend:i().oneOfType([i().string,i().node]),max:i().number,min:i().number,numbersOnly:i().bool,onBlur:i().func,onChange:i().func,onKeyDown:i().func,onKeyPress:i().func,onKeyUp:i().func,step:i().oneOfType([i().number,i().string]),style:i().object,inputStyle:i().object,value:i().number,tooltip:i().string,tooltipPlacement:i().oneOf(["top","right","bottom","left"])};var q=P}}]);
//# sourceMappingURL=RandomForestMenu.75a85df6.chunk.js.map