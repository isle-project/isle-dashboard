/*! For license information please see 5049.d03a8256.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5049],{45396:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var s=r(38603),a=r(30322),o=r(91532),l=r.n(o),n=r(90192),i=r(58651),c=r(32174),d=r.n(c),u=r(87324),m=r.n(u),p=r(92552),h=r.n(p),f=r(45014),v=r.n(f),b=r(12630),E=r(12410),g=r(20328),N=r(30528),y=r(14704),x=r(56233),Z=r(27275),w=r(83276),C=r.n(w),k=r(63022);function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R extends s.Component{constructor(e){super(e),P(this,"handleEnroll",(()=>{const e=this.props.cohorts[this.state.checked]._id;this.props.addUserToCohort(e,this.props.namespace),this.setState({showModal:!1})})),P(this,"handleFormClick",(e=>{const t=e.target.checked,r=e.target.dataset.pos;t&&this.setState({checked:Number(r)})})),P(this,"toggleModal",(()=>{this.setState({showModal:!this.state.showModal})})),this.state={showModal:!1,checked:null}}renderOwners(){const e=[],t=this.props.namespace.owners.filter((e=>e.writeAccess)),r=m()(C()(t.length));for(let l=0;l<t.length;l+=r){const n=[];for(let e=0;e<r;e++)n[e]=(a=t[l+e],o=l+e,a?s.createElement(N.Z,{key:`owner-${o}`,className:"enroll-page-course-teacher"},s.createElement("img",{className:"enroll-page-course-teacher-thumbnail",src:k.ZP+"/thumbnail/"+a.picture,alt:"Lesson Thumbnail"}),s.createElement("span",{className:"enroll-page-course-teacher-info"},s.createElement("span",{className:"enroll-page-courses-teacher-name"},a.name),s.createElement("br",null),s.createElement("span",{className:"enroll-page-course-teacher-email"},s.createElement("a",{href:"mailto:"+a.email},a.email)))):null);e.push(s.createElement(g.Z,{key:`row-${l}`},n))}var a,o;return s.createElement("div",{className:"enroll-page-course-owner-wrapper"},s.createElement(E.Z,{className:"enroll-page-course-owners"},e))}renderAvailableCohorts(){const e=[];for(let t=0;t<this.props.cohorts.length;t++){const r=this.props.cohorts[t],a=new Date(r.startDate).toLocaleDateString(),o=new Date(r.endDate).toLocaleDateString(),l=s.createElement(s.Fragment,null,s.createElement("span",null,r.title),s.createElement("span",{className:"enroll-cohort-date"},a," - ",o));e.push(s.createElement(Z.Z,{id:t,key:t,"data-pos":t,type:"radio",checked:this.state.checked===t,label:l,name:"radioGroup",onChange:this.handleFormClick}))}return e}render(){const{t:e}=this.props;let t="enroll-page-course-item",r=e("common:enroll");return!1===this.props.enrollable&&(t="enroll-item-deactivated",r=e("already-enrolled")),s.createElement(s.Fragment,null,s.createElement("div",{className:t},s.createElement("h1",null,this.props.namespace.title),s.createElement("div",{className:"enroll-page-course-description"},this.props.namespace.description),this.renderOwners(),s.createElement(b.Z,{size:"sm",className:"enroll-button",disabled:!this.props.enrollable,onClick:this.toggleModal},r)),s.createElement(y.Z,{onHide:this.toggleModal,show:this.state.showModal},s.createElement(y.Z.Header,{closeButton:!0},s.createElement("h1",null,this.props.namespace.title)),s.createElement(y.Z.Body,null,s.createElement("div",{className:"enroll-page-cohort-information"},"(",e("select-cohort"),")"),s.createElement("div",{className:"enroll-page-cohorts-list"},s.createElement(x.Z,null,this.renderAvailableCohorts(this.props.cohorts))),s.createElement(b.Z,{onClick:this.handleEnroll,size:"sm",className:"enroll-button-modal"},e("enroll-in-course")))))}}R.propTypes={addUserToCohort:l().func.isRequired,cohorts:l().array.isRequired,enrollable:l().bool.isRequired,namespace:l().object.isRequired,t:l().func.isRequired};var I=R;const F=(0,n.WidthProvider)(n.Responsive);class T extends s.Component{constructor(e){super(e),this.state={}}componentDidMount(){this.props.fetchCohorts(this.props.user)}createLayout(e){const t=3.72;let r=e.map(((e,r)=>({lg:{i:`cell-${r}`,x:6*r%24,y:m()(r/4)*t,w:6,h:t},md:{i:`cell-${r}`,x:6*r%18,y:m()(r/3)*t,w:6,h:t},sm:{i:`cell-${r}`,x:6*r%12,y:m()(r/2)*t,w:6,h:t},xs:{i:`cell-${r}`,x:6*r%6,y:m()(r/1)*t,w:6,h:t}})));return r={lg:d()(r,"lg"),md:d()(r,"md"),sm:d()(r,"sm"),xs:d()(r,"xs")},r}checkEnrollable(e){const t=this.props.user;for(let r=0;r<t.enrolledNamespaces.length;r++)if(t.enrolledNamespaces[r].title===e)return!1;return!0}renderCourses(){let e=this.props.cohorts;if(!e)return null;e=e.filter((e=>e.namespace));const t=h()(e,(function(e){return e.namespace.title})),r=v()(t),a=new Array(r.length);for(let l=0;l<r.length;l++){const e=r[l];a[l]=s.createElement("div",{className:"enroll-page-course",key:`cell-${l}`},s.createElement(I,{addUserToCohort:this.props.addUserToCohort,enrollable:this.checkEnrollable(e),namespace:t[e][0].namespace,user:this.props.user,cohorts:t[e],t:this.props.t}))}const o=this.createLayout(r);return s.createElement(F,{margin:[20,20],containerPadding:[10,10],layouts:o,breakpoints:{lg:1800,md:1400,sm:900,xs:500},cols:{lg:24,md:18,sm:12,xs:6},isResizable:!1,isDraggable:!1,rowHeight:60},a)}render(){return s.createElement("div",{className:"enroll-page"},s.createElement("img",{className:"enroll-page-background",src:"img/pexels_background.jpeg",alt:""}),s.createElement("div",{className:"enroll-page-content"},this.renderCourses()))}}T.propTypes={addUserToCohort:l().func.isRequired,cohorts:l().array.isRequired,fetchCohorts:l().func.isRequired,user:l().object.isRequired};var M=(0,i.Z)(["enroll_page","common"])(T),q=r(39285);var D=(0,a.$j)((function(e){return{cohorts:e.cohorts,user:e.user}}),(function(e){return{addUserToCohort:(0,q.Yc)(e),fetchCohorts:(0,q.R9)(e)}}))(M)},49183:function(e,t,r){r.d(t,{Z:function(){return a}});var s=r(38603);function a(e){var t,r,a=(t=e,(r=(0,s.useRef)(t)).current=t,r);(0,s.useEffect)((function(){return function(){return a.current()}}),[])}},83276:function(e,t,r){var s=r(1787);e.exports=s},1787:function(e){var t=Math.sqrt;e.exports=t},30528:function(e,t,r){var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=r(38603),i=r(54447),c=["bsPrefix","className","as"],d=["xl","lg","md","sm","xs"],u=n.forwardRef((function(e,t){var r=e.bsPrefix,o=e.className,u=e.as,m=void 0===u?"div":u,p=(0,a.Z)(e,c),h=(0,i.vE)(r,"col"),f=[],v=[];return d.forEach((function(e){var t,r,s,a=p[e];if(delete p[e],"object"===typeof a&&null!=a){var o=a.span;t=void 0===o||o,r=a.offset,s=a.order}else t=a;var l="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+h+l:""+h+l+"-"+t),null!=s&&v.push("order"+l+"-"+s),null!=r&&v.push("offset"+l+"-"+r)})),f.length||f.push(h),n.createElement(m,(0,s.Z)({},p,{ref:t,className:l().apply(void 0,[o].concat(f,v))}))}));u.displayName="Col",t.Z=u},12410:function(e,t,r){var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=r(38603),i=r(54447),c=["bsPrefix","fluid","as","className"],d=n.forwardRef((function(e,t){var r=e.bsPrefix,o=e.fluid,d=e.as,u=void 0===d?"div":d,m=e.className,p=(0,a.Z)(e,c),h=(0,i.vE)(r,"container"),f="string"===typeof o?"-"+o:"-fluid";return n.createElement(u,(0,s.Z)({ref:t},p,{className:l()(m,o?""+h+f:h)}))}));d.displayName="Container",d.defaultProps={fluid:!1},t.Z=d},43273:function(e,t,r){var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=r(38603),i=r(91532),c=r.n(i),d=["as","className","type","tooltip"],u={type:c().string,tooltip:c().bool,as:c().elementType},m=n.forwardRef((function(e,t){var r=e.as,o=void 0===r?"div":r,i=e.className,c=e.type,u=void 0===c?"valid":c,m=e.tooltip,p=void 0!==m&&m,h=(0,a.Z)(e,d);return n.createElement(o,(0,s.Z)({},h,{ref:t,className:l()(i,u+"-"+(p?"tooltip":"feedback"))}))}));m.displayName="Feedback",m.propTypes=u,t.Z=m},27275:function(e,t,r){r.d(t,{Z:function(){return g}});var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=(r(61009),r(38603)),i=r(43273),c=r(53913),d=r(54447),u=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],m=n.forwardRef((function(e,t){var r=e.id,o=e.bsPrefix,i=e.bsCustomPrefix,m=e.className,p=e.type,h=void 0===p?"checkbox":p,f=e.isValid,v=void 0!==f&&f,b=e.isInvalid,E=void 0!==b&&b,g=e.isStatic,N=e.as,y=void 0===N?"input":N,x=(0,a.Z)(e,u),Z=(0,n.useContext)(c.Z),w=Z.controlId,C=Z.custom?[i,"custom-control-input"]:[o,"form-check-input"],k=C[0],P=C[1];return o=(0,d.vE)(k,P),n.createElement(y,(0,s.Z)({},x,{ref:t,type:h,id:r||w,className:l()(m,o,v&&"is-valid",E&&"is-invalid",g&&"position-static")}))}));m.displayName="FormCheckInput";var p=m,h=["bsPrefix","bsCustomPrefix","className","htmlFor"],f=n.forwardRef((function(e,t){var r=e.bsPrefix,o=e.bsCustomPrefix,i=e.className,u=e.htmlFor,m=(0,a.Z)(e,h),p=(0,n.useContext)(c.Z),f=p.controlId,v=p.custom?[o,"custom-control-label"]:[r,"form-check-label"],b=v[0],E=v[1];return r=(0,d.vE)(b,E),n.createElement("label",(0,s.Z)({},m,{ref:t,htmlFor:u||f,className:l()(i,r)}))}));f.displayName="FormCheckLabel";var v=f,b=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],E=n.forwardRef((function(e,t){var r=e.id,o=e.bsPrefix,u=e.bsCustomPrefix,m=e.inline,h=void 0!==m&&m,f=e.disabled,E=void 0!==f&&f,g=e.isValid,N=void 0!==g&&g,y=e.isInvalid,x=void 0!==y&&y,Z=e.feedbackTooltip,w=void 0!==Z&&Z,C=e.feedback,k=e.className,P=e.style,R=e.title,I=void 0===R?"":R,F=e.type,T=void 0===F?"checkbox":F,M=e.label,q=e.children,D=e.custom,S=e.as,$=void 0===S?"input":S,j=(0,a.Z)(e,b),L="switch"===T||D,U=L?[u,"custom-control"]:[o,"form-check"],G=U[0],V=U[1];o=(0,d.vE)(G,V);var _=(0,n.useContext)(c.Z).controlId,A=(0,n.useMemo)((function(){return{controlId:r||_,custom:L}}),[_,L,r]),z=L||null!=M&&!1!==M&&!q,H=n.createElement(p,(0,s.Z)({},j,{type:"switch"===T?"checkbox":T,ref:t,isValid:N,isInvalid:x,isStatic:!z,disabled:E,as:$}));return n.createElement(c.Z.Provider,{value:A},n.createElement("div",{style:P,className:l()(k,o,L&&"custom-"+T,h&&o+"-inline")},q||n.createElement(n.Fragment,null,H,z&&n.createElement(v,{title:I},M),(N||x)&&n.createElement(i.Z,{type:N?"valid":"invalid",tooltip:w},C))))}));E.displayName="FormCheck",E.Input=p,E.Label=v;var g=E},53913:function(e,t,r){var s=r(38603).createContext({controlId:void 0});t.Z=s},56233:function(e,t,r){var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=r(38603),i=r(53913),c=r(54447),d=["bsPrefix","className","children","controlId","as"],u=n.forwardRef((function(e,t){var r=e.bsPrefix,o=e.className,u=e.children,m=e.controlId,p=e.as,h=void 0===p?"div":p,f=(0,a.Z)(e,d);r=(0,c.vE)(r,"form-group");var v=(0,n.useMemo)((function(){return{controlId:m}}),[m]);return n.createElement(i.Z.Provider,{value:v},n.createElement(h,(0,s.Z)({},f,{ref:t,className:l()(o,r)}),u))}));u.displayName="FormGroup",t.Z=u},20328:function(e,t,r){var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=r(38603),i=r(54447),c=["bsPrefix","className","noGutters","as"],d=["xl","lg","md","sm","xs"],u=n.forwardRef((function(e,t){var r=e.bsPrefix,o=e.className,u=e.noGutters,m=e.as,p=void 0===m?"div":m,h=(0,a.Z)(e,c),f=(0,i.vE)(r,"row"),v=f+"-cols",b=[];return d.forEach((function(e){var t,r=h[e];delete h[e];var s="xs"!==e?"-"+e:"";null!=(t=null!=r&&"object"===typeof r?r.cols:r)&&b.push(""+v+s+"-"+t)})),n.createElement(p,(0,s.Z)({ref:t},h,{className:l().apply(void 0,[o,f,u&&"no-gutters"].concat(b))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},t.Z=u},51906:function(e,t,r){r.d(t,{Z:function(){return u}});var s=r(87462),a=r(63366),o=r(68761),l=r.n(o),n=r(62489),i=r(38603),c=r(54447),d=["className","bsPrefix","as"];function u(e,t){var r,o=void 0===t?{}:t,u=o.displayName,m=void 0===u?(r=e)[0].toUpperCase()+(0,n.Z)(r).slice(1):u,p=o.Component,h=o.defaultProps,f=i.forwardRef((function(t,r){var o=t.className,n=t.bsPrefix,u=t.as,m=void 0===u?p||"div":u,h=(0,a.Z)(t,d),f=(0,c.vE)(n,e);return i.createElement(m,(0,s.Z)({ref:r,className:l()(o,f)},h))}));return f.defaultProps=h,f.displayName=m,f}}}]);
//# sourceMappingURL=5049.d03a8256.chunk.js.map