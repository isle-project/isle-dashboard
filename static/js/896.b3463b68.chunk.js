/*! For license information please see 896.b3463b68.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[896],{98032:function(e,t,a){var n=a(6233),r=a.n(n),o=a(67583),s=a.n(o),l=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;t.Z=function(e){for(var t={},a={},n=s()(e[0]).filter((function(e){return""!==e})),o=0;o<n.length;o++){var i=r()(n[o]);a[n[o]]=i,t[i]=new Array(e.length)}for(var c=0;c<e.length;c++)for(var m=0;m<n.length;m++){var d=n[m],u=e[c][d];l.test(u)&&(u=Number(u)),t[a[d]][c]=u}return t}},1625:function(e,t,a){a.r(t),a.d(t,{default:function(){return me}});var n=a(42982),r=a(87757),o=a.n(r),s=a(15861),l=a(15671),i=a(43144),c=a(97326),m=a(60136),d=a(29388),u=a(4942),p=a(41488),h=a(10077),f=a.n(h),Z=a(25472),v=a(51527),g=a.n(v),E=a(75018),w=a(70048),b=a(66734),y=a(47701),C=a(92637),x=a(7131),k=a.n(x),F=a(14444),S=a.n(F),N=a(66104),M=a.n(N),I=a(47355),A=a(42263),P=a(63834),U=a(98032),H=a(52428),T=a(34570),L=a(96027),V=a(86037),D=a(25991),z=a(37122),W=a(76594),_=a(75033),R=a(1413),j=a(85840),B=a(89308),O=a(72945),G=a(23596),$=a(54012),q=a(73230),J=a(52787),Y=a(61562),K=a.n(Y),Q=function(e){return p.createElement(y.Z,{id:"tooltip"},e)},X=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,c.Z)(n),"handleSubmit",(function(e){var t;e.preventDefault(),n.getEmailValidationState()&&n.getNameValidationState()&&n.getPasswordValidationState()&&n.props.onConfirm({name:(t=n.state).name,email:t.email,password:t.password,customFields:t.customFields})})),(0,u.Z)((0,c.Z)(n),"handleInputChange",(function(e){var t=e.target,a=t.value,r=t.name;n.setState((0,u.Z)({},r,a))})),(0,u.Z)((0,c.Z)(n),"getEmailValidationState",(function(){return K()(n.state.email)})),(0,u.Z)((0,c.Z)(n),"getNameValidationState",(function(){return n.state.name.length>3})),(0,u.Z)((0,c.Z)(n),"getPasswordValidationState",(function(){var e=n.state,t=e.password,a=e.passwordRepeat;return!(t.length<6||0===a.length)&&t===a})),n.state={name:"",email:"",password:"",passwordRepeat:"",customFields:{}},n}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){this.props.getCustomFields()}},{key:"renderEmail",value:function(){var e=this.props.t;return p.createElement(b.Z,{placement:"right",overlay:Q(e("email-tooltip"))},p.createElement(q.Z,{controlId:"form-email"},p.createElement(G.Z,null,p.createElement(O.Z,{sm:3},p.createElement($.Z,null,e("common:email"))),p.createElement(O.Z,{sm:9},p.createElement(E.Z,{name:"email",type:"email",autoComplete:"username email",placeholder:e("common:enter-email"),onChange:this.handleInputChange,isInvalid:this.state.email&&!this.getEmailValidationState()}),p.createElement(J.Z.Control.Feedback,{type:"invalid"},e("invalid-email"))))))}},{key:"renderName",value:function(){var e=this.props.t;return p.createElement(b.Z,{placement:"right",overlay:Q(e("name-tooltip"))},p.createElement(q.Z,{controlId:"form-name"},p.createElement(G.Z,null,p.createElement(O.Z,{sm:3},p.createElement($.Z,null,e("common:name"))),p.createElement(O.Z,{sm:9},p.createElement(E.Z,{name:"name",type:"text",placeholder:e("common:enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),p.createElement(J.Z.Control.Feedback,{type:"invalid"},e("invalid-name"))))))}},{key:"renderPasswordFields",value:function(){var e=this.props.t,t=this.getPasswordValidationState(),a=this.state.password||this.state.passwordRepeat;return p.createElement(p.Fragment,null,p.createElement(b.Z,{placement:"right",overlay:Q(e("password-tooltip"))},p.createElement(q.Z,{controlId:"form-password"},p.createElement(G.Z,null,p.createElement(O.Z,{sm:3},p.createElement($.Z,null,e("common:password"))),p.createElement(O.Z,{sm:9},p.createElement(E.Z,{name:"password",type:"password",autoComplete:"new-password",placeholder:e("choose-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!t}),p.createElement(J.Z.Control.Feedback,{type:"invalid"},e("invalid-password")))))),p.createElement(q.Z,{controlId:"form-repeat-password"},p.createElement(G.Z,null,p.createElement(O.Z,{sm:3},p.createElement($.Z,null,e("common:repeat"))),p.createElement(O.Z,{sm:{span:9}},p.createElement(E.Z,{name:"passwordRepeat",type:"password",autoComplete:"new-password",placeholder:e("confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!t}),p.createElement(J.Z.Control.Feedback,{type:"invalid"},e("invalid-password-match"))))))}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state.customFields,n=this.props.user.availableCustomFields||[];return p.createElement(j.Z,{show:!0,onHide:this.props.onHide},p.createElement(j.Z.Header,{closeButton:!0},p.createElement(j.Z.Title,{as:"h3"},t("admin:create-new-user"))),p.createElement(j.Z.Body,null,p.createElement(J.Z,null,this.renderEmail(),this.renderName(),this.renderPasswordFields(),n.filter((function(e){return e.editableOnSignup})).map((function(t,n){var r,o=a[t.name];return r="checkbox"===t.type?p.createElement(q.Z,{controlId:"form-".concat(t.name),as:G.Z},p.createElement(O.Z,{sm:3}),p.createElement(O.Z,{sm:3},p.createElement(J.Z.Check,{type:"checkbox",label:t.name,defaultChecked:o,onChange:function(a){var n=(0,R.Z)({},e.state.customFields);n[t.name]=a.target.checked,e.setState({customFields:n,changed:!0})}}))):"text"===t.type?p.createElement(q.Z,{controlId:"form-".concat(t.name),as:G.Z},p.createElement(O.Z,{sm:3},p.createElement($.Z,null,t.name)),p.createElement(O.Z,{sm:9},p.createElement(E.Z,{name:t.name,type:"text",value:o,placeholder:"Enter ".concat(t.name,"..."),onChange:function(a){var n=(0,R.Z)({},e.state.customFields);n[t.name]=a.target.value,e.setState({customFields:n,changed:!0})},autoComplete:"none"}))):p.createElement(q.Z,{controlId:"form-".concat(t.name),as:G.Z},p.createElement(O.Z,{sm:3},p.createElement($.Z,null,t.name)),p.createElement(O.Z,{sm:9},p.createElement(B.ZP,{defaultValue:o?{label:o,value:o}:null,options:t.options.map((function(e){return{value:e,label:e}})),onChange:function(a){var n=(0,R.Z)({},e.state.customFields);n[t.name]=a.value,e.setState({customFields:n,changed:!0})}}))),p.createElement(b.Z,{key:n,placement:"top",overlay:Q(t.description)},r)})),p.createElement(q.Z,null,p.createElement(w.Z,{variant:"primary",className:"centered",type:"submit",onClick:this.handleSubmit},t("common:confirm"))))))}}]),a}(p.Component);X.defaultProps={user:{}};var ee=(0,Z.Z)(["signup","admin","common"])(X),te=a(29530),ae=a(90485),ne=a.n(ae),re=function(e){return p.createElement(y.Z,{id:"tooltip"},e)},oe=f()("isle-dashboard"),se=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,c.Z)(n),"handleUpdate",(function(){var e=n.state,t=e.name,a=e.password,r=e.organization,o=e.writeAccess,s=e.verifiedEmail,l=e.administrator,i=e.twoFactorAuth,c={name:t,organization:r,id:n.props.user._id,writeAccess:o,verifiedEmail:s,administrator:l,twoFactorAuth:i},m=!1;a&&(c.password=a,m=!0),ne()(n.state.customFields)||(c.customFields=n.state.customFields,m=!0);var d=n.props.user;t===d.name&&r===d.organization&&o===d.writeAccess&&s===d.verifiedEmail&&l===d.administrator&&i===d.twoFactorAuth||(m=!0),m&&(oe("Update user..."),n.props.updateUser(c),n.props.onHide())})),(0,u.Z)((0,c.Z)(n),"handleInputChange",(function(e){var t=e.target,a=t.value,r=t.name;n.setState((0,u.Z)({},r,a))})),(0,u.Z)((0,c.Z)(n),"handleCheckboxChangeFactory",(function(e){return function(t){n.setState((0,u.Z)({},e,t.target.checked))}})),(0,u.Z)((0,c.Z)(n),"getNameValidationState",(function(){var e=n.state.name;return e&&e.length>3})),(0,u.Z)((0,c.Z)(n),"getPasswordValidationState",(function(){return n.state.password.length>=6})),n.state={email:e.user.email,name:e.user.name,organization:e.user.organization,password:"",writeAccess:e.user.writeAccess,verifiedEmail:e.user.verifiedEmail,administrator:e.user.administrator,customFields:e.user.customFields||{},twoFactorAuth:e.user.twoFactorAuth},n}return(0,i.Z)(a,[{key:"render",value:function(){var e=this,t=this.getPasswordValidationState(),a=this.getNameValidationState(),n=this.state.password||this.state.passwordRepeat,r=this.props.t,o=this.props.user.customFields||{};return p.createElement(p.Fragment,null,p.createElement(j.Z,{dialogClassName:"user-edit-modal",show:this.props.show,onHide:this.props.onHide},p.createElement(j.Z.Header,null,p.createElement(j.Z.Title,{as:"h3",style:{width:"100%"}},r("common:profile"),p.createElement(b.Z,{placement:"right",overlay:re(r("close-edit-modal"))},p.createElement(w.Z,{onClick:this.props.onHide,style:{float:"right"},variant:"outline-secondary","aria-label":r("close-edit-modal"),className:"modal-close"},p.createElement("span",{"aria-hidden":"true"},"x"))))),p.createElement(J.Z,{noValidate:!0,style:{padding:"20px"}},p.createElement(G.Z,null,p.createElement(O.Z,{md:4},p.createElement("img",{src:"".concat(P.ZP,"/avatar/").concat(this.props.user.picture),alt:"Profile Pic",width:"160px"})),p.createElement(O.Z,{md:4},p.createElement(q.Z,{controlId:"form-email"},p.createElement($.Z,null,r("common:email")),p.createElement(E.Z,{name:"email",type:"email",value:this.state.email,disabled:!0,autoComplete:"none"})),p.createElement(b.Z,{placement:"right",overlay:re(r("update-name"))},p.createElement(q.Z,{controlId:"form-name"},p.createElement($.Z,null,r("common:name")),p.createElement(E.Z,{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,isInvalid:!a,autoComplete:"none"}),p.createElement(J.Z.Control.Feedback,{type:"invalid"},r("invalid-name")))),p.createElement(b.Z,{placement:"right",overlay:re(r("update-organization"))},p.createElement(q.Z,{controlId:"form-organization"},p.createElement($.Z,null,r("common:organization")),p.createElement(E.Z,{name:"organization",type:"text",value:this.state.organization,onChange:this.handleInputChange,autoComplete:"none"})))),p.createElement(O.Z,{md:4},p.createElement(b.Z,{placement:"right",overlay:re(r("admin:enter-new-password"))},p.createElement(q.Z,{controlId:"form-password"},p.createElement($.Z,null,r("common:password")),p.createElement(E.Z,{name:"password",type:"password","data-lpignore":"true",value:this.state.password,autoComplete:"none",placeholder:r("common:choose-new-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:n&&!t}),p.createElement(J.Z.Control.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))),p.createElement(q.Z,null,p.createElement(J.Z.Check,{type:"checkbox",label:r("admin:instructor"),defaultChecked:this.props.user.writeAccess,onChange:this.handleCheckboxChangeFactory("writeAccess")}),p.createElement(J.Z.Check,{type:"checkbox",label:r("admin:admin"),defaultChecked:this.props.user.administrator,onChange:this.handleCheckboxChangeFactory("administrator")}),p.createElement(J.Z.Check,{type:"checkbox",label:r("admin:email-verified"),defaultChecked:this.props.user.verifiedEmail,onChange:this.handleCheckboxChangeFactory("verifiedEmail")}),p.createElement(J.Z.Check,{type:"checkbox",label:r("common:two-factor-authentication"),defaultChecked:this.props.user.twoFactorAuth,onChange:this.handleCheckboxChangeFactory("twoFactorAuth")})))),p.createElement(G.Z,null,this.props.availableCustomFields.map((function(t,a){var n,r=o[t.name];return n="checkbox"===t.type?p.createElement(J.Z.Check,{type:"checkbox",label:t.name,defaultChecked:r,onChange:function(a){var n=(0,R.Z)({},e.state.customFields);n[t.name]=a.target.checked,e.setState({customFields:n})}}):"text"===t.type?p.createElement(q.Z,{controlId:"form-".concat(t.name)},p.createElement($.Z,null,t.name),p.createElement(E.Z,{name:t.name,type:"text",value:r,placeholder:"Enter ".concat(t.name,"..."),onChange:function(a){var n=(0,R.Z)({},e.state.customFields);n[t.name]=a.target.value,e.setState({customFields:n})},autoComplete:"none"})):p.createElement(q.Z,{controlId:"form-".concat(t.name)},p.createElement($.Z,null,t.name),p.createElement(B.ZP,{defaultValue:r?{label:r,value:r}:null,options:t.options.map((function(e){return{value:e,label:e}})),onChange:function(a){var n=(0,R.Z)({},e.state.customFields);n[t.name]=a.value,e.setState({customFields:n})}})),p.createElement(O.Z,{md:4,key:a},p.createElement(b.Z,{placement:"top",overlay:re(t.description)},n))})))),p.createElement(te.Z,null,p.createElement(w.Z,{block:!0,disabled:!1,onClick:this.handleUpdate},r("common:update")))))}}]),a}(p.Component);se.defaultProps={};var le=se,ie=f()("isle-dashboard:admin"),ce=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var r;return(0,l.Z)(this,a),r=t.call(this,e),(0,u.Z)((0,c.Z)(r),"toggleImpersonateModal",(function(){r.setState({showImpersonateModal:!r.state.showImpersonateModal})})),(0,u.Z)((0,c.Z)(r),"toggleDeleteModal",(function(){r.setState({showDeleteModal:!r.state.showDeleteModal})})),(0,u.Z)((0,c.Z)(r),"toggleEditModal",(function(){r.setState({showEditModal:!r.state.showEditModal})})),(0,u.Z)((0,c.Z)(r),"impersonateUser",(function(){r.setState({showImpersonateModal:!1},(function(){r.props.impersonateUser({id:r.state.selectedUser._id,password:r.state.password})}))})),(0,u.Z)((0,c.Z)(r),"deleteSelectedUser",(function(){ie("Delete user ".concat(r.state.selectedUser.name," with id ").concat(r.state.selectedUser._id)),r.setState({showDeleteModal:!1},(function(){r.props.deleteUser({id:r.state.selectedUser._id})}))})),(0,u.Z)((0,c.Z)(r),"askToImpersonateSelectedUserFactory",(function(e){return function(){r.setState({showImpersonateModal:!r.state.showImpersonateModal,selectedUser:e})}})),(0,u.Z)((0,c.Z)(r),"askToDeleteSelectedUserFactory",(function(e){return function(){r.setState({showDeleteModal:!r.state.showDeleteModal,selectedUser:e})}})),(0,u.Z)((0,c.Z)(r),"askToEditUserFactory",(function(e){return function(){r.setState({showEditModal:!r.state.showEditModal,selectedUser:e})}})),(0,u.Z)((0,c.Z)(r),"sanitizeFactory",(function(e){return(0,s.Z)(o().mark((function t(){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.props.sanitizeRequest({id:e._id});case 2:if(!(a=t.sent)||!a.data){t.next=5;break}return t.abrupt("return",r.props.addNotification({title:r.props.t("sanitize-user"),message:a.data.message,level:"success",position:"tl"}));case 5:case"end":return t.stop()}}),t)})))})),(0,u.Z)((0,c.Z)(r),"handlePassword",(function(e){r.setState({password:e.target.value})})),(0,u.Z)((0,c.Z)(r),"createColumns",(function(){for(var e=r.props.t,t=r.props.admin.users,a=0,o=0,s=0,l=S(),i=0,c=0;c<t.length;c++)t[c].chatMessages>a&&(a=t[c].chatMessages),t[c].nActions>o&&(o=t[c].nActions),t[c].spentTime>s&&(s=t[c].spentTime),t[c].createdAt>i&&(i=t[c].createdAt),t[c].updatedAt>i&&(i=t[c].updatedAt),t[c].createdAt<l&&(l=t[c].createdAt),t[c].updatedAt<l&&(l=t[c].updatedAt);return l=g()(l),i=g()(i),[{Header:"Pic",accessor:"picture",Cell:function(e){return p.createElement("img",{className:"table-pic",src:"".concat(P.ZP,"/thumbnail/").concat(e.original.picture),alt:"Profile Pic"})},maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1,style:{color:"darkslategrey"}},(0,z.Z)({Header:e("common:name"),accessor:"name",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,z.Z)({Header:e("common:email"),accessor:"email",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:W.Z}),(0,z.Z)({Header:e("common:organization"),accessor:"organization",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:200,filterMethod:W.Z}),(0,L.Z)({Header:e("instructor"),accessor:"writeAccess",trueLabel:e("instructor"),falseLabel:e("no-instructor"),maxWidth:100}),(0,L.Z)({Header:e("admin"),accessor:"administrator",trueLabel:e("admin"),falseLabel:e("no-admin"),maxWidth:100}),(0,L.Z)({Header:e("email-verified"),accessor:"verifiedEmail",trueLabel:e("verified"),falseLabel:e("not-verified"),maxWidth:90}),(0,L.Z)({Header:e("common:two-factor-authentication"),accessor:"twoFactorAuth",trueLabel:e("common:enabled"),falseLabel:e("common:not-enabled"),maxWidth:100}),(0,V.Z)({Header:e("common:chat-messages"),accessor:"chatMessages",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:120,maxValue:a}),(0,V.Z)({Header:e("common:time-spent"),accessor:"spentTime",Cell:function(e){return(0,_.Z)(e.value,{minutes:!0,hours:!0})},style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:s,formatLabel:function(e){return"".concat(k()(e/36e5),"h")}}),(0,V.Z)({Header:e("common:number-of-actions"),accessor:"nActions",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:o}),(0,D.Z)({Header:e("last-updated"),accessor:"updatedAt",Cell:function(e){return new Date(e.value).toLocaleString()},startDate:l,endDate:i,t:e}),(0,D.Z)({Header:e("created-at"),accessor:"createdAt",Cell:function(e){return new Date(e.value).toLocaleString()},startDate:l,endDate:i,t:e}),{Header:e("common:data"),accessor:"lessonData",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:function(e){if(e.value){var t=M()(e.value,(function(e){return r.props.admin.lessonsMap?r.props.admin.lessonsMap[e]:e})),a=p.createElement(C.Z,{id:"popover-data",style:{maxWidth:400,maxHeight:"80vh",overflowY:"auto"}},p.createElement(C.Z.Title,{as:"h3"},"Data"),p.createElement(C.Z.Content,{style:{backgroundColor:"lightblue"}},p.createElement("pre",null,JSON.stringify(t,null,2))));return p.createElement(b.Z,{trigger:"click",placement:"left",overlay:a},p.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:60,resizable:!1,filterable:!1,sortable:!1}].concat((0,n.Z)((r.props.user.availableCustomFields||[]).map((function(t){return"text"===t.type?(0,z.Z)({Header:t.name,accessor:"customFields."+t.name,maxWidth:100,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:W.Z}):"checkbox"===t.type?(0,L.Z)({Header:t.name,accessor:"customFields."+t.name,trueLabel:e("yes"),falseLabel:e("no"),maxWidth:100}):(0,T.Z)({Header:t.name,accessor:"customFields."+t.name,labels:t.options})}))),[{Header:e("common:actions"),Cell:function(t){return t.row.email===r.props.user.email?null:p.createElement("div",null,p.createElement(b.Z,{placement:"bottom",overlay:p.createElement(y.Z,{id:"edit_user_data"},e("edit-user-data"))},p.createElement(w.Z,{variant:"outline-secondary","aria-label":e("edit-user-data"),onClick:r.askToEditUserFactory(t.row._original)},p.createElement("div",{className:"fa fa-edit"}))),p.createElement(b.Z,{placement:"bottom",overlay:p.createElement(y.Z,{id:"sanitize_user"},e("sanitize-user"))},p.createElement(w.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:r.sanitizeFactory(t.row._original),"aria-label":e("sanitize-user")},p.createElement("div",{className:"fas fa-band-aid"}))),p.createElement(b.Z,{placement:"bottom",overlay:p.createElement(y.Z,{id:"impersonate_user"},e("impersonate-user"))},p.createElement(w.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:r.askToImpersonateSelectedUserFactory(t.row._original),"aria-label":e("impersonate-user")},p.createElement("div",{className:"fa fa-theater-masks"}))),p.createElement(b.Z,{placement:"bottom",overlay:p.createElement(y.Z,{id:"delete_user"},e("delete-user"))},p.createElement(w.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:r.askToDeleteSelectedUserFactory(t.row._original),"aria-label":e("delete-user")},p.createElement("div",{className:"fa fa-trash-alt"}))))},resizable:!1,filterable:!1,sortable:!1}])})),(0,u.Z)((0,c.Z)(r),"toggleExplorer",(function(){r.setState({showExplorer:!r.state.showExplorer})})),(0,u.Z)((0,c.Z)(r),"toggleUserCreation",(function(){r.setState({showUserCreation:!r.state.showUserCreation})})),r.state={selectedUser:null,showDeleteModal:!1,showImpersonateModal:!1,showUserCreation:!1,password:"",showEditModal:!1,columns:r.createColumns()},r}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){this.props.getCustomFields(),this.props.getUsers()}},{key:"componentDidUpdate",value:function(e){e.admin.users===this.props.admin.users&&e.user.availableCustomFields===this.props.user.availableCustomFields||this.setState({columns:this.createColumns()})}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.state.showExplorer){for(var a=this.props.admin.users,n=[],r=0;r<a.length;r++){var l=a[r],i={};i.name=l.name,i.email=l.email,i.nActions=l.nActions,i.ownedNamespaces=l.ownedNamespaces.length,i.enrolledNamespaces=l.enrolledNamespaces.length,i.chatMessages=l.chatMessages.length,i.badges=l.badges.length,i.score=l.score,i.spentTime=l.spentTime,i.administrator=l.administrator,i.verifiedEmail=l.verifiedEmail,i.instructor=l.writeAccess,i.createdAt=l.createdAt,i.updatedAt=l.updatedAt,n.push(i)}return n=(0,U.Z)(n),p.createElement(H.Z,{title:t("explorer-users-title"),data:n,categorical:["administrator","instructor","verifiedEmail","createdAt","updatedAt"],quantitative:["nActions","ownedNamespaces","enrolledNamespaces","chatMessages","badges","score","spentTime"],close:this.toggleExplorer})}return p.createElement(p.Fragment,null,p.createElement(I.Z,{data:this.props.admin.users,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:t}),p.createElement(b.Z,{placement:"left",overlay:p.createElement(y.Z,null,t("create-new-user"))},p.createElement(w.Z,{"aria-label":t("create-new-user"),style:{marginRight:-9,float:"right"},onClick:this.toggleUserCreation},p.createElement("i",{className:"fas fa-plus"}))),this.state.showImpersonateModal?p.createElement(A.Z,{title:t("impersonate-user"),message:p.createElement("span",null,t("enter-password"),p.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),".",t("automatic-logout"),p.createElement(E.Z,{name:"password",type:"password",placeholder:t("password-placeholder"),onChange:this.handlePassword,maxLength:30,minLength:6,style:{marginTop:8}})),close:this.toggleImpersonateModal,show:this.state.showImpersonateModal,onConfirm:this.impersonateUser}):null,this.state.showDeleteModal?p.createElement(A.Z,{title:t("delete-user"),message:p.createElement("span",null,t("delete-user-confirm"),p.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),"?"),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedUser}):null,this.state.showEditModal?p.createElement(le,{user:this.state.selectedUser,availableCustomFields:this.props.user.availableCustomFields,t:this.props.t,show:this.state.showEditModal,updateUser:this.props.updateUser,onHide:this.toggleEditModal}):null,this.state.showUserCreation?p.createElement(ee,{user:this.props.user,getCustomFields:this.props.getCustomFields,onHide:this.toggleUserCreation,onConfirm:function(){var a=(0,s.Z)(o().mark((function a(n){return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.createUser(n);case 3:e.props.addNotification({message:t("user-successfully-created"),level:"success"}),e.toggleUserCreation(),e.props.getUsers(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.props.addNotification({message:a.t0.response.data,level:"error"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}):null)}}]),a}(p.Component),me=(0,Z.Z)(["admin","common"])(ce)},86037:function(e,t,a){var n=a(41488),r=a(4846),o=a.n(r),s=a(50288),l=a.n(s),i=a(12699),c=a.n(i),m=a(72488),d=a.n(m),u=(a(87815),function(e,t){var a=t[e.pivotId||e.id];return a>=e.value.min&&a<=e.value.max}),p=function(e){return d()(e,-2)};t.Z=function(e){var t=e.Header,a=e.accessor,r=e.Cell,s=e.minValue,i=void 0===s?0:s,m=e.maxValue,h=void 0===m?1:m,f=e.maxWidth,Z=void 0===f?150:f,v=e.filterMethod,g=e.formatLabel,E="header-".concat(c()(l()(t," ","-")));return{Header:n.createElement("span",{id:E},t),accessor:a,Cell:r||function(e){return e.value?"".concat(d()(e.value,-3)):"NA"},filterMethod:v||u,Filter:function(e){var t=e.filter,a=e.onChange;i===h&&(h=i+=1);var r={max:h,min:i};return n.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},n.createElement(o(),{ariaLabelledby:E,ariaControls:"dashboard-table",allowSameValues:!0,maxValue:h,minValue:i,step:.1,value:t?t.value:r,onChange:function(e){a(e)},formatLabel:g||p}))},maxWidth:Z}}},75033:function(e,t,a){var n=a(42339),r=a.n(n);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hours:!0,minutes:!0,seconds:!0};e/=1e3;var a=r()(e/3600);e%=3600;var n=r()(e/60);n<10&&(n="0"+n),e%=60;var o=r()(e);o<10&&(o="0"+o);var s="";return t.hours&&(s+=a),t.minutes&&(s&&(s+=":"),s+=n),t.seconds&&(s&&(s+=":"),s+=o),s}},61562:function(e,t,a){var n=a(27859);e.exports=n},27859:function(e,t,a){var n=a(20842).isPrimitive,r=/@/;e.exports=function(e){return n(e)&&r.test(e)}},90485:function(e,t,a){var n=a(54227);e.exports=n},54227:function(e,t,a){var n=a(67583),r=a(16561),o=a(57701)();e.exports=function(e){return!!r(e)&&(!(n(e).length>0)&&!(o&&Object.getOwnPropertySymbols(e).length>0))}},63989:function(e){e.exports=9007199254740991},19758:function(e,t,a){var n=a(43022);e.exports=n},43022:function(e,t,a){var n=a(14444),r=a(27394);e.exports=function(e){return e===n||e===r}},28135:function(e,t,a){var n=a(16943);e.exports=n},16943:function(e){e.exports=function(e){return Math.abs(e)}},6233:function(e,t,a){var n=a(73529);e.exports=n},73529:function(e,t,a){var n=a(20842).isPrimitive,r=a(50288),o=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;e.exports=function(e){if(!n(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return r(e,o,"$1")}},66104:function(e,t,a){var n=a(7712);e.exports=n},7712:function(e,t,a){var n=a(65773),r=a(12087);e.exports=function(e,t){var a,o,s;if("object"!==typeof e||null===e)throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if(!n(t))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+t+"`.");for(o in a={},e)r(e,o)&&(a[o=t(o,s=e[o],e)]=s);return a}},29530:function(e,t,a){a.d(t,{Z:function(){return S}});var n=a(87462),r=a(63366),o=a(78265),s=a.n(o),l=a(41488),i=a(38674),c=a(60665),m=a(90855),d=a(40539),u=["bsPrefix","className","variant","as"],p=l.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,c=e.variant,m=e.as,d=void 0===m?"img":m,p=(0,r.Z)(e,u),h=(0,i.vE)(a,"card-img");return l.createElement(d,(0,n.Z)({ref:t,className:s()(c?h+"-"+c:h,o)},p))}));p.displayName="CardImg",p.defaultProps={variant:null};var h=p,f=["bsPrefix","className","bg","text","border","body","children","as"],Z=(0,m.Z)("h5"),v=(0,m.Z)("h6"),g=(0,c.Z)("card-body"),E=(0,c.Z)("card-title",{Component:Z}),w=(0,c.Z)("card-subtitle",{Component:v}),b=(0,c.Z)("card-link",{Component:"a"}),y=(0,c.Z)("card-text",{Component:"p"}),C=(0,c.Z)("card-header"),x=(0,c.Z)("card-footer"),k=(0,c.Z)("card-img-overlay"),F=l.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,c=e.bg,m=e.text,u=e.border,p=e.body,h=e.children,Z=e.as,v=void 0===Z?"div":Z,E=(0,r.Z)(e,f),w=(0,i.vE)(a,"card"),b=(0,l.useMemo)((function(){return{cardHeaderBsPrefix:w+"-header"}}),[w]);return l.createElement(d.Z.Provider,{value:b},l.createElement(v,(0,n.Z)({ref:t},E,{className:s()(o,w,c&&"bg-"+c,m&&"text-"+m,u&&"border-"+u)}),p?l.createElement(g,null,h):h))}));F.displayName="Card",F.defaultProps={body:!1},F.Img=h,F.Title=E,F.Subtitle=w,F.Body=g,F.Link=b,F.Text=y,F.Header=C,F.Footer=x,F.ImgOverlay=k;var S=F},92637:function(e,t,a){var n=a(87462),r=a(63366),o=a(78265),s=a.n(o),l=a(41488),i=(a(90427),a(38674)),c=a(60145),m=a(52299),d=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],u=l.forwardRef((function(e,t){var a=e.bsPrefix,o=e.placement,c=e.className,u=e.style,p=e.children,h=e.content,f=e.arrowProps,Z=(e.popper,e.show,(0,r.Z)(e,d)),v=(0,i.vE)(a,"popover"),g=((null==o?void 0:o.split("-"))||[])[0];return l.createElement("div",(0,n.Z)({ref:t,role:"tooltip",style:u,"x-placement":g,className:s()(c,v,g&&"bs-popover-"+g)},Z),l.createElement("div",(0,n.Z)({className:"arrow"},f)),h?l.createElement(m.Z,null,p):p)}));u.defaultProps={placement:"right"},u.Title=c.Z,u.Content=m.Z,t.Z=u},52299:function(e,t,a){var n=a(87462),r=a(63366),o=a(78265),s=a.n(o),l=a(41488),i=a(38674),c=["as","bsPrefix","className","children"],m=l.forwardRef((function(e,t){var a=e.as,o=void 0===a?"div":a,m=e.bsPrefix,d=e.className,u=e.children,p=(0,r.Z)(e,c);return m=(0,i.vE)(m,"popover-body"),l.createElement(o,(0,n.Z)({ref:t},p,{className:s()(d,m)}),u)}));t.Z=m},60145:function(e,t,a){var n=a(87462),r=a(63366),o=a(78265),s=a.n(o),l=a(41488),i=a(38674),c=["as","bsPrefix","className","children"],m=l.forwardRef((function(e,t){var a=e.as,o=void 0===a?"div":a,m=e.bsPrefix,d=e.className,u=e.children,p=(0,r.Z)(e,c);return m=(0,i.vE)(m,"popover-header"),l.createElement(o,(0,n.Z)({ref:t},p,{className:s()(m,d)}),u)}));t.Z=m},23596:function(e,t,a){var n=a(87462),r=a(63366),o=a(78265),s=a.n(o),l=a(41488),i=a(38674),c=["bsPrefix","className","noGutters","as"],m=["xl","lg","md","sm","xs"],d=l.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,d=e.noGutters,u=e.as,p=void 0===u?"div":u,h=(0,r.Z)(e,c),f=(0,i.vE)(a,"row"),Z=f+"-cols",v=[];return m.forEach((function(e){var t,a=h[e];delete h[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&v.push(""+Z+n+"-"+t)})),l.createElement(p,(0,n.Z)({ref:t},h,{className:s().apply(void 0,[o,f,d&&"no-gutters"].concat(v))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.Z=d},89308:function(e,t,a){var n=a(89259),r=a(56091),o=a(15671),s=a(43144),l=a(60136),i=a(66301),c=a(41488),m=a(70807),d=a(94067),u=a(41728),p=(a(5347),a(15272),c.Component,(0,r.m)(n.S));t.ZP=p},87815:function(){},42982:function(e,t,a){a.d(t,{Z:function(){return o}});var n=a(30907);var r=a(40181);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=896.b3463b68.chunk.js.map