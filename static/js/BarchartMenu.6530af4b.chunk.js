"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[483,459],{34108:function(e,t,a){a.r(t);var n=a(38603),l=a(91532),o=a.n(l),r=a(11389),i=a(29851),c=a(85944),s=a(15020),u=a(93918),d=a(89956),m=a(7846),p=a(83729),g=a(38408),b=a(3021),f=a(18340),y=a(22168),h=a(49412),E=a(2443),v=a(80595);function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Z.apply(this,arguments)}const C=["Mean","Median","Min","Max","Sum"],k=["Counts of distinct values","Function evaluated for a variable"],x=e=>n.createElement(r.c.Option,e,e.data.label,n.createElement("br",null),n.createElement("span",{style:{fontVariant:"small-caps"}},e.data.description)),V=[{label:"Total",value:"total",description:"by total count of each category"},{label:"Alphabetically",value:"category",description:"by category name"},{label:"Min",value:"min",description:"by minimum count inside each category"},{label:"Max",value:"max",description:"by maximum count inside each category"},{label:"Mean",value:"mean",description:"by mean count inside each category"},{label:"Median",value:"median",description:"by median count inside each category"}],S=e=>{const{groupingVariables:t,variables:a,defaultValue:l,quantitative:o,t:r}=e,[S,P]=(0,n.useState)(l||a[0]),[O,q]=(0,n.useState)(o[0]),[M,B]=(0,n.useState)("ascending"),[N,T]=(0,n.useState)(C[0]),[R,j]=(0,n.useState)(null),[A,z]=(0,n.useState)(!1),[I,w]=(0,n.useState)(k[0]),[H,K]=(0,n.useState)(!1),[_,F]=(0,n.useState)(!1),[L,D]=(0,n.useState)(!1),[G,J]=(0,n.useState)(null),Q=!R||L||I===k[1];return n.createElement(d.Z,null,n.createElement(d.Z.Header,{as:"h4"},r("Bar Chart"),n.createElement(v.Z,{title:r("Bar Chart"),content:r("Bar Chart-description")})),n.createElement(d.Z.Body,null,n.createElement(b.Z,{legend:r("bars-represent"),defaultValue:I,options:k,onChange:w}),n.createElement(b.Z,{legend:r("variable"),defaultValue:S,options:a,onChange:P}),I===k[1]?n.createElement(m.Z,null,n.createElement(p.Z,null,n.createElement(b.Z,{legend:r("y-axis"),defaultValue:O,options:e.quantitative,onChange:q})),n.createElement(p.Z,null,n.createElement(b.Z,{legend:r("summary-function"),defaultValue:N,options:C,onChange:T}))):null,n.createElement(b.Z,{legend:r("group-by"),clearable:!0,defaultValue:R,options:t,menuPlacement:"top",onChange:j}),n.createElement(m.Z,null,n.createElement(p.Z,null,n.createElement(s.Z,{controlId:"barchart-order-select"},n.createElement(c.Z,null,r(R?"order-outer-groups":"order-x-axis"),":"),n.createElement(i.ZP,{defaultValue:G,options:V,components:{Option:x},isClearable:!0,menuPlacement:"top",onChange:e=>{J(e?e.value:null)},styles:f.Z}))),n.createElement(p.Z,null,n.createElement(b.Z,{legend:r("order-direction"),defaultValue:M,options:["ascending","descending"],menuPlacement:"top",onChange:B,style:{display:G?"inherit":"none"}}))),n.createElement(m.Z,null,n.createElement(p.Z,null,I===k[0]?n.createElement(g.Z,{legend:r("total-percentages"),defaultValue:L,onChange:D,disabled:H,style:{opacity:H?.2:1}}):null),n.createElement(p.Z,null,n.createElement(g.Z,{legend:r("flip-coordinates"),defaultValue:A,onChange:z}))),n.createElement(m.Z,null,n.createElement(p.Z,null,n.createElement(g.Z,{legend:r("stack-bars"),defaultValue:_,onChange:F,disabled:!R,style:{opacity:R?1:.2}})),n.createElement(p.Z,null,n.createElement(g.Z,{legend:r("relative-frequencies-inside-each-group"),defaultValue:H,disabled:Q,onChange:K,style:{opacity:Q?.2:1}}))),n.createElement(u.Z,{variant:"primary",block:!0,onClick:()=>{const t=(0,y.Z)(6),a={variable:S,group:R,relative:H,totalPercent:L,xOrder:G,direction:M,stackBars:_,plotId:t};I===k[1]&&(a.summary=N,a.yvar=O);const l=()=>{e.session.addNotification({title:e.t("plot-shared"),message:e.t("plot-shared-message"),level:"success",position:"tr"}),e.logAction(E.zH,a)};let o;o=I===k[1]?n.createElement(h.Z,Z({},e,{variable:S,group:R,horizontal:A,relative:H,totalPercent:L,xOrder:G,direction:M,summary:N,yvar:O,stackBars:_,id:t,action:a,onShare:l})):n.createElement(h.Z,Z({},e,{variable:S,group:R,horizontal:A,relative:H,totalPercent:L,xOrder:G,direction:M,stackBars:_,id:t,action:a,onShare:l})),e.logAction(E.iT,a),e.onCreated(o)},disabled:!S},r("generate"))))};S.defaultProps={defaultValue:null,groupingVariables:null,logAction(){},onCreated(){},onSelected(){}},S.propTypes={data:o().object.isRequired,defaultValue:o().string,groupingVariables:o().array,logAction:o().func,onCreated:o().func,onSelected:o().func,session:o().object.isRequired,variables:o().array.isRequired},t.default=S},80595:function(e,t,a){var n=a(38603),l=a(91532),o=a.n(l),r=a(93918),i=a(58479),c=a(49628),s=a(3569),u=a(54849);const d=e=>{const t=n.createElement(i.Z,{id:"popover-positioned-right"},n.createElement(c.Z,null,e.title),n.createElement(s.Z,null,e.content));return n.createElement(u.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},n.createElement(r.Z,{size:"sm",variant:"outline-secondary",className:"question-button"},n.createElement("div",{className:"fa fa-question"})))};d.propTypes={content:o().oneOfType([o().string,o().node]).isRequired,title:o().string.isRequired},t.Z=d},38408:function(e,t,a){a.d(t,{Z:function(){return m}});var n=a(38603),l=a(91532),o=a.n(l),r=a(4593),i=a.n(r),c=a(94123),s=a(26516);const u=(0,a(61202).Z)("checkbox-input"),d=e=>{const{bind:t,defaultValue:l,disabled:o,onChange:r}=e,d=(0,n.useRef)(e.id||u(e)),m=(0,n.useContext)(s.Z),[p,g]=(0,n.useState)(t&&m.state?m.state[t]:l);(0,n.useEffect)((()=>{g(l)}),[l]),(0,n.useEffect)((()=>{t&&g(a.g.lesson.state[t])}),[t]),(0,n.useEffect)((()=>{if(t){let e=a.g.lesson.state[t];e!==p&&g(e)}}),[t,p]);const b=(0,n.useCallback)((e=>{g(e),t&&a.g.lesson.setState({[t]:e})}),[t]),f=(0,n.useCallback)((e=>{const t=e.target.checked;r(t),b(t)}),[r,b]),y=()=>{const t=null!==e.value?!e.value:!p;r(t),b(t)},h=n.createElement("input",{className:"checkbox-input",type:"checkbox",checked:null!==e.value?e.value:p,value:"checkbox",onChange:f,disabled:o,"aria-label":e.tooltip});if(!0===e.inline)return n.createElement(c.Z,{tooltip:e.tooltip,placement:e.tooltipPlacement},n.createElement("span",{id:d.current,style:{marginLeft:"8px",...e.style}},h,n.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:o?"darkgray":null},onClick:y,onKeyPress:y},e.legend)));const E=o?i():y;return n.createElement(c.Z,{tooltip:e.tooltip,placement:e.tooltipPlacement},n.createElement("div",{id:d.current,className:"input checkbox-input-div",style:e.style},h,n.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:o?"darkgray":null},onClick:E,onKeyPress:E},e.legend)))};d.defaultProps={bind:"",onChange(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}},d.propTypes={bind:o().string,defaultValue:o().bool,value:o().bool,disabled:o().bool,inline:o().bool,onChange:o().func,legend:o().oneOfType([o().string,o().node]),tooltip:o().string,tooltipPlacement:o().oneOf(["left","top","right","bottom"]),style:o().object};var m=d}}]);
//# sourceMappingURL=BarchartMenu.6530af4b.chunk.js.map