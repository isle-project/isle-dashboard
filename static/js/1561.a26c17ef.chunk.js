/*! For license information please see 1561.a26c17ef.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[1561],{61561:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _e}});var a=n(87329),o=n(6610),l=n(5991),r=n(63349),i=n(10379),s=n(60446),u=n(96156),c=n(28991),d=n(41488),p=n(15272),m=n(10077),h=n.n(m),f=n(25472),g=n(75742),v=n(91031),b=n.n(v),w=n(26881),Z=n(57690),y=n(70048),E=n(85840),C=n(84972),x=n(2867),S=n.n(x),N=n(84451),k=n.n(N),T=n(65105),I=n.n(T),P=n(12087),V=n.n(P),B=n(33837),D=n.n(B),M=n(12699),O=n.n(M),R=n(42339),F=n.n(R),L=n(80213),H=n.n(L),K=n(17315),z=n.n(K),A=n(98718),U=n.n(A),W=n(90485),_=n.n(W),J=n(86890),j=n.n(J),q=n(70954),G=n.n(q),Y=n(37221),$=n(81064),Q=n.n($),X=n(67583),ee=n.n(X),te=n(41122),ne=n(20360),ae=n(20216),oe=n(59420),le=n(87651),re=n(10724),ie=n(27394),se=n.n(ie),ue=n(87950),ce=n(26608),de=n(47701),pe=n(49659),me=n(76800),he=n(97623),fe=n.n(he),ge=JSON.parse('[{"target":".data-table-title-button","content":"On top of the data table you find the name of the data set. Clicking on it will open a modal window with a detailed description.","placement":"bottom","placementBeacon":"bottom"},{"target":".ReactTable","content":"Tabular display of the data set, with rows corresponding to individual records and columns to the different variables.","placement":"bottom","placementBeacon":"bottom"},{"target":".-header","content":"Variable names. Hovering over the names with your mouse opens a tooltip with the description of the respective variable. Clicking on any column orders the rows of the data table by the values of the chosen column. You can also select multiple columns by holding down the \\"Shift\\" key to sort by multiple columns","placement":"bottom","placementBeacon":"bottom"},{"target":".-filter","content":"Filter out rows by adjusting the filters for any column.","placement":"top","placementBeacon":"top"},{"target":".label-number-rows","content":"The number of currently displayed rows, i.e. the rows matching the specified filters, and in parentheses the total number of rows in the table.","placement":"top","placementBeacon":"top"},{"target":".reset-button","content":"Clicking on the reset button will clear all currently active filters and return the ordering of the rows to its default.","placement":"top","placementBeacon":"top"},{"target":".variable-descriptions-button","content":"The descriptions for each variable can also be accessed by clicking on this button.","placement":"top","placementBeacon":"top"}]'),ve=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,o.Z)(this,n),a=t.call(this,e),(0,u.Z)((0,r.Z)(a),"startTour",(function(){a.setState({running:!a.state.running})})),a.state={running:!1},a.stepsWithId=fe()(ge,2).map((function(t){return t.target="#".concat(e.id," ")+t.target,t})),a}return(0,l.Z)(n,[{key:"render",value:function(){var e=this;return d.createElement(d.Fragment,null,d.createElement(pe.Z,{placement:"bottom",overlay:d.createElement(de.Z,null,this.props.t(this.state.running?"close-tutorial":"show-tutorial"))},d.createElement(y.Z,{className:"help-button",variant:"light",onClick:this.startTour},d.createElement("div",{className:"fa fa-question"}))),d.createElement(me.ZP,{steps:this.stepsWithId,disableScrolling:!0,showProgress:!0,run:this.state.running,callback:function(t){t.type===me.FP.TOUR_END&&(e.setState({running:!1}),e.props.onTutorialCompletion())}}))}}]),n}(d.Component),be=n(22122),we=n(81253),Ze=n(58932),ye=["placement","scheduleUpdate","arrowProps","outOfBoundaries","show"],Ee=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,o.Z)(this,n),a=t.call(this,e),(0,u.Z)((0,r.Z)(a),"showTooltip",(function(){a.setState({showTooltip:!0})})),(0,u.Z)((0,r.Z)(a),"hideTooltip",(function(){a.setState({showTooltip:!1})})),a.state={showTooltip:!1},a}return(0,l.Z)(n,[{key:"render",value:function(){var e=this;return d.createElement(d.Fragment,null,d.createElement(Ze.Z,{show:this.state.showTooltip,target:this.title},(function(t){t.placement,t.scheduleUpdate,t.arrowProps,t.outOfBoundaries,t.show;var n=(0,we.Z)(t,ye);return d.createElement("div",(0,be.Z)({},n,{style:(0,c.Z)({backgroundColor:"rgba(10, 10, 10,0.9)",padding:"2px 10px",color:"white",borderRadius:3,maxWidth:"300px",marginBottom:"10px"},n.style)}),e.props.tooltip)})),d.createElement("span",{ref:function(t){e.title=t},onMouseOver:this.showTooltip,onFocus:this.showTooltip,onMouseOut:this.hideTooltip,onBlur:this.hideTooltip},this.props.title))}}]),n}(d.Component);Ee.defaultProps={tooltip:""};var Ce=Ee,xe=n(4846),Se=n.n(xe),Ne=n(87914),ke=n(7131),Te=n.n(ke),Ie=["placement","scheduleUpdate","arrowProps","outOfBoundaries","show"],Pe=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,o.Z)(this,n),a=t.call(this,e),(0,u.Z)((0,r.Z)(a),"showRangeInput",(function(){a.setState({showRangeInput:!0})})),(0,u.Z)((0,r.Z)(a),"hideRangeInput",(function(){a.setState({showRangeInput:!1})})),(0,u.Z)((0,r.Z)(a),"handleBlur",(function(){a.props.onChange(a.state.currentValue)})),a.state={currentValue:e.defaultValue,defaultValue:e.defaultValue,showRangeInput:!1},a}return(0,l.Z)(n,[{key:"render",value:function(){var e=this,t=this.state.currentValue;return d.createElement("div",{className:"input-range-wrapper",ref:function(t){e.inputRange=t}},d.createElement(Se(),{allowSameValues:!0,maxValue:this.props.maxValue,minValue:this.props.minValue,value:t,onChange:function(t){e.setState({currentValue:t})},onChangeComplete:function(t){e.props.onChange(t)},formatLabel:function(t){return d.createElement("span",{className:"input-range-clickable-label",role:"button",tabIndex:0,onKeyPress:e.showRangeInput,onClick:e.showRangeInput,title:e.props.t("click-to-set-value")},Te()(t))},style:{float:"left"}}),d.createElement(Ze.Z,{show:this.state.showRangeInput,target:this.inputRange},(function(n){n.placement,n.scheduleUpdate,n.arrowProps,n.outOfBoundaries,n.show;var a=(0,we.Z)(n,Ie);return d.createElement("div",(0,be.Z)({className:"input-range-number-entry"},a,{style:(0,c.Z)({},a.style)}),d.createElement(Ne.Z,{inline:!0,value:t.min,min:e.props.minValue,max:t.max,onChange:function(t){var n={min:Number(t),max:e.state.currentValue.max};e.setState({currentValue:n})},onBlur:e.handleBlur,step:.1}),d.createElement(Ne.Z,{inline:!0,value:t.max,min:t.min,max:e.props.maxValue,onChange:function(t){var n={min:e.state.currentValue.min,max:Number(t)};e.setState({currentValue:n})},onBlur:e.handleBlur,step:.1}),d.createElement(y.Z,{variant:"outline-secondary",size:"sm",onClick:e.hideRangeInput},d.createElement("i",{className:"fas fa-times"})))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.defaultValue!==t.defaultValue?{currentValue:e.defaultValue,defaultValue:e.defaultValue}:null}}]),n}(d.Component),Ve=n(41993),Be=(n(36561),S()({html:!0,xhtmlOut:!0,breaks:!0,typographer:!1})),De=h()("isle:data-table"),Me=(0,ae.Z)("data-table"),Oe=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}),Re=/[0-9.,]+/;function Fe(e,t){return(e=null===e||void 0===e||"NA"===e?se():e)-(t=null===t||void 0===t||"NA"===t?se():t)}function Le(e,t){return e=null===e||void 0===e||"NA"===e?se():e,t=null===t||void 0===t||"NA"===t?se():t,Oe.compare(e,t)}function He(e,t){var n=t[e.id];return!(!n&&e.value)&&(G()(e.value)?D()(e.value,n):D()(O()(n),O()(e.value)))}function Ke(e,t){var n=t[e.id];return n>=e.value.min&&n<=e.value.max}function ze(e,t,n){if(!e.value||U()(e.value))return!0;var a=e.pivotId||e.id;return void 0===t[a]||(G()(e.value)?D()(e.value,String(t[a])):String(t[a])===e.value)}var Ae=function(){return d.createElement("div",null)};function Ue(e){e.target.style.width=e.target.value.length+1+"ch"}var We=function(e){(0,i.Z)(m,e);var t=(0,s.Z)(m);function m(e){var l;(0,o.Z)(this,m),l=t.call(this,e),(0,u.Z)((0,r.Z)(l),"renderEditable",(function(e){return d.createElement("div",{style:{backgroundColor:"#fafafa"},contentEditable:!0,suppressContentEditableWarning:!0,onBlur:function(t){var n=(0,a.Z)(l.state.rows),o=t.target.innerHTML;n[e.index][e.column.id]=Re.test(o)?Number(o):o,l.setState({rows:n},(function(){l.props.onEdit(n)}))},dangerouslySetInnerHTML:{__html:l.state.rows[e.index][e.column.id]}})})),(0,u.Z)((0,r.Z)(l),"renderCheckboxRemovable",(function(e){return d.createElement("input",{id:"checkBox",type:"checkbox",key:"".concat(e.index,"-").concat(e.column.id,"-").concat(l.state.rows.length),onClick:function(t){var n=(0,a.Z)(l.state.rows);n[e.index][e.column.id]=t.target.checked,l.setState({rows:n}),l.props.onClickRemove(n)}})})),(0,u.Z)((0,r.Z)(l),"handleFilterChange",(function(e,t){(0,p.findDOMNode)(l.table).getElementsByClassName("rt-tbody")[0].scrollTop=0,l.context.log({id:l.id,type:re.Uc,value:t.id}),l.setState({filtered:e},(function(){l.props.onFilteredChange(l.state.filtered.filter((function(e){return!Q()(e.value)})))}))})),(0,u.Z)((0,r.Z)(l),"handleSortedChange",(function(e,t){l.context.log({id:l.id,type:re.mk,value:t.id}),l.setState({sorted:e})})),(0,u.Z)((0,r.Z)(l),"showDescriptions",(function(){l.setState({showVarModal:!0})})),(0,u.Z)((0,r.Z)(l),"reset",(function(){l.context.log({id:l.id,type:re.Di,value:""}),l.setState({filtered:[],sorted:[]},(function(){l.props.onFilteredChange(l.state.filtered)}))})),(0,u.Z)((0,r.Z)(l),"showInfo",(function(){De("Show dataset information..."),l.setState({showInfo:!0})})),(0,u.Z)((0,r.Z)(l),"toggleSaveModal",(function(){l.setState({showSaveModal:!l.state.showSaveModal})})),(0,u.Z)((0,r.Z)(l),"saveJSON",(function(){var e,t=new Blob([JSON.stringify(l.state.data)],{type:"application/json"}),n=l.props.dataInfo;e=n&&n.name?n.name:"dataset.json",(0,oe.Z)(t,e)})),(0,u.Z)((0,r.Z)(l),"saveCSV",(function(){var e=l.context;n.e(2410).then(n.t.bind(n,62410,23)).then((function(t){(0,t.default)(l.state.rows,{header:!0},(function(t,n){if(t)return e.addNotification({title:l.props.t("error-encountered"),message:l.props.t("error-csv")+t.message,level:"error",position:"tl"});var a,o=new Blob([n],{type:"text/plain"}),r=l.props.dataInfo;a=r&&r.name?"".concat(r.name,".csv"):"dataset.csv",(0,oe.Z)(o,a)}))}))})),(0,u.Z)((0,r.Z)(l),"handleSaveCSV",(function(){l.saveCSV(),l.toggleSaveModal()})),(0,u.Z)((0,r.Z)(l),"handleSaveJSON",(function(){l.saveJSON(),l.toggleSaveModal()})),(0,u.Z)((0,r.Z)(l),"hideVarModal",(function(){l.setState({showVarModal:!1})})),(0,u.Z)((0,r.Z)(l),"hideInfoModal",(function(){l.setState({showInfo:!1})})),(0,u.Z)((0,r.Z)(l),"handleTableProps",(function(){return{onScroll:function(e){for(var t=e.target.scrollLeft>0?e.target.scrollLeft:0,n=0;n<l.frozenElems.length;n++)l.frozenElems[n].style.left="".concat(t,"px")}}})),(0,u.Z)((0,r.Z)(l),"handleTrProps",(function(e,t,n,a){var o;return(o=l.props.getTrProps?l.props.getTrProps(e,t,n,a):{}).style||(o.style={}),o.style.width="max-content !important",o})),De("Constructor is invoked..."),l.id=e.id||Me(e);var i=e.dataInfo||{};return l.dragged=null,l.reorder=[],l.state={showInfo:!!i.showOnStartup,dataInfo:{info:i.info||[],name:i.name||"",variables:i.variables||null,showOnStartup:i.showOnStartup||null},showSaveModal:!1},l}return(0,l.Z)(m,[{key:"componentDidMount",value:function(){if(De("Component has mounted..."),this.table){var e=(0,p.findDOMNode)(this.table).getElementsByClassName("rt-thead")[0],t=(0,p.findDOMNode)(this.table).getElementsByClassName("rt-thead")[1],n=(0,p.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0];n.addEventListener("scroll",(function(){e.scrollLeft=n.scrollLeft,t.scrollLeft=n.scrollLeft}))}}},{key:"componentDidUpdate",value:function(e,t){De("Component has updated...");var n={};if(!this.props.filters||this.props.filters===e.filters&&this.props.filters.length===e.filters.length||(De("Data table now has ".concat(this.props.filters.length," filters...")),n.filtered=this.props.filters),this.props.data!==e.data&&this.state.keys.length!==t.keys.length){var a=(0,p.findDOMNode)(this.table).getElementsByClassName("rt-thead")[0],o=(0,p.findDOMNode)(this.table).getElementsByClassName("rt-thead")[1],l=(0,p.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0];a.scrollLeft=a.scrollWidth,o.scrollLeft=o.scrollWidth,l.scrollLeft=l.scrollWidth}_()(n)||(De("Trigger a state change after update..."),this.setState(n))}},{key:"render",value:function(){var e=this;De("Rendering component");var t=this.state,n=t.rows,a=t.dataInfo;if(!n)return d.createElement(w.Z,{variant:"danger"},this.props.t("no-data"));var o,l=null;this.state.showVarModal?l=d.createElement(E.Z,{dialogClassName:"modal-50w",show:this.state.showVarModal,onHide:this.hideVarModal},d.createElement(E.Z.Header,{closeButton:!0},d.createElement(E.Z.Title,null,this.props.t("variables"))),d.createElement(E.Z.Body,null,function(e,t){var n=[];for(var a in e)V()(e,a)&&n.push(d.createElement("tr",{key:a},d.createElement("td",null,a),d.createElement("td",null,e[a])));return d.createElement("table",{className:"table-bordered table-condensed",style:{width:"100%"}},d.createElement("thead",null,d.createElement("tr",null,d.createElement("th",null,t("name")),d.createElement("th",null,t("description")))),d.createElement("tbody",null,n))}(a.variables,this.props.t))):this.state.showInfo&&(De("Rendering dataset information modal..."),l=d.createElement(E.Z,{show:this.state.showInfo,dialogClassName:"modal-50w",onHide:this.hideInfoModal},d.createElement(E.Z.Header,{closeButton:!0},d.createElement(E.Z.Title,null,a.name," ",this.props.t("description"))),d.createElement(E.Z.Body,{dangerouslySetInnerHTML:{__html:Be.render(G()(a.info)?a.info.join("\n"):a.info)}}))),o=this.props.editable.length>0?this.state.columns.map((function(t){return D()(e.props.editable,t.id)&&(t.Cell=e.renderEditable),t})):this.state.columns.slice(),this.reorder.forEach((function(e){o[e.a]=o.splice(e.b,1,o[e.a])[0]})),o=o.map((function(t,n){return"id"===t.Header?t:(0,c.Z)((0,c.Z)({},t),{},{Header:d.createElement("span",{className:"draggable-header",id:"header-".concat(t.id),draggable:"true",onDragStart:function(t){t.stopPropagation(),t.dataTransfer.setData("Text",n),e.dragged=n},onDrag:function(e){return e.stopPropagation},onDragEnd:function(t){t.stopPropagation(),setTimeout((function(){e.dragged=null}),100)},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:function(t){t.preventDefault();var a=n,o=e.dragged,l=e.state.columns.map((function(e){return e.id}));l.shift();var r=l[a];l[a]=l[o],l[o]=r,e.props.onColumnDrag(l),e.reorder.push({a:a,b:o}),e.forceUpdate()}},t.Header)})})),this.props.showIdColumn&&o.unshift({Header:"id",accessor:"id",className:"frozen",headerClassName:"frozen",filterable:!1,resizable:!1,width:50}),this.props.showRemove&&o.push({Header:this.props.t("remove"),accessor:"remove",Cell:this.renderCheckboxRemovable,filterable:!1}),o.push({Header:"",className:"table_last_col",filterable:!1,sortable:!1,resizable:!1,width:30});var r=d.createElement(C.Z,{placement:"bottom",tooltip:this.props.disableDownload?this.props.t("download-disabled"):this.props.t("download-data")},d.createElement(y.Z,{className:"save-button",variant:"light",onClick:this.toggleSaveModal,disabled:this.props.disableDownload},d.createElement("i",{className:"fas fa-download"})));return d.createElement(d.Fragment,null,d.createElement("div",{className:"data-table-wrapper",id:this.id,style:this.props.style},d.createElement("div",{className:"data-table-header-wrapper"},d.createElement(C.Z,{placement:"bottom",tooltip:this.props.t("open-description"),show:a.info.length>0},d.createElement(y.Z,{variant:"light",disabled:0===a.info.length,onClick:this.showInfo,className:"data-table-title-button",style:{cursor:a.info.length>0?"pointer":"inherit"}},d.createElement("h4",{className:"data-table-title-button-h4"},a.name?a.name:this.props.t("data")))),r,d.createElement(ve,{id:this.id,session:this.context,onTutorialCompletion:this.props.onTutorialCompletion,t:this.props.t})),d.createElement(g.Z,{id:this.id,data:n,columns:o,showPagination:!0,sortable:!0,resizable:!0,filterable:this.props.filterable,filtered:this.state.filtered,sorted:this.state.sorted,showPageSizeOptions:!1,defaultPageSize:50,onFilteredChange:this.handleFilterChange,onSortedChange:this.handleSortedChange,style:this.props.style,getTableProps:this.handleTableProps,getTrProps:this.handleTrProps,previousText:this.props.t("previous"),nextText:this.props.t("next"),loadingText:this.props.t("loading"),noDataText:this.props.t("no-rows-found"),pageText:this.props.t("page"),ofText:this.props.t("of"),rowsText:this.props.t("rows")},(function(t,o,l){var r=t.sortedData.length;return d.createElement("div",{ref:function(t){t&&(e.table=t,e.frozenElems=(0,p.findDOMNode)(e.table).getElementsByClassName("frozen"))}},d.createElement(Z.Z,{className:"data-table-header-toolbar"},a.variables?d.createElement(C.Z,{placement:"right",tooltip:e.props.t("variable-descriptions-tooltip")},d.createElement(y.Z,{onClick:e.showDescriptions,variant:"light",size:"xsmall",className:"variable-descriptions-button"},e.props.t("variable-descriptions"))):null,r!==n.length||e.state.sorted&&e.state.sorted.length>0?d.createElement(C.Z,{placement:"left",tooltip:e.props.t("reset-display-tooltip")},d.createElement(y.Z,{onClick:e.reset,variant:"light",size:"xsmall",className:"reset-button"},e.props.t("reset-display"))):null),o(),d.createElement("label",{className:"label-number-rows"},d.createElement("i",null,e.props.t("number-rows"),": ",r," (",e.props.t("total"),": ",n.length,")")))}))),l,this.state.showSaveModal?d.createElement(E.Z,{show:this.state.showSaveModal,onHide:this.toggleSaveModal},d.createElement(E.Z.Header,{closeButton:!0},d.createElement(E.Z.Title,null,this.props.t("download-data"))),d.createElement(E.Z.Body,null,this.props.t("download-data-body")),d.createElement(E.Z.Footer,null,d.createElement(y.Z,{onClick:this.handleSaveCSV},this.props.t("save-csv")),d.createElement(y.Z,{onClick:this.handleSaveJSON},this.props.t("save-json")))):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){De("Generating derived state...");var n=null;if(e.data!==t.data){var a,o;De("Data is new...");var l=G()(e.data);if(l||j()(e.data)){if(l?(a=e.data.slice(),o=ee()(a[0])):(a=function(e){if(_()(e))return[];for(var t=ee()(e),n=e[t[0]].length,a=new Array(n),o=0;o<n;o++){a[o]={};for(var l=0;l<t.length;l++){var r=t[l];a[o][r]=e[r][o]}}return a}(e.data),o=ee()(e.data)),De("Created a `rows` array of length: "+a.length),D()(o,"id"))for(var r=0;r<a.length;r++)e.showRemove&&!a[r].remove&&(a[r].remove=!1);else{for(var i=0;i<a.length;i++)e.showRemove&&!a[i].remove&&(a[i].remove=!1),a[i].id=i+1;o.push("id")}(n={}).rows=a,n.keys=o,n.filtered=e.filters,n.showTooltip=!1,n.data=e.data,n.columns=function(e,t){De("Create columns...");var n=e.t;return t.keys.filter((function(e){return"id"!==e})).map((function(a,o){var l,r=a,i=e.dataInfo&&e.dataInfo.variables&&e.dataInfo.variables[a],s={id:a,accessor:function(e){return Q()(e[a])?"NA":String(e[a])},minWidth:i?125:150};if(i?r=d.createElement(Ce,{title:a,tooltip:e.dataInfo.variables[a]}):e.deletable&&!D()(e.undeletableVars,a)&&(r=d.createElement("div",{style:{backgroundColor:"papayawhip"}},d.createElement(C.Z,{placement:"left",tooltip:n("rename-variable")},d.createElement("span",null,d.createElement("input",{type:"text",className:"header-text-input",style:{width:"".concat(a.length+1,"ch")},defaultValue:a,onBlur:function(t){var n=t.target.value;document.getElementById("header-".concat(a)).setAttribute("draggable",!0),n.length>0&&a!==n&&e.onColumnNameChange(a,n)},onMouseEnter:function(e){document.getElementById("header-".concat(a)).setAttribute("draggable",!1)},onChange:Ue,onClick:function(e){e.stopPropagation()}}))),d.createElement(C.Z,{placement:"left",tooltip:n("remove-variable")},d.createElement("button",{className:"fa fa-times delete-button",onClick:function(t){t.stopPropagation(),e.onColumnDelete(a)}})))),s.Header=r,G()(e.data)){l=new Array(t.rows.length);for(var u=0;u<t.rows.length;u++)l[u]=e.data[u][a]}else l=e.data[a].slice();if(e.filterable){var p,m=!1;if(I()(l))m=!0,p=l;else{l=l.filter((function(e){return!Q()(e)&&""!==e&&"NA"!==e})),p=b()(l);var h=e.filters.filter((function(e){return e.id===a}))[0];m=!!(h&&(0,Y.isPrimitive)(h.value.min)&&(0,Y.isPrimitive)(h.value.max))||z()(l)&&p.length>2}m?(s.filterMethod=Ke,s.sortMethod=Fe,s.style={textAlign:"right"},s.Filter=function(e){var t=e.filter,a=e.onChange,o=H()((0,ne.Z)(p)),l=F()((0,te.Z)(p)),r={max:o,min:l};return d.createElement(Pe,{defaultValue:t?t.value:r,onChange:a,maxValue:o,minValue:l,t:n})}):p.length<=50?(p=p.map((function(e){return String(e)})).sort(Le),k()(p[0])&&(s.style={textAlign:"right"}),s.filterMethod=ze,s.sortMethod=Le,s.Filter=function(e){var t=e.filter,a=e.onChange;return d.createElement(ue.Z,{onChange:function(e){e&&e.length>0&&p.length>3?s.minWidth=300:s.minWidth=125,a(e)},style:{width:"100%"},value:t?t.value:null,searchable:!1,options:p,menuPlacement:"auto",multi:!0,placeholder:n("show-all"),components:{DropdownIndicator:Ae,MultiValueLabel:function(e){var t=function(){a(p.filter((function(t){return t!==e.children})))};return d.createElement(C.Z,{tooltip:n("select-others"),placement:"bottom"},d.createElement("span",{role:"button",tabIndex:0,onClick:t,onKeyPress:t,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},style:{cursor:"cursor"}},d.createElement(ce.c.MultiValueLabel,e)))}},escapeClearsValue:!0,closeMenuOnSelect:p.length<=2,menuPortalTarget:document.body,styles:{menuPortal:function(e){return(0,c.Z)((0,c.Z)({},e),{},{zIndex:9999})}}})}):(s.filterMethod=He,s.sortMethod=Le)}return s}))}(e,n)}}return e.dataInfo&&t.dataInfo&&e.dataInfo.name!==t.dataInfo.name&&(De("Data information has changed..."),n||(n={}),n.dataInfo={info:e.dataInfo.info||[],name:e.dataInfo.name||"",variables:e.dataInfo.variables||null,showOnStartup:e.dataInfo.showOnStartup||null}),n}}]),m}(d.Component);We.defaultProps={dataInfo:{info:[],name:"",variables:null,showOnStartup:!1},deletable:!1,undeletableVars:[],filterable:!0,editable:[],getTrProps:void 0,onColumnDrag:function(){},onColumnDelete:function(){},onColumnNameChange:function(){},onClickRemove:function(){},onEdit:function(){},onFilteredChange:function(){},onTutorialCompletion:function(){},filters:[],showRemove:!1,showIdColumn:!0,disableDownload:!1,className:"",style:{}},We.contextType=le.Z;var _e=(0,f.Z)("data-table")((0,Ve.W)(We))},87914:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var a=n(28991),o=n(96156),l=n(34699),r=n(41488),i=n(10077),s=n.n(i),u=n(26180),c=n(33837),d=n.n(c),p=n(62423),m=n.n(p),h=n(20842),f=n(81064),g=n.n(f),v=n(37221),b=n(14444),w=n.n(b),Z=n(27394),y=n.n(Z),E=n(84972),C=n(87651),x=n(20216);var S=function(e){var t=e.min,n=e.max,a=e.step,o=e.t,l="".concat(o("enter")," ").concat(o(1===a?"integer":"number")," ");return n!==w()&&t!==y()?l+="".concat(o("between")," ").concat(t," ").concat(o("and")," ").concat(n):t!==y()?l+="".concat(o("larger-or-equal-to")," ").concat(t):n!==w()&&(l+="".concat(o("smaller-or-equal-to")," ").concat(n)),l},N=s()("isle:number-input"),k=(0,x.Z)("number-input"),T=function(e){var t=(0,r.useRef)(e.id||k(e)),i=e.bind,s=e.defaultValue,c=e.min,p=e.max,f=e.step,b=e.value,w=e.onBlur,Z=e.onChange,y=(0,u.$)("input").t,x=(0,r.useContext)(C.Z),T=(0,r.useState)(b||(i&&x.state?x.state[i]:s)),I=(0,l.Z)(T,2),P=I[0],V=I[1];(0,r.useEffect)((function(){if(i){var e=n.g.lesson.state[i];e!==P&&(0,v.isPrimitive)(P)&&V(e)}}),[i,P]),(0,r.useEffect)((function(){V(s)}),[s]),(0,r.useEffect)((function(){i&&V(n.g.lesson.state[i])}),[i]);var B=(0,r.useCallback)((function(e){N("Handle change of input field...");var t=e.target.validity.valid,a=e.target.value;V(a),b||t&&""!==a&&"-"!==a&&"."!==a&&"-."!==a?(a=parseFloat(a),m()(a)&&(a=""),Z(a),i&&n.g.lesson.setState((0,o.Z)({},i,a))):i&&n.g.lesson.setState((0,o.Z)({},i,a))}),[i,b,Z]),D=(0,r.useCallback)((function(e){N("Finished change...");var t=e.target.value;if(d()(t,"/")){N("Encountered a fraction...");var a=t.split("/");""!==a[0]&&""!==a[1]&&(t=parseFloat(a[0])/parseFloat(a[1]))}m()(t)?t="":""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t=parseFloat(t)),t>p?t=p:t<c?t=c:1===f&&""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t-=t%f),Z(t),w(t),t!==P&&(V(t),i&&n.g.lesson.setState((0,o.Z)({},i,t)))}),[i,c,p,f,P,w,Z]),M=g()(e.tooltip)?S({min:c,max:p,step:f,t:y}):e.tooltip;if(!0===e.inline){var O=r.createElement("span",{className:"input",style:(0,a.Z)({padding:"5px"},e.style)},e.legend?r.createElement("label",{htmlFor:t.current}," ",e.legend," =  "):null,r.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==b?b:P,step:e.step,min:e.min,max:e.max,style:(0,a.Z)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},e.inputStyle),onChange:B,onBlur:D,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"}),e.description?r.createElement("span",null,"(",e.description,")"):r.createElement("span",null));return e.disabled?O:r.createElement(E.Z,{id:"number-input-tooltip-inline",placement:"top",show:!e.disabled,tooltip:M},O)}var R=r.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==b?b:P,step:e.step,min:e.min,max:e.max,style:(0,a.Z)({width:"80px",marginLeft:"24px"},e.inputStyle),onChange:B,onBlur:D,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"});return r.createElement("div",{className:"input",style:(0,a.Z)({marginBottom:"4px",marginTop:"4px"},e.style)},e.legend?r.createElement("span",null,r.createElement("label",{htmlFor:t.current},(0,h.isPrimitive)(e.legend)?e.legend+":":e.legend),e.description?r.createElement("span",null," ",e.description):null):null,r.createElement(E.Z,{id:"number-input-tooltip",placement:e.tooltipPlacement,tooltip:M,show:!e.disabled},r.createElement("span",{className:"number-input-span"},R)))};T.defaultProps={bind:"",disabled:!1,legend:null,min:y(),max:w(),step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"};var I=T},84451:function(e,t,n){"use strict";var a=n(21089);e.exports=a},21089:function(e,t,n){"use strict";var a=n(20842).isPrimitive;e.exports=function(e){var t,n,o;if(!a(e))return!1;if(0===(t=e.length))return!1;for(o=0;o<t;o++)if((n=e.charCodeAt(o))<48||n>57)return!1;return!0}},57690:function(e,t,n){"use strict";var a=n(22122),o=n(19756),l=n(78265),r=n.n(l),i=n(41488),s=n(38674),u=["bsPrefix","className"],c=i.forwardRef((function(e,t){var n=e.bsPrefix,l=e.className,c=(0,o.Z)(e,u),d=(0,s.vE)(n,"btn-toolbar");return i.createElement("div",(0,a.Z)({},c,{ref:t,className:r()(l,d)}))}));c.displayName="ButtonToolbar",c.defaultProps={role:"toolbar"},t.Z=c}}]);
//# sourceMappingURL=1561.a26c17ef.chunk.js.map