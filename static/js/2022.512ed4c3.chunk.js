"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2022],{2022:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return main}});var react=__webpack_require__(67294),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),commonjs=__webpack_require__(81468),react_grid_layout=__webpack_require__(69968),Modal=__webpack_require__(89194),Modal_default=__webpack_require__.n(Modal),Button=__webpack_require__(89876),Button_default=__webpack_require__.n(Button),Card=__webpack_require__(51889),Card_default=__webpack_require__.n(Card),lib=__webpack_require__(60149),lib_default=__webpack_require__.n(lib),floor_lib=__webpack_require__(78113),floor_lib_default=__webpack_require__.n(floor_lib),visible_barrier=__webpack_require__(42432),architecture=__webpack_require__(27316),FormLabel=__webpack_require__(65903),FormLabel_default=__webpack_require__.n(FormLabel),FormControl=__webpack_require__(26199),FormControl_default=__webpack_require__.n(FormControl),FormGroup=__webpack_require__(34168),FormGroup_default=__webpack_require__.n(FormGroup),__defProp=Object.defineProperty,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value),__async=(__this,__arguments,generator)=>new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())});class ConfirmModal extends react.Component{constructor(props){super(props),__publicField(this,"handleChange",event=>{const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}),__publicField(this,"handleImport",()=>__async(this,null,function*(){yield this.props.copyLesson({sourceName:this.props.lesson.title,source:this.props.lesson.namespace.title,target:this.props.targetNamespace,targetName:this.state.targetName}),this.props.onCreate()})),this.state={targetName:props.title}}render(){const{t}=this.props;return react.createElement(Modal_default(),{show:this.props.show,onHide:this.props.close,centered:!0},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement(Modal_default().Title,null,t("create-from-template"),": ",react.createElement("br",null),react.createElement("span",{style:{color:"darkred"}},this.props.lesson.title))),react.createElement(Modal_default().Body,null,react.createElement("p",null,react.createElement("b",null,`${t("common:description")}: `),this.props.lesson.description),react.createElement(FormGroup_default(),null,react.createElement(FormLabel_default(),null,t("common:name")),react.createElement(FormControl_default(),{name:"targetName",type:"text",value:this.state.targetName,onChange:this.handleChange,placeholder:t("common:enter-name")}))),react.createElement(Modal_default().Footer,null,react.createElement(Button_default(),{onClick:this.props.close},t("common:cancel")),react.createElement(Button_default(),{variant:"success",onClick:this.handleImport},t("common:confirm"))))}}ConfirmModal.propTypes={close:prop_types_default().func.isRequired,copyLesson:prop_types_default().func.isRequired,lesson:prop_types_default().object.isRequired,onCreate:prop_types_default().func.isRequired,show:prop_types_default().bool.isRequired,t:prop_types_default().func.isRequired,targetNamespace:prop_types_default().string.isRequired,title:prop_types_default().string.isRequired};var confirm_modal=ConfirmModal,main_defProp=Object.defineProperty,main_defNormalProp=(obj,key,value)=>key in obj?main_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,main_publicField=(obj,key,value)=>(main_defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);const ResponsiveReactGridLayout=(0,react_grid_layout.WidthProvider)(react_grid_layout.Responsive),BREAK_POINTS={lg:1200,md:1e3,sm:700,xs:500},COLS={lg:16,md:12,sm:8,xs:4},MARGIN=[20,20],PADDING=[10,10];class LessonCreator extends react.Component{constructor(props){super(props),main_publicField(this,"handleCreateFactory",idx=>()=>{this.setState({confirmModal:this.props.user.templateLessons[idx]})}),main_publicField(this,"closeCreateModal",()=>{this.setState({confirmModal:null})}),this.state={confirmModal:null}}createLayout(lessons){let layouts=lessons.map((e,i)=>({lg:{i:`cell-${i}`,x:i*4%16,y:floor_lib_default()(i/4)*6,w:4,h:6},md:{i:`cell-${i}`,x:i*4%12,y:floor_lib_default()(i/3)*6,w:4,h:6},sm:{i:`cell-${i}`,x:i*4%8,y:floor_lib_default()(i/2)*6,w:4,h:6},xs:{i:`cell-${i}`,x:i*4%4,y:floor_lib_default()(i/1)*6,w:4,h:6}}));return layouts={lg:lib_default()(layouts,"lg"),md:lib_default()(layouts,"md"),sm:lib_default()(layouts,"sm"),xs:lib_default()(layouts,"xs")},layouts}renderTemplates(){const out=[],templateLessons=this.props.user.templateLessons;if(templateLessons)for(let i=0;i<templateLessons.length;i++){const lesson=templateLessons[i];out.push(react.createElement("div",{key:`cell-${i}`},react.createElement(Card_default(),{style:{width:"18rem",boxShadow:"0 0 3px darkslategray"}},react.createElement(Card_default().Img,{variant:"top",src:architecture}),react.createElement(Card_default().Body,null,react.createElement(Card_default().Title,null,lesson.title),react.createElement(Card_default().Text,null,lesson.description),react.createElement(Button_default(),{variant:"primary",onClick:this.handleCreateFactory(i)},"Create")))))}return out}render(){const{user,t}=this.props;let content;if(!user.templateLessons||user.templateLessons.length===0)content=react.createElement(react.Fragment,null,react.createElement(Modal_default().Header,{closeButton:!0},react.createElement("h1",null,t("create-from-template"))),react.createElement(Modal_default().Body,null,react.createElement("div",{className:"jumbotron"},react.createElement("h1",{style:{textAlign:"center",marginTop:"12%"}},t("no-templates-created-yet")))));else{const layouts=this.createLayout(user.templateLessons);content=react.createElement(visible_barrier.Z,null,react.createElement(Modal_default().Header,{closeButton:!0},react.createElement("h1",null,t("create-from-template"))),react.createElement(Modal_default().Body,null,react.createElement(ResponsiveReactGridLayout,{margin:MARGIN,containerPadding:PADDING,layouts,breakpoints:BREAK_POINTS,cols:COLS,isResizable:!1,isDraggable:!1,rowHeight:60},this.renderTemplates())))}return react.createElement(react.Fragment,null,react.createElement(Modal_default(),{show:this.state.confirmModal===null,onHide:this.props.onHide,dialogClassName:"modal-75w"},content),this.state.confirmModal!==null?react.createElement(confirm_modal,{show:!0,close:this.closeCreateModal,t,targetNamespace:this.props.namespace.title,lesson:this.state.confirmModal,copyLesson:this.props.copyLesson,onCreate:this.props.onCreate}):null)}}LessonCreator.propTypes={copyLesson:prop_types_default().func.isRequired,namespace:prop_types_default().object.isRequired,onCreate:prop_types_default().func.isRequired,onHide:prop_types_default().func.isRequired,user:prop_types_default().object.isRequired};var main=(0,commonjs.Zh)("lessons_page")(LessonCreator)},42432:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return visible_barrier}});var lib=__webpack_require__(37424),react=__webpack_require__(67294),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),commonjs=__webpack_require__(81468);const LicenseBarrier=({admin,user,children})=>{const{t}=(0,commonjs.$G)("common");return!user.licensed&&(!admin.license||!admin.license.valid)?react.createElement("div",{className:"jumbotron",style:{width:"100%",height:"73.7%"}},react.createElement("h3",{style:{textAlign:"center",marginTop:"12%"}},t("not-available-in-community-edition"))):children};LicenseBarrier.propTypes={admin:prop_types_default().object,user:prop_types_default().object},LicenseBarrier.defaultProps={admin:null,user:null};var barrier=LicenseBarrier;function mapStateToProps(state){return{admin:state.admin,user:state.user}}function mapDispatchToProps(){return{}}var visible_barrier=(0,lib.connect)(mapStateToProps,mapDispatchToProps)(barrier)}}]);

//# sourceMappingURL=2022.512ed4c3.chunk.js.map