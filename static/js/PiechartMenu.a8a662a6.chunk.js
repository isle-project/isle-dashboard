"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[1299],{76588:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84420),react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_6__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30276),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7__),_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57082),_isle_project_utils_randomstring_alphanumeric__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68681),_isle_project_components_plots_piechart__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82722),_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(67033),_question_button_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(97113),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));const MODES=["Counts of unique values","Values from a second variable"],PieChartMenu=props=>{const{variables,defaultValue,groupingVariables,quantitative,t}=props,[variable,setVariable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue||variables[0]),[summaryVariable,setSummaryVariable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(quantitative[0]),[group,setGroup]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[mode,setMode]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(MODES[0]),handleGenerate=()=>{const plotId=(0,_isle_project_utils_randomstring_alphanumeric__WEBPACK_IMPORTED_MODULE_2__.Z)(6),action={variable,group,plotId};mode===MODES[1]&&(action.summaryVariable=summaryVariable);const onShare=()=>{props.session.addNotification({title:t("plot-shared"),message:t("plot-shared-message"),level:"success",position:"tr"}),props.logAction(_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_5__.rC,action)},output=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_plots_piechart__WEBPACK_IMPORTED_MODULE_3__.Z,__spreadProps(__spreadValues({id:plotId},props),{variable,group,summaryVariable:mode===MODES[1]?summaryVariable:null,action,onShare}));props.logAction(_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_5__.Cz,action),props.onCreated(output)};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_6___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_6___default().Header,{as:"h4"},t("Pie Chart"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_question_button_js__WEBPACK_IMPORTED_MODULE_4__.Z,{title:t("Pie Chart"),content:t("Pie Chart-description")})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_6___default().Body,{className:"d-grid gap-3"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("pie-sizes-represent"),defaultValue:mode,options:MODES,onChange:setMode}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("variable"),defaultValue:variable,options:variables,onChange:setVariable}),mode===MODES[1]?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("set-slice-sizes"),defaultValue:summaryVariable,options:quantitative,onChange:setSummaryVariable}):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("group-by"),defaultValue:group,options:groupingVariables,clearable:!0,menuPlacement:"top",onChange:setGroup}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7___default(),{variant:"primary",onClick:handleGenerate},t("generate"))))};PieChartMenu.defaultProps={defaultValue:null,groupingVariables:null,logAction(){}},PieChartMenu.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object.isRequired,defaultValue:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,groupingVariables:prop_types__WEBPACK_IMPORTED_MODULE_8___default().array,logAction:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,onCreated:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func.isRequired,session:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object.isRequired,quantitative:prop_types__WEBPACK_IMPORTED_MODULE_8___default().array.isRequired,variables:prop_types__WEBPACK_IMPORTED_MODULE_8___default().array.isRequired},__webpack_exports__.default=PieChartMenu},97113:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(30276),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67883),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1__),react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4635),react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(65498),react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3__),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7848),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4__);const QuestionButton=props=>{const popover=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1___default(),{id:"popover-positioned-right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2___default(),null,props.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3___default(),null,props.content));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4___default(),{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:popover},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5___default(),{"aria-label":props.title,size:"sm",variant:"outline-secondary",className:"question-button"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"fa fa-question"})))};QuestionButton.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().node]).isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string.isRequired},__webpack_exports__.Z=QuestionButton}}]);

//# sourceMappingURL=PiechartMenu.a8a662a6.chunk.js.map