"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[905],{905:function(e,n,t){t.d(n,{Ib:function(){return w},Ll:function(){return x},kC:function(){return b},J3:function(){return Z},qw:function(){return _},Tm:function(){return S},hA:function(){return N},Vw:function(){return R}});var r=t(87757),a=t.n(r),s=t(15861),o=t(86072),c=t.n(o),i=t(67403),u=t(4171),p=t(83531),f=t(84078),l=t(41985),d=t(58713),v=t(33357);function m(e){return{type:v.$8,payload:{namespace:e}}}function w(e){var n=e.title,t=e.owners,r=e.announcements,a=void 0===r?[]:r,s=e.cohorts,o=void 0===s?[]:s,c=e.description,i=e.enableTicketing,u=e._id;return{type:v.WF,payload:{title:n,announcements:a,cohorts:o,description:c,enableTicketing:i,owners:t,_id:u}}}function h(e){return{type:v.ke,payload:{id:e}}}function y(e){var n=e.email,t=e.lessonID,r=e.progress,a=e.cohort;return{type:v.LX,payload:{email:n,lessonID:t,progress:r,cohort:a}}}var g=function(){var e=(0,s.Z)(a().mark((function e(n,t){var r,s,o,i,u,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,s=t.description,o=t.owners,i=t.props,e.prev=1,e.next=4,c().post(f.ZP+"/create_namespace",{title:r,description:s,owners:o});case 4:if((u=e.sent).data.successful){e.next=7;break}return e.abrupt("return",(0,l.EG)(n,new Error(u.data.message)));case 7:p=u.data.namespace,i.onNamespace(p),n(m(p)),i.history.replace("/lessons"),(0,l.wN)(n,{message:u.data.message,level:u.data.successful?"success":"error"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),(0,l.EG)(n,e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n,t){return e.apply(this,arguments)}}(),x=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var r,s,o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.title,s=t.description,o=t.owners,c=t.props,n.next=3,g(e,{title:r,description:s,owners:o,props:c});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(){var e=(0,s.Z)(a().mark((function e(n,t,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().post(f.ZP+"/delete_namespace",{id:t});case 3:s=e.sent,r&&r.replace("/lessons"),n(h(t)),(0,l.wN)(n,{message:s.data.message,level:"success"}),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(0,l.EG)(n,e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t,r){return e.apply(this,arguments)}}(),b=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t,r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k(e,t,r);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},I=function(){var e=(0,s.Z)(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().post(f.ZP+"/update_namespace",{ns:t});case 3:r=e.sent,n(w(r.data.namespace)),n((a=r.data.namespace,s=void 0,o=void 0,i=void 0,u=void 0,p=void 0,s=a.title,o=a.owners,i=a.description,u=a.enableTicketing,p=a._id,{type:v.Rg,payload:{title:s,description:i,owners:o,enableTicketing:u,_id:p}})),(0,l.wN)(n,{message:r.data.message,level:"success"}),(0,d.k$)(n,{namespaceID:t._id}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,l.EG)(n,e.t0);case 13:case"end":return e.stop()}var a,s,o,i,u,p}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t,r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I(e,t,r);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},D=function(){var e=(0,s.Z)(a().mark((function e(n,t){var r,s,o,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.namespaceID,s=t.namespaceTitle,e.prev=1,e.next=4,c().get(f.ZP+"/get_namespace_actions?"+i.stringify({namespaceID:r}));case 4:o=e.sent,u=new Blob([o.data],{type:"application/json"}),d="actions_".concat(s,".json"),(0,p.Z)(u,d),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,l.EG)(n,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}(),_=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.namespaceID,s=t.namespaceTitle,n.next=3,D(e,{namespaceID:r,namespaceTitle:s});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(){var e=(0,s.Z)(a().mark((function e(n,t){var r,s,o,i,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.lessonID,o=t.namespaceID,i=t.progress,p=t.cohort,e.next=3,c().post(f.ZP+"/user_adjust_progress",{email:r,lessonID:s,namespaceID:o,progress:i});case 3:d=e.sent,(0,l.wN)(n,{title:u.Z.t("common:updated"),message:d.data.message,level:"success"}),n(y({email:r,lessonID:s,progress:i,cohort:p}));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),S=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var r,s,o,c,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.email,s=t.lessonID,o=t.namespaceID,c=t.progress,i=t.cohort,n.next=3,E(e,{email:r,lessonID:s,namespaceID:o,progress:c,cohort:i});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(){var e=(0,s.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get(f.ZP+"/get_all_namespaces");case 3:t=e.sent,n({type:v.XM,payload:{namespaces:t.data.namespaces}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,l.EG)(n,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),N=function(e){return(0,s.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T(e);case 2:case"end":return n.stop()}}),n)})))},O=function(){var e=(0,s.Z)(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.lessons,s=t.id,e.prev=1,e.next=4,c().post(f.ZP+"/set_lesson_order",{lessons:r,id:s});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",(0,l.EG)(n,e.t0));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}(),R=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.lessons,s=t.id,n.next=3,O(e,{lessons:r,id:s});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},83531:function(e,n){var t=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function r(e){setImmediate((function(){throw e}),0)}function a(e){return t.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}var s=function(e){if(!("undefined"===typeof e||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),t="download"in n,s=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),c=e.setImmediate||e.setTimeout,i=f.prototype;return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(e,n,t){return n=n||e.name||"download",t||(e=a(e)),navigator.msSaveOrOpenBlob(e,n)}:(i.abort=function(){},i.readyState=i.INIT=0,i.WRITING=1,i.DONE=2,i.error=null,i.onwritestart=null,i.onprogress=null,i.onwrite=null,i.onabort=null,i.onerror=null,i.onwriteend=null,function(e,n,t){return new f(e,n||e.name||"download",t)})}function u(){return e.URL||e.webkitURL||e}function p(e){setTimeout((function(){"string"===typeof e?u().revokeObjectURL(e):e.remove()}),4e4)}function f(i,f,l){l||(i=a(i));var d,v=this,m="application/octet-stream"===i.type;function w(){!function(e,n,t){for(var a=(n=[].concat(n)).length;a--;){var s=e["on"+n[a]];if("function"===typeof s)try{s.call(e,t||e)}catch(o){r(o)}}}(v,"writestart progress write writeend".split(" "))}if(v.readyState=v.INIT,t)return d=u().createObjectURL(i),void c((function(){var e,t;n.href=d,n.download=f,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),w(),p(d),v.readyState=v.DONE}),0);!function(){if((o||m&&s)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,v.readyState=v.DONE,w()},n.readAsDataURL(i),void(v.readyState=v.INIT)}d||(d=u().createObjectURL(i)),m?e.location.href=d:e.open(d,"_blank")||(e.location.href=d),v.readyState=v.DONE,w(),p(d)}()}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||(void 0).content);n.Z=s}}]);
//# sourceMappingURL=905.8bc10bb0.chunk.js.map