"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[9197],{91170:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(38603),l=n(91532),i=n.n(l),s=n(58651),o=n(74360),r=n.n(o),d=n(20993),c=n(11611),u=n(69977),p=n(12908),h=n(26216),m=n.n(h),f=n(89506),b=n.n(f),C=n(17218),g=n.n(C),y=n(64300),v=n.n(y);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z={clearIndicator:(e,t)=>({...e,cursor:"pointer"}),multiValueRemove:(e,t)=>({...e,cursor:"pointer"}),valueContainer:(e,t)=>({...e,cursor:"text"})},w=e=>({label:e,value:e}),F=e=>g()(e)?null:m()(e)&&e[0].label&&e[0].value?e:e.map(w);class P extends a.Component{constructor(e){super(e),E(this,"handleChange",(e=>{this.setState({value:e}),this.props.onChange(e)})),E(this,"handleInputChange",((e,t)=>{"menu-close"===t.action?this.addInputValues():"input-blur"!==t.action&&this.setState({inputValue:e})})),E(this,"addInputValues",(()=>{let e,{inputValue:t,value:n}=this.state;if(!t)return null;t=b()(t,",")?t.split(",").map((e=>v()(e))):[v()(t)],e=n?n.concat(t.map(w)):t.map(w),this.setState({inputValue:"",value:e},(()=>{this.props.onChange(this.state.value)}))})),E(this,"handleKeyDown",(e=>{switch(e.key){case"Enter":case"Tab":this.addInputValues()}})),this.state={inputValue:"",value:F(e.defaultValue)}}componentDidUpdate(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:F(this.props.defaultValue)})}render(){const{inputValue:e,value:t}=this.state,n=this.props.isInvalid,l={DropdownIndicator:null,MultiValueLabel:e=>{const t=()=>{r()(e.data.label)};return a.createElement(p.Z,{overlay:a.createElement(u.Z,{id:"copy_tooltip"},this.props.t("copy-tooltip")),placement:"bottom"},a.createElement("span",{role:"button",tabIndex:0,onClick:t,onKeyPress:t,className:"text-select-copy","aria-label":this.props.t("copy-tooltip")},a.createElement(c.c.MultiValueLabel,e)))}};return a.createElement(d.Z,{inputId:this.props.id,components:l,inputValue:e,isClearable:this.props.isClearable,isMulti:!0,menuIsOpen:!1,onChange:this.handleChange,onInputChange:this.handleInputChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,value:t,styles:{...Z,control:(e,t)=>{const a={...e};return t.isFocused&&n&&(a.boxShadow="0 0 0 0.2rem rgba(220,53,69,0.25)"),a.borderColor=n?"#dc3545":"#ddd",a["&:hover"]={borderColor:n?"#dc3545":"#ddd"},a},...this.props.styles},t:this.props.t})}}P.propTypes={defaultValue:i().array,id:i().string,isClearable:i().bool,isInvalid:i().bool,onChange:i().func,placeholder:i().string,styles:i().object},P.defaultProps={defaultValue:[],id:null,isClearable:!1,isInvalid:!1,onChange(){},placeholder:"",styles:{}};var k=(0,s.Z)(["text_select","common"])(P)},9197:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(38603),l=n(58651),i=n(91532),s=n.n(i),o=n(12630),r=n(69977),d=n(79298),c=n(71191),u=n(12908),p=n(38593),h=n(67289),m=n(47331),f=n(87078),b=n(56233),C=n(27275),g=n(14704),y=n(91170);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=[{value:"text",label:"Text"},{value:"dropdown",label:"Dropdown"},{value:"checkbox",label:"Checkbox"}];class Z extends a.Component{constructor(e){super(e),v(this,"createCustomField",(()=>{const e={name:this.state.name,description:this.state.description,type:this.state.type.value,position:this.props.customFields.length,showOnProfile:this.state.showOnProfile,editableOnSignup:this.state.editableOnSignup,editableOnProfile:this.state.editableOnProfile};"dropdown"===e.type&&(e.options=this.state.options.map((e=>e.value))),this.props.createCustomField(e),this.props.onHide()})),v(this,"handleInputChange",(e=>{const t=e.target,n=t.value,a=t.name;this.setState({[a]:n})})),v(this,"handleCheckboxChangeFactory",(e=>t=>{this.setState({[e]:t.target.checked})})),this.state={name:"",description:"",type:E[0],options:[],showOnProfile:!1,editableOnSignup:!1,editableOnProfile:!1}}render(){const e=this.props.t,{name:t,description:n}=this.state,l=t.length>=3,i=n.length>=3;return a.createElement(a.Fragment,null,a.createElement(g.Z,{show:this.props.show,onHide:this.props.onHide},a.createElement(g.Z.Header,{closeButton:!0},a.createElement(g.Z.Title,{as:"h3",style:{width:"100%"}},e("admin_settings:create-user-field"))),a.createElement(g.Z.Body,null,a.createElement(b.Z,{controlId:"formFieldName"},a.createElement(m.Z,null,e("field-name")),a.createElement(f.Z,{name:"name",type:"text",placeholder:e("enter-field-name"),defaultValue:t,onChange:this.handleInputChange,isInvalid:!l}),a.createElement(f.Z.Feedback,{type:"invalid"},e("invalid-name"))),a.createElement(b.Z,{controlId:"formFieldDescription"},a.createElement(m.Z,null,e("field-description")),a.createElement(f.Z,{name:"description",type:"text",placeholder:e("enter-field-description"),defaultValue:n,onChange:this.handleInputChange,isInvalid:!i}),a.createElement(f.Z.Feedback,{type:"invalid"},e("invalid-description"))),a.createElement(b.Z,{controlId:"formFieldType"},a.createElement(m.Z,null,e("field-type")),a.createElement(h.ZP,{options:E,defaultValue:this.state.type,onChange:e=>{this.setState({type:e})}}),"dropdown"===this.state.type.value?a.createElement(y.Z,{placeholder:e("create-dropdown-options"),options:this.state.options,onChange:e=>{this.setState({options:e})}}):null),a.createElement(b.Z,null,a.createElement(C.Z,{type:"checkbox",label:e("editable-on-signup"),defaultChecked:!1,onChange:e=>{this.setState({editableOnSignup:!this.state.editableOnSignup})}})),a.createElement(b.Z,null,a.createElement(C.Z,{type:"checkbox",label:e("show-on-profile"),defaultChecked:!1,onChange:e=>{this.setState({showOnProfile:!this.state.showOnProfile})}})),a.createElement(b.Z,null,a.createElement(C.Z,{type:"checkbox",label:e("editable-on-profile"),defaultChecked:!1,onChange:e=>{this.setState({editableOnProfile:!this.state.editableOnProfile})}}))),a.createElement(g.Z.Footer,null,a.createElement(o.Z,{onClick:this.props.onHide},e("common:cancel")),a.createElement(o.Z,{variant:"success",onClick:this.createCustomField,disabled:!l||!i},e("common:create")))))}}Z.propTypes={createCustomField:s().func.isRequired,customFields:s().array,onHide:s().func.isRequired,show:s().bool.isRequired,t:s().func.isRequired},Z.defaultProps={customFields:[]};var w=Z;function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends a.Component{constructor(e){super(e),F(this,"toggleCreateModal",(()=>{this.setState({showCreateModal:!this.state.showCreateModal})})),F(this,"handleDeletionFactory",(e=>()=>{this.props.deleteCustomField(e)})),this.state={showCreateModal:!1}}componentDidMount(){this.props.getCustomFields()}render(){const{t:e}=this.props,t=this.props.user.availableCustomFields||[];return a.createElement(a.Fragment,null,a.createElement("div",{className:"admin-settings-outer-container"},a.createElement(p.Z,null,a.createElement("h1",null,this.props.t("user-fields")),a.createElement("p",null,this.props.t("user-fields-description")),t.length>0?a.createElement(c.Z,{className:"admin-settings-fields-list"},t.map(((n,l)=>{let i;return"dropdown"===n.type&&(i=`; options: ${n.options.join(", ")}`),a.createElement(c.Z.Item,{key:l},a.createElement("b",null,n.name),": ",n.description," (type: ",n.type,i,")",n.editableOnSignup?", editableOnSignup":"",n.showOnProfile?", showOnProfile":"",n.editableOnProfile?", editableOnProfile":"",a.createElement(u.Z,{placement:"left",overlay:a.createElement(r.Z,{id:"delete_field"},e("delete-field"))},a.createElement(o.Z,{variant:"outline-secondary",onClick:this.handleDeletionFactory(n._id),"aria-label":e("delete-field")},a.createElement("div",{className:"fa fa-trash-alt"}))),a.createElement(o.Z,{"aria-label":e("increment-position"),variant:"outline-secondary",onClick:()=>{this.props.incrementFieldPosition(n._id)},disabled:l===t.length-1},a.createElement("i",{className:"fas fa-arrow-down"})),a.createElement(o.Z,{"aria-label":e("decrement-position"),variant:"outline-secondary",onClick:()=>{this.props.decrementFieldPosition(n._id)},disabled:0===l},a.createElement("i",{className:"fas fa-arrow-up"})))}))):a.createElement(d.Z,{className:"admin-settings-fields-jumbotron"},e("no-custom-fields")),a.createElement(o.Z,{variant:"primary",onClick:this.toggleCreateModal},a.createElement("i",{className:"fas fa-plus",style:{marginRight:8}}),this.props.t("add-user-field")))),this.state.showCreateModal?a.createElement(w,{show:this.state.showCreateModal,onHide:this.toggleCreateModal,t:this.props.t,createCustomField:this.props.createCustomField,availableCustomFields:this.props.user.availableCustomFields}):null)}}P.propTypes={createCustomField:s().func.isRequired,decrementFieldPosition:s().func.isRequired,deleteCustomField:s().func.isRequired,getCustomFields:s().func.isRequired,incrementFieldPosition:s().func.isRequired,user:s().object},P.defaultProps={user:{}};var k=(0,l.Z)("admin_settings")(P)},38593:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(30322),l=n(38603),i=n(91532),s=n.n(i),o=n(58651),r=n(79298);class d extends l.Component{render(){const e=this.props.admin;return this.props.user.licensed||e.license&&e.license.valid?this.props.children:l.createElement(r.Z,{style:{width:"100%",height:"73.7%"}},l.createElement("h3",{style:{textAlign:"center",marginTop:"12%"}},this.props.t("not-available-in-community-edition")))}}d.propTypes={admin:s().object,user:s().object},d.defaultProps={admin:null,user:null};var c=(0,o.Z)("common")(d);var u=(0,a.$j)((function(e){return{admin:e.admin,user:e.user}}),(function(){return{}}))(c)}}]);
//# sourceMappingURL=9197.a90ec12a.chunk.js.map