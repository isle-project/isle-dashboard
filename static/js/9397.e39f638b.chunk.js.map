{"version":3,"sources":["actions/badge.js","actions/file.js","actions/ticket.js","components/async/index.js","components/ticket-modal/index.js","utils/format_time.js"],"names":[],"mappings":"04CAuCA,iCAAiC,CAAE,KAAM,YAAa,SAAW,CAChE,KAAM,KAAM,iDAAS,WAAa,QAClC,MAAO,CACN,SACC,iDAAC,MAAD,KACC,iDAAC,KAAD,KAAK,0CAAU,yBAA0B,MACzC,iDAAC,MAAD,KACC,iDAAC,MAAD,KACC,iDAAC,MAAD,CAAK,UAAU,0BACf,iDAAC,MAAD,CAAK,UAAU,iBAAiB,IAAK,IAAK,IAAI,oBAE/C,iDAAC,IAAD,CAAG,MAAO,CAAE,UAAW,KAAO,0CAAU,6BAA6B,iDAAC,IAAD,KAAI,gBAI5E,MAAO,OACP,SAAU,KACV,YAAa,SACb,YAAa,GAaR,4BAA6B,OAAS,CAC5C,MAAO,CACN,KAAM,0DACN,QAAS,CACR,SAWI,yBAA0B,OAAS,CACzC,MAAO,CACN,KAAM,0DACN,QAAS,CACR,SAUI,KAAM,eAAwB,UAAc,gCAClD,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,oBAC9B,CAAE,OAAQ,aAAgB,IAAI,KAEpC,GADA,SAAU,mBAAoB,SACzB,YAAY,OAAS,EACzB,OAAU,GAAI,EAAG,EAAI,OAAO,OAAQ,IAAM,CACzC,KAAM,MAAO,OAAO,GACf,+DAAU,YAAa,KAAK,OAChC,yDAAiB,SAAU,wBAAyB,cAI9C,IAJ8C,CAKvD,yDAAsB,SAAU,QAUrB,sBAA0B,UAC/B,IAAY,gCAClB,KAAM,eAAe,YASV,mBAA6B,UAAc,gCACvD,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,yBACpC,SAAU,gBAAiB,IAAI,aACtB,IADsB,CAE/B,yDAAsB,SAAU,QAUrB,2BAA+B,UACpC,IAAY,gCAClB,KAAM,oBAAoB,a,wzECrH5B,yBAAgC,GAAU,GAAkC,yCAA5C,SAAU,CAAE,cAAe,MAAQ,IAAS,CAC3E,GAAI,CACH,KAAM,KAAM,GAAG,8DAAoB,mDAAa,CAC/C,cACA,UAGK,MAAQ,MADI,kDAAW,MACX,KAAK,MACvB,SAAU,uBAAuB,CAAE,MAAO,eACjC,IADiC,CAE1C,yDAAsB,SAAU,QAQ3B,uBAAwB,MAAQ,CACtC,MAAO,CACN,KAAM,0DACN,QAAS,CACR,QAKI,yBAA0B,QAAU,CAC1C,MAAO,CACN,KAAM,0DACN,QAAS,CACR,UAKI,yBAA0B,CAChC,MAAO,CACN,KAAM,2DAID,gCAAgC,CAAE,MAAO,OAAS,CACxD,MAAO,CACN,KAAM,0DACN,QAAS,CACR,MACA,QAKI,KAAM,cAAuB,UAAc,gCACjD,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,mBACpC,SAAU,cAAe,IAAI,KAAK,cACzB,IADyB,CAElC,yDAAsB,SAAU,QAIrB,qBAAyB,UAC9B,IAAY,gCAClB,KAAM,cAAc,YAIT,WAAa,CAAQ,SAAU,IAAK,cAAe,QAAW,gCAC1E,GAAI,CACH,KAAM,KAAM,KAAM,mDAAY,GAAG,+DAAsB,CAAE,MACpD,cACJ,gBAAiB,SAAU,CAAE,cAAe,QAE5C,SAAS,CACR,KAAM,0DACN,QAAS,CACR,GAAI,OAIP,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,4BACjB,QAAS,IAAI,KAAK,QAClB,MAAO,kBAEC,IAFD,CAGR,yDAAsB,SAAU,QAIrB,mBAAuB,UAC5B,CAAQ,IAAK,cAAe,QAAW,gCAC7C,KAAM,YAAY,SAAU,IAAK,cAAe,SAIrC,WAAa,CAAQ,GAAU,KAAuB,gBAAjC,GAAU,IAAuB,UAAjC,SAAU,CAAE,SAAU,MAAW,CAClE,GAAI,CACH,KAAM,OAAQ,mDAAa,CAC1B,cAAe,SAAS,IAAK,iBAC7B,MAAO,SAAS,IAAK,SACrB,IAAK,KAAK,QAEL,IAAM,KAAM,mDAAY,iDAAO,gBAAiB,MAAO,UAC7D,gBAAiB,SAAU,CAC1B,cAAe,SAAS,IAAK,iBAC7B,MAAO,SAAS,IAAK,WAEtB,KAAM,KAAM,CACX,MAAO,0CAAU,4BACjB,QAAS,IAAI,KAAK,QAClB,MAAO,UACP,SAAU,KACV,YAAa,IAEd,WAAI,SAAW,iDAAC,MAAD,CAAK,MAAO,CAAE,aAAc,KAC1C,iDAAC,sEAAD,CAAgB,UAAU,SAAS,QAAS,iDAAC,+DAAD,CAAS,GAAG,gBACtD,0CAAU,sBAEX,iDAAC,+DAAD,CACC,KAAK,KACL,QAAQ,oBACR,MAAO,CAAE,MAAO,QAAS,YAAa,QACtC,QAAS,IAAM,CACd,sDAAiB,iDAAO,IAAI,IAAI,KAAK,UACrC,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,uBACjB,QAAS,0CAAU,sBACnB,MAAO,UACP,SAAU,SAIZ,iDAAC,IAAD,CAAG,UAAU,sBAGf,iDAAC,sEAAD,CAAgB,UAAU,SAAS,QAAS,iDAAC,+DAAD,CAAS,GAAG,gBACtD,0CAAU,+BAEX,iDAAC,IAAD,CACC,KAAM,iDAAO,IAAI,IAAI,KAAK,SAC1B,OAAO,SACP,IAAI,sBACJ,MAAO,CAAE,MAAO,QAAS,YAAa,SAEtC,iDAAC,+DAAD,CAAQ,KAAK,KAAK,QAAQ,qBACzB,iDAAC,IAAD,CAAG,UAAU,gCAKV,yDAAiB,SAAU,WACzB,IADyB,CAElC,yDAAsB,SAAU,QAIrB,mBAAuB,UACrB,IAAuB,gBAAvB,IAAuB,UAAvB,CAAE,SAAU,MAAW,CACpC,KAAM,YAAY,SAAU,CAAE,SAAU,SAI7B,iBAAqB,UACnB,IAAsB,gBAAtB,IAAsB,UAAtB,CAAE,eAAoB,CACnC,KAAM,iBAAiB,SAAU,CAAE,kBAIxB,sBAA0B,UACxB,IAAsB,gBAAtB,IAAsB,UAAtB,CAAE,eAAoB,CACnC,KAAM,iBAAiB,SAAU,CAAE,cAAe,MAAO,OAI9C,YAAsB,UAAc,gCAChD,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,kBACpC,SAAS,CACR,KAAM,0DACN,QAAS,CACR,MAAO,IAAI,KAAK,eAGT,IAHS,CAIlB,MAAO,yDAAsB,SAAU,QAI5B,oBAAwB,UAC7B,IAAY,gCAClB,KAAM,aAAa,YAIR,cAAgB,CAAQ,GAAU,KAAuB,gBAAjC,GAAU,IAAuB,UAAjC,SAAU,CAAE,SAAU,MAAW,CACrE,GAAI,CACH,KAAM,OAAQ,mDAAa,CAC1B,IAAK,KAAK,QAEL,IAAM,KAAM,mDAAY,iDAAO,mBAAoB,MAAO,UAChE,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,mBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,UACP,SAAU,KACV,YAAa,IAEd,SAAU,gBAAiB,IAAI,KAAK,gBAC3B,IAD2B,CAEpC,MAAO,yDAAsB,SAAU,QAI5B,sBAA0B,UACxB,IAAuB,gBAAvB,IAAuB,UAAvB,CAAE,SAAU,MAAW,CACpC,KAAM,eAAe,SAAU,CAAE,SAAU,SAIhC,WAAa,CAAQ,SAAU,OAAU,gCACrD,GAAI,CACH,KAAM,OAAQ,mDAAa,CAC1B,IAAK,KAAK,QAEL,IAAM,KAAM,kDAAW,iDAAO,gBAAiB,OACrD,SAAU,gBAAiB,IAAI,KAAK,gBAC3B,IAD2B,CAEpC,MAAO,yDAAsB,SAAU,QAI5B,mBAAuB,UACpB,MAAU,gCACxB,KAAM,YAAY,SAAU,QAIjB,cAAwB,UAAc,gCAClD,GAAI,CAEE,MADa,mDAAY,iDAAO,oBAC5B,KAAK,UAAY,MACzB,SAAU,wBAEF,IAFE,CAGX,MAAK,KAAI,QAAQ,SAAU,QAE1B,SAAU,kBAEJ,yDAAsB,SAAU,QAI5B,sBAA0B,UAC/B,IAAY,gCAClB,KAAM,eAAe,YAIV,WAAa,CAAQ,GAAU,KAAuB,gBAAjC,GAAU,IAAuB,UAAjC,SAAU,CAAE,SAAU,MAAW,CAClE,GAAI,CACH,KAAM,OAAQ,mDAAa,CAC1B,IAAK,KAAK,QAEL,IAAM,KAAM,mDAAY,iDAAO,gBAAiB,MAAO,UAC7D,+DAAiB,SAAU,CAC1B,MAAO,0CAAU,mBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,UACP,SAAU,KACV,YAAa,IAEd,SAAS,CACR,KAAM,0DACN,QAAS,IAAI,OAEP,IAAI,WACF,IADE,CAEX,+DAAsB,SAAU,KACzB,OAII,mBAAuB,UACrB,IAAuB,gBAAvB,IAAuB,UAAvB,CAAE,SAAU,MAAW,CAEpC,MADY,MAAM,YAAY,SAAU,CAAE,SAAU,U,q8CCzR/C,KAAM,eAAwB,UAAc,gCAClD,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,oBACpC,SAAS,CACR,KAAM,0DACN,QAAS,CACR,QAAS,IAAI,KAAK,iBAGX,IAHW,CAIpB,MAAO,yDAAsB,SAAU,QAU5B,sBAAwB,UAC7B,IAAY,gCAClB,KAAM,eAAe,YAWV,iBAAmB,CAAQ,SAAU,cAAiB,gCAClE,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,uBAAuB,mDAAa,CAAE,eAC1E,SAAS,CACR,KAAM,0DACN,QAAS,CACR,QAAS,IAAI,KAAK,iBAGX,IAHW,CAIpB,MAAO,yDAAsB,SAAU,QAU5B,yBAA2B,UACxB,IAAQ,gCACtB,KAAM,kBAAkB,SAAU,MAUvB,eAAyB,UAAc,gCACnD,GAAI,CACH,KAAM,KAAM,KAAM,kDAAW,iDAAO,qBACpC,SAAS,CACR,KAAM,0DACN,QAAS,CACR,QAAS,IAAI,KAAK,iBAGX,IAHW,CAIpB,MAAO,yDAAsB,SAAU,QAU5B,uBAAyB,UAC9B,IAAY,gCAClB,KAAM,gBAAgB,YAWX,aAAe,CAAQ,SAAU,KAAQ,gCACrD,GAAI,CACH,KAAM,KAAM,KAAM,mDAAY,iDAAO,iBAAkB,CACtD,KAED,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,kBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,YAER,SAAS,CACR,KAAM,0DACN,QAAS,CACR,YAGO,IAHP,CAIF,MAAO,yDAAsB,SAAU,QAU5B,qBAAuB,UACpB,IAAQ,gCACtB,KAAM,cAAc,SAAU,MAgBnB,aAAe,CAAQ,GAAU,KAMxC,gBAN8B,GAAU,IAMxC,UAN8B,SAAU,CAC7C,MACA,YACA,SACA,UACA,OACK,CACL,GAAI,CACH,GAAI,KACA,YACJ,GAAK,CAAC,OAAS,MAAM,SAAW,EAC/B,IAAM,KAAM,mDAAY,iDAAS,iBAAkB,CAClD,MACA,YACA,SACA,YAAa,UAAU,MAExB,YAAc,OACR,CACN,KAAM,UAAW,GAAI,UACrB,OAAU,GAAI,EAAG,EAAI,MAAM,OAAQ,IAClC,SAAS,OAAQ,aAAc,MAAO,IAEvC,SAAS,OAAQ,QAAS,OAC1B,SAAS,OAAQ,cAAe,aAChC,SAAS,OAAQ,WAAY,KAAK,UAAW,WAC7C,SAAS,OAAQ,cAAe,UAAU,KAC1C,IAAM,KAAM,mDAAY,iDAAS,iBAAkB,UACnD,YAAc,IAAI,KAAK,YAExB,+DAAiB,SAAU,CAC1B,MAAO,0CAAU,kBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,YAER,SAAS,CACR,KAAM,0DACN,QAAS,CACR,MACA,YACA,SACA,UACA,eAGK,UACE,IADF,CAEP,MAAO,yDAAsB,SAAU,QAU5B,qBAAuB,UACrB,IAMR,gBANQ,IAMR,UANQ,CACb,MACA,YACA,SACA,UACA,OACK,CACL,KAAM,cAAc,SAAU,CAC7B,MACA,YACA,SACA,UACA,UAeU,kBAAoB,CAAQ,GAAU,KAAiC,gBAA3C,GAAU,IAAiC,UAA3C,SAAU,CAAE,QAAS,SAAU,MAAY,CACnF,GAAI,CACH,KAAM,KAAM,KAAM,mDAAY,iDAAO,sBAAuB,CAC3D,KAAM,QACN,WAEK,OAAS,CACd,KAAM,QACN,OAAQ,KAAK,KACb,MAAO,KAAK,MACZ,QAAS,KAAK,QACd,UAAW,GAAI,QAAO,WAEvB,SAAS,CACR,KAAM,0DACN,QAAS,CACR,GAAI,SACJ,QAAS,UAGX,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,gBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,kBAEC,IAFD,CAGR,MAAO,yDAAsB,SAAU,QAU5B,0BAA4B,UAC1B,IAAgC,gBAAhC,IAAgC,UAAhC,CAAE,QAAS,SAAU,MAAW,CAC7C,KAAM,mBAAmB,SAAU,CAAE,QAAS,SAAU,SAW7C,YAAc,CAAQ,SAAU,KAAQ,gCACpD,GAAI,CACH,KAAM,KAAM,KAAM,mDAAY,iDAAO,gBAAiB,CACrD,SAAU,KAEX,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,iBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,YAER,SAAS,CACR,KAAM,0DACN,QAAS,CACR,YAGO,IAHP,CAIF,MAAO,yDAAsB,SAAU,QAU5B,oBAAsB,UACnB,IAAQ,gCACtB,KAAM,aAAa,SAAU,MAYlB,eAAiB,CAAQ,SAAU,GAAI,WAAc,gCACjE,GAAI,CACH,KAAM,KAAM,KAAM,mDAAY,iDAAO,0BAA2B,CAC/D,SAAU,GACV,WAED,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,kBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,YAER,SAAS,CACR,KAAM,0DACN,QAAS,CACR,GACA,kBAGO,IAHP,CAIF,MAAO,yDAAsB,SAAU,QAU5B,uBAAyB,UAC9B,CAAQ,GAAI,WAAc,gCAChC,KAAM,gBAAgB,SAAU,GAAI,YAWzB,WAAa,CAAQ,SAAU,KAAQ,gCACnD,GAAI,CACH,KAAM,KAAM,KAAM,mDAAY,iDAAO,eAAgB,CACpD,SAAU,KAEX,yDAAiB,SAAU,CAC1B,MAAO,0CAAU,iBACjB,QAAS,IAAI,KAAK,QAClB,MAAO,YAER,SAAS,CACR,KAAM,0DACN,QAAS,CACR,YAGO,IAHP,CAIF,MAAO,yDAAsB,SAAU,QAU5B,mBAAqB,UAClB,IAAQ,gCACtB,KAAM,YAAY,SAAU,O,umCClZ9B,wBAAyB,gBAAkB,CAC1C,4BAA6B,6CAAU,CACtC,YAAa,MAAQ,CACpB,MAAO,OAEP,KAAK,MAAQ,CACZ,UAAW,MAIP,mBAAoB,sCACzB,KAAM,CAAE,QAAS,WAAc,KAAM,mBACrC,KAAK,SAAS,CACb,cAIF,QAAS,CACR,KAAM,GAAI,KAAK,MAAM,UACrB,MAAO,GAAI,iDAAC,EAAD,kBAAO,KAAK,QAAY,iDAAC,kDAAD,OAGrC,MAAO,gBAMR,sBAAe,gB,wsCClBf,KAAM,eAAkB,KAChB,oBAAC,kBAAD,CAAS,GAAG,WAAW,KAM/B,yBAA0B,gBAAU,CACnC,YAAa,MAAQ,CACpB,MAAO,OAOR,0CAAyB,OAAW,CACnC,KAAK,SAAS,CACb,SAAU,MAAM,OAAO,UAIzB,0CAAuB,IAAM,CAC5B,KAAK,MAAM,oBAAoB,CAC9B,QAAS,KAAK,MAAM,SACpB,SAAU,KAAK,MAAM,OAAO,MAE7B,KAAK,SAAS,CACb,SAAU,OAIZ,sCAAmB,IAAM,CACnB,KAAK,MAAM,OAAO,KACtB,KAAK,MAAM,WAAY,KAAK,MAAM,OAAO,KAEzC,KAAK,MAAM,YAAa,KAAK,MAAM,OAAO,OAI5C,mCAAgB,CAAE,IAAK,MAAS,CAC/B,KAAM,GAAI,KAAK,MAAM,EACf,UAAY,GAAI,MAAM,IAAI,WAChC,MACC,qBAAC,MAAD,CAAK,UAAU,oBAAoB,IAAK,KACvC,oBAAC,MAAD,CAAK,UAAU,gBACd,oBAAC,MAAD,CAAK,UAAU,uBACd,oBAAC,MAAD,CAAK,IAAK,GAAG,uBAAoB,IAAI,UAAW,IAAI,sBAErD,oBAAC,MAAD,CAAK,UAAU,uBACd,oBAAC,OAAD,CAAM,UAAU,kBAAmB,IAAI,QAAe,OAC/C,EAAE,kBAAmB,CAAE,KAAM,GAAG,UAAU,wBAAwB,UAAU,2BAGrF,oBAAC,MAAD,CAAK,UAAU,gBACb,IAAI,SA5CR,KAAK,MAAQ,CACZ,SAAU,IAiDZ,QAAS,CACR,KAAM,GAAI,KAAK,MAAM,EACf,CAAE,QAAW,KAAK,MACxB,MACC,qBAAC,eAAD,KACC,oBAAC,gBAAD,CAAO,KAAM,KAAK,MAAM,KAAM,OAAQ,KAAK,MAAM,OAAQ,gBAAgB,aACxE,oBAAC,uBAAD,KACC,oBAAC,sBAAD,CAAa,GAAG,KAAK,MAAO,CAAE,MAAO,SACnC,EAAE,gBAAgB,KAAG,OAAO,MAC7B,oBAAC,yBAAD,CAAgB,UAAU,QAAQ,QAAS,cAAe,EAAE,wBAC3D,oBAAC,iBAAD,CACC,QAAS,KAAK,MAAM,OACpB,MAAO,CAAE,MAAO,SAChB,QAAQ,oBACR,aAAY,EAAE,sBACd,UAAU,eAEV,oBAAC,OAAD,CAAM,cAAY,QAAO,SAK7B,oBAAC,qBAAD,CAAY,MAAO,CAAE,OAAQ,OAAQ,UAAW,SAC/C,oBAAC,OAAD,CAAM,UAAU,SAAS,EAAE,sBAAsB,KACjD,oBAAC,IAAD,CAAG,MAAO,CAAE,WAAY,aACtB,OAAO,aAET,oBAAC,KAAD,MACC,OAAO,UAAU,MACjB,oBAAC,eAAD,KACC,oBAAC,OAAD,CAAM,UAAU,SAAS,GAAG,EAAE,sBAC9B,oBAAC,OAAD,KAAO,OAAO,UAAU,OACvB,OAEF,KAEA,OAAO,OACP,oBAAC,eAAD,KACC,oBAAC,OAAD,CAAM,UAAU,SAAS,GAAG,EAAE,sBAC9B,oBAAC,OAAD,KAAO,OAAO,OAAO,OACpB,OAEF,KAEA,OAAO,UACP,oBAAC,eAAD,KACC,oBAAC,OAAD,CAAM,UAAU,SAAS,GAAG,EAAE,yBAC9B,oBAAC,OAAD,KAAO,OAAO,YAEf,KAEA,OAAO,YAAY,OAAS,EAC5B,oBAAC,eAAD,KACC,oBAAC,KAAD,MACA,oBAAC,OAAD,CAAM,UAAU,SAAS,GAAG,EAAE,2BAC7B,OAAO,YAAY,IAAK,CAAE,KAAM,MACvB,oBAAC,IAAD,CAAG,aAAY,EAAE,sBAAuB,KAAM,GAAG,yBAAsB,KAAK,WAAY,IAAK,IAAK,MAAO,CAAE,WAAY,GAAK,OAAO,SAAS,IAAI,uBACxJ,oBAAC,IAAD,CAAG,UAAU,cAAc,MAAO,CAAE,YAAa,KAChD,KAAK,SAIT,KAED,oBAAC,KAAD,MACA,oBAAC,KAAD,MACA,oBAAC,OAAD,CAAM,UAAU,SAAS,EAAE,mBAAmB,KAC7C,OAAO,SAAS,IAAK,KAAK,eAC3B,oBAAC,KAAD,OAED,oBAAC,uBAAD,CAAc,MAAO,CAAE,WAAY,eAClC,oBAAC,oBAAD,CAAW,UAAU,YAAY,MAAO,CAAE,MAAO,uBAChD,oBAAC,oBAAD,KAAY,EAAE,mBACd,oBAAC,sBAAD,CACC,KAAK,OACL,KAAK,OACL,GAAG,WAAW,KAAK,IACnB,MAAO,KAAK,MAAM,SAClB,YAAa,OAAO,KAAO,EAAE,uBAAyB,EAAE,uBACxD,SAAU,KAAK,qBACf,SAAU,OAAO,QAInB,oBAAC,MAAD,CAAK,MAAO,CAAE,MAAO,QAAS,MAAO,SAAW,UAAU,gBACzD,oBAAC,iBAAD,CACC,QAAS,KAAK,qBACd,SAAU,CAAC,KAAK,MAAM,UAAY,OAAO,MAExC,EAAE,oBAEJ,oBAAC,iBAAD,CACC,QAAS,KAAK,kBAEb,OAAO,KAAO,EAAE,sBAAwB,EAAE,wBAE5C,oBAAC,iBAAD,CACC,QAAS,KAAK,MAAM,QAEnB,EAAE,qBAaX,YAAY,UAAY,CACvB,YAAa,qCACb,OAAQ,qCACR,WAAY,qCACZ,KAAM,qCACN,oBAAqB,qCACrB,OAAQ,wCAGT,YAAY,aAAe,GAK3B,iBAAe,gBAAiB,CAAE,eAAgB,WAAc,c,qUC5LhE,KAAM,YAAa,CAAE,KAAM,KAAO,CAAE,MAAO,GAAM,QAAS,GAAM,QAAS,MAAW,CACnF,KAAO,KAAO,IACd,KAAM,OAAQ,uEAAO,KAAS,IAAG,KACjC,KAAO,KAAS,IAAG,IACnB,GAAI,SAAU,uEAAO,KAAO,IACvB,QAAU,IACd,SAAU,IAAI,SAEf,KAAO,KAAO,GACd,GAAI,SAAU,uEAAO,MAChB,QAAU,IACd,SAAU,IAAI,SAEf,GAAI,KAAM,GACV,MAAK,MAAK,OACT,MAAO,OAEH,KAAK,SACJ,MACJ,MAAO,KAER,KAAO,SAEH,KAAK,SACJ,MACJ,MAAO,KAER,KAAO,SAED,KAMR,sBAAe,Y","file":"static/js/9397.e39f638b.chunk.js","sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport axios from 'axios';\nimport i18next from 'i18next';\nimport contains from '@stdlib/assert/contains';\nimport server from 'constants/server';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { RETRIEVED_BADGES, USER_RECEIVED_BADGES } from 'constants/action_types.js';\n\n\n// FUNCTIONS //\n\n/**\n * Create a badge notification object for use in the `react-notification-system` component.\n *\n * @param {Object} opts - options\n * @param {string} opts.name - name of the badge\n * @param {string} opts.description - description of the badge\n * @param {string} opts.picture - URL with icon of the badge\n * @returns {Object} `react-notification-system` component configuration\n */\nfunction createBadgeNotification({ name, description, picture }) {\n\tconst pic = server + '/badges/' + picture;\n\treturn {\n\t\tchildren: (\n\t\t\t<div>\n\t\t\t\t<h3>{i18next.t('common:received-badge')}{name}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"received-badge-before\" />\n\t\t\t\t\t\t<img className=\"received-badge\" src={pic} alt=\"Received Badge\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<p style={{ marginTop: 15 }}>{i18next.t('common:received-badge-for')}<b>{description}</b></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\tlevel: 'info',\n\t\tposition: 'tc',\n\t\tdismissible: 'button',\n\t\tautoDismiss: 0\n\t};\n}\n\n\n// FUNCTIONS //\n\n/**\n * Returns an action for retrieving the user's badges.\n *\n * @param {Array} badges - retrieved user badges\n * @returns {Object} action\n */\nexport function receivedUserBadges( badges ) {\n\treturn {\n\t\ttype: USER_RECEIVED_BADGES,\n\t\tpayload: {\n\t\t\tbadges\n\t\t}\n\t};\n}\n\n/**\n * Returns an action for retrieved available badges.\n *\n * @param {Array} badges - retrieved available badges\n * @returns {Object} action\n */\nexport function retrievedBadges( badges ) {\n\treturn {\n\t\ttype: RETRIEVED_BADGES,\n\t\tpayload: {\n\t\t\tbadges\n\t\t}\n\t};\n}\n\n/**\n * Makes a GET request to retrieve the user's badges.\n *\n * @param {Function} dispatch - dispatch function\n */\nexport const getUserBadges = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_user_badges' );\n\t\tconst { badges, addedBadges } = res.data;\n\t\tdispatch( receivedUserBadges( badges ) );\n\t\tif ( addedBadges.length > 0 ) {\n\t\t\tfor ( let i = 0; i < badges.length; i++ ) {\n\t\t\t\tconst item = badges[i];\n\t\t\t\tif ( contains( addedBadges, item.name ) ) {\n\t\t\t\t\taddNotification( dispatch, createBadgeNotification( item ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to retrieve the user's badges.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a GET request to retrieve the user's badges\n */\nexport const getUserBadgesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getUserBadges( dispatch );\n\t};\n};\n\n/**\n * Makes a GET request to retrieve the available badges.\n *\n * @param {Function} dispatch - dispatch function\n */\nexport const getAvailableBadges = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_available_badges' );\n\t\tdispatch( retrievedBadges( res.data ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to retrieve the available badges.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a GET request to retrieve the available badges\n */\nexport const getAvailableBadgesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getAvailableBadges( dispatch );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport axios from 'axios';\nimport qs from 'querystring';\nimport i18next from 'i18next';\nimport server from 'constants/server';\nimport copyToClipboard from 'clipboard-copy';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Button from 'react-bootstrap/Button';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { DELETED_FILE, GET_ALL_FILES, RECEIVED_FILES, RECEIVED_LICENSE, RECEIVED_NAMESPACE_FILES, REMOVED_LICENSE, UPDATED_SETTINGS } from 'constants/action_types.js';\n\n\n// FUNCTIONS //\n\nasync function getFilesRequest( dispatch, { namespaceName, owner = false }) {\n\ttry {\n\t\tconst url = `${server}/get_files?${qs.stringify({\n\t\t\tnamespaceName,\n\t\t\towner\n\t\t})}`;\n\t\tconst res = await axios.get( url );\n\t\tconst files = res.data.files;\n\t\tdispatch( receivedNamespaceFiles({ files, owner }) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n}\n\n\n// EXPORTS //\n\n\nexport function receivedFiles( files ) {\n\treturn {\n\t\ttype: RECEIVED_FILES,\n\t\tpayload: {\n\t\t\tfiles\n\t\t}\n\t};\n}\n\nexport function receivedLicense( license ) {\n\treturn {\n\t\ttype: RECEIVED_LICENSE,\n\t\tpayload: {\n\t\t\tlicense\n\t\t}\n\t};\n}\n\nexport function removedLicense() {\n\treturn {\n\t\ttype: REMOVED_LICENSE\n\t};\n}\n\nexport function receivedNamespaceFiles({ files, owner }) {\n\treturn {\n\t\ttype: RECEIVED_NAMESPACE_FILES,\n\t\tpayload: {\n\t\t\tfiles,\n\t\t\towner\n\t\t}\n\t};\n}\n\nexport const getUserFiles = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_user_files' );\n\t\tdispatch( receivedFiles( res.data.files ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\nexport const getUserFilesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getUserFiles( dispatch );\n\t};\n};\n\nexport const deleteFile = async ( dispatch, _id, namespaceName, owner ) => {\n\ttry {\n\t\tconst res = await axios.post( `${server}/delete_file`, { _id });\n\t\tif ( namespaceName ) {\n\t\t\tgetFilesRequest( dispatch, { namespaceName, owner });\n\t\t} else {\n\t\t\tdispatch({\n\t\t\t\ttype: DELETED_FILE,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: _id\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:delete-file-title'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\nexport const deleteFileInjector = ( dispatch ) => {\n\treturn async ( _id, namespaceName, owner ) => {\n\t\tawait deleteFile( dispatch, _id, namespaceName, owner );\n\t};\n};\n\nexport const uploadFile = async ( dispatch, { formData, user }) => {\n\ttry {\n\t\tconst query = qs.stringify({\n\t\t\tnamespaceName: formData.get( 'namespaceName' ),\n\t\t\towner: formData.get( 'owner' ),\n\t\t\tjwt: user.token\n\t\t});\n\t\tconst res = await axios.post( server+'/upload_file?'+ query, formData );\n\t\tgetFilesRequest( dispatch, {\n\t\t\tnamespaceName: formData.get( 'namespaceName' ),\n\t\t\towner: formData.get( 'owner' )\n\t\t});\n\t\tconst msg = {\n\t\t\ttitle: i18next.t('common:file-upload-title'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success',\n\t\t\tposition: 'tl',\n\t\t\tautoDismiss: 10\n\t\t};\n\t\tmsg.children = <div style={{ marginBottom: 30 }}>\n\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ownerTooltip\">\n\t\t\t\t{i18next.t('common:copy-link')}\n\t\t\t</Tooltip>}>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\tstyle={{ float: 'right', marginRight: '10px' }}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopyToClipboard( server+'/'+res.data.filename );\n\t\t\t\t\t\taddNotification( dispatch, {\n\t\t\t\t\t\t\ttitle: i18next.t('common:copied-title'),\n\t\t\t\t\t\t\tmessage: i18next.t('common:link-copied'),\n\t\t\t\t\t\t\tlevel: 'success',\n\t\t\t\t\t\t\tposition: 'tl'\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fa fa-clipboard\"></i>\n\t\t\t\t</Button>\n\t\t\t</OverlayTrigger>\n\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ownerTooltip\">\n\t\t\t\t{i18next.t('common:open-uploaded-file')}\n\t\t\t</Tooltip>}>\n\t\t\t\t<a\n\t\t\t\t\thref={server+'/'+res.data.filename}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\tstyle={{ float: 'right', marginRight: '10px' }}\n\t\t\t\t>\n\t\t\t\t\t<Button size=\"sm\" variant=\"outline-secondary\">\n\t\t\t\t\t\t<i className=\"fa fa-external-link-alt\"></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</a>\n\t\t\t</OverlayTrigger>\n\t\t</div>;\n\t\treturn addNotification( dispatch, msg );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\nexport const uploadFileInjector = ( dispatch ) => {\n\treturn async ({ formData, user }) => {\n\t\tawait uploadFile( dispatch, { formData, user } );\n\t};\n};\n\nexport const getFilesInjector = ( dispatch ) => {\n\treturn async ({ namespaceName }) => {\n\t\tawait getFilesRequest( dispatch, { namespaceName });\n\t};\n};\n\nexport const getOwnerFilesInjector = ( dispatch ) => {\n\treturn async ({ namespaceName }) => {\n\t\tawait getFilesRequest( dispatch, { namespaceName, owner: true });\n\t};\n};\n\nexport const getAllFiles = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_all_files' );\n\t\tdispatch({\n\t\t\ttype: GET_ALL_FILES,\n\t\t\tpayload: {\n\t\t\t\tfiles: res.data.files\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\nexport const getAllFilesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getAllFiles( dispatch );\n\t};\n};\n\nexport const uploadLicense = async ( dispatch, { formData, user }) => {\n\ttry {\n\t\tconst query = qs.stringify({\n\t\t\tjwt: user.token\n\t\t});\n\t\tconst res = await axios.post( server+'/upload_license?'+ query, formData );\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:uploaded'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success',\n\t\t\tposition: 'tl',\n\t\t\tautoDismiss: 5\n\t\t});\n\t\tdispatch( receivedLicense( res.data.license ) );\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\nexport const uploadLicenseInjector = ( dispatch ) => {\n\treturn async ({ formData, user }) => {\n\t\tawait uploadLicense( dispatch, { formData, user } );\n\t};\n};\n\nexport const getLicense = async ( dispatch, user ) => {\n\ttry {\n\t\tconst query = qs.stringify({\n\t\t\tjwt: user.token\n\t\t});\n\t\tconst res = await axios.get( server+'/get_license?'+ query );\n\t\tdispatch( receivedLicense( res.data.license ) );\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\nexport const getLicenseInjector = ( dispatch ) => {\n\treturn async ( user ) => {\n\t\tawait getLicense( dispatch, user );\n\t};\n};\n\nexport const removeLicense = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/remove_license' );\n\t\tif ( res.data.message === 'ok' ) {\n\t\t\tdispatch( removedLicense() );\n\t\t}\n\t} catch ( err ) {\n\t\tif ( err.message.includes( '404' ) ) {\n\t\t\t// Case: License file has already been removed\n\t\t\tdispatch( removedLicense() );\n\t\t}\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\nexport const removeLicenseInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait removeLicense( dispatch );\n\t};\n};\n\nexport const uploadLogo = async ( dispatch, { formData, user }) => {\n\ttry {\n\t\tconst query = qs.stringify({\n\t\t\tjwt: user.token\n\t\t});\n\t\tconst res = await axios.post( server+'/upload_logo?'+ query, formData );\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:uploaded'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success',\n\t\t\tposition: 'tl',\n\t\t\tautoDismiss: 5\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATED_SETTINGS,\n\t\t\tpayload: res.data\n\t\t});\n\t\treturn res.data;\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t\treturn err;\n\t}\n};\n\nexport const uploadLogoInjector = ( dispatch ) => {\n\treturn async ({ formData, user }) => {\n\t\tconst res = await uploadLogo( dispatch, { formData, user } );\n\t\treturn res;\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport axios from 'axios';\nimport qs from 'querystring';\nimport server from 'constants/server';\nimport i18next from 'i18next';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { CREATED_TICKET, DELETED_TICKET, GET_ALL_TICKETS,\n\tGET_COURSE_TICKETS, GET_USER_TICKETS, TICKET_CLOSED,\n\tTICKET_OPENED, TICKET_MESSAGE_ADDED, TICKET_PRIORITY_UPDATED } from 'constants/action_types.js';\n\n\n// EXPORTS //\n\n/**\n * Makes a GET request to the server to get all tickets.\n *\n * @param {Function} dispatch - dispatch object\n * @returns {void}\n */\nexport const getAllTickets = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_all_tickets' );\n\t\tdispatch({\n\t\t\ttype: GET_ALL_TICKETS,\n\t\t\tpayload: {\n\t\t\t\ttickets: res.data.tickets\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a GET request to get all tickets with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a GET request to get all tickets\n */\nexport const getAllTicketsInjector = dispatch => {\n\treturn async () => {\n\t\tawait getAllTickets( dispatch );\n\t};\n};\n\n/**\n * Makes a GET request to get all tickets for the given course.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} namespaceID - course id\n * @returns {void}\n */\nexport const getCourseTickets = async ( dispatch, namespaceID ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_course_tickets?'+qs.stringify({ namespaceID }) );\n\t\tdispatch({\n\t\t\ttype: GET_COURSE_TICKETS,\n\t\t\tpayload: {\n\t\t\t\ttickets: res.data.tickets\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a GET request to get all tickets for the given course with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a GET request to get all tickets for the given course\n */\nexport const getCourseTicketsInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait getCourseTickets( dispatch, id );\n\t};\n};\n\n/**\n * Makes a GET request to get all tickets for the user making the request.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {void}\n */\nexport const getUserTickets = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_user_tickets' );\n\t\tdispatch({\n\t\t\ttype: GET_USER_TICKETS,\n\t\t\tpayload: {\n\t\t\t\ttickets: res.data.tickets\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a GET request to get tickets for the user making the request with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a GET request to get tickets for the user making the request\n */\nexport const getUserTicketsInjector = dispatch => {\n\treturn async () => {\n\t\tawait getUserTickets( dispatch );\n\t};\n};\n\n/**\n * Makes a POST request to delete a ticket.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - ticket id\n * @returns {void}\n */\nexport const deleteTicket = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/delete_ticket', {\n\t\t\tid\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:deleted'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: DELETED_TICKET,\n\t\t\tpayload: {\n\t\t\t\tid\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a POST request to delete a ticket with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a POST request to delete a ticket\n */\nexport const deleteTicketInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait deleteTicket( dispatch, id );\n\t};\n};\n\n/**\n * Makes a POST request to create a ticket.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} ticket - ticket object\n * @param {string} ticket.title - ticket title\n * @param {string} ticket.description - ticket description\n * @param {Object} ticket.platform - user platform\n * @param {Object} ticket.namespace - namespace object\n * @param {Array} ticket.files - array of files\n * @returns {void}\n */\nexport const createTicket = async ( dispatch, {\n\ttitle,\n\tdescription,\n\tplatform,\n\tnamespace,\n\tfiles\n}) => {\n\ttry {\n\t\tlet res;\n\t\tlet attachments;\n\t\tif ( !files || files.length === 0 ) {\n\t\t\tres = await axios.post( server + '/create_ticket', {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tplatform,\n\t\t\t\tnamespaceID: namespace._id\n\t\t\t});\n\t\t\tattachments = [];\n\t\t} else {\n\t\t\tconst formData = new FormData();\n\t\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\t\tformData.append( 'attachment', files[ i ] );\n\t\t\t}\n\t\t\tformData.append( 'title', title );\n\t\t\tformData.append( 'description', description );\n\t\t\tformData.append( 'platform', JSON.stringify( platform ) );\n\t\t\tformData.append( 'namespaceID', namespace._id );\n\t\t\tres = await axios.post( server + '/create_ticket', formData );\n\t\t\tattachments = res.data.attachments;\n\t\t}\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:created'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATED_TICKET,\n\t\t\tpayload: {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tplatform,\n\t\t\t\tnamespace,\n\t\t\t\tattachments\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a POST request to create a ticket with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a POST request to create a ticket\n */\nexport const createTicketInjector = dispatch => {\n\treturn async ({\n\t\ttitle,\n\t\tdescription,\n\t\tplatform,\n\t\tnamespace,\n\t\tfiles\n\t}) => {\n\t\tawait createTicket( dispatch, {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tplatform,\n\t\t\tnamespace,\n\t\t\tfiles\n\t\t});\n\t};\n};\n\n/**\n * Makes a POST request to send a message to a ticket.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - message options\n * @param {string} opts.message - message content\n * @param {string} opts.ticketID - ticket id\n * @param {Object} opts.user - user object\n * @returns {void}\n */\nexport const sendTicketMessage = async ( dispatch, { message, ticketID, user } ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/add_ticket_message', {\n\t\t\tbody: message,\n\t\t\tticketID\n\t\t});\n\t\tconst msgObj = {\n\t\t\tbody: message,\n\t\t\tauthor: user.name,\n\t\t\temail: user.email,\n\t\t\tpicture: user.picture,\n\t\t\tcreatedAt: new Date().getTime()\n\t\t};\n\t\tdispatch({\n\t\t\ttype: TICKET_MESSAGE_ADDED,\n\t\t\tpayload: {\n\t\t\t\tid: ticketID,\n\t\t\t\tmessage: msgObj\n\t\t\t}\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:added'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a POST request to send a message to a ticket with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a POST request to send a message to a ticket\n */\nexport const sendTicketMessageInjector = dispatch => {\n\treturn async ({ message, ticketID, user }) => {\n\t\tawait sendTicketMessage( dispatch, { message, ticketID, user } );\n\t};\n};\n\n/**\n * Makes a POST request to close a ticket.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - ticket id\n * @returns {void}\n */\nexport const closeTicket = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/close_ticket', {\n\t\t\tticketID: id\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:closed'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: TICKET_CLOSED,\n\t\t\tpayload: {\n\t\t\t\tid\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a POST request to close a ticket with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a POST request to close a ticket\n */\nexport const closeTicketInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait closeTicket( dispatch, id );\n\t};\n};\n\n/**\n * Makes a POST request to update priority of a ticket.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - ticket id\n * @param {string} priority - new priority\n * @returns {void}\n */\nexport const updatePriority = async ( dispatch, id, priority ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/update_ticket_priority', {\n\t\t\tticketID: id,\n\t\t\tpriority\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:updated'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: TICKET_PRIORITY_UPDATED,\n\t\t\tpayload: {\n\t\t\t\tid,\n\t\t\t\tpriority\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a POST request to update priority of a ticket with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a POST request to update priority of a ticket\n */\nexport const updatePriorityInjector = dispatch => {\n\treturn async ( id, priority ) => {\n\t\tawait updatePriority( dispatch, id, priority );\n\t};\n};\n\n/**\n * Makes a POST request to open a ticket.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - ticket id\n * @returns {void}\n */\nexport const openTicket = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/open_ticket', {\n\t\t\tticketID: id\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:opened'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: TICKET_OPENED,\n\t\t\tpayload: {\n\t\t\t\tid\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function that makes a POST request to open a ticket with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function that makes a POST request to open a ticket\n */\nexport const openTicketInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait openTicket( dispatch, id );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport Spinner from 'components/spinner';\n\n\n// MAIN //\n\nfunction asyncComponent( importComponent ) {\n\tclass AsyncComponent extends Component {\n\t\tconstructor( props ) {\n\t\t\tsuper( props );\n\n\t\t\tthis.state = {\n\t\t\t\tcomponent: null\n\t\t\t};\n\t\t}\n\n\t\tasync componentDidMount() {\n\t\t\tconst { default: component } = await importComponent();\n\t\t\tthis.setState({ // eslint-disable-line react/no-did-mount-set-state\n\t\t\t\tcomponent: component\n\t\t\t});\n\t\t}\n\n\t\trender() {\n\t\t\tconst C = this.state.component;\n\t\t\treturn C ? <C {...this.props} /> : <Spinner />;\n\t\t}\n\t}\n\treturn AsyncComponent;\n}\n\n\n// EXPORTS //\n\nexport default asyncComponent;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Modal from 'react-bootstrap/Modal';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport server from 'constants/server';\nimport './ticket_modal.css';\n\n\n// FUNCTIONS //\n\nconst createTooltip = ( str ) => {\n\treturn <Tooltip id=\"tooltip\">{str}</Tooltip>;\n};\n\n\n// MAIN //\n\nclass TicketModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tresponse: ''\n\t\t};\n\t}\n\n\thandleResponseChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tresponse: event.target.value\n\t\t});\n\t};\n\n\thandleResponseSubmit = () => {\n\t\tthis.props.submitTicketMessage({\n\t\t\tmessage: this.state.response,\n\t\t\tticketID: this.props.ticket._id\n\t\t});\n\t\tthis.setState({\n\t\t\tresponse: ''\n\t\t});\n\t};\n\n\ttoggleCompletion = () => {\n\t\tif ( this.props.ticket.done ) {\n\t\t\tthis.props.openTicket( this.props.ticket._id );\n\t\t} else {\n\t\t\tthis.props.closeTicket( this.props.ticket._id );\n\t\t}\n\t};\n\n\trenderMessage = ( val, idx ) => {\n\t\tconst t = this.props.t;\n\t\tconst createdAt = new Date( val.createdAt );\n\t\treturn (\n\t\t\t<div className=\"message-container\" key={idx} >\n\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t<img src={`${server}/thumbnail/${val.picture}`} alt=\"User Profile Pic\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t<span className=\"message-author\">{ val.author }</span>\n\t\t\t\t\t\t&nbsp;{t('common:wrote-on', { date: `${createdAt.toLocaleTimeString()} ${createdAt.toLocaleDateString()}` })}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t{val.body}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst t = this.props.t;\n\t\tconst { ticket } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal show={this.props.show} onHide={this.props.onHide} dialogClassName=\"modal-60w\" >\n\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t<Modal.Title as=\"h3\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t{t('common:title')}: {ticket.title}\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('close-ticket-modal') )}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\taria-label={t('close-ticket-modal')}\n\t\t\t\t\t\t\t\t\tclassName=\"modal-close\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">x</span>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body style={{ height: '60vh', overflowY: 'auto' }}>\n\t\t\t\t\t\t<span className=\"title\">{t('common:description')}:</span>\n\t\t\t\t\t\t<p style={{ whiteSpace: 'pre-wrap' }}>\n\t\t\t\t\t\t\t{ticket.description}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{ticket.namespace.title ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:course')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.namespace.title}</span>\n\t\t\t\t\t\t\t\t{' | '}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.lesson ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:lesson')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.lesson.title}</span>\n\t\t\t\t\t\t\t\t{' | '}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.component ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:component')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.component}</span>\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.attachments.length > 0 ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:attachments')}: `}</span>\n\t\t\t\t\t\t\t\t{ticket.attachments.map( ( file, idx ) => {\n\t\t\t\t\t\t\t\t\treturn ( <a aria-label={t('common:attachments')} href={`${server}/attachments/${file.filename}`} key={idx} style={{ marginLeft: 6 }} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-link\" style={{ marginRight: 2 }} ></i>\n\t\t\t\t\t\t\t\t\t\t{file.title}\n\t\t\t\t\t\t\t\t\t</a> );\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<span className=\"title\">{t('common:messages')}:</span>\n\t\t\t\t\t\t{ticket.messages.map( this.renderMessage )}\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer style={{ background: 'ghostwhite' }} >\n\t\t\t\t\t\t<FormGroup controlId=\"form-text\" style={{ width: 'calc(100% - 200px)' }} >\n\t\t\t\t\t\t\t<FormLabel>{t('enter-response')}</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tas=\"textarea\" rows=\"5\"\n\t\t\t\t\t\t\t\tvalue={this.state.response}\n\t\t\t\t\t\t\t\tplaceholder={ticket.done ? t('require-open-ticket') : t('response-comes-here')}\n\t\t\t\t\t\t\t\tonChange={this.handleResponseChange}\n\t\t\t\t\t\t\t\tdisabled={ticket.done}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<div style={{ float: 'right', width: '180px' }} className=\"d-grid gap-2\" >\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={this.handleResponseSubmit}\n\t\t\t\t\t\t\t\tdisabled={!this.state.response || ticket.done}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('submit-response')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={this.toggleCompletion}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.done ? t('common:open-ticket') : t('common:close-ticket')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('common:hide')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketModal.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\tticket: PropTypes.object.isRequired\n};\n\nTicketModal.defaultProps = {};\n\n\n// EXPORTS\n\nexport default withTranslation( [ 'ticket_modal', 'common' ] )( TicketModal );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport floor from '@stdlib/math/base/special/floor';\n\n\n// MAIN //\n\n/**\n* Formats a timestamp in a human readable format.\n*\n* @param {number} timestamp - timestamp\n* @param {Object} [opts] - options\n* @param {string} [opts.hours] - hours\n* @param {string} [opts.minutes] - minutes\n* @param {string} [opts.seconds] - seconds\n* @returns {string} formatted timestamp\n*/\nconst formatTime = ( time, opts = { hours: true, minutes: true, seconds: true }) => {\n\ttime = time / 1000;\n\tconst hours = floor( time / ( 60*60 ) );\n\ttime = time % ( 60*60 );\n\tlet minutes = floor( time / 60 );\n\tif ( minutes < 10 ) {\n\t\tminutes = '0'+minutes;\n\t}\n\ttime = time % 60;\n\tlet seconds = floor( time );\n\tif ( seconds < 10 ) {\n\t\tseconds = '0'+seconds;\n\t}\n\tlet out = '';\n\tif ( opts.hours ) {\n\t\tout += hours;\n\t}\n\tif ( opts.minutes ) {\n\t\tif ( out ) {\n\t\t\tout += ':';\n\t\t}\n\t\tout += minutes;\n\t}\n\tif ( opts.seconds ) {\n\t\tif ( out ) {\n\t\t\tout += ':';\n\t\t}\n\t\tout += seconds;\n\t}\n\treturn out;\n};\n\n\n// EXPORTS //\n\nexport default formatTime;\n"],"sourceRoot":""}