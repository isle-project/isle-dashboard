"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties;var __getOwnPropDescs=Object.getOwnPropertyDescriptors;var __getOwnPropSymbols=Object.getOwnPropertySymbols;var __hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));var __objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(source!=null&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target};(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2759],{11738:function(module,__unused_webpack_exports,__webpack_require__){var isEmail=__webpack_require__(29055);module.exports=isEmail},29055:function(module,__unused_webpack_exports,__webpack_require__){var isString=__webpack_require__(99301).isPrimitive,RE=/@/;function isEmail(value){return isString(value)&&RE.test(value)}module.exports=isEmail},83966:function(module,__unused_webpack_exports,__webpack_require__){var isEmptyObject=__webpack_require__(40899);module.exports=isEmptyObject},40899:function(module,__unused_webpack_exports,__webpack_require__){var objectKeys=__webpack_require__(25351),isPlainObject=__webpack_require__(28586),hasSymbolSupport=__webpack_require__(98086),FLG=hasSymbolSupport();function isEmptyObject(value){return!(!isPlainObject(value)||objectKeys(value).length>0||FLG&&Object.getOwnPropertySymbols(value).length>0)}module.exports=isEmptyObject},18798:function(module){var FLOAT64_MAX_SAFE_INTEGER=9007199254740991;module.exports=FLOAT64_MAX_SAFE_INTEGER},89256:function(module,__unused_webpack_exports,__webpack_require__){var isInfinite=__webpack_require__(12344);module.exports=isInfinite},12344:function(module,__unused_webpack_exports,__webpack_require__){var PINF=__webpack_require__(51235),NINF=__webpack_require__(58747);function isInfinite(x){return x===PINF||x===NINF}module.exports=isInfinite},28549:function(module,__unused_webpack_exports,__webpack_require__){var abs=__webpack_require__(10351);module.exports=abs},10351:function(module){function abs(x){return Math.abs(x)}module.exports=abs},87594:function(module,__unused_webpack_exports,__webpack_require__){var trim=__webpack_require__(84001);module.exports=trim},84001:function(module,__unused_webpack_exports,__webpack_require__){var isString=__webpack_require__(99301).isPrimitive,replace=__webpack_require__(51594),RE=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;function trim(str){if(!isString(str))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+str+"`.");return replace(str,RE,"$1")}module.exports=trim},40002:function(module,__unused_webpack_exports,__webpack_require__){var mapKeys=__webpack_require__(46189);module.exports=mapKeys},46189:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(5726),hasOwnProp=__webpack_require__(10813);function mapKeys(obj,transform){var out,key,v;if(typeof obj!="object"||obj===null)throw new TypeError("invalid argument. First argument must be an object. Value: `"+obj+"`.");if(!isFunction(transform))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+transform+"`.");out={};for(key in obj)hasOwnProp(obj,key)&&(v=obj[key],key=transform(key,v,obj),out[key]=v);return out}module.exports=mapKeys},93390:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87594),_stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0__),_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25351),_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1__);const RE_NUMBER=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;function obsToVar(arr){const data={},keymap={},columnNames=_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1___default()(arr[0]).filter(x=>x!=="");for(let i=0;i<columnNames.length;i++){const col=_stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0___default()(columnNames[i]);keymap[columnNames[i]]=col,data[col]=new Array(arr.length)}for(let i=0;i<arr.length;i++)for(let j=0;j<columnNames.length;j++){const col=columnNames[j];let val=arr[i][col];RE_NUMBER.test(val)&&(val=Number(val)),data[keymap[col]][i]=val}return data}__webpack_exports__.Z=obsToVar},94692:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return user_table}});var react=__webpack_require__(67294),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),browser=__webpack_require__(11227),browser_default=__webpack_require__.n(browser),commonjs=__webpack_require__(81468),moment=__webpack_require__(30381),moment_default=__webpack_require__.n(moment),FormControl=__webpack_require__(26199),FormControl_default=__webpack_require__.n(FormControl),Button=__webpack_require__(89876),Button_default=__webpack_require__.n(Button),OverlayTrigger=__webpack_require__(99201),OverlayTrigger_default=__webpack_require__.n(OverlayTrigger),Tooltip=__webpack_require__(18868),Tooltip_default=__webpack_require__.n(Tooltip),Popover=__webpack_require__(44981),Popover_default=__webpack_require__.n(Popover),lib=__webpack_require__(55809),lib_default=__webpack_require__.n(lib),pinf_lib=__webpack_require__(51235),pinf_lib_default=__webpack_require__.n(pinf_lib),map_keys_lib=__webpack_require__(40002),map_keys_lib_default=__webpack_require__.n(map_keys_lib),dashboard_table=__webpack_require__(1624),confirm_modal=__webpack_require__(88608),server=__webpack_require__(94204),obs_to_var=__webpack_require__(93390),data_explorer=__webpack_require__(63787),create_categorical_column=__webpack_require__(84024),create_boolean_column=__webpack_require__(3902),create_numeric_column=__webpack_require__(56739),create_date_column=__webpack_require__(30691),create_text_column=__webpack_require__(90501),text_filter=__webpack_require__(31190),format_time=__webpack_require__(27505),Modal=__webpack_require__(89194),Modal_default=__webpack_require__.n(Modal),react_select_cjs_prod=__webpack_require__(87583),Col=__webpack_require__(1266),Row=__webpack_require__(28269),Row_default=__webpack_require__.n(Row),FormLabel=__webpack_require__(65903),FormLabel_default=__webpack_require__.n(FormLabel),FormGroup=__webpack_require__(34168),FormGroup_default=__webpack_require__.n(FormGroup),Form=__webpack_require__(17383),Form_default=__webpack_require__.n(Form),is_email_address_lib=__webpack_require__(11738),is_email_address_lib_default=__webpack_require__.n(is_email_address_lib),__defProp2=Object.defineProperty,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp2=(obj,key,value)=>key in obj?__defProp2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues2=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp2.call(b,prop)&&__defNormalProp2(a,prop,b[prop]);if(__getOwnPropSymbols2)for(var prop of __getOwnPropSymbols2(b))__propIsEnum2.call(b,prop)&&__defNormalProp2(a,prop,b[prop]);return a},__publicField=(obj,key,value)=>(__defNormalProp2(obj,typeof key!="symbol"?key+"":key,value),value);const createTooltip=str=>react.createElement(Tooltip_default(),{id:"tooltip"},str),extractUserData=({name,email,password,customFields})=>({name,email,password,customFields});class Signup extends react.Component{constructor(props){super(props);__publicField(this,"handleSubmit",event=>{event.preventDefault(),this.getEmailValidationState()&&this.getNameValidationState()&&this.getPasswordValidationState()&&this.props.onConfirm(extractUserData(this.state))}),__publicField(this,"handleInputChange",event=>{const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}),__publicField(this,"getEmailValidationState",()=>is_email_address_lib_default()(this.state.email)),__publicField(this,"getNameValidationState",()=>this.state.name.length>3),__publicField(this,"getPasswordValidationState",()=>{const{password,passwordRepeat}=this.state;return!(password.length<6||passwordRepeat.length===0||password!==passwordRepeat)}),this.state={name:"",email:"",password:"",passwordRepeat:"",customFields:{}}}componentDidMount(){this.props.getCustomFields()}renderEmail(){const{t}=this.props;return react.createElement(OverlayTrigger_default(),{placement:"right",overlay:createTooltip(t("email-tooltip"))},react.createElement(FormGroup_default(),{controlId:"form-email"},react.createElement(Row_default(),null,react.createElement(Col.default,{sm:3},react.createElement(FormLabel_default(),null,t("common:email"))),react.createElement(Col.default,{sm:9},react.createElement(FormControl_default(),{name:"email",type:"email",autoComplete:"username email",placeholder:t("common:enter-email"),onChange:this.handleInputChange,isInvalid:this.state.email&&!this.getEmailValidationState()}),react.createElement(Form_default().Control.Feedback,{type:"invalid"},t("invalid-email"))))))}renderName(){const{t}=this.props;return react.createElement(OverlayTrigger_default(),{placement:"right",overlay:createTooltip(t("name-tooltip"))},react.createElement(FormGroup_default(),{controlId:"form-name"},react.createElement(Row_default(),null,react.createElement(Col.default,{sm:3},react.createElement(FormLabel_default(),null,t("common:name"))),react.createElement(Col.default,{sm:9},react.createElement(FormControl_default(),{name:"name",type:"text",placeholder:t("common:enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),react.createElement(Form_default().Control.Feedback,{type:"invalid"},t("invalid-name"))))))}renderPasswordFields(){const{t}=this.props,validPasswords=this.getPasswordValidationState(),enteredPasswords=this.state.password||this.state.passwordRepeat;return react.createElement(react.Fragment,null,react.createElement(OverlayTrigger_default(),{placement:"right",overlay:createTooltip(t("password-tooltip"))},react.createElement(FormGroup_default(),{controlId:"form-password"},react.createElement(Row_default(),null,react.createElement(Col.default,{sm:3},react.createElement(FormLabel_default(),null,t("common:password"))),react.createElement(Col.default,{sm:9},react.createElement(FormControl_default(),{name:"password",type:"password",autoComplete:"new-password",placeholder:t("choose-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:enteredPasswords&&!validPasswords}),react.createElement(Form_default().Control.Feedback,{type:"invalid"},t("invalid-password")))))),react.createElement(FormGroup_default(),{controlId:"form-repeat-password"},react.createElement(Row_default(),null,react.createElement(Col.default,{sm:3},react.createElement(FormLabel_default(),null,t("common:repeat"))),react.createElement(Col.default,{sm:{span:9}},react.createElement(FormControl_default(),{name:"passwordRepeat",type:"password",autoComplete:"new-password",placeholder:t("confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:enteredPasswords&&!validPasswords}),react.createElement(Form_default().Control.Feedback,{type:"invalid"},t("invalid-password-match"))))))}render(){const{t}=this.props,userCustomFields=this.state.customFields,availableCustomFields=this.props.user.availableCustomFields||[];return react.createElement(Modal_default(),{show:!0,onHide:this.props.onHide},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement(Modal_default().Title,{as:"h3"},t("admin:create-new-user"))),react.createElement(Modal_default().Body,null,react.createElement(Form_default(),null,this.renderEmail(),this.renderName(),this.renderPasswordFields(),availableCustomFields.filter(x=>x.editableOnSignup).map((x,idx)=>{let input;const value=userCustomFields[x.name];return x.type==="checkbox"?input=react.createElement(FormGroup_default(),{controlId:`form-${x.name}`,as:Row_default()},react.createElement(Col.default,{sm:3}),react.createElement(Col.default,{sm:3},react.createElement(Form_default().Check,{type:"checkbox",label:x.name,defaultChecked:value,onChange:event=>{const newCustomFields=__spreadValues2({},this.state.customFields);newCustomFields[x.name]=event.target.checked,this.setState({customFields:newCustomFields,changed:!0})}}))):x.type==="text"?input=react.createElement(FormGroup_default(),{controlId:`form-${x.name}`,as:Row_default()},react.createElement(Col.default,{sm:3},react.createElement(FormLabel_default(),null,x.name)),react.createElement(Col.default,{sm:9},react.createElement(FormControl_default(),{name:x.name,type:"text",value,placeholder:`Enter ${x.name}...`,onChange:event=>{const newCustomFields=__spreadValues2({},this.state.customFields);newCustomFields[x.name]=event.target.value,this.setState({customFields:newCustomFields,changed:!0})},autoComplete:"none"}))):input=react.createElement(FormGroup_default(),{controlId:`form-${x.name}`,as:Row_default()},react.createElement(Col.default,{sm:3},react.createElement(FormLabel_default(),null,x.name)),react.createElement(Col.default,{sm:9},react.createElement(react_select_cjs_prod.ZP,{defaultValue:value?{label:value,value}:null,options:x.options.map(e=>({value:e,label:e})),onChange:elem=>{const newCustomFields=__spreadValues2({},this.state.customFields);newCustomFields[x.name]=elem.value,this.setState({customFields:newCustomFields,changed:!0})}}))),react.createElement(OverlayTrigger_default(),{key:idx,placement:"top",overlay:createTooltip(x.description)},input)}),react.createElement(FormGroup_default(),null,react.createElement(Button_default(),{variant:"primary",className:"centered",type:"submit",onClick:this.handleSubmit},t("common:confirm"))))))}}Signup.propTypes={getCustomFields:prop_types_default().func.isRequired,onConfirm:prop_types_default().func.isRequired,onHide:prop_types_default().func.isRequired,user:prop_types_default().object},Signup.defaultProps={user:{}};var signup_modal=(0,commonjs.Zh)(["signup","admin","common"])(Signup),Card=__webpack_require__(51889),Card_default=__webpack_require__.n(Card),is_empty_object_lib=__webpack_require__(83966),is_empty_object_lib_default=__webpack_require__.n(is_empty_object_lib),user_edit_modal_defProp=Object.defineProperty,user_edit_modal_getOwnPropSymbols=Object.getOwnPropertySymbols,user_edit_modal_hasOwnProp=Object.prototype.hasOwnProperty,user_edit_modal_propIsEnum=Object.prototype.propertyIsEnumerable,user_edit_modal_defNormalProp=(obj,key,value)=>key in obj?user_edit_modal_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,user_edit_modal_spreadValues=(a,b)=>{for(var prop in b||(b={}))user_edit_modal_hasOwnProp.call(b,prop)&&user_edit_modal_defNormalProp(a,prop,b[prop]);if(user_edit_modal_getOwnPropSymbols)for(var prop of user_edit_modal_getOwnPropSymbols(b))user_edit_modal_propIsEnum.call(b,prop)&&user_edit_modal_defNormalProp(a,prop,b[prop]);return a},user_edit_modal_publicField=(obj,key,value)=>(user_edit_modal_defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);const user_edit_modal_createTooltip=str=>react.createElement(Tooltip_default(),{id:"tooltip"},str),debug=browser_default()("isle-dashboard");class EditModal extends react.Component{constructor(props){super(props);user_edit_modal_publicField(this,"handleUpdate",()=>{const{name,password,organization,writeAccess,verifiedEmail,administrator,twoFactorAuth}=this.state,form={name,organization,id:this.props.user._id,writeAccess,verifiedEmail,administrator,twoFactorAuth};let change=!1;password&&(form.password=password,change=!0),is_empty_object_lib_default()(this.state.customFields)||(form.customFields=this.state.customFields,change=!0);const user=this.props.user;(name!==user.name||organization!==user.organization||writeAccess!==user.writeAccess||verifiedEmail!==user.verifiedEmail||administrator!==user.administrator||twoFactorAuth!==user.twoFactorAuth)&&(change=!0),change&&(debug("Update user..."),this.props.updateUser(form),this.props.onHide())}),user_edit_modal_publicField(this,"handleInputChange",event=>{const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}),user_edit_modal_publicField(this,"handleCheckboxChangeFactory",name=>event=>{this.setState({[name]:event.target.checked})}),user_edit_modal_publicField(this,"getNameValidationState",()=>{const{name}=this.state;return name&&name.length>3}),user_edit_modal_publicField(this,"getPasswordValidationState",()=>{const{password}=this.state;return password.length>=6}),this.state={email:props.user.email,name:props.user.name,organization:props.user.organization,password:"",writeAccess:props.user.writeAccess,verifiedEmail:props.user.verifiedEmail,administrator:props.user.administrator,customFields:props.user.customFields||{},twoFactorAuth:props.user.twoFactorAuth}}render(){const validPasswords=this.getPasswordValidationState(),validName=this.getNameValidationState(),enteredPasswords=this.state.password||this.state.passwordRepeat,t=this.props.t,userCustomFields=this.props.user.customFields||{};return react.createElement(react.Fragment,null,react.createElement(Modal_default(),{dialogClassName:"user-edit-modal",show:this.props.show,onHide:this.props.onHide},react.createElement(Modal_default().Header,null,react.createElement(Modal_default().Title,{as:"h3",style:{width:"100%"}},t("common:profile"),react.createElement(OverlayTrigger_default(),{placement:"right",overlay:user_edit_modal_createTooltip(t("close-edit-modal"))},react.createElement(Button_default(),{onClick:this.props.onHide,style:{float:"right"},variant:"outline-secondary","aria-label":t("close-edit-modal"),className:"modal-close"},react.createElement("span",{"aria-hidden":"true"},"x"))))),react.createElement(Form_default(),{noValidate:!0,style:{padding:"20px"}},react.createElement(Row_default(),null,react.createElement(Col.default,{md:4},react.createElement("img",{src:`${server.ZP}/avatar/${this.props.user.picture}`,alt:"Profile Pic",width:"160px"})),react.createElement(Col.default,{md:4,className:"d-grid gap-2"},react.createElement(FormGroup_default(),{controlId:"form-email"},react.createElement(FormLabel_default(),null,t("common:email")),react.createElement(FormControl_default(),{name:"email",type:"email",value:this.state.email,disabled:!0,autoComplete:"none"})),react.createElement(OverlayTrigger_default(),{placement:"right",overlay:user_edit_modal_createTooltip(t("update-name"))},react.createElement(FormGroup_default(),{controlId:"form-name"},react.createElement(FormLabel_default(),null,t("common:name")),react.createElement(FormControl_default(),{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,isInvalid:!validName,autoComplete:"none"}),react.createElement(Form_default().Control.Feedback,{type:"invalid"},t("invalid-name")))),react.createElement(OverlayTrigger_default(),{placement:"right",overlay:user_edit_modal_createTooltip(t("update-organization"))},react.createElement(FormGroup_default(),{controlId:"form-organization"},react.createElement(FormLabel_default(),null,t("common:organization")),react.createElement(FormControl_default(),{name:"organization",type:"text",value:this.state.organization,onChange:this.handleInputChange,autoComplete:"none"})))),react.createElement(Col.default,{md:4,className:"d-grid gap-2"},react.createElement(OverlayTrigger_default(),{placement:"right",overlay:user_edit_modal_createTooltip(t("admin:enter-new-password"))},react.createElement(FormGroup_default(),{controlId:"form-password"},react.createElement(FormLabel_default(),null,t("common:password")),react.createElement(FormControl_default(),{name:"password",type:"password","data-lpignore":"true",value:this.state.password,autoComplete:"none",placeholder:t("common:choose-new-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:enteredPasswords&&!validPasswords}),react.createElement(Form_default().Control.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))),react.createElement(FormGroup_default(),null,react.createElement(Form_default().Check,{type:"checkbox",label:t("admin:instructor"),defaultChecked:this.props.user.writeAccess,onChange:this.handleCheckboxChangeFactory("writeAccess")}),react.createElement(Form_default().Check,{type:"checkbox",label:t("admin:admin"),defaultChecked:this.props.user.administrator,onChange:this.handleCheckboxChangeFactory("administrator")}),react.createElement(Form_default().Check,{type:"checkbox",label:t("admin:email-verified"),defaultChecked:this.props.user.verifiedEmail,onChange:this.handleCheckboxChangeFactory("verifiedEmail")}),react.createElement(Form_default().Check,{type:"checkbox",label:t("common:two-factor-authentication"),defaultChecked:this.props.user.twoFactorAuth,onChange:this.handleCheckboxChangeFactory("twoFactorAuth")})))),react.createElement(Row_default(),null,this.props.availableCustomFields.map((x,idx)=>{let input;const value=userCustomFields[x.name];return x.type==="checkbox"?input=react.createElement(Form_default().Check,{type:"checkbox",label:x.name,defaultChecked:value,onChange:event=>{const newCustomFields=user_edit_modal_spreadValues({},this.state.customFields);newCustomFields[x.name]=event.target.checked,this.setState({customFields:newCustomFields})}}):x.type==="text"?input=react.createElement(FormGroup_default(),{controlId:`form-${x.name}`},react.createElement(FormLabel_default(),null,x.name),react.createElement(FormControl_default(),{name:x.name,type:"text",value,placeholder:`Enter ${x.name}...`,onChange:event=>{const newCustomFields=user_edit_modal_spreadValues({},this.state.customFields);newCustomFields[x.name]=event.target.value,this.setState({customFields:newCustomFields})},autoComplete:"none"})):input=react.createElement(FormGroup_default(),{controlId:`form-${x.name}`},react.createElement(FormLabel_default(),null,x.name),react.createElement(react_select_cjs_prod.ZP,{defaultValue:value?{label:value,value}:null,options:x.options.map(e=>({value:e,label:e})),onChange:elem=>{const newCustomFields=user_edit_modal_spreadValues({},this.state.customFields);newCustomFields[x.name]=elem.value,this.setState({customFields:newCustomFields})}})),react.createElement(Col.default,{md:4,key:idx},react.createElement(OverlayTrigger_default(),{placement:"top",overlay:user_edit_modal_createTooltip(x.description)},input))}))),react.createElement(Card_default(),null,react.createElement(Button_default(),{disabled:!1,onClick:this.handleUpdate},t("common:update")))))}}EditModal.propTypes={availableCustomFields:prop_types_default().array.isRequired,onHide:prop_types_default().func.isRequired,show:prop_types_default().bool.isRequired,t:prop_types_default().func.isRequired,updateUser:prop_types_default().func.isRequired,user:prop_types_default().object.isRequired},EditModal.defaultProps={};var user_edit_modal=EditModal,user_table_defProp=Object.defineProperty,user_table_defNormalProp=(obj,key,value)=>key in obj?user_table_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,user_table_publicField=(obj,key,value)=>(user_table_defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value),__async=(__this,__arguments,generator)=>new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())});const user_table_debug=browser_default()("isle-dashboard:admin");class UserPage extends react.Component{constructor(props){super(props);user_table_publicField(this,"toggleImpersonateModal",()=>{this.setState({showImpersonateModal:!this.state.showImpersonateModal})}),user_table_publicField(this,"toggleDeleteModal",()=>{this.setState({showDeleteModal:!this.state.showDeleteModal})}),user_table_publicField(this,"toggleEditModal",()=>{this.setState({showEditModal:!this.state.showEditModal})}),user_table_publicField(this,"impersonateUser",()=>{this.setState({showImpersonateModal:!1},()=>{this.props.impersonateUser({id:this.state.selectedUser._id,password:this.state.password})})}),user_table_publicField(this,"deleteSelectedUser",()=>{user_table_debug(`Delete user ${this.state.selectedUser.name} with id ${this.state.selectedUser._id}`),this.setState({showDeleteModal:!1},()=>{this.props.deleteUser({id:this.state.selectedUser._id})})}),user_table_publicField(this,"askToImpersonateSelectedUserFactory",user=>()=>{this.setState({showImpersonateModal:!this.state.showImpersonateModal,selectedUser:user})}),user_table_publicField(this,"askToDeleteSelectedUserFactory",user=>()=>{this.setState({showDeleteModal:!this.state.showDeleteModal,selectedUser:user})}),user_table_publicField(this,"askToEditUserFactory",user=>()=>{this.setState({showEditModal:!this.state.showEditModal,selectedUser:user})}),user_table_publicField(this,"sanitizeFactory",user=>()=>__async(this,null,function*(){const result=yield this.props.sanitizeRequest({id:user._id});if(result&&result.data)return this.props.addNotification({title:this.props.t("sanitize-user"),message:result.data.message,level:"success",position:"tl"})})),user_table_publicField(this,"handlePassword",event=>{this.setState({password:event.target.value})}),user_table_publicField(this,"createColumns",()=>{const{t}=this.props,users=this.props.admin.users;let maxChatMessages=0,maxActions=0,maxSpentTime=0,minTime=pinf_lib_default(),maxTime=0;for(let i=0;i<users.length;i++)users[i].chatMessages>maxChatMessages&&(maxChatMessages=users[i].chatMessages),users[i].nActions>maxActions&&(maxActions=users[i].nActions),users[i].spentTime>maxSpentTime&&(maxSpentTime=users[i].spentTime),users[i].createdAt>maxTime&&(maxTime=users[i].createdAt),users[i].updatedAt>maxTime&&(maxTime=users[i].updatedAt),users[i].createdAt<minTime&&(minTime=users[i].createdAt),users[i].updatedAt<minTime&&(minTime=users[i].updatedAt);return minTime=moment_default()(minTime),maxTime=moment_default()(maxTime),[{Header:"Pic",accessor:"picture",Cell:row=>react.createElement("img",{className:"table-pic",src:`${server.ZP}/thumbnail/${row.original.picture}`,alt:"Profile Pic"}),maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1,style:{color:"darkslategrey"}},(0,create_text_column.Z)({Header:t("common:name"),accessor:"name",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,create_text_column.Z)({Header:t("common:email"),accessor:"email",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:text_filter.Z}),(0,create_text_column.Z)({Header:t("common:organization"),accessor:"organization",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:200,filterMethod:text_filter.Z}),(0,create_boolean_column.Z)({Header:t("instructor"),accessor:"writeAccess",trueLabel:t("instructor"),falseLabel:t("no-instructor"),maxWidth:100}),(0,create_boolean_column.Z)({Header:t("admin"),accessor:"administrator",trueLabel:t("admin"),falseLabel:t("no-admin"),maxWidth:100}),(0,create_boolean_column.Z)({Header:t("email-verified"),accessor:"verifiedEmail",trueLabel:t("verified"),falseLabel:t("not-verified"),maxWidth:90}),(0,create_boolean_column.Z)({Header:t("common:two-factor-authentication"),accessor:"twoFactorAuth",trueLabel:t("common:enabled"),falseLabel:t("common:not-enabled"),maxWidth:100}),(0,create_numeric_column.Z)({Header:t("common:chat-messages"),accessor:"chatMessages",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:120,maxValue:maxChatMessages}),(0,create_numeric_column.Z)({Header:t("common:time-spent"),accessor:"spentTime",Cell:row=>(0,format_time.Z)(row.value,{minutes:!0,hours:!0}),style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:maxSpentTime,formatLabel:x=>`${lib_default()(x/(1e3*60*60))}h`}),(0,create_numeric_column.Z)({Header:t("common:number-of-actions"),accessor:"nActions",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:maxActions}),(0,create_date_column.Z)({Header:t("last-updated"),accessor:"updatedAt",Cell:row=>new Date(row.value).toLocaleString(),startDate:minTime,endDate:maxTime,t}),(0,create_date_column.Z)({Header:t("created-at"),accessor:"createdAt",Cell:row=>new Date(row.value).toLocaleString(),startDate:minTime,endDate:maxTime,t}),{Header:t("common:data"),accessor:"lessonData",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:row=>{if(row.value){const lessonData=map_keys_lib_default()(row.value,key=>this.props.admin.lessonsMap?this.props.admin.lessonsMap[key]:key),popover=react.createElement(Popover_default(),{id:"popover-data",style:{maxWidth:400,maxHeight:"80vh",overflowY:"auto"}},react.createElement(Popover_default().Header,{as:"h3"},"Data"),react.createElement(Popover_default().Body,{style:{backgroundColor:"lightblue"}},react.createElement("pre",null,JSON.stringify(lessonData,null,2))));return react.createElement(OverlayTrigger_default(),{trigger:"click",placement:"left",overlay:popover},react.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:60,resizable:!1,filterable:!1,sortable:!1},...(this.props.user.availableCustomFields||[]).map(x=>x.type==="text"?(0,create_text_column.Z)({Header:x.name,accessor:"customFields."+x.name,maxWidth:100,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:text_filter.Z}):x.type==="checkbox"?(0,create_boolean_column.Z)({Header:x.name,accessor:"customFields."+x.name,trueLabel:t("yes"),falseLabel:t("no"),maxWidth:100}):(0,create_categorical_column.Z)({Header:x.name,accessor:"customFields."+x.name,labels:x.options})),{Header:t("common:actions"),Cell:row=>row.row.email===this.props.user.email?null:react.createElement("div",null,react.createElement(OverlayTrigger_default(),{placement:"bottom",overlay:react.createElement(Tooltip_default(),{id:"edit_user_data"},t("edit-user-data"))},react.createElement(Button_default(),{variant:"outline-secondary","aria-label":t("edit-user-data"),onClick:this.askToEditUserFactory(row.row._original)},react.createElement("div",{className:"fa fa-edit"}))),react.createElement(OverlayTrigger_default(),{placement:"bottom",overlay:react.createElement(Tooltip_default(),{id:"sanitize_user"},t("sanitize-user"))},react.createElement(Button_default(),{variant:"outline-secondary",style:{marginLeft:8},onClick:this.sanitizeFactory(row.row._original),"aria-label":t("sanitize-user")},react.createElement("div",{className:"fas fa-band-aid"}))),react.createElement(OverlayTrigger_default(),{placement:"bottom",overlay:react.createElement(Tooltip_default(),{id:"impersonate_user"},t("impersonate-user"))},react.createElement(Button_default(),{variant:"outline-secondary",style:{marginLeft:8},onClick:this.askToImpersonateSelectedUserFactory(row.row._original),"aria-label":t("impersonate-user")},react.createElement("div",{className:"fa fa-theater-masks"}))),react.createElement(OverlayTrigger_default(),{placement:"bottom",overlay:react.createElement(Tooltip_default(),{id:"delete_user"},t("delete-user"))},react.createElement(Button_default(),{variant:"outline-secondary",style:{marginLeft:8},onClick:this.askToDeleteSelectedUserFactory(row.row._original),"aria-label":t("delete-user")},react.createElement("div",{className:"fa fa-trash-alt"})))),resizable:!1,filterable:!1,sortable:!1}]}),user_table_publicField(this,"toggleExplorer",()=>{this.setState({showExplorer:!this.state.showExplorer})}),user_table_publicField(this,"toggleUserCreation",()=>{this.setState({showUserCreation:!this.state.showUserCreation})}),this.state={selectedUser:null,showDeleteModal:!1,showImpersonateModal:!1,showUserCreation:!1,password:"",showEditModal:!1,columns:this.createColumns()}}componentDidMount(){this.props.getCustomFields(),this.props.getUsers()}componentDidUpdate(prevProps){(prevProps.admin.users!==this.props.admin.users||prevProps.user.availableCustomFields!==this.props.user.availableCustomFields)&&this.setState({columns:this.createColumns()})}render(){const{t}=this.props;if(this.state.showExplorer){const users=this.props.admin.users;let data=[];for(let i=0;i<users.length;i++){const user=users[i],replacement={};replacement.name=user.name,replacement.email=user.email,replacement.nActions=user.nActions,replacement.ownedNamespaces=user.ownedNamespaces.length,replacement.enrolledNamespaces=user.enrolledNamespaces.length,replacement.chatMessages=user.chatMessages.length,replacement.badges=user.badges.length,replacement.score=user.score,replacement.spentTime=user.spentTime,replacement.administrator=user.administrator,replacement.verifiedEmail=user.verifiedEmail,replacement.instructor=user.writeAccess,replacement.createdAt=user.createdAt,replacement.updatedAt=user.updatedAt,data.push(replacement)}return data=(0,obs_to_var.Z)(data),react.createElement(data_explorer.Z,{title:t("explorer-users-title"),data,categorical:["administrator","instructor","verifiedEmail","createdAt","updatedAt"],quantitative:["nActions","ownedNamespaces","enrolledNamespaces","chatMessages","badges","score","spentTime"],close:this.toggleExplorer})}return react.createElement(react.Fragment,null,react.createElement(dashboard_table.Z,{data:this.props.admin.users,columns:this.state.columns,onButtonClick:this.toggleExplorer,t}),react.createElement(OverlayTrigger_default(),{placement:"left",overlay:react.createElement(Tooltip_default(),null,t("create-new-user"))},react.createElement(Button_default(),{"aria-label":t("create-new-user"),style:{marginRight:-9,float:"right"},onClick:this.toggleUserCreation},react.createElement("i",{className:"fas fa-plus"}))),this.state.showImpersonateModal?react.createElement(confirm_modal.Z,{title:t("impersonate-user"),message:react.createElement("span",null,t("enter-password"),react.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),".",t("automatic-logout"),react.createElement(FormControl_default(),{name:"password",type:"password",placeholder:t("password-placeholder"),onChange:this.handlePassword,maxLength:30,minLength:6,style:{marginTop:8}})),close:this.toggleImpersonateModal,show:this.state.showImpersonateModal,onConfirm:this.impersonateUser}):null,this.state.showDeleteModal?react.createElement(confirm_modal.Z,{title:t("delete-user"),message:react.createElement("span",null,t("delete-user-confirm"),react.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),"?"),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedUser}):null,this.state.showEditModal?react.createElement(user_edit_modal,{user:this.state.selectedUser,availableCustomFields:this.props.user.availableCustomFields,t:this.props.t,show:this.state.showEditModal,updateUser:this.props.updateUser,onHide:this.toggleEditModal}):null,this.state.showUserCreation?react.createElement(signup_modal,{user:this.props.user,getCustomFields:this.props.getCustomFields,onHide:this.toggleUserCreation,onConfirm:data=>__async(this,null,function*(){try{yield this.props.createUser(data),this.props.addNotification({message:t("user-successfully-created"),level:"success"}),this.toggleUserCreation(),this.props.getUsers()}catch(err){this.props.addNotification({message:err.response.data,level:"error"})}})}):null)}}UserPage.propTypes={addNotification:prop_types_default().func.isRequired,admin:prop_types_default().object.isRequired,createUser:prop_types_default().func.isRequired,deleteUser:prop_types_default().func.isRequired,getCustomFields:prop_types_default().func.isRequired,getUsers:prop_types_default().func.isRequired,impersonateUser:prop_types_default().func.isRequired,sanitizeRequest:prop_types_default().func.isRequired,t:prop_types_default().func.isRequired,updateUser:prop_types_default().func.isRequired,user:prop_types_default().object.isRequired};var user_table=(0,commonjs.Zh)(["admin","common"])(UserPage)},88608:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(81468),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89194),react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1__);const ConfirmModal=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default(),{show:props.show,onHide:props.close},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Header,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Title,{as:"h3"},props.title)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Body,null,props.message),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Footer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default(),{onClick:props.close},props.t("cancel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default(),{variant:"danger",onClick:props.onConfirm},props.t("confirm"))));ConfirmModal.propTypes={close:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,message:prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,onConfirm:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,show:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,title:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},ConfirmModal.defaultProps={close(){},message:"",onConfirm(){},show:!1,title:""},__webpack_exports__.Z=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.Zh)(["common"])(ConfirmModal)},1624:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return dashboard_table}});var react=__webpack_require__(67294),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),lib=__webpack_require__(86199),Button=__webpack_require__(89876),Button_default=__webpack_require__.n(Button),ButtonGroup=__webpack_require__(63319),ButtonGroup_default=__webpack_require__.n(ButtonGroup),OverlayTrigger=__webpack_require__(99201),OverlayTrigger_default=__webpack_require__.n(OverlayTrigger),Tooltip=__webpack_require__(18868),Tooltip_default=__webpack_require__.n(Tooltip),react_table=__webpack_require__(94064),__defProp2=Object.defineProperty,__defProps2=Object.defineProperties,__getOwnPropDescs2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp2=(obj,key,value)=>key in obj?__defProp2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues2=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp2.call(b,prop)&&__defNormalProp2(a,prop,b[prop]);if(__getOwnPropSymbols2)for(var prop of __getOwnPropSymbols2(b))__propIsEnum2.call(b,prop)&&__defNormalProp2(a,prop,b[prop]);return a},__spreadProps2=(a,b)=>__defProps2(a,__getOwnPropDescs2(b));const DashboardTable=props=>{const{id,t}=props,getProps=(0,react.useCallback)(()=>({id:id||"dashboard-table"}),[id]);return react.createElement(react.Fragment,null,react.createElement(lib.ZP,__spreadProps2(__spreadValues2({},props),{filterable:!0,className:`dashboard-table ${props.className}`,data:props.data,columns:props.columns,previousText:t("common:previous"),nextText:t("common:next"),loadingText:t("common:loading"),noDataText:t("common:no-rows-found"),pageText:t("common:page"),ofText:t("common:of"),rowsText:t("common:rows"),getProps})),props.onButtonClick?react.createElement(ButtonGroup_default(),{vertical:!0,style:{float:"right",marginRight:-9}},react.createElement(OverlayTrigger_default(),{placement:"left",overlay:react.createElement(Tooltip_default(),{id:"explorer-tooltip"},t("common:data-explorer"))},react.createElement(Button_default(),{"aria-label":t("common:data-explorer"),variant:"primary",style:{marginBottom:8},onClick:props.onButtonClick},react.createElement("i",{className:"fas fa-chart-bar"})))):null)};DashboardTable.propTypes={className:prop_types_default().string,columns:prop_types_default().array.isRequired,data:prop_types_default().oneOfType([prop_types_default().object,prop_types_default().array]).isRequired,onButtonClick:prop_types_default().func.isRequired,t:prop_types_default().func},DashboardTable.defaultProps={className:"",t(){}};var dashboard_table=DashboardTable},63787:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var components_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15052);const DashboardDataExplorer=(0,components_async__WEBPACK_IMPORTED_MODULE_0__.Z)(()=>Promise.all([__webpack_require__.e(8512),__webpack_require__.e(1419)]).then(__webpack_require__.bind(__webpack_require__,72186)));__webpack_exports__.Z=DashboardDataExplorer},3902:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294);function createBooleanColumn({Header,accessor,trueLabel,falseLabel,printLabels=!1,maxWidth=150}){let Cell,style;return printLabels?(Cell=row=>row.value===!0?trueLabel:row.value===!1?falseLabel:null,style={marginTop:"8px",color:"darkslategrey"}):(Cell=row=>row.value?react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"far fa-check-square"}):null,style={marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center"}),{Header,accessor,style,Cell,filterMethod:(filter,row)=>{if(filter.value==="all")return!0;const id=filter.pivotId||filter.id;return row[id]===void 0?!0:String(row[id])===filter.value},Filter:({filter,onChange})=>{const handleChange=event=>{const newValue=event.target.value;onChange(newValue)};let value;return filter?value=filter.value:value="all",react__WEBPACK_IMPORTED_MODULE_0__.createElement("select",{onBlur:handleChange,onChange:handleChange,style:{width:"100%",backgroundColor:"ghostwhite"},value},react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:"all"},"Show All"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:!0},trueLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:!1},falseLabel))},maxWidth}}__webpack_exports__.Z=createBooleanColumn},84024:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294);function createCategoricalColumn({Header,Cell,accessor,labels,maxWidth=150}){let style;return{Header,accessor,style,Cell,filterMethod:(filter,row)=>{if(filter.value==="all")return!0;const id=filter.pivotId||filter.id;return row[id]===void 0?!0:String(row[id])===filter.value},Filter:({filter,onChange})=>{const handleChange=event=>{const newValue=event.target.value;onChange(newValue)};let value;return filter?value=filter.value:value="all",react__WEBPACK_IMPORTED_MODULE_0__.createElement("select",{onBlur:handleChange,onChange:handleChange,style:{width:"100%",backgroundColor:"ghostwhite"},value},react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:"all"},"Show All"),labels.map((x,idx)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:x,key:idx},x)))},maxWidth}}__webpack_exports__.Z=createCategoricalColumn},30691:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),react_dates__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76141),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(99201),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44981),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__),react_dates_lib_css_datepicker_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71990),__defProp2=Object.defineProperty,__defNormalProp2=(obj,key,value)=>key in obj?__defProp2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__publicField=(obj,key,value)=>(__defNormalProp2(obj,typeof key!="symbol"?key+"":key,value),value);class CustomDatePicker extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props);__publicField(this,"handleDatesChange",({startDate,endDate})=>{this.setState({startDate,endDate},()=>{this.props.onDatesChange(this.state)})}),__publicField(this,"handleReset",()=>{this.setState({startDate:this.props.minDate,endDate:this.props.maxDate},()=>{this.props.onDatesChange(this.state)})}),this.state={startDate:props.startDate,endDate:props.endDate}}componentDidUpdate(prevProps){(this.props.startDate!==prevProps.startDate||this.props.endDate!==prevProps.endDate)&&this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_dates__WEBPACK_IMPORTED_MODULE_1__.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,startDateId:"start_date_input",endDateId:"end_date_input",onDatesChange:this.handleDatesChange,focusedInput:this.state.focusedInput,onFocusChange:focusedInput=>this.setState({focusedInput}),isOutsideRange:()=>!1}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default(),{"aria-label":this.props.t("common:close"),variant:"warning",onClick:this.handleReset,style:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,fontSize:20}},"x"))}}const DefaultCell=row=>new Date(row.value).toLocaleString();function createBooleanColumn({Header,accessor,Cell,style,startDate,endDate,t,maxWidth=150}){return{Header,accessor,style,Cell:Cell||DefaultCell,filterMethod:(filter,row)=>{if(!filter.value)return!0;const{startDate:startDate2,endDate:endDate2}=filter.value,id=filter.pivotId||filter.id,value=row[id].getTime();return startDate2&&endDate2?value>=startDate2.valueOf()&&value<=endDate2.valueOf():startDate2?value>=startDate2.valueOf():endDate2?value<=endDate2.valueOf():!0},Filter:({filter,onChange})=>{const filterValue=filter?filter.value||{}:{},popover=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default(),{id:"popover-data",style:{maxWidth:400}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default().Header,{as:"h3"},t("common:dates")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default().Body,{style:{backgroundColor:"grey"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(CustomDatePicker,{startDate:filterValue.startDate||startDate,minDate:startDate,maxDate:endDate,endDate:filterValue.endDate||endDate,onDatesChange:({startDate:startDate2,endDate:endDate2})=>{onChange({startDate:startDate2,endDate:endDate2})},t})));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5___default(),{trigger:"click",placement:"right",overlay:popover},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default(),{"aria-label":t("common:toggle-calendar"),size:"sm",style:{float:"left",marginLeft:6},variant:"secondary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"far fa-calendar-alt"})))},maxWidth}}__webpack_exports__.Z=createBooleanColumn},56739:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),react_input_range__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9322),react_input_range__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_input_range__WEBPACK_IMPORTED_MODULE_1__),_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51594),_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_2__),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86361),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_3__),_stdlib_math_base_special_roundn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60004),_stdlib_math_base_special_roundn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_stdlib_math_base_special_roundn__WEBPACK_IMPORTED_MODULE_4__),css_input_range_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(53860);const defaultFilterMethod=(filter,row)=>{const id=filter.pivotId||filter.id,val=row[id];return val>=filter.value.min&&val<=filter.value.max},defaultFormatLabel=value=>_stdlib_math_base_special_roundn__WEBPACK_IMPORTED_MODULE_4___default()(value,-2);function createNumericColumn({Header,accessor,Cell,minValue=0,maxValue=1,maxWidth=150,filterMethod,formatLabel}){const id=`header-${_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_3___default()(_stdlib_string_replace__WEBPACK_IMPORTED_MODULE_2___default()(Header," ","-"))}`;return{Header:react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{id},Header),accessor,Cell:Cell||(row=>row.value?`${_stdlib_math_base_special_roundn__WEBPACK_IMPORTED_MODULE_4___default()(row.value,-3)}`:"NA"),filterMethod:filterMethod||defaultFilterMethod,Filter:({filter,onChange})=>{minValue===maxValue&&(maxValue=minValue+=1);const defaultVal={max:maxValue,min:minValue};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_input_range__WEBPACK_IMPORTED_MODULE_1___default(),{ariaLabelledby:id,ariaControls:"dashboard-table",allowSameValues:!0,maxValue,minValue,step:.1,value:filter?filter.value:defaultVal,onChange:newValue=>{onChange(newValue)},formatLabel:formatLabel||defaultFormatLabel}))},maxWidth}}__webpack_exports__.Z=createNumericColumn},90501:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26199),react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_2__),_text_filter_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31190);function createTextColumn({id,Header,Cell,accessor,maxWidth=150,minWidth,filterMethod}){minWidth>maxWidth&&(maxWidth=minWidth);const spec={id,Header,accessor,Cell,filterMethod:filterMethod||_text_filter_js__WEBPACK_IMPORTED_MODULE_1__.Z,Filter:({filter,onChange})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_2___default(),{"aria-label":Header,autoComplete:"none",onChange:event=>{onChange(event.target.value)}})};return maxWidth&&(spec.maxWidth=maxWidth),minWidth&&(spec.minWidth=minWidth),spec}__webpack_exports__.Z=createTextColumn},27505:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _stdlib_math_base_special_floor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(78113),_stdlib_math_base_special_floor__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_stdlib_math_base_special_floor__WEBPACK_IMPORTED_MODULE_0__);const formatTime=(time,opts={hours:!0,minutes:!0,seconds:!0})=>{time=time/1e3;const hours=_stdlib_math_base_special_floor__WEBPACK_IMPORTED_MODULE_0___default()(time/(60*60));time=time%(60*60);let minutes=_stdlib_math_base_special_floor__WEBPACK_IMPORTED_MODULE_0___default()(time/60);minutes<10&&(minutes="0"+minutes),time=time%60;let seconds=_stdlib_math_base_special_floor__WEBPACK_IMPORTED_MODULE_0___default()(time);seconds<10&&(seconds="0"+seconds);let out="";return opts.hours&&(out+=hours),opts.minutes&&(out&&(out+=":"),out+=minutes),opts.seconds&&(out&&(out+=":"),out+=seconds),out};__webpack_exports__.Z=formatTime},31190:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61635),_stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0__),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86361),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1__);const textFilter=(filter,row)=>{const str=row[filter.id]||"";return _stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0___default()(_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1___default()(str),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1___default()(filter.value))};__webpack_exports__.Z=textFilter},53860:function(){},51889:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_createWithBsPrefix=_interopRequireDefault(__webpack_require__(20158)),_divWithClassName=_interopRequireDefault(__webpack_require__(3081)),_CardImg=_interopRequireDefault(__webpack_require__(87550)),_CardHeader=_interopRequireDefault(__webpack_require__(6003)),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const DivStyledAsH5=(0,_divWithClassName.default)("h5"),DivStyledAsH6=(0,_divWithClassName.default)("h6"),CardBody=(0,_createWithBsPrefix.default)("card-body"),CardTitle=(0,_createWithBsPrefix.default)("card-title",{Component:DivStyledAsH5}),CardSubtitle=(0,_createWithBsPrefix.default)("card-subtitle",{Component:DivStyledAsH6}),CardLink=(0,_createWithBsPrefix.default)("card-link",{Component:"a"}),CardText=(0,_createWithBsPrefix.default)("card-text",{Component:"p"}),CardFooter=(0,_createWithBsPrefix.default)("card-footer"),CardImgOverlay=(0,_createWithBsPrefix.default)("card-img-overlay"),defaultProps={body:!1},Card=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,className,bg,text,border,body,children,as:Component="div"}=_b,props=__objRest(_b,["bsPrefix","className","bg","text","border","body","children","as"]);const prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"card");return(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,prefix,bg&&`bg-${bg}`,text&&`text-${text}`,border&&`border-${border}`),children:body?(0,_jsxRuntime.jsx)(CardBody,{children}):children}))});Card.displayName="Card",Card.defaultProps=defaultProps;var _default=Object.assign(Card,{Img:_CardImg.default,Title:CardTitle,Subtitle:CardSubtitle,Body:CardBody,Link:CardLink,Text:CardText,Header:_CardHeader.default,Footer:CardFooter,ImgOverlay:CardImgOverlay});exports.default=_default,module.exports=exports.default},6003:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_CardHeaderContext=_interopRequireDefault(__webpack_require__(88296)),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const CardHeader=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,className,as:Component="div"}=_b,props=__objRest(_b,["bsPrefix","className","as"]);const prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"card-header"),contextValue=(0,React.useMemo)(()=>({cardHeaderBsPrefix:prefix}),[prefix]);return(0,_jsxRuntime.jsx)(_CardHeaderContext.default.Provider,{value:contextValue,children:(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,prefix)}))})});CardHeader.displayName="CardHeader";var _default=CardHeader;exports.default=_default,module.exports=exports.default},87550:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const CardImg=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,className,variant,as:Component="img"}=_b,props=__objRest(_b,["bsPrefix","className","variant","as"]);const prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"card-img");return(0,_jsxRuntime.jsx)(Component,__spreadValues({ref,className:(0,_classnames.default)(variant?`${prefix}-${variant}`:prefix,className)},props))});CardImg.displayName="CardImg";var _default=CardImg;exports.default=_default,module.exports=exports.default},28269:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const DEVICE_SIZES=["xxl","xl","lg","md","sm","xs"],Row=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,className,as:Component="div"}=_b,props=__objRest(_b,["bsPrefix","className","as"]);const decoratedBsPrefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"row"),sizePrefix=`${decoratedBsPrefix}-cols`,classes=[];return DEVICE_SIZES.forEach(brkPoint=>{const propValue=props[brkPoint];delete props[brkPoint];let cols;propValue!=null&&typeof propValue=="object"?{cols}=propValue:cols=propValue;const infix=brkPoint!=="xs"?`-${brkPoint}`:"";cols!=null&&classes.push(`${sizePrefix}${infix}-${cols}`)}),(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,decoratedBsPrefix,...classes)}))});Row.displayName="Row";var _default=Row;exports.default=_default,module.exports=exports.default}}]);

//# sourceMappingURL=2759.102fe505.chunk.js.map