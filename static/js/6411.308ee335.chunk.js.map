{"version":3,"file":"static/js/6411.308ee335.chunk.js","mappings":"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","sources":["actions/badge.js","components/ticket-modal/index.js","components/namespace-data/files_page.js","components/namespace-data/announcements_page.js","components/namespace-data/editable_progress.js","components/namespace-data/progress_page.js","components/namespace-data/cohorts_page.js","components/namespace-data/grades_page.js","../node_modules/react-bootstrap/esm/ToggleButton.js","../node_modules/react-bootstrap/esm/ToggleButtonGroup.js","components/namespace-data/actions_page.js","components/namespace-data/tickets_page.js","components/namespace-data/index.js","actions/announcement.js","containers/visible-namespace-data/index.js","utils/create_numeric_column.js","utils/format_time.js","../node_modules/@stdlib/assert/is-string-array/lib/index.js","../node_modules/@stdlib/assert/is-undefined-or-null/lib/index.js","../node_modules/@stdlib/assert/is-undefined-or-null/lib/main.js","../node_modules/@stdlib/constants/float64/max-safe-integer/lib/index.js","../node_modules/@stdlib/math/base/assert/is-infinite/lib/index.js","../node_modules/@stdlib/math/base/assert/is-infinite/lib/main.js","../node_modules/@stdlib/math/base/assert/is-negative-zero/lib/index.js","../node_modules/@stdlib/math/base/assert/is-negative-zero/lib/main.js","../node_modules/@stdlib/math/base/special/abs/lib/index.js","../node_modules/@stdlib/math/base/special/abs/lib/main.js","../node_modules/@stdlib/math/base/special/ceil/lib/index.js","../node_modules/@stdlib/math/base/special/ceil/lib/main.js","../node_modules/@stdlib/math/base/special/clamp/lib/index.js","../node_modules/@stdlib/math/base/special/clamp/lib/main.js","../node_modules/@stdlib/math/base/special/min/lib/index.js","../node_modules/@stdlib/math/base/special/min/lib/min.js","../node_modules/@stdlib/utils/omit/lib/index.js","../node_modules/@stdlib/utils/omit/lib/omit.js","../node_modules/@stdlib/utils/pick/lib/index.js","../node_modules/@stdlib/utils/pick/lib/pick.js","../node_modules/react-bootstrap/esm/Alert.js","../node_modules/react-bootstrap/esm/Badge.js","../node_modules/react-bootstrap/esm/ElementChildren.js","../node_modules/react-bootstrap/esm/ProgressBar.js","../node_modules/react-select/dist/react-select.esm.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport axios from 'axios';\nimport i18next from 'i18next';\nimport contains from '@stdlib/assert/contains';\nimport server from 'constants/server';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { RETRIEVED_BADGES, USER_RECEIVED_BADGES } from 'constants/action_types.js';\n\n\n// FUNCTIONS //\n\n/**\n * Create a badge notification object for use in the `react-notification-system` component.\n *\n * @param {Object} opts - options\n * @param {string} opts.name - name of the badge\n * @param {string} opts.description - description of the badge\n * @param {string} opts.picture - URL with icon of the badge\n * @returns {Object} `react-notification-system` component configuration\n */\nfunction createBadgeNotification({ name, description, picture }) {\n\tconst pic = server + '/badges/' + picture;\n\treturn {\n\t\tchildren: (\n\t\t\t<div>\n\t\t\t\t<h3>{i18next.t('common:received-badge')}{name}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"received-badge-before\" />\n\t\t\t\t\t\t<img className=\"received-badge\" src={pic} alt=\"Received Badge\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<p style={{ marginTop: 15 }}>{i18next.t('common:received-badge-for')}<b>{description}</b></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\tlevel: 'info',\n\t\tposition: 'tc',\n\t\tdismissible: 'button',\n\t\tautoDismiss: 0\n\t};\n}\n\n\n// FUNCTIONS //\n\n/**\n * Returns an action for retrieving the user's badges.\n *\n * @param {Array} badges - retrieved user badges\n * @returns {Object} action\n */\nexport function receivedUserBadges( badges ) {\n\treturn {\n\t\ttype: USER_RECEIVED_BADGES,\n\t\tpayload: {\n\t\t\tbadges\n\t\t}\n\t};\n}\n\n/**\n * Returns an action for retrieved available badges.\n *\n * @param {Array} badges - retrieved available badges\n * @returns {Object} action\n */\nexport function retrievedBadges( badges ) {\n\treturn {\n\t\ttype: RETRIEVED_BADGES,\n\t\tpayload: {\n\t\t\tbadges\n\t\t}\n\t};\n}\n\n/**\n * Makes a GET request to retrieve the user's badges.\n *\n * @param {Function} dispatch - dispatch function\n */\nexport const getUserBadges = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_user_badges' );\n\t\tconst { badges, addedBadges } = res.data;\n\t\tdispatch( receivedUserBadges( badges ) );\n\t\tif ( addedBadges.length > 0 ) {\n\t\t\tfor ( let i = 0; i < badges.length; i++ ) {\n\t\t\t\tconst item = badges[i];\n\t\t\t\tif ( contains( addedBadges, item.name ) ) {\n\t\t\t\t\taddNotification( dispatch, createBadgeNotification( item ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to retrieve the user's badges.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a GET request to retrieve the user's badges\n */\nexport const getUserBadgesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getUserBadges( dispatch );\n\t};\n};\n\n/**\n * Makes a GET request to retrieve the available badges.\n *\n * @param {Function} dispatch - dispatch function\n */\nexport const getAvailableBadges = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_available_badges' );\n\t\tdispatch( retrievedBadges( res.data ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to retrieve the available badges.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a GET request to retrieve the available badges\n */\nexport const getAvailableBadgesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getAvailableBadges( dispatch );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Modal from 'react-bootstrap/Modal';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport server from 'constants/server';\nimport './ticket_modal.css';\n\n\n// FUNCTIONS //\n\nconst createTooltip = ( str ) => {\n\treturn <Tooltip id=\"tooltip\">{str}</Tooltip>;\n};\n\n\n// MAIN //\n\nclass TicketModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tresponse: ''\n\t\t};\n\t}\n\n\thandleResponseChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tresponse: event.target.value\n\t\t});\n\t}\n\n\thandleResponseSubmit = () => {\n\t\tthis.props.submitTicketMessage({\n\t\t\tmessage: this.state.response,\n\t\t\tticketID: this.props.ticket._id\n\t\t});\n\t\tthis.setState({\n\t\t\tresponse: ''\n\t\t});\n\t}\n\n\ttoggleCompletion = () => {\n\t\tif ( this.props.ticket.done ) {\n\t\t\tthis.props.openTicket( this.props.ticket._id );\n\t\t} else {\n\t\t\tthis.props.closeTicket( this.props.ticket._id );\n\t\t}\n\t}\n\n\trenderMessage = ( val, idx ) => {\n\t\tconst t = this.props.t;\n\t\tconst createdAt = new Date( val.createdAt );\n\t\treturn (\n\t\t\t<div className=\"message-container\" key={idx} >\n\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t<img src={`${server}/thumbnail/${val.picture}`} alt=\"User Profile Pic\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t<span className=\"message-author\">{ val.author }</span>\n\t\t\t\t\t\t&nbsp;{t('common:wrote-on', { date: `${createdAt.toLocaleTimeString()} ${createdAt.toLocaleDateString()}` })}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t{val.body}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst t = this.props.t;\n\t\tconst { ticket } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal show={this.props.show} onHide={this.props.onHide} dialogClassName=\"modal-60w\" >\n\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t<Modal.Title as=\"h3\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t{t('common:title')}: {ticket.title}\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('close-ticket-modal') )}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\taria-label={t('close-ticket-modal')}\n\t\t\t\t\t\t\t\t\tclassName=\"modal-close\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">x</span>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body style={{ height: '60vh', overflowY: 'auto' }}>\n\t\t\t\t\t\t<span className=\"title\">{t('common:description')}:</span>\n\t\t\t\t\t\t<p style={{ whiteSpace: 'pre-wrap' }}>\n\t\t\t\t\t\t\t{ticket.description}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{ticket.namespace.title ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:course')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.namespace.title}</span>\n\t\t\t\t\t\t\t\t{' | '}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.lesson ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:lesson')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.lesson.title}</span>\n\t\t\t\t\t\t\t\t{' | '}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.component ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:component')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.component}</span>\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.attachments.length > 0 ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:attachments')}: `}</span>\n\t\t\t\t\t\t\t\t{ticket.attachments.map( ( file, idx ) => {\n\t\t\t\t\t\t\t\t\treturn ( <a aria-label={t('common:attachments')} href={`${server}/attachments/${file.filename}`} key={idx} style={{ marginLeft: 6 }} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-link\" style={{ marginRight: 2 }} ></i>\n\t\t\t\t\t\t\t\t\t\t{file.title}\n\t\t\t\t\t\t\t\t\t</a> );\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<span className=\"title\">{t('common:messages')}:</span>\n\t\t\t\t\t\t{ticket.messages.map( this.renderMessage )}\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer style={{ background: 'ghostwhite' }} >\n\t\t\t\t\t\t<FormGroup controlId=\"form-text\" style={{ width: 'calc(100% - 200px)' }} >\n\t\t\t\t\t\t\t<FormLabel>{t('enter-response')}</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tas=\"textarea\" rows=\"5\"\n\t\t\t\t\t\t\t\tvalue={this.state.response}\n\t\t\t\t\t\t\t\tplaceholder={ticket.done ? t('require-open-ticket') : t('response-comes-here')}\n\t\t\t\t\t\t\t\tonChange={this.handleResponseChange}\n\t\t\t\t\t\t\t\tdisabled={ticket.done}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<div style={{ float: 'right', width: '180px' }} >\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={this.handleResponseSubmit}\n\t\t\t\t\t\t\t\tdisabled={!this.state.response || ticket.done}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('submit-response')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={this.toggleCompletion}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.done ? t('common:open-ticket') : t('common:close-ticket')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('common:hide')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketModal.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\tticket: PropTypes.object.isRequired\n};\n\nTicketModal.defaultProps = {};\n\n\n// EXPORTS\n\nexport default withTranslation( [ 'ticket_modal', 'common' ] )( TicketModal );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport stringify from 'csv-stringify';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Badge from 'react-bootstrap/Badge';\nimport copyToClipboard from 'clipboard-copy';\nimport roundn from '@stdlib/math/base/special/roundn';\nimport ceil from '@stdlib/math/base/special/ceil';\nimport pick from '@stdlib/utils/pick';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport trim from '@stdlib/string/trim';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport DashboardTable from 'components/dashboard-table';\nimport ConfirmModal from 'components/confirm-modal';\nimport server from 'constants/server';\nimport saveAs from 'utils/file_saver.js';\nimport createDateColumn from 'utils/create_date_column.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport createNumericColumn from 'utils/create_numeric_column.js';\nimport 'css/input_range.css';\nimport './files_page.css';\n\n\n// VARIABLES //\n\nconst EXPORT_COLUMNS = [ 'name', 'email', 'lesson', 'title', 'filename', 'type', 'createdAt', 'updatedAt' ];\nconst debug = logger( 'isle:files-page' );\n\n\n// FUNCTIONS //\n\n/**\n * Keeps the part of the file path after `/media/`.\n *\n * @param {string} filepath - file path\n * @returns {string} part of the file path after `/media/`\n */\nconst getPartAfterMedia = ( filepath ) => {\n\treturn filepath.substring( filepath.indexOf( '/media/' ) + 7 );\n};\n\nconst prepareExportData = ( data ) => {\n\tfor ( let i = 0; i < data.length; i++ ) {\n\t\tconst row = pick( data[ i ], EXPORT_COLUMNS );\n\t\trow.lesson = row.lesson.title;\n\t\trow.filename = server+'/'+row.filename;\n\t\tdata[ i ] = row;\n\t}\n\treturn data;\n};\n\n\n// MAIN //\n\nclass FilesPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tshowDeleteModal: false,\n\t\t\tdeletionID: null,\n\t\t\tfileMaxSize: 0,\n\t\t\tfileInputKey: 0,\n\t\t\tshowExplorer: false\n\t\t};\n\t\tthis.columns = this.createColumns();\n\t}\n\n\tcomponentDidMount() {\n\t\tdebug( 'Component did mount...' );\n\t\tthis.props.getFiles({\n\t\t\tnamespaceName: this.props.namespace.title\n\t\t});\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( prevProps.files !== this.props.files ) {\n\t\t\tconst files = this.props.files;\n\t\t\tlet fileMaxSize = 0;\n\t\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\t\tconst size = files[ i ].size;\n\t\t\t\tif ( size && size > fileMaxSize ) {\n\t\t\t\t\tfileMaxSize = size;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tfileMaxSize,\n\t\t\t\tfileInputKey: this.state.fileInputKey + 1\n\t\t\t});\n\t\t}\n\t}\n\n\thandleDelete = () => {\n\t\tthis.props.handleFileDeletion( this.state.deletionID, this.props.ownerFiles );\n\t\tthis.toggleDeleteModal();\n\t}\n\n\ttoggleDeleteModal = () => {\n\t\tthis.setState({\n\t\t\tshowDeleteModal: !this.state.showDeleteModal\n\t\t});\n\t}\n\n\tcreateColumns = () => {\n\t\tconst { t } = this.props;\n\t\treturn [\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:filename'),\n\t\t\t\taccessor: 'title',\n\t\t\t\tminWidth: 250,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:open'),\n\t\t\t\taccessor: 'path',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"external-link-tooltip\">{t('open-file')}</Tooltip>}>\n\t\t\t\t\t\t\t<a aria-label={t('open-file')} href={server+'/'+getPartAfterMedia( row.value )} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t<Button aria-label={t('open-file')} size=\"sm\" variant=\"outline-secondary\">\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-external-link-alt\"></i>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</OverlayTrigger> );\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: t('common:copy'),\n\t\t\t\tid: 'copy-path',\n\t\t\t\taccessor: 'path',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"copy-clipboard-tooltip\">{t('common:copy-link')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button aria-label={t('common:copy-link')} variant=\"outline-secondary\" size=\"sm\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopyToClipboard( server+'/'+getPartAfterMedia( row.value ) );\n\t\t\t\t\t\t\t\t\tthis.props.addNotification({\n\t\t\t\t\t\t\t\t\t\ttitle: 'Copied',\n\t\t\t\t\t\t\t\t\t\tmessage: 'Link copied to clipboard',\n\t\t\t\t\t\t\t\t\t\tlevel: 'success',\n\t\t\t\t\t\t\t\t\t\tposition: 'tl'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fa fa-clipboard\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:lesson'),\n\t\t\t\taccessor: 'lesson',\n\t\t\t\tmaxWidth: 160,\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( !row.row.lesson ) {\n\t\t\t\t\t\treturn <span>{t('no-lesson')}</span>;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"open-lesson-tooltip\">{t('open-lesson-new-tab')}</Tooltip>}>\n\t\t\t\t\t\t\t<div style={{ width: '100%', height: '100%' }} >\n\t\t\t\t\t\t\t\t<a aria-label={t('open-lesson-new-tab')} href={row.row.lesson.url} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t{row.row.lesson.title}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn row[ filter.id ].title.startsWith( filter.value );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('first-name'),\n\t\t\t\tid: 'first_name',\n\t\t\t\taccessor: d => {\n\t\t\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\t\t\tif ( parts.length > 1 ) {\n\t\t\t\t\t\tparts.pop();\n\t\t\t\t\t\treturn parts.join( ' ' );\n\t\t\t\t\t}\n\t\t\t\t\treturn parts[ 0 ];\n\t\t\t\t},\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('last-name'),\n\t\t\t\tid: 'last_name',\n\t\t\t\taccessor: d => {\n\t\t\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\t\t\tif ( parts.length > 1 ) {\n\t\t\t\t\t\treturn parts[ parts.length - 1 ];\n\t\t\t\t\t}\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'email',\n\t\t\t\tmaxWidth: 160,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('type'),\n\t\t\t\taccessor: 'type',\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( row[ filter.id ], filter.value );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateNumericColumn({\n\t\t\t\tHeader: t('common:size'),\n\t\t\t\taccessor: 'size',\n\t\t\t\tCell: row => row.value ? `${roundn( row.value, -3 )}mb` : 'NA',\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\tconst id = filter.pivotId || filter.id;\n\t\t\t\t\tconst size = row[ id ];\n\t\t\t\t\treturn size >= filter.value.min && size <= filter.value.max;\n\t\t\t\t},\n\t\t\t\tformatLabel: value => roundn( value, -2 ),\n\t\t\t\tmaxValue: ceil( this.state.fileMaxSize ) || 1,\n\t\t\t\tminValue: 0\n\t\t\t}),\n\t\t\tcreateDateColumn({\n\t\t\t\tHeader: t('common:date'),\n\t\t\t\taccessor: 'updatedAt',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( row.value && row.value.toLocaleDateString ) {\n\t\t\t\t\t\treturn row.value.toLocaleDateString( 'en-US' );\n\t\t\t\t\t}\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tmaxWidth: 120,\n\t\t\t\tt: t\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: 'Del',\n\t\t\t\taccessor: '_id',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"delete-file-tooltip\">{t('delete-file-tooltip')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\taria-label={t('delete-file-tooltip')}\n\t\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tdeletionID: row.value,\n\t\t\t\t\t\t\t\t\tshowDeleteModal: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t<div className=\"fa fa-trash-alt\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t}\n\t\t];\n\t}\n\n\tsaveJSON = () => {\n\t\tconst currentFiles = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tlet data = prepareExportData( currentFiles );\n\t\tconst blob = new Blob([ JSON.stringify( data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `files_${this.props.namespace.title}.json`;\n\t\tsaveAs( blob, name );\n\t}\n\n\tsaveCSV = () => {\n\t\tconst currentFiles = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tlet data = prepareExportData( currentFiles );\n\t\tstringify( data, {\n\t\t\theader: true\n\t\t}, ( err, output ) => {\n\t\t\tif ( err ) {\n\t\t\t\treturn this.props.addNotification({\n\t\t\t\t\ttitle: 'Error encountered',\n\t\t\t\t\tmessage: 'Encountered an error while creating CSV: '+err.message,\n\t\t\t\t\tlevel: 'error',\n\t\t\t\t\tposition: 'tl'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\ttype: 'text/plain'\n\t\t\t});\n\t\t\tconst name = `files_${this.props.namespace.title}.csv`;\n\t\t\tsaveAs( blob, name );\n\t\t});\n\t}\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tconst files = this.props.files;\n\t\t\tlet data = [];\n\t\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\t\tconst file = files[ i ];\n\t\t\t\tconst replacement = {};\n\t\t\t\treplacement.title = file.title;\n\t\t\t\treplacement.type = file.type;\n\t\t\t\treplacement.lesson = file.lesson ? file.lesson.title : null;\n\t\t\t\treplacement.size = file.size ? file.size : null;\n\t\t\t\treplacement.email = file.email;\n\t\t\t\treplacement.createdAt = file.createdAt;\n\t\t\t\treplacement.updatedAt = file.updatedAt;\n\t\t\t\tdata.push( replacement );\n\t\t\t}\n\t\t\tdata = obsToVar( data );\n\t\t\tconst quantitative = [ 'size' ];\n\t\t\tconst categorical = [ 'title', 'type', 'lesson', 'email', 'createdAt', 'updatedAt' ];\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-files-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t<div className=\"namespace-data-buttons\">\n\t\t\t\t<ButtonGroup className=\"files-export-button-group\" >\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"csvTooltip\" >{t('save-as-csv')}</Tooltip>}>\n\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveCSV} ><i className=\"fas fa-download\"></i> CSV</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"jsonTooltip\">{t('save-as-json')}</Tooltip>}>\n\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveJSON} ><i className=\"fas fa-download\"></i> JSON</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{ this.props.ownerFiles ? <FormGroup className=\"file-upload-button\" >\n\t\t\t\t\t<FormLabel htmlFor=\"fileUpload\" style={{ cursor: 'pointer' }}>\n\t\t\t\t\t\t<Badge id=\"fileUploadBadge\" variant=\"success\">{t('upload-file')}</Badge>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"fileUpload\"\n\t\t\t\t\t\t\tkey={this.state.fileInputKey}\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\taccept=\".pdf,.html,.md,image/*,video/*,audio/*,.json,.csv\"\n\t\t\t\t\t\t\tonChange={this.props.handleUpload}\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormLabel>\n\t\t\t\t</FormGroup> : null }\n\t\t\t</div>\n\t\t\t<DashboardTable\n\t\t\t\tdata={this.props.files}\n\t\t\t\tcolumns={this.columns}\n\t\t\t\tt={t}\n\t\t\t\tref={(r) => {\n\t\t\t\t\tthis.dashboardTable = r;\n\t\t\t\t}}\n\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t/>\n\t\t\t<ConfirmModal\n\t\t\t\tshow={this.state.showDeleteModal}\n\t\t\t\tclose={this.toggleDeleteModal}\n\t\t\t\tmessage={t('delete-file')}\n\t\t\t\ttitle={`${t('common:delete')}?`}\n\t\t\t\tonConfirm={this.handleDelete}\n\t\t\t/>\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nFilesPage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tfiles: PropTypes.array.isRequired,\n\tgetFiles: PropTypes.func.isRequired,\n\thandleFileDeletion: PropTypes.func.isRequired,\n\thandleUpload: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\townerFiles: PropTypes.bool\n};\n\nFilesPage.defaultProps = {\n\townerFiles: false\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( FilesPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Card from 'react-bootstrap/Card';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Form from 'react-bootstrap/Form';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport ConfirmModal from 'components/confirm-modal';\nimport '../profile-page/message-page.css';\nimport './message_admin_page.css';\n\n\n// MAIN //\n\nclass AnnouncementsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\ttitle: '',\n\t\t\tbody: '',\n\t\t\tmode: 'new-announcement',\n\t\t\teditItem: null,\n\t\t\tshowDeleteModal: false\n\t\t};\n\t}\n\n\trenderModals() {\n\t\treturn null;\n\t}\n\n\teditMessage( ndx ) {\n\t\tconst announcement = this.props.namespace.announcements[ ndx ];\n\t\tthis.setState({\n\t\t\tmode: 'edit-announcement',\n\t\t\teditItem: ndx,\n\t\t\ttitle: announcement.title,\n\t\t\tbody: announcement.body\n\t\t});\n\t}\n\n\tdeleteSelectedMessage = () => {\n\t\tconst ndx = this.state.editItem;\n\t\tconst announcement = this.props.namespace.announcements[ ndx ];\n\t\tthis.props.deleteAnnouncement( announcement.createdAt, ndx );\n\t\tthis.clear();\n\t\tthis.closeDeleteModal();\n\t}\n\n\trenderMessages() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.namespace.announcements.map( ( value, index ) => {\n\t\t\t\t\tconst date = new Date( value.createdAt );\n\t\t\t\t\tconst dateString = date.toLocaleDateString() + '  -  ' + date.toLocaleTimeString( navigator.language, {\n\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t});\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<div className=\"message-container\">\n\t\t\t\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t\t\t\t<img src={value.picture} alt=\"User Profile Pic\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t\t\t\t<span className=\"message-author\">{ value.author }</span>\n\t\t\t\t\t\t\t\t\t&nbsp;{t('common:wrote-on', { date: dateString })}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"message-title\">\n\t\t\t\t\t\t\t\t{ value.title }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t\t\t\t{ value.body }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"message-manip\">\n\t\t\t\t\t\t\t<button onClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\teditItem: index,\n\t\t\t\t\t\t\t\t\tshowDeleteModal: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} className=\"message-delete\">{t('common:delete')}</button>\n\t\t\t\t\t\t\t<button onClick={() => {\n\t\t\t\t\t\t\t\tthis.editMessage(index);\n\t\t\t\t\t\t\t}} className=\"message-edit\">{t('common:edit')}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcreateMessage = () => {\n\t\tconst now = new Date().getTime();\n\t\tconst message = {\n\t\t\ttitle: this.state.title,\n\t\t\tbody: this.state.body,\n\t\t\tauthor: this.props.user.name,\n\t\t\temail: this.props.user.email,\n\t\t\tpicture: this.props.user.picture\n\t\t};\n\t\tif ( this.state.editItem === null ) {\n\t\t\tmessage.createdAt = now;\n\t\t\tthis.props.addAnnouncement( message );\n\t\t}\n\t\telse {\n\t\t\tconst announcement = this.props.namespace.announcements[ this.state.editItem ];\n\t\t\tmessage.createdAt = announcement.createdAt;\n\t\t\tthis.props.editAnnouncement( message );\n\t\t}\n\t\tthis.clear();\n\t}\n\n\thandleInputChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\t\tlet value = target.value;\n\t\tthis.setState({\n\t\t\t[ name ]: value\n\t\t});\n\t}\n\n\tclear = () => {\n\t\tthis.setState({\n\t\t\ttitle: '',\n\t\t\tbody: '',\n\t\t\tmode: 'new-announcement',\n\t\t\teditItem: null\n\t\t});\n\t}\n\n\tcloseDeleteModal = () => {\n\t\tthis.setState({\n\t\t\teditItem: null,\n\t\t\tshowDeleteModal: false\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst isDisabled = this.state.title.length < 3 || this.state.body.length < 3;\n\t\tconst isEmpty = this.state.title.length === 0 && this.state.body.length === 0;\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t<div className=\"messages\">\n\t\t\t\t{ this.renderMessages() }\n\t\t\t</div>\n\t\t\t<div className=\"new_message\">\n\t\t\t\t<Card>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<Card.Title as=\"h3\">\n\t\t\t\t\t\t\t{t(this.state.mode)}\n\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Form style={{ padding: '20px' }}>\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"titleTooltip\">{t('announcement-title')}</Tooltip>}>\n\t\t\t\t\t\t\t\t<FormGroup controlId=\"form-title\" >\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:title')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t<FormGroup controlId=\"form-text\" >\n\t\t\t\t\t\t\t\t<FormLabel>{t('announcement-text')}</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\" rows=\"10\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.body}\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t<Button type=\"submit\" disabled={isDisabled} onClick={this.createMessage}>\n\t\t\t\t\t\t\t\t{ this.state.mode === 'new-announcement' ? t('common:create') : t('common:update') }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.clear} disabled={isEmpty} variant=\"danger\">{t('common:clear')}</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t\t<ConfirmModal\n\t\t\t\tshow={this.state.showDeleteModal}\n\t\t\t\tclose={this.closeDeleteModal}\n\t\t\t\tmessage={t('delete-announcement')}\n\t\t\t\ttitle={`${t('common:delete')}?`}\n\t\t\t\tonConfirm={this.deleteSelectedMessage}\n\t\t\t/>\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nAnnouncementsPage.propTypes = {\n\taddAnnouncement: PropTypes.func.isRequired,\n\tdeleteAnnouncement: PropTypes.func.isRequired,\n\teditAnnouncement: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nAnnouncementsPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( AnnouncementsPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport clamp from '@stdlib/math/base/special/clamp';\nimport './editable_progress.css';\n\n\n// MAIN //\n\nclass EditableProgress extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tisEditing: false,\n\t\t\thasChanged: false,\n\t\t\tnewProgress: props.progress,\n\t\t\toriginalProgress: props.progress\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps( nextProps, prevState ) {\n\t\tif ( nextProps.progress !== prevState.originalProgress ) {\n\t\t\treturn {\n\t\t\t\tnewProgress: nextProps.progress,\n\t\t\t\toriginalProgress: nextProps.progress\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\ttoggleEditing = () => {\n\t\tthis.setState({\n\t\t\tisEditing: !this.state.isEditing,\n\t\t\tnewProgress: this.props.progress\n\t\t});\n\t}\n\n\thandleChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tnewProgress: clamp( event.target.value, 0, 100 ),\n\t\t\thasChanged: true\n\t\t});\n\t}\n\n\thandleSubmit = () => {\n\t\tthis.setState({\n\t\t\tisEditing: false,\n\t\t\thasChanged: false\n\t\t});\n\t\tthis.props.onSubmit( this.state.newProgress );\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\tthis.state.isEditing ?\n\t\t\t<Fragment>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={this.state.newProgress}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tmax={100}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tclassName=\"editable-progress-input\"\n\t\t\t\t/>\n\t\t\t\t<i\n\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\tonClick={this.toggleEditing}\n\t\t\t\t\tonKeyPress={this.toggleEditing}\n\t\t\t\t\tclassName=\"fas fa-window-close editable-progress-close\"\n\t\t\t\t></i>\n\t\t\t\t<span className=\"editable-progress-submit\" style={{ display: this.state.hasChanged ? 'inline' : 'none' }}>\n\t\t\t\t\t<i\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\tonKeyPress={this.handleSubmit}\n\t\t\t\t\t\tclassName=\"fas fa-check-square\"\n\t\t\t\t\t></i>\n\t\t\t\t</span>\n\t\t\t</Fragment>: <ProgressBar\n\t\t\t\taria-label=\"new-progress\"\n\t\t\t\tstyle={{\n\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\theight: '12px'\n\t\t\t\t}}\n\t\t\t\tnow={this.state.newProgress}\n\t\t\t\tlabel={`${this.state.newProgress}%`}\n\t\t\t\tonClick={this.toggleEditing}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n\n// EXPORTS //\n\nexport default EditableProgress;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport stringify from 'csv-stringify';\nimport InputRange from 'react-input-range';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport round from '@stdlib/math/base/special/round';\nimport min from '@stdlib/math/base/special/min';\nimport isArray from '@stdlib/assert/is-array';\nimport isUndefinedOrNull from '@stdlib/assert/is-undefined-or-null';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport trim from '@stdlib/string/trim';\nimport DashboardTable from 'components/dashboard-table';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport server from 'constants/server';\nimport saveAs from 'utils/file_saver.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport EditableProgress from './editable_progress.js';\nimport formatTime from 'utils/format_time.js';\nimport './progress_page.css';\nimport 'css/input_range.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:progress-page' );\n\n\n// FUNCTIONS //\n\nfunction filterNumbersFactory( lessons, idx ) {\n\treturn ( filter, row ) => {\n\t\tconst data = row[ filter.id ];\n\t\tconst lessonData = data[ lessons[ idx ]._id ];\n\t\tif ( isUndefinedOrNull( lessonData ) ) {\n\t\t\treturn filter.value.min === 0;\n\t\t}\n\t\tconst progress = min( round( lessonData.progress*100 ), 100 );\n\t\treturn progress >= filter.value.min && progress <= filter.value.max;\n\t};\n}\n\nfunction sortFactory( lessons, idx ) {\n\treturn ( a, b ) => {\n\t\ta = a[ lessons[ idx ]._id ];\n\t\tb = b[ lessons[ idx ]._id ];\n\t\tif ( !a && !b ) {\n\t\t\treturn 0;\n\t\t}\n\t\tif ( a && !b ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( !a && b ) {\n\t\t\treturn -1;\n\t\t}\n\t\tif ( a.progress > b.progress ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( a.progress < b.progress ) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t};\n}\n\nfunction filterMethodCategories( filter, row ) {\n\tif ( filter.value === 'all' ) {\n\t\treturn true;\n\t}\n\tconst id = filter.pivotId || filter.id;\n\tif ( row[ id ] === void 0 ) {\n\t\treturn true;\n\t}\n\tif ( isArray( filter.value ) ) {\n\t\treturn contains( filter.value, String( row[ id ] ) );\n\t}\n\treturn String( row[ id ] ) === filter.value;\n}\n\n\n// MAIN //\n\nclass ProgressPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.columns = this.createColumns( props.lessons, props.cohorts );\n\t\tthis.state = {\n\t\t\tdisplayedMembers: [],\n\t\t\tlessonSortDirection: 'ascending',\n\t\t\tlessonOrder: 'createdAt',\n\t\t\tshowExplorer: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.createDisplayedMembers();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tthis.props.cohorts !== prevProps.cohorts ||\n\t\t\tthis.props.lessons !== prevProps.lessons\n\t\t) {\n\t\t\tthis.createDisplayedMembers();\n\t\t\tthis.columns = this.createColumns( this.props.lessons, this.props.cohorts );\n\t\t}\n\t}\n\n\tcreateDisplayedMembers() {\n\t\tlet members = [];\n\t\tfor ( let i = 0; i < this.props.cohorts.length; i++ ) {\n\t\t\tconst cohortMembers = this.props.cohorts[ i ].members;\n\t\t\tfor ( let j = 0; j < cohortMembers.length; j++ ) {\n\t\t\t\tcohortMembers[ j ].cohort = this.props.cohorts[ i ].title;\n\t\t\t\tif ( !cohortMembers[ j ].lessonData ) {\n\t\t\t\t\tcohortMembers[ j ].lessonData = {};\n\t\t\t\t}\n\t\t\t}\n\t\t\tmembers = members.concat( this.props.cohorts[ i ].members );\n\t\t}\n\t\tfor ( let i = 0; i < members.length; i++ ) {\n\t\t\tconst d = members[ i ];\n\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\tif ( parts.length > 1 ) {\n\t\t\t\td.lastName = parts.pop();\n\t\t\t\td.firstName = parts.join( ' ' );\n\t\t\t} else {\n\t\t\t\td.firstName = parts[ 0 ];\n\t\t\t\td.lastName = '';\n\t\t\t}\n\t\t}\n\t\tthis.setState({ // eslint-disable-line react/no-did-mount-set-state\n\t\t\tdisplayedMembers: members\n\t\t});\n\t}\n\n\tcreateColumns( lessons, cohorts ) {\n\t\tconst { t } = this.props;\n\t\tconst COLUMNS = [\n\t\t\t{\n\t\t\t\tHeader: 'Pic',\n\t\t\t\taccessor: 'picture',\n\t\t\t\tCell: row => (\n\t\t\t\t\t<img className=\"table-pic\" src={`${server}/thumbnail/${row.original.picture}`} alt=\"Profile Pic\" />\n\t\t\t\t),\n\t\t\t\tmaxWidth: 46,\n\t\t\t\tminWidth: 46,\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tsortable: false,\n\t\t\t\tstyle: { color: 'darkslategrey' }\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('first-name'),\n\t\t\t\tid: 'first_name',\n\t\t\t\taccessor: 'firstName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('last-name'),\n\t\t\t\tid: 'last_name',\n\t\t\t\taccessor: 'lastName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'email',\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:cohort'),\n\t\t\t\taccessor: 'cohort',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tfilterMethod: filterMethodCategories,\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tconst handleChange = ( event ) => {\n\t\t\t\t\t\tconst newValue = event.target.value;\n\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t};\n\t\t\t\t\tlet value;\n\t\t\t\t\tif ( !filter ) {\n\t\t\t\t\t\tvalue = 'all';\n\t\t\t\t\t} else if ( isArray( filter.value ) ) {\n\t\t\t\t\t\tvalue = filter.value.join( ', ' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = filter.value;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tonBlur={handleChange} onChange={handleChange}\n\t\t\t\t\t\t\tstyle={{ width: '100%', backgroundColor: 'ghostwhite' }}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"all\">Show All</option>\n\t\t\t\t\t\t\t{cohorts.map( ( v, key ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={`${v.title}`}\n\t\t\t\t\t\t\t\t\t>{v.title}</option>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst id = 'lesson_'+i;\n\t\t\tCOLUMNS.push({\n\t\t\t\tid,\n\t\t\t\tHeader: <span id={id} >{lessons[ i ].title}</span>,\n\t\t\t\t_lesson: lessons[ i ],\n\t\t\t\tCell: this.accessorFactory( lessons, i ),\n\t\t\t\taccessor: 'lessonData',\n\t\t\t\tsortMethod: sortFactory( lessons, i ),\n\t\t\t\tfilterMethod: filterNumbersFactory( lessons, i ),\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tconst defaultVal = {\n\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\tmin: 0\n\t\t\t\t\t};\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tpaddingLeft: '4px',\n\t\t\t\t\t\t\tpaddingRight: '4px',\n\t\t\t\t\t\t\tpaddingTop: '8px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<InputRange\n\t\t\t\t\t\t\t\tariaLabelledby={id}\n\t\t\t\t\t\t\t\tariaControls=\"dashboard-table\"\n\t\t\t\t\t\t\t\tallowSameValues\n\t\t\t\t\t\t\t\tmaxValue={100}\n\t\t\t\t\t\t\t\tminValue={0}\n\t\t\t\t\t\t\t\tvalue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\t\t\tonChange={( newValue ) => {\n\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn COLUMNS;\n\t}\n\n\taccessorFactory = ( lessons, idx ) => {\n\t\tconst { t } = this.props;\n\t\treturn d => {\n\t\t\tlet data = d.original.lessonData;\n\t\t\tconst lessonID = lessons[ idx ]._id;\n\t\t\tdata = data[ lessonID ];\n\t\t\tif ( data ) {\n\t\t\t\tconst progress = min( round( data.progress*100 ), 100 );\n\t\t\t\treturn (\n\t\t\t\t\t<span style={{ fontSize: '12px', fontWeight: 800 }}>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"durationTooltip\" >{t('hours-minutes-seconds')}</Tooltip>}>\n\t\t\t\t\t\t\t<span>{t('duration')}: {formatTime( data.spentTime )}</span>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"startTooltip\" >{t('first-accessed')}</Tooltip>}>\n\t\t\t\t\t\t\t<span> | {new Date( data.createdAt ).toLocaleString()}</span>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"startTooltip\" >{t('last-accessed')}</Tooltip>}>\n\t\t\t\t\t\t\t<span> - {new Date( data.updatedAt ).toLocaleString()}</span>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<EditableProgress\n\t\t\t\t\t\t\tprogress={progress}\n\t\t\t\t\t\t\temail={d.original.email}\n\t\t\t\t\t\t\tlessonID={lessonID}\n\t\t\t\t\t\t\tonSubmit={( newProgress ) => {\n\t\t\t\t\t\t\t\tthis.props.adjustProgress({\n\t\t\t\t\t\t\t\t\temail: d.original.email,\n\t\t\t\t\t\t\t\t\tlessonID: lessonID,\n\t\t\t\t\t\t\t\t\tnamespaceID: this.props.namespace._id,\n\t\t\t\t\t\t\t\t\tcohort: d.original.cohort,\n\t\t\t\t\t\t\t\t\tprogress: newProgress\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <span></span>;\n\t\t};\n\t}\n\n\tassembleData() {\n\t\tconst displayedMembers = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tconst len = displayedMembers.length;\n\t\tconst out = new Array( len );\n\t\tconst lessons = this.props.lessons;\n\t\tfor ( let i = 0; i < len; i++ ) {\n\t\t\tconst member = displayedMembers[ i ]._original;\n\t\t\tout[ i ] = {\n\t\t\t\tname: member.name,\n\t\t\t\tfirstName: member.firstName,\n\t\t\t\tlastName: member.lastName,\n\t\t\t\temail: member.email,\n\t\t\t\tcohort: member.cohort\n\t\t\t};\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let j = 0; j < availableCustomFields.length; j++ ) {\n\t\t\t\tconst fieldName = availableCustomFields[ j ].name;\n\t\t\t\tif ( member.customFields ) {\n\t\t\t\t\tout[ i ][ fieldName ] = member.customFields[ fieldName ];\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ fieldName ] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( let j = 0; j < lessons.length; j++ ) {\n\t\t\t\tconst lessonName = lessons[ j ]._id;\n\t\t\t\tlet data = member.lessonData;\n\t\t\t\tif ( data && data[ lessonName ] ) {\n\t\t\t\t\tdata = data[ lessonName ];\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_question_progress' ] = min( round( data.progress*100 ), 100 );\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_time' ] = round( data.spentTime / ( 1000*60 ) );\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_first_accessed' ] = new Date( data.createdAt ).toLocaleString();\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_last_accessed' ] = new Date( data.updatedAt ).toLocaleString();\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_question_progress' ] = 0;\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_time' ] = 0;\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_first_accessed' ] = '';\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_last_accessed' ] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\tsaveJSON = () => {\n\t\tconst data = this.assembleData();\n\t\tconst blob = new Blob([ JSON.stringify( data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `completion_${this.props.namespace.title}.json`;\n\t\tsaveAs( blob, name );\n\t}\n\n\tsaveCSV = () => {\n\t\tconst data = this.assembleData();\n\t\tstringify( data, {\n\t\t\theader: true\n\t\t}, ( err, output ) => {\n\t\t\tif ( err ) {\n\t\t\t\treturn this.props.addNotification({\n\t\t\t\t\ttitle: 'Error encountered',\n\t\t\t\t\tmessage: 'Encountered an error while creating CSV: '+err.message,\n\t\t\t\t\tlevel: 'error',\n\t\t\t\t\tposition: 'tl'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\ttype: 'text/plain'\n\t\t\t});\n\t\t\tconst name = `completion_${this.props.namespace.title}.csv`;\n\t\t\tsaveAs( blob, name );\n\t\t});\n\t}\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t}\n\n\treorderColumns( lessonOrder, lessonSortDirection ) {\n\t\tdebug( 'Sort columns by '+lessonOrder+' in '+lessonSortDirection+' order' );\n\t\tif ( lessonSortDirection === 'ascending' ) {\n\t\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\t\treturn a._lesson.title.localeCompare( b._lesson.title );\n\t\t\t\t}\n\t\t\t\treturn a._lesson[ lessonOrder ] > b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t\t});\n\t\t}\n\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\treturn b._lesson.title.localeCompare( a._lesson.title );\n\t\t\t}\n\t\t\treturn a._lesson[ lessonOrder ] < b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t});\n\t}\n\n\trenderSortButton() {\n\t\tconst { t } = this.props;\n\t\tlet title;\n\t\tswitch ( this.state.lessonOrder ) {\n\t\t\tcase 'title':\n\t\t\t\ttitle = t('common:sort-alphabetically');\n\t\t\t\tbreak;\n\t\t\tcase 'createdAt':\n\t\t\t\ttitle = t('common:sort-create-date');\n\t\t\t\tbreak;\n\t\t\tcase 'updatedAt':\n\t\t\t\ttitle = t('common:sort-update-date');\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<ButtonGroup className=\"sort-button-group\" >\n\t\t\t\t<DropdownButton size=\"sm\" variant=\"secondary\" onSelect={( newValue ) => {\n\t\t\t\t\tthis.columns = this.reorderColumns( newValue, this.state.lessonSortDirection );\n\t\t\t\t\tthis.setState({ lessonOrder: newValue });\n\t\t\t\t}} id=\"dropdown\" title={<small>{title}</small>} >\n\t\t\t\t\t<Dropdown.Item eventKey=\"title\" >\n\t\t\t\t\t\t<small>{t('common:sort-alphabetically')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"createdAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-create-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"updatedAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-update-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t<Button size=\"sm\" variant=\"secondary\" style={{ marginLeft: 2 }} onClick={() => {\n\t\t\t\t\tif ( this.state.lessonSortDirection === 'ascending' ) {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'descending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'descending' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'ascending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'ascending' });\n\t\t\t\t\t}\n\t\t\t\t}} aria-label={this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\tt('common:sort-descending') : t('common:sort-ascending')} >\n\t\t\t\t\t{ this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\t\t\t<i className=\"fas fa-arrow-right\" /> :\n\t\t\t\t\t\t<i className=\"fas fa-arrow-left\" />\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</ButtonGroup>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tlet data = this.assembleData();\n\t\t\tdata = obsToVar( data );\n\t\t\tconst quantitative = [];\n\t\t\tconst categorical = [ 'name', 'email', 'cohort' ];\n\t\t\tfor ( let i = 0; i < this.props.lessons.length; i++ ) {\n\t\t\t\tconst title = this.props.lessons[ i ].title;\n\t\t\t\tquantitative.push( `${title}_question_progress` );\n\t\t\t\tquantitative.push( `${title}_time` );\n\t\t\t\tcategorical.push( `${title}_first_accessed` );\n\t\t\t\tcategorical.push( `${title}_last_accessed` );\n\t\t\t}\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let i = 0; i < availableCustomFields.length; i++ ) {\n\t\t\t\tcategorical.push( availableCustomFields[ i ].name );\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-progress-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"namespace-data-buttons\" >\n\t\t\t\t\t{this.renderSortButton()}\n\t\t\t\t\t<ButtonGroup className=\"progress-button-group\" >\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"csvTooltip\" >{t('save-as-csv')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveCSV} ><i className=\"fas fa-download\"></i> CSV</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"jsonTooltip\">{t('save-as-json')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveJSON} ><i className=\"fas fa-download\"></i> JSON</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"namespace-data-page\">\n\t\t\t\t\t<DashboardTable\n\t\t\t\t\t\tclassName=\"progress-table\"\n\t\t\t\t\t\tdata={this.state.displayedMembers}\n\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tref={(r) => {\n\t\t\t\t\t\t\tthis.dashboardTable = r;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nProgressPage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tadjustProgress: PropTypes.func.isRequired,\n\tcohorts: PropTypes.array.isRequired,\n\tlessons: PropTypes.array.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nProgressPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( ProgressPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Select from 'react-select';\nimport round from '@stdlib/math/base/special/round';\nimport min from '@stdlib/math/base/special/min';\nimport contains from '@stdlib/assert/contains';\nimport server from 'constants/server';\nimport formatTime from 'utils/format_time.js';\nimport './cohorts.css';\n\n\n// MAIN //\n\nclass CohortsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst cohortOptions = props.cohorts.map( cohort => {\n\t\t\treturn { label: cohort.title, value: cohort.title, data: cohort };\n\t\t});\n\n\t\tlet displayedMembers = [];\n\t\tfor ( let i = 0; i < props.cohorts.length; i++ ) {\n\t\t\tdisplayedMembers = displayedMembers.concat( props.cohorts[i].members);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tcohortOptions: cohortOptions,\n\t\t\tselectedCohorts: cohortOptions,\n\t\t\tdisplayedMembers: displayedMembers,\n\t\t\tactualMember: null\n\t\t};\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.cohorts !== prevProps.cohorts ) {\n\t\t\tconst cohortOptions = this.props.cohorts.map( cohort => {\n\t\t\t\treturn { label: cohort.title, value: cohort.title, data: cohort };\n\t\t\t});\n\t\t\tlet displayedMembers = [];\n\t\t\tfor ( let i = 0; i < this.props.cohorts.length; i++ ) {\n\t\t\t\tdisplayedMembers = displayedMembers.concat( this.props.cohorts[i].members);\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tcohortOptions: cohortOptions,\n\t\t\t\tselectedCohorts: cohortOptions,\n\t\t\t\tdisplayedMembers: displayedMembers,\n\t\t\t\tactualMember: null\n\t\t\t});\n\t\t}\n\t}\n\n\thandleCohortChange = ( cohorts ) => {\n\t\tlet members = [];\n\t\tif ( cohorts ) {\n\t\t\tfor ( let i = 0; i < cohorts.length; i++ ) {\n\t\t\t\tmembers = members.concat( cohorts[ i ].data.members );\n\t\t\t}\n\t\t}\n\t\tthis.setState({\n\t\t\tselectedCohorts: cohorts,\n\t\t\tdisplayedMembers: members\n\t\t});\n\t}\n\n\tshowUser = (member) => {\n\t\tthis.setState({\n\t\t\tactualMember: member\n\t\t});\n\t}\n\n\trenderMember( member, key ) {\n\t\tlet phase = 0.3 + key*0.05;\n\t\tlet ani = 'scale-up ' + phase + 's';\n\t\treturn (\n\t\t\t<Fragment key={key}>\n\t\t\t\t<div className=\"cohort-member\" role=\"button\"\n\t\t\t\t\tonClick={() => this.showUser( member )}\n\t\t\t\t\tonKeyPress={() => this.showUser( member )}\n\t\t\t\t\tstyle={{ animation: ani }} tabIndex={0}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"cohort-member-name\">{member.name}</div>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={server + '/thumbnail/'+member.picture}\n\t\t\t\t\t\t\talt=\"Member Profile Pic\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"cohort-member-email\">\n\t\t\t\t\t\t\t<a href={'mailto:' + member.email}>{member.email}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderCohort() {\n\t\tconst members = this.state.displayedMembers;\n\t\tconst list = [];\n\t\tfor ( let i = 0; i < members.length; i++ ) {\n\t\t\tlist.push( this.renderMember( members[ i ], i ) );\n\t\t}\n\t\treturn list;\n\t}\n\n\trenderMemberLessons( member ) {\n\t\tconst lessons = this.props.lessons;\n\t\tconst list = [];\n\t\tlet progress = 0;\n\t\tlet spentTime = 0;\n\t\tlet totalTime = 0;\n\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tlet id = lessons[i]._id;\n\t\t\tif ( member.lessonData && member.lessonData[ id ] ) {\n\t\t\t\tconst data = member.lessonData[ id ];\n\t\t\t\tprogress = min( round( data.progress * 100 ), 100 );\n\t\t\t\tspentTime = formatTime( data.spentTime );\n\t\t\t\ttotalTime += data.spentTime;\n\t\t\t} else {\n\t\t\t\tprogress = 0;\n\t\t\t\tspentTime = formatTime( 0 );\n\t\t\t}\n\t\t\tlist.push(\n\t\t\t\t<div key={i} >\n\t\t\t\t\t<div className=\"cohort-actual-member-lesson-title\">{lessons[i].title}</div>\n\t\t\t\t\t<ProgressBar aria-label=\"lesson-progress\" className=\"cohort-actual-member-lesson-progress\" style={{ float: 'left', fontSize: '10px', height: '12px'\n\t\t\t\t\t}} now={progress} label={`${progress}%`} />\n\t\t\t\t\t<span className=\"cohort-actual-member-lesson-time\">{spentTime}</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\ttotalTime = formatTime( totalTime );\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"cohort-actual-member-lesson-header\">COURSE INFO</div>\n\t\t\t\t<div className=\"cohort-actual-member-lesson-total\">COURSE TOTAL TIME: {totalTime}</div>\n\t\t\t\t<div className=\"lessons-area\">\n\t\t\t\t\t{list}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\tcloseActualMember = () => {\n\t\tthis.setState({\n\t\t\tactualMember: null\n\t\t});\n\t}\n\n\trenderMemberBadges(member) {\n\t\tconst badges = this.props.badges;\n\t\tconst time = formatTime( member.spentTime );\n\t\tconst list = [];\n\t\tfor ( let i = 0; i < badges.length; i++ ) {\n\t\t\tif ( contains(member.badges, badges[i].name ) ) {\n\t\t\t\tlist.push(\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\toverlay={<Tooltip id=\"isleTime\">{badges[i].description}</Tooltip>}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"cohort-user-badge\" >\n\t\t\t\t\t\t\t\t<img src={server + '/badges/' + badges[i].picture} alt=\"User Badge\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst isleTime = 'the time the user spent with ISLE';\n\t\tconst scoreComment = 'user score';\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div>General User Info</div>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"isleTime\">{ isleTime }</Tooltip>}>\n\t\t\t\t\t<span className=\"user-info-time\">ISLE TIME: {time}</span>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"isleTime\">{ scoreComment }</Tooltip>}>\n\t\t\t\t\t<span className=\"user-info-score\">SCORE: {member.score}</span>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<div></div>\n\t\t\t\t<div className=\"user-info-badges\">\n\t\t\t\t\t<div className=\"user-info-separator\">Badges</div>\n\t\t\t\t\t{list}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderActualMember() {\n\t\tconst member = this.state.actualMember;\n\t\tlet date = null;\n\t\tif ( member.createdAt ) {\n\t\t\tdate = new Date( member.createdAt ).toLocaleDateString();\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"cohort-actual-member\">\n\t\t\t\t<button onClick={this.closeActualMember} className=\"cohort-actual-member-exit empty-button\" >&#10005;</button>\n\t\t\t\t<img className=\"cohort-actual-member-portrait\" src={server + '/avatar/'+member.picture} alt=\"User Profile Pic\" />\n\t\t\t\t<div className=\"cohort-actual-member-portrait-shadow\" />\n\t\t\t\t{date ? <div className=\"cohort-actual-member-registered\">registered since {date}</div> : null}\n\t\t\t\t<div className=\"cohort-actual-member-name\">\n\t\t\t\t\t<h3>{member.name}</h3>\n\t\t\t\t\t<div>{member.email}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cohort-actual-member-info\">\n\t\t\t\t\t{ this.renderMemberLessons(member)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cohort-actual-member-badges\">\n\t\t\t\t\t{ this.renderMemberBadges(member) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"namespace-data-page\">\n\t\t\t\t<div style={{ width: '100%', height: '40px' }}>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={this.state.selectedCohorts}\n\t\t\t\t\t\tisMulti\n\t\t\t\t\t\tname=\"cohorts\"\n\t\t\t\t\t\taria-label=\"Select cohorts\"\n\t\t\t\t\t\tplaceholder=\"Select cohorts to display\"\n\t\t\t\t\t\toptions={this.state.cohortOptions}\n\t\t\t\t\t\tonChange={this.handleCohortChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cohort-page\">\n\t\t\t\t\t{this.renderCohort()}\n\t\t\t\t</div>\n\t\t\t\t{this.state.actualMember ? this.renderActualMember() : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCohortsPage.propTypes = {\n\tbadges: PropTypes.array.isRequired,\n\tcohorts: PropTypes.array.isRequired,\n\tlessons: PropTypes.array.isRequired\n};\n\nCohortsPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default CohortsPage;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport stringify from 'csv-stringify';\nimport { withTranslation } from 'react-i18next';\nimport InputRange from 'react-input-range';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Card from 'react-bootstrap/Card';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport isArray from '@stdlib/assert/is-array';\nimport isUndefinedOrNull from '@stdlib/assert/is-undefined-or-null';\nimport hasOwnProp from '@stdlib/assert/has-own-property';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport trim from '@stdlib/string/trim';\nimport DashboardTable from 'components/dashboard-table';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport server from 'constants/server';\nimport saveAs from 'utils/file_saver.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport './progress_page.css';\nimport 'css/input_range.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:progress-page' );\n\n\n// FUNCTIONS //\n\nfunction filterNumbersFactory( lessons, idx ) {\n\treturn ( filter, row ) => {\n\t\tconst data = row[ filter.id ];\n\t\tconst grades = data[ lessons[ idx ]._id ];\n\t\tif ( isUndefinedOrNull( grades ) ) {\n\t\t\treturn filter.value.min === 0;\n\t\t}\n\t\tconst points = grades._sumPoints;\n\t\treturn points >= filter.value.min && points <= filter.value.max;\n\t};\n}\n\nfunction filterMethodCategories( filter, row ) {\n\tif ( filter.value === 'all' ) {\n\t\treturn true;\n\t}\n\tconst id = filter.pivotId || filter.id;\n\tif ( row[ id ] === void 0 ) {\n\t\treturn true;\n\t}\n\tif ( isArray( filter.value ) ) {\n\t\treturn contains( filter.value, String( row[ id ] ) );\n\t}\n\treturn String( row[ id ] ) === filter.value;\n}\n\nfunction sortFactory( lessons, idx ) {\n\treturn ( a, b ) => {\n\t\ta = a[ lessons[ idx ]._id ];\n\t\tb = b[ lessons[ idx ]._id ];\n\t\tif ( !a && !b ) {\n\t\t\treturn 0;\n\t\t}\n\t\tif ( a && !b ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( !a && b ) {\n\t\t\treturn -1;\n\t\t}\n\t\tif ( a._sumPoints > b._sumPoints ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( a._sumPoints < b._sumPoints ) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t};\n}\n\n\n// MAIN //\n\nclass GradesPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.columns = this.createColumns( props.lessons, props.cohorts );\n\t\tthis.state = {\n\t\t\tdisplayedMembers: [],\n\t\t\tlessonSortDirection: 'ascending',\n\t\t\tlessonOrder: 'createdAt',\n\t\t\tshowExplorer: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.createDisplayedMembers();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tthis.props.cohorts !== prevProps.cohorts ||\n\t\t\tthis.props.lessons !== prevProps.lessons\n\t\t) {\n\t\t\tthis.createDisplayedMembers();\n\t\t\tthis.columns = this.createColumns( this.props.lessons, this.props.cohorts );\n\t\t}\n\t}\n\n\tcreateDisplayedMembers() {\n\t\tlet members = [];\n\t\tfor ( let i = 0; i < this.props.cohorts.length; i++ ) {\n\t\t\tconst cohortMembers = this.props.cohorts[ i ].members;\n\t\t\tfor ( let j = 0; j < cohortMembers.length; j++ ) {\n\t\t\t\tcohortMembers[ j ].cohort = this.props.cohorts[ i ].title;\n\t\t\t\tif ( !cohortMembers[ j ].lessonGrades ) {\n\t\t\t\t\tcohortMembers[ j ].lessonGrades = {};\n\t\t\t\t}\n\t\t\t}\n\t\t\tmembers = members.concat( this.props.cohorts[ i ].members );\n\t\t}\n\t\tfor ( let i = 0; i < members.length; i++ ) {\n\t\t\tconst d = members[ i ];\n\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\tif ( parts.length > 1 ) {\n\t\t\t\td.lastName = parts.pop();\n\t\t\t\td.firstName = parts.join( ' ' );\n\t\t\t} else {\n\t\t\t\td.firstName = parts[ 0 ];\n\t\t\t\td.lastName = '';\n\t\t\t}\n\t\t}\n\t\tthis.setState({ // eslint-disable-line react/no-did-mount-set-state\n\t\t\tdisplayedMembers: members\n\t\t});\n\t}\n\n\tcreateColumns( lessons, cohorts ) {\n\t\tconst { t } = this.props;\n\t\tconst COLUMNS = [\n\t\t\t{\n\t\t\t\tHeader: 'Pic',\n\t\t\t\taccessor: 'picture',\n\t\t\t\tCell: row => (\n\t\t\t\t\t<img className=\"table-pic\" src={`${server}/thumbnail/${row.original.picture}`} alt=\"Profile Pic\" />\n\t\t\t\t),\n\t\t\t\tmaxWidth: 46,\n\t\t\t\tminWidth: 46,\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tsortable: false,\n\t\t\t\tstyle: { color: 'darkslategrey' }\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('first-name'),\n\t\t\t\tid: 'first_name',\n\t\t\t\taccessor: 'firstName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('last-name'),\n\t\t\t\tid: 'last_name',\n\t\t\t\taccessor: 'lastName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'email',\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:cohort'),\n\t\t\t\taccessor: 'cohort',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tfilterMethod: filterMethodCategories,\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tconst handleChange = ( event ) => {\n\t\t\t\t\t\tconst newValue = event.target.value;\n\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t};\n\t\t\t\t\tlet value;\n\t\t\t\t\tif ( !filter ) {\n\t\t\t\t\t\tvalue = 'all';\n\t\t\t\t\t} else if ( isArray( filter.value ) ) {\n\t\t\t\t\t\tvalue = filter.value.join( ', ' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = filter.value;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tonBlur={handleChange} onChange={handleChange}\n\t\t\t\t\t\t\tstyle={{ width: '100%', backgroundColor: 'ghostwhite' }}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"all\">Show All</option>\n\t\t\t\t\t\t\t{cohorts.map( ( v, key ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={`${v.title}`}\n\t\t\t\t\t\t\t\t\t>{v.title}</option>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst id = 'lesson_'+i;\n\t\t\tCOLUMNS.push({\n\t\t\t\tid,\n\t\t\t\tHeader: <span id={id} >{lessons[ i ].title}</span>,\n\t\t\t\t_lesson: lessons[ i ],\n\t\t\t\tCell: this.accessorFactory( lessons, i ),\n\t\t\t\tsortMethod: sortFactory( lessons, i ),\n\t\t\t\tfilterMethod: filterNumbersFactory( lessons, i ),\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tlet maxPoints = 0;\n\t\t\t\t\tif ( lessons[ i ].metadata && lessons[ i ].metadata.grades ) {\n\t\t\t\t\t\tmaxPoints = lessons[ i ].metadata.grades.maxPoints;\n\t\t\t\t\t}\n\t\t\t\t\tconst defaultVal = {\n\t\t\t\t\t\tmax: maxPoints,\n\t\t\t\t\t\tmin: 0\n\t\t\t\t\t};\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tpaddingLeft: '4px',\n\t\t\t\t\t\t\tpaddingRight: '4px',\n\t\t\t\t\t\t\tpaddingTop: '8px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<InputRange\n\t\t\t\t\t\t\t\tariaLabelledby={id}\n\t\t\t\t\t\t\t\tariaControls=\"dashboard-table\"\n\t\t\t\t\t\t\t\tallowSameValues\n\t\t\t\t\t\t\t\tmaxValue={maxPoints}\n\t\t\t\t\t\t\t\tminValue={0}\n\t\t\t\t\t\t\t\tvalue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\t\t\tonChange={( newValue ) => {\n\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\taccessor: 'lessonGrades'\n\t\t\t});\n\t\t}\n\t\treturn COLUMNS;\n\t}\n\n\taccessorFactory = ( lessons, idx ) => {\n\t\treturn d => {\n\t\t\tlet data = d.original.lessonGrades || {};\n\t\t\tconst lesson = lessons[ idx ];\n\t\t\tconst lessonID = lesson._id;\n\t\t\tlet maxPoints = '';\n\t\t\tif ( lesson.metadata && lesson.metadata.grades ) {\n\t\t\t\tmaxPoints += ` / ${lessons[ idx ].metadata.grades.maxPoints}`;\n\t\t\t}\n\t\t\tdata = data[ lessonID ];\n\t\t\tif ( data ) {\n\t\t\t\tlet tally = [];\n\t\t\t\tfor ( let key in data ) {\n\t\t\t\t\tif ( hasOwnProp( data, key ) && key !== '_sumPoints' ) {\n\t\t\t\t\t\ttally.push( <p style={{ margin: 0 }} key={key}>{key}: <b style={{ float: 'right', marginLeft: 12 }}>{data[ key ]}</b></p> );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn ( <OverlayTrigger placement=\"top\" overlay={<Card className=\"tickets-description-overlay\" body id=\"description-tooltip\">\n\t\t\t\t\t{tally}\n\t\t\t\t</Card>}>\n\t\t\t\t\t<p>{data._sumPoints}{maxPoints}</p>\n\t\t\t\t</OverlayTrigger> );\n\t\t\t}\n\t\t\treturn <span></span>;\n\t\t};\n\t}\n\n\treorderColumns( lessonOrder, lessonSortDirection ) {\n\t\tdebug( 'Sort columns by '+lessonOrder+' in '+lessonSortDirection+' order' );\n\t\tif ( lessonSortDirection === 'ascending' ) {\n\t\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\t\treturn a._lesson.title.localeCompare( b._lesson.title );\n\t\t\t\t}\n\t\t\t\treturn a._lesson[ lessonOrder ] > b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t\t});\n\t\t}\n\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\treturn b._lesson.title.localeCompare( a._lesson.title );\n\t\t\t}\n\t\t\treturn a._lesson[ lessonOrder ] < b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t});\n\t}\n\n\tassembleData() {\n\t\tconst displayedMembers = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tconst len = displayedMembers.length;\n\t\tconst out = new Array( len );\n\t\tconst lessons = this.props.lessons;\n\t\tfor ( let i = 0; i < len; i++ ) {\n\t\t\tconst member = displayedMembers[ i ]._original;\n\t\t\tout[ i ] = {\n\t\t\t\tname: member.name,\n\t\t\t\tfirstName: member.firstName,\n\t\t\t\tlastName: member.lastName,\n\t\t\t\temail: member.email,\n\t\t\t\tcohort: member.cohort\n\t\t\t};\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let j = 0; j < availableCustomFields.length; j++ ) {\n\t\t\t\tconst fieldName = availableCustomFields[ j ].name;\n\t\t\t\tif ( member.customFields ) {\n\t\t\t\t\tout[ i ][ fieldName ] = member.customFields[ fieldName ];\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ fieldName ] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( let j = 0; j < lessons.length; j++ ) {\n\t\t\t\tconst lessonName = lessons[ j ]._id;\n\t\t\t\tlet data = member.lessonGrades;\n\t\t\t\tif ( data && data[ lessonName ] ) {\n\t\t\t\t\tdata = data[ lessonName ];\n\t\t\t\t\tout[ i ][ lessons[ j ].title ] = data._sumPoints;\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ lessons[ j ].title ] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\tsaveJSON = () => {\n\t\tconst data = this.assembleData();\n\t\tconst blob = new Blob([ JSON.stringify( data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `grades_${this.props.namespace.title}.json`;\n\t\tsaveAs( blob, name );\n\t}\n\n\tsaveCSV = () => {\n\t\tconst data = this.assembleData();\n\t\tstringify( data, {\n\t\t\theader: true\n\t\t}, ( err, output ) => {\n\t\t\tif ( err ) {\n\t\t\t\treturn this.props.addNotification({\n\t\t\t\t\ttitle: 'Error encountered',\n\t\t\t\t\tmessage: 'Encountered an error while creating CSV: '+err.message,\n\t\t\t\t\tlevel: 'error',\n\t\t\t\t\tposition: 'tl'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\ttype: 'text/plain'\n\t\t\t});\n\t\t\tconst name = `grades_${this.props.namespace.title}.csv`;\n\t\t\tsaveAs( blob, name );\n\t\t});\n\t}\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t}\n\n\trenderSortButton() {\n\t\tconst { t } = this.props;\n\t\tlet title;\n\t\tswitch ( this.state.lessonOrder ) {\n\t\t\tcase 'title':\n\t\t\t\ttitle = t('common:sort-alphabetically');\n\t\t\t\tbreak;\n\t\t\tcase 'createdAt':\n\t\t\t\ttitle = t('common:sort-create-date');\n\t\t\t\tbreak;\n\t\t\tcase 'updatedAt':\n\t\t\t\ttitle = t('common:sort-update-date');\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<ButtonGroup className=\"sort-button-group\" >\n\t\t\t\t<DropdownButton size=\"sm\" variant=\"secondary\" onSelect={( newValue ) => {\n\t\t\t\t\tthis.columns = this.reorderColumns( newValue, this.state.lessonSortDirection );\n\t\t\t\t\tthis.setState({ lessonOrder: newValue });\n\t\t\t\t}} id=\"dropdown\" title={<small>{title}</small>} >\n\t\t\t\t\t<Dropdown.Item eventKey=\"title\" >\n\t\t\t\t\t\t<small>{t('common:sort-alphabetically')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"createdAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-create-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"updatedAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-update-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t<Button size=\"sm\" variant=\"secondary\" style={{ marginLeft: 2 }} onClick={() => {\n\t\t\t\t\tif ( this.state.lessonSortDirection === 'ascending' ) {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'descending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'descending' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'ascending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'ascending' });\n\t\t\t\t\t}\n\t\t\t\t}} aria-label={this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\tt('common:sort-descending') : t('common:sort-ascending')} >\n\t\t\t\t\t{ this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\t\t\t<i className=\"fas fa-arrow-right\" /> :\n\t\t\t\t\t\t<i className=\"fas fa-arrow-left\" />\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</ButtonGroup>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tlet data = this.assembleData();\n\t\t\tdata = obsToVar( data );\n\t\t\tconst quantitative = [];\n\t\t\tconst categorical = [ 'name', 'email', 'cohort' ];\n\t\t\tfor ( let i = 0; i < this.props.lessons.length; i++ ) {\n\t\t\t\tquantitative.push( this.props.lessons[ i ].title );\n\t\t\t}\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let i = 0; i < availableCustomFields.length; i++ ) {\n\t\t\t\tcategorical.push( availableCustomFields[ i ].name );\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-grades-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"namespace-data-buttons\" >\n\t\t\t\t\t{this.renderSortButton()}\n\t\t\t\t\t<ButtonGroup className=\"progress-button-group\" >\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"csvTooltip\" >{t('save-as-csv')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveCSV} ><i className=\"fas fa-download\"></i> CSV</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"jsonTooltip\">{t('save-as-json')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveJSON} ><i className=\"fas fa-download\"></i> JSON</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"namespace-data-page\">\n\t\t\t\t\t<DashboardTable\n\t\t\t\t\t\tclassName=\"grades-table\"\n\t\t\t\t\t\tdata={this.state.displayedMembers}\n\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tref={(r) => {\n\t\t\t\t\t\t\tthis.dashboardTable = r;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nGradesPage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tcohorts: PropTypes.array.isRequired,\n\tlessons: PropTypes.array.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nGradesPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( GradesPage );\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"children\", \"name\", \"className\", \"checked\", \"type\", \"onChange\", \"value\", \"disabled\", \"inputRef\"];\nimport classNames from 'classnames';\nimport React, { useCallback, useState } from 'react';\nimport Button from './Button';\n\nvar noop = function noop() {\n  return undefined;\n};\n\nvar ToggleButton = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      name = _ref.name,\n      className = _ref.className,\n      checked = _ref.checked,\n      type = _ref.type,\n      onChange = _ref.onChange,\n      value = _ref.value,\n      disabled = _ref.disabled,\n      inputRef = _ref.inputRef,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useState = useState(false),\n      focused = _useState[0],\n      setFocused = _useState[1];\n\n  var handleFocus = useCallback(function (e) {\n    if (e.target.tagName === 'INPUT') setFocused(true);\n  }, []);\n  var handleBlur = useCallback(function (e) {\n    if (e.target.tagName === 'INPUT') setFocused(false);\n  }, []);\n  return /*#__PURE__*/React.createElement(Button, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, focused && 'focus', disabled && 'disabled'),\n    type: undefined,\n    active: !!checked,\n    as: \"label\"\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: name,\n    type: type,\n    value: value,\n    ref: inputRef,\n    autoComplete: \"off\",\n    checked: !!checked,\n    disabled: !!disabled,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onChange: onChange || noop\n  }), children);\n});\nToggleButton.displayName = 'ToggleButton';\nexport default ToggleButton;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"children\", \"type\", \"name\", \"value\", \"onChange\"];\nimport React from 'react';\nimport invariant from 'invariant';\nimport { useUncontrolled } from 'uncontrollable';\nimport chainFunction from './createChainedFunction';\nimport { map } from './ElementChildren';\nimport ButtonGroup from './ButtonGroup';\nimport ToggleButton from './ToggleButton';\nvar defaultProps = {\n  type: 'radio',\n  vertical: false\n};\nvar ToggleButtonGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    value: 'onChange'\n  }),\n      children = _useUncontrolled.children,\n      type = _useUncontrolled.type,\n      name = _useUncontrolled.name,\n      value = _useUncontrolled.value,\n      onChange = _useUncontrolled.onChange,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var getValues = function getValues() {\n    return value == null ? [] : [].concat(value);\n  };\n\n  var handleToggle = function handleToggle(inputVal, event) {\n    if (!onChange) {\n      return;\n    }\n\n    var values = getValues();\n    var isActive = values.indexOf(inputVal) !== -1;\n\n    if (type === 'radio') {\n      if (!isActive && onChange) onChange(inputVal, event);\n      return;\n    }\n\n    if (isActive) {\n      onChange(values.filter(function (n) {\n        return n !== inputVal;\n      }), event);\n    } else {\n      onChange([].concat(values, [inputVal]), event);\n    }\n  };\n\n  !(type !== 'radio' || !!name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A `name` is required to group the toggle buttons when the `type` ' + 'is set to \"radio\"') : invariant(false) : void 0;\n  return /*#__PURE__*/React.createElement(ButtonGroup, _extends({}, controlledProps, {\n    ref: ref,\n    toggle: true\n  }), map(children, function (child) {\n    var values = getValues();\n    var _child$props = child.props,\n        childVal = _child$props.value,\n        childOnChange = _child$props.onChange;\n\n    var handler = function handler(e) {\n      return handleToggle(childVal, e);\n    };\n\n    return /*#__PURE__*/React.cloneElement(child, {\n      type: type,\n      name: child.name || name,\n      checked: values.indexOf(childVal) !== -1,\n      onChange: chainFunction(childOnChange, handler)\n    });\n  }));\n});\nToggleButtonGroup.defaultProps = defaultProps;\nToggleButtonGroup.Button = ToggleButton;\nexport default ToggleButtonGroup;","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport logger from 'debug';\nimport Select from 'react-select';\nimport './actions_page.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard:namespace-data:actions-page' );\n\n\n// MAIN //\n\nclass ActionsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst cohortOptions = props.cohorts.map( cohort => {\n\t\t\treturn { label: cohort.title, value: cohort };\n\t\t});\n\n\t\tlet displayedMembers = [];\n\t\tfor ( let i = 0; i < props.cohorts.length; i++ ) {\n\t\t\tdisplayedMembers = displayedMembers.concat( props.cohorts[i].members);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tcohortOptions: cohortOptions,\n\t\t\tselectedCohorts: cohortOptions,\n\t\t\tdisplayedMembers: displayedMembers,\n\t\t\tlessonActionsPage: false,\n\t\t\tactualLesson: null,\n\t\t\tanonymized: true\n\t\t};\n\t}\n\n\tretrieveActions = () => {\n\t\tthis.props.getNamespaceActions({\n\t\t\tnamespaceID: this.props.namespace._id,\n\t\t\tnamespaceTitle: this.props.namespace.title\n\t\t});\n\t}\n\n\thandleRadioChange = ( val ) => {\n\t\tthis.setState({\n\t\t\tanonymized: !this.state.anonymized\n\t\t});\n\t}\n\n\thandleCohortChange = ( cohorts ) => {\n\t\tlet members = [];\n\t\tfor ( let i = 0; i < cohorts.length; i++ ) {\n\t\t\tmembers = members.concat( cohorts[ i ].value.members );\n\t\t}\n\t\tthis.setState({\n\t\t\tselectedCohorts: cohorts,\n\t\t\tdisplayedMembers: members\n\t\t}, () => {\n\t\t\tdebug( 'New number of displayed members: '+this.state.displayedMembers.length );\n\t\t});\n\t}\n\n\trenderCohorts() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"actions-page-cohorts\">\n\t\t\t\t\t<div style={{ width: '400px', height: '40px' }}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={this.state.selectedCohorts}\n\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\tname=\"cohorts\"\n\t\t\t\t\t\t\toptions={this.state.cohortOptions}\n\t\t\t\t\t\t\tonChange={this.handleCohortChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderLessonActionsPage() {\n\t\treturn (\n\t\t\t<div className=\"actions-page-lesson-action-page\">\n\t\t\t\t<div className=\"lesson-action-page-resize\">\t&#x1f5d6;</div>\n\t\t\t\t<button onClick={this.hideLessonActions} className=\"lesson-action-page-exit empty-button\">&#10005;</button>\n\t\t\t\t<div className=\"lesson-action-page-title\">{ this.state.actualLesson.title}</div>\n\t\t\t\t<div className=\"lesson-action-page-filter\">\n\t\t\t\t\t{this.renderCohorts() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\thideLessonActions = () => {\n\t\tthis.setState({\n\t\t\tlessonActionsPage: false\n\t\t});\n\t}\n\n\tshowLessonActions = (lesson) => {\n\t\tthis.setState({\n\t\t\tlessonActionsPage: true,\n\t\t\tactualLesson: lesson\n\t\t});\n\t}\n\n\trenderLessons() {\n\t\tconst lessons = this.props.namespace.lessons;\n\t\tconst list = [];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tlist.push(\n\t\t\t\t<button key={i} onClick={()=> this.showLessonActions( lessons[i] )} className=\"actions-page-lesson\">\n\t\t\t\t\t<div className=\"actions-page-lesson-title\">{lessons[i].title}</div>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"actions-page\">\n\t\t\t\t<div className=\"actions-page-export\">\n\t\t\t\t{ this.renderExportSection() }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"actions-page-lessons\">\n\t\t\t\t\t{ list }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderExportSection() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"actions-page-export-title\">Export Actions</div>\n\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\tname=\"options\"\n\t\t\t\t\tonChange={this.handleRadioChange}\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={this.state.anonymized}\n\t\t\t\t>\n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\tvalue={false}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\t\t\tcolor: this.state.anonymized ? '#A9A9A9' : 'black'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Original</ToggleButton>\n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\tvalue={true}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\t\t\tcolor: this.state.anonymized ? 'black' : '#A9A9A9'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Anonymized</ToggleButton>\n\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t<Button onClick={this.retrieveActions}>\n\t\t\t\t\tSave all namespace actions\n\t\t\t\t</Button>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t{ this.renderLessons() }\n\t\t\t{ this.state.lessonActionsPage ? this.renderLessonActionsPage() : null }\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nActionsPage.propTypes = {\n\tcohorts: PropTypes.array.isRequired,\n\tgetNamespaceActions: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired\n};\n\nActionsPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default ActionsPage;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport PINF from '@stdlib/constants/float64/pinf';\nimport omit from '@stdlib/utils/omit';\nimport Popover from 'react-bootstrap/Popover';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Badge from 'react-bootstrap/Badge';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport DashboardTable from 'components/dashboard-table';\nimport createCategoricalColumn from 'utils/create_categorical_column.js';\nimport createBooleanColumn from 'utils/create_boolean_column.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport createDateColumn from 'utils/create_date_column.js';\nimport TicketModal from 'components/ticket-modal';\nimport server from 'constants/server';\nimport 'css/input_range.css';\nimport './tickets_page.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:files-page' );\nconst RE_TICKET = /ticket=([^&]*)/;\n\n\n// MAIN //\n\nclass TicketsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tshowTicketModal: false,\n\t\t\tselectedTicket: null,\n\t\t\tshowExplorer: false\n\t\t};\n\t\tthis.columns = this.createColumns();\n\t}\n\n\tasync componentDidMount() {\n\t\tdebug( 'Component did mount...' );\n\t\tawait this.props.getCourseTickets( this.props.namespace._id );\n\n\t\tif ( this.props.history.location.search ) {\n\t\t\tconst match = RE_TICKET.exec( this.props.history.location.search );\n\t\t\tif ( match && match[ 1 ] ) {\n\t\t\t\tconst tickets = this.props.tickets;\n\t\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\t\tif ( ticket._id === match[ 1 ] ) {\n\t\t\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tselectedTicket: ticket,\n\t\t\t\t\t\t\tshowTicketModal: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleTicketModal = () => {\n\t\tthis.setState({\n\t\t\tshowTicketModal: !this.state.showTicketModal\n\t\t});\n\t}\n\n\tcreateColumns = () => {\n\t\tconst { t } = this.props;\n\t\tconst tickets = this.props.tickets || [];\n\t\tlet minTime = PINF;\n\t\tlet maxTime = 0;\n\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\tif ( tickets[ i ].createdAt > maxTime ) {\n\t\t\t\tmaxTime = tickets[ i ].createdAt;\n\t\t\t}\n\t\t\tif ( tickets[ i ].updatedAt > maxTime ) {\n\t\t\t\tmaxTime = tickets[ i ].updatedAt;\n\t\t\t}\n\t\t\tif ( tickets[ i ].createdAt < minTime ) {\n\t\t\t\tminTime = tickets[ i ].createdAt;\n\t\t\t}\n\t\t\tif ( tickets[ i ].updatedAt < minTime ) {\n\t\t\t\tminTime = tickets[ i ].updatedAt;\n\t\t\t}\n\t\t}\n\t\tmaxTime = moment( maxTime );\n\t\tminTime = moment( minTime );\n\t\treturn [\n\t\t\t{\n\t\t\t\tHeader: 'Pic',\n\t\t\t\taccessor: 'user.picture',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn <img className=\"table-pic\" src={`${server}/thumbnail/${row.value}`} alt=\"Profile Pic\" />;\n\t\t\t\t},\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tmaxWidth: 46,\n\t\t\t\tminWidth: 46,\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tsortable: false\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:name'),\n\t\t\t\taccessor: 'user.name',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' }\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'user.email',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' }\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:title'),\n\t\t\t\taccessor: 'title',\n\t\t\t\tminWidth: 200\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:description'),\n\t\t\t\taccessor: 'description',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn ( <OverlayTrigger placement=\"top\" overlay={<Card className=\"tickets-description-overlay\" body id=\"description-tooltip\">\n\t\t\t\t\t\t{row.value}\n\t\t\t\t\t</Card>}>\n\t\t\t\t\t\t<p className=\"tickets-description\" >{row.value}</p>\n\t\t\t\t\t</OverlayTrigger> );\n\t\t\t\t},\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tminWidth: 300\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:component'),\n\t\t\t\taccessor: 'component'\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: 'Reply',\n\t\t\t\taccessor: '_id',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"open-ticket-tooltip\">{t('common:open-ticket-tooltip')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tselectedTicket: row.original\n\t\t\t\t\t\t\t\t\t}, this.toggleTicketModal );\n\t\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t<i className=\"fas fa-reply\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t},\n\t\t\tcreateCategoricalColumn({\n\t\t\t\tHeader: t('common:priority'),\n\t\t\t\taccessor: 'priority',\n\t\t\t\tlabels: [ 'Low', 'Middle', 'High' ],\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( !row.value ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tlet variant;\n\t\t\t\t\tlet higher;\n\t\t\t\t\tlet lower;\n\t\t\t\t\tswitch ( row.value ) {\n\t\t\t\t\t\tcase 'Low':\n\t\t\t\t\t\t\tvariant = 'secondary';\n\t\t\t\t\t\t\thigher = 'Middle';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Middle':\n\t\t\t\t\t\t\tvariant = 'warning';\n\t\t\t\t\t\t\thigher = 'High';\n\t\t\t\t\t\t\tlower = 'Low';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'High':\n\t\t\t\t\t\t\tvariant = 'danger';\n\t\t\t\t\t\t\tlower = 'Middle';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\treturn ( <div>\n\t\t\t\t\t\t<Badge variant={variant} style={{ marginRight: 6, fontSize: '1em' }} >\n\t\t\t\t\t\t\t{row.value}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-secondary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.updatePriority( row.original._id, higher );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={!higher}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-arrow-up\"></i>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-secondary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.updatePriority( row.original._id, lower );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={!lower}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-arrow-down\"></i>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div> );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:lesson'),\n\t\t\t\taccessor: 'lesson.title',\n\t\t\t\tmaxWidth: 140,\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( !row.value ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tconst url = `${server}/${this.props.namespace.title}/${row.value}`;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"open-lesson-tooltip\">{t('namespace_data:open-lesson-new-tab')}</Tooltip>}>\n\t\t\t\t\t\t\t<Badge variant=\"light\" style={{ fontSize: '1em' }} >\n\t\t\t\t\t\t\t\t<a href={url} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t{row.value}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateBooleanColumn({\n\t\t\t\tHeader: t('common:done'),\n\t\t\t\taccessor: 'done',\n\t\t\t\ttrueLabel: t('common:done'),\n\t\t\t\tfalseLabel: t('common:not-done')\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t( 'common:platform' ),\n\t\t\t\taccessor: 'platform',\n\t\t\t\tstyle: { marginTop: '2px', color: 'darkslategrey', fontSize: 24, textAlign: 'center', cursor: 'pointer' },\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( row.value ) {\n\t\t\t\t\t\tconst popover = <Popover\n\t\t\t\t\t\t\tid=\"popover-data\"\n\t\t\t\t\t\t\tstyle={{ maxWidth: 500, maxHeight: '80vh', overflowY: 'auto' }}\n\t\t\t\t\t\t\tarrowProps={{ display: 'none' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Popover.Title as=\"h3\">{row.row._original.title}</Popover.Title>\n\t\t\t\t\t\t\t<Popover.Content style={{ backgroundColor: 'lightblue' }} >\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t{JSON.stringify( omit( row.value, [ 'description' ] ), null, 2 )}\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Popover.Content>\n\t\t\t\t\t\t</Popover>;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}>\n\t\t\t\t\t\t\t\t<i className=\"data-icon fas fa-tablet-alt\"></i>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false\n\t\t\t},\n\t\t\tcreateDateColumn({\n\t\t\t\tHeader: t('created-at'),\n\t\t\t\taccessor: 'createdAt',\n\t\t\t\tstartDate: minTime,\n\t\t\t\tendDate: maxTime,\n\t\t\t\tt\n\t\t\t})\n\t\t];\n\t}\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t}\n\n\tassembleExplorerData = () => {\n\t\tlet tickets = this.props.tickets;\n\t\tlet data = [];\n\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\tconst ticket = tickets[ i ];\n\t\t\tconst replacement = {};\n\t\t\treplacement.component = ticket.component;\n\t\t\treplacement.title = ticket.title;\n\t\t\treplacement.description = ticket.description;\n\t\t\treplacement.lesson = ticket.lesson ? ticket.lesson.title : null;\n\t\t\treplacement.messages = ticket.messages.length;\n\t\t\treplacement.attachments = ticket.attachments.length;\n\t\t\treplacement.user = ticket.user.email;\n\t\t\treplacement.done = ticket.done;\n\t\t\treplacement.priority = ticket.priority;\n\t\t\treplacement.browser = `${ticket.platform.name} ${ticket.platform.version}`;\n\t\t\tconst os = ticket.platform.os;\n\t\t\treplacement.os = `${os.family} ${os.version ? os.version : ''} ${os.architecture}bit`;\n\t\t\treplacement.createdAt = ticket.createdAt;\n\t\t\treplacement.updatedAt = ticket.updatedAt;\n\t\t\tdata.push( replacement );\n\t\t}\n\t\tdata = obsToVar( data );\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-tickets-title')}\n\t\t\t\t\tdata={this.assembleExplorerData()}\n\t\t\t\t\tcategorical={[ 'component', 'lesson', 'done', 'createdAt', 'updatedAt', 'priority', 'browser', 'os' ]}\n\t\t\t\t\tquantitative={[ 'messages', 'attachments' ]}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t<DashboardTable\n\t\t\t\tdata={this.props.tickets}\n\t\t\t\tcolumns={this.columns}\n\t\t\t\tt={t}\n\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t/>\n\t\t\t{ this.state.showTicketModal ? <TicketModal\n\t\t\t\tshow={this.state.showTicketModal}\n\t\t\t\tonHide={this.toggleTicketModal}\n\t\t\t\tticket={this.state.selectedTicket}\n\t\t\t\tsubmitTicketMessage={this.props.submitTicketMessage}\n\t\t\t\topenTicket={this.props.openTicket}\n\t\t\t\tcloseTicket={this.props.closeTicket}\n\t\t\t/> : null }\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketsPage.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tgetCourseTickets: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\ttickets: PropTypes.array,\n\tupdatePriority: PropTypes.func.isRequired\n};\n\nTicketsPage.defaultProps = {\n\ttickets: []\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( TicketsPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport Alert from 'react-bootstrap/Alert';\nimport Nav from 'react-bootstrap/Nav';\nimport FilesPage from './files_page.js';\nimport AnnouncementsPage from './announcements_page.js';\nimport ProgressPage from './progress_page.js';\nimport CohortsPage from './cohorts_page.js';\nimport GradesPage from './grades_page.js';\nimport ActionsPage from './actions_page.js';\nimport TicketsPage from './tickets_page.js';\nimport './namespace_data.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard:namespace-data' );\n\n\n// MAIN //\n\nclass NamespaceData extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst subpage = props.match.params.subpage;\n\t\tlet activePage;\n\t\tswitch ( subpage ) {\n\t\t\tdefault:\n\t\t\tcase 'announcements':\n\t\t\t\tactivePage = 1;\n\t\t\t\tbreak;\n\t\t\tcase 'progress':\n\t\t\t\tactivePage = 2;\n\t\t\t\tbreak;\n\t\t\tcase 'grades':\n\t\t\t\tactivePage = 3;\n\t\t\t\tbreak;\n\t\t\tcase 'cohorts':\n\t\t\t\tactivePage = 4;\n\t\t\t\tbreak;\n\t\t\tcase 'owner-files':\n\t\t\t\tactivePage = 5;\n\t\t\t\tbreak;\n\t\t\tcase 'student-files':\n\t\t\t\tactivePage = 6;\n\t\t\t\tbreak;\n\t\t\tcase 'tickets':\n\t\t\t\tactivePage = 7;\n\t\t\t\tbreak;\n\t\t\tcase 'actions':\n\t\t\t\tactivePage = 8;\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.state = {\n\t\t\tactivePage\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getBadges();\n\t}\n\n\thandleUpload = ( event ) => {\n\t\tdebug( 'Uploading file...' );\n\t\tconst file = event.target.files[ 0 ];\n\t\tconst formData = new FormData();\n\t\tformData.append( 'file', file, file.name );\n\t\tformData.append( 'namespaceName', this.props.namespace.title );\n\t\tformData.append( 'owner', 'true' );\n\t\tthis.props.uploadFile({\n\t\t\tformData: formData,\n\t\t\tuser: this.props.user\n\t\t});\n\t}\n\n\thandleAnnouncementDeletion = (createdAt, index) => {\n\t\tthis.props.deleteAnnouncement( {\n\t\t\tnamespaceName: this.props.namespace.title,\n\t\t\tindex,\n\t\t\tcreatedAt\n\t\t});\n\t}\n\n\thandleAnnouncementEdit = ( announcement ) => {\n\t\tthis.props.editAnnouncement({\n\t\t\tnamespaceName: this.props.namespace.title,\n\t\t\tannouncement\n\t\t});\n\t}\n\n\thandleAnnouncementCreation = ( announcement ) => {\n\t\tthis.props.addAnnouncement({\n\t\t\tnamespaceName: this.props.namespace.title,\n\t\t\tannouncement\n\t\t});\n\t}\n\n\thandleFileDeletion = ( _id, ownerFiles ) => {\n\t\tthis.props.deleteFile( _id, this.props.namespace.title, ownerFiles );\n\t}\n\n\tsubmitTicketMessage = ({ message, ticketID }) => {\n\t\tthis.props.sendTicketMessage({ message, ticketID, user: this.props.user });\n\t}\n\n\thandleSelect = ( selectedKey ) => {\n\t\tselectedKey = Number( selectedKey );\n\t\tconst title = this.props.namespace.title;\n\t\tswitch ( selectedKey ) {\n\t\t\tcase 1:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/announcements` );\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/progress` );\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/grades` );\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/cohorts` );\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/owner-files` );\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/student-files` );\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/tickets` );\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tthis.props.history.replace( `/namespace-data/${title}/actions` );\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.setState({\n\t\t\tactivePage: selectedKey\n\t\t});\n\t}\n\n\trenderPage() {\n\t\tswitch ( this.state.activePage ) {\n\t\t\tcase 1:\n\t\t\t\treturn <AnnouncementsPage namespace={this.props.namespace} editAnnouncement={this.handleAnnouncementEdit} deleteAnnouncement={this.handleAnnouncementDeletion} addAnnouncement={this.handleAnnouncementCreation} user={this.props.user} />;\n\t\t\tcase 2:\n\t\t\t\treturn <ProgressPage adjustProgress={this.props.adjustProgress} addNotification={this.props.addNotification} namespace={this.props.namespace} cohorts={this.props.namespace.cohorts} lessons={this.props.namespace.lessons} user={this.props.user} />;\n\t\t\tcase 3:\n\t\t\t\treturn <GradesPage addNotification={this.props.addNotification} namespace={this.props.namespace} cohorts={this.props.namespace.cohorts} lessons={this.props.namespace.lessons} user={this.props.user} />;\n\t\t\tcase 4:\n\t\t\t\treturn <CohortsPage badges={this.props.badges} cohorts={this.props.namespace.cohorts} lessons={this.props.namespace.lessons} />;\n\t\t\tcase 5:\n\t\t\t\treturn <FilesPage ownerFiles files={this.props.namespace.ownerFiles} namespace={this.props.namespace} handleUpload={this.handleUpload} handleFileDeletion={this.handleFileDeletion} addNotification={this.props.addNotification} getFiles={this.props.getOwnerFiles} />;\n\t\t\tcase 6:\n\t\t\t\treturn <FilesPage files={this.props.namespace.files} namespace={this.props.namespace} handleUpload={this.handleUpload} handleFileDeletion={this.handleFileDeletion} addNotification={this.props.addNotification} getFiles={this.props.getFiles} />;\n\t\t\tcase 7:\n\t\t\t\treturn <TicketsPage tickets={this.props.namespace.tickets} namespace={this.props.namespace} getCourseTickets={this.props.getCourseTickets} submitTicketMessage={this.submitTicketMessage} openTicket={this.props.openTicket} closeTicket={this.props.closeTicket} updatePriority={this.props.updatePriority} history={this.props.history} />;\n\t\t\tcase 8:\n\t\t\t\treturn <ActionsPage namespace={this.props.namespace} getNamespaceActions={this.props.getNamespaceActions} user={this.props.user} cohorts={this.props.namespace.cohorts} />;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( !this.props.namespace._id ) {\n\t\t\treturn ( <div className=\"namespace-data-div\">\n\t\t\t\t<Alert variant=\"danger\">{t('common:no-course-selected')}</Alert>\n\t\t\t</div> );\n\t\t}\n\t\tconst page = this.renderPage();\n\t\treturn (\n\t\t\t<div className=\"namespace-data-div\">\n\t\t\t\t<div className=\"namespace-data-navbar\">\n\t\t\t\t\t<Nav variant=\"pills\" className=\"namespace-data-navbar-pills\" activeKey={this.state.activePage} onSelect={this.handleSelect}>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"1\" title=\"Announcements\" >{t('common:announcements')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"2\" title=\"Progress\" >{t('common:progress')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"3\" title=\"Grades\" >{t('grades')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"4\" title=\"Cohorts\" >{t('common:cohorts')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"5\" title=\"Owner Files\" >{t('owner-files')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"6\" title=\"Student Files\" >{t('student-files')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"7\" title=\"Tickets\" disabled={!this.props.namespace.enableTicketing} >{t('common:tickets')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"8\" title=\"Actions\" disabled >{t('common:actions')}</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t</Nav>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"namespace-data-page-container\" style={{ overflowY: 'auto' }}>\n\t\t\t\t\t{page}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nNamespaceData.propTypes = {\n\taddAnnouncement: PropTypes.func.isRequired,\n\taddNotification: PropTypes.func.isRequired,\n\tadjustProgress: PropTypes.func.isRequired,\n\tbadges: PropTypes.array,\n\tcloseTicket: PropTypes.func.isRequired,\n\tdeleteAnnouncement: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\teditAnnouncement: PropTypes.func.isRequired,\n\tgetBadges: PropTypes.func.isRequired,\n\tgetCourseTickets: PropTypes.func.isRequired,\n\tgetFiles: PropTypes.func.isRequired,\n\tgetNamespaceActions: PropTypes.func.isRequired,\n\tgetOwnerFiles: PropTypes.func.isRequired,\n\tmatch: PropTypes.object.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tsendTicketMessage: PropTypes.func.isRequired,\n\tupdatePriority: PropTypes.func.isRequired,\n\tuploadFile: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nNamespaceData.defaultProps = {\n\tbadges: null\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( NamespaceData );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport server from 'constants/server';\nimport { CREATED_ANNOUNCEMENT, EDITED_ANNOUNCEMENT, DELETED_ANNOUNCEMENT } from 'constants/action_types.js';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { namespaceAxios } from 'helpers/axios.js';\n\n\n// EXPORTS //\n\n/**\n * Returns an action object to be used in signalling that an announcement has been edited.\n *\n * @param {Object} announcement\n * @param {string} namespaceName\n * @returns {Object} an action object\n */\nexport function editedAnnouncement( announcement, namespaceName ) {\n\treturn {\n\t\ttype: EDITED_ANNOUNCEMENT,\n\t\tpayload: {\n\t\t\tannouncement,\n\t\t\tnamespaceName\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that an announcement has been created.\n *\n * @param {Object} announcement\n * @param {string} namespaceName\n * @returns {Object} an action object\n */\nexport function createdAnnouncement( announcement, namespaceName ) {\n\treturn {\n\t\ttype: CREATED_ANNOUNCEMENT,\n\t\tpayload: {\n\t\t\tannouncement,\n\t\t\tnamespaceName\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that an announcement has been deleted.\n *\n * @param {number} index - index of the announcement\n * @param {string} namespaceName\n * @returns {Object} an action object\n */\nexport function deletedAnnouncement( index, namespaceName ) {\n\treturn {\n\t\ttype: DELETED_ANNOUNCEMENT,\n\t\tpayload: {\n\t\t\tindex,\n\t\t\tnamespaceName\n\t\t}\n\t};\n}\n\n/**\n * Makes a request to create an announcement.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - request options\n * @param {string} opts.namespaceName - namespace name\n * @param {Object} opts.announcement - announcement object\n */\nexport const addAnnouncement = async ( dispatch, { namespaceName, announcement }) => {\n\ttry {\n\t\tconst res = await namespaceAxios.post( server+'/new_announcement', {\n\t\t\tnamespaceName,\n\t\t\tannouncement\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch( createdAnnouncement( announcement, namespaceName ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function for making an request to create an announcement with a bound dispatch function\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} wrapped `addAnnouncement` function\n */\nexport const addAnnouncementInjector = dispatch => {\n\treturn async ( { namespaceName, announcement } ) => {\n\t\tawait addAnnouncement( dispatch, { namespaceName, announcement } );\n\t};\n};\n\n/**\n * Makes a request to delete an announcement.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - request options\n * @param {string} opts.namespaceName - namespace name\n * @param {number} opts.index - index of the announcement\n * @param {string} opts.createdAt - creation time of the announcement\n */\nexport const deleteAnnouncement = async ( dispatch, { namespaceName, createdAt, index }) => {\n\ttry {\n\t\tconst res = await namespaceAxios.post( server+'/delete_announcement', {\n\t\t\tnamespaceName,\n\t\t\tcreatedAt\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch( deletedAnnouncement( index, namespaceName ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function for making an request to delete an announcement with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} wrapped `deleteAnnouncement` function\n */\nexport const deleteAnnouncementInjector = dispatch => {\n\treturn async ( { namespaceName, createdAt, index } ) => {\n\t\tawait deleteAnnouncement( dispatch, { namespaceName, createdAt, index } );\n\t};\n};\n\n/**\n * Makes a request to edit an announcement.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - request options\n * @param {string} opts.namespaceName - namespace name\n * @param {Object} opts.announcement - announcement object\n */\nexport const editAnnouncement = async ( dispatch, { namespaceName, announcement }) => {\n\ttry {\n\t\tconst res = await namespaceAxios.post( server+'/edit_announcement', {\n\t\t\tnamespaceName,\n\t\t\tannouncement\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch( editedAnnouncement( announcement, namespaceName ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function for making an request to edit an announcement with a bound dispatch function.\n *\n* @param {Function} dispatch - dispatch function\n* @returns {Function} wrapped `editAnnouncement` function\n*/\nexport const editAnnouncementInjector = dispatch => {\n\treturn async ( { namespaceName, announcement } ) => {\n\t\tawait editAnnouncement( dispatch, { namespaceName, announcement } );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport NamespaceData from 'components/namespace-data';\nimport { addAnnouncementInjector, deleteAnnouncementInjector, editAnnouncementInjector } from 'actions/announcement';\nimport { getAvailableBadgesInjector } from 'actions/badge';\nimport { deleteFileInjector, getFilesInjector, getOwnerFilesInjector, uploadFileInjector } from 'actions/file';\nimport { addNotificationInjector } from 'actions/notification';\nimport { getNamespaceActionsInjector, adjustProgressInjector } from 'actions/namespace';\nimport { getCourseTicketsInjector, sendTicketMessageInjector,\n\tcloseTicketInjector, openTicketInjector, updatePriorityInjector } from 'actions/ticket';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tbadges: state.badges,\n\t\tuser: state.user,\n\t\tnamespace: state.namespace\n\t};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\tadjustProgress: adjustProgressInjector( dispatch ),\n\t\tgetBadges: getAvailableBadgesInjector( dispatch ),\n\t\tgetCourseTickets: getCourseTicketsInjector( dispatch ),\n\t\tgetFiles: getFilesInjector( dispatch ),\n\t\tgetOwnerFiles: getOwnerFilesInjector( dispatch ),\n\t\tgetNamespaceActions: getNamespaceActionsInjector( dispatch ),\n\t\taddNotification: addNotificationInjector( dispatch ),\n\t\tdeleteFile: deleteFileInjector( dispatch ),\n\t\tdeleteAnnouncement: deleteAnnouncementInjector( dispatch ),\n\t\teditAnnouncement: editAnnouncementInjector( dispatch ),\n\t\taddAnnouncement: addAnnouncementInjector( dispatch ),\n\t\tsendTicketMessage: sendTicketMessageInjector( dispatch ),\n\t\tcloseTicket: closeTicketInjector( dispatch ),\n\t\topenTicket: openTicketInjector( dispatch ),\n\t\tuploadFile: uploadFileInjector( dispatch ),\n\t\tupdatePriority: updatePriorityInjector( dispatch )\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleNamespaceData = connect( mapStateToProps, mapDispatchToProps )( NamespaceData );\n\n\n// EXPORTS //\n\nexport default withRouter( VisibleNamespaceData );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport InputRange from 'react-input-range';\nimport replace from '@stdlib/string/replace';\nimport lowercase from '@stdlib/string/lowercase';\nimport roundn from '@stdlib/math/base/special/roundn';\nimport 'css/input_range.css';\n\n\n// FUNCTIONS //\n\nconst defaultFilterMethod = ( filter, row ) => {\n\tconst id = filter.pivotId || filter.id;\n\tconst val = row[ id ];\n\treturn val >= filter.value.min && val <= filter.value.max;\n};\n\nconst defaultFormatLabel = ( value ) => roundn( value, -2 );\n\n\n// MAIN //\n\nfunction createNumericColumn({ Header, accessor, Cell, minValue = 0, maxValue = 1, maxWidth = 150, filterMethod, formatLabel }) {\n\tconst id = `header-${lowercase( replace( Header, ' ', '-' ) )}`;\n\treturn {\n\t\tHeader: <span id={id} >{Header}</span>,\n\t\taccessor,\n\t\tCell: Cell ? Cell : ( row ) => row.value ? `${roundn( row.value, -3 )}` : 'NA',\n\t\tfilterMethod: filterMethod || defaultFilterMethod,\n\t\tFilter: ({ filter, onChange }) => {\n\t\t\tif ( minValue === maxValue ) {\n\t\t\t\tmaxValue = minValue += 1;\n\t\t\t}\n\t\t\tconst defaultVal = {\n\t\t\t\tmax: maxValue,\n\t\t\t\tmin: minValue\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<div style={{\n\t\t\t\t\tpaddingLeft: '4px',\n\t\t\t\t\tpaddingRight: '4px',\n\t\t\t\t\tpaddingTop: '8px'\n\t\t\t\t}}>\n\t\t\t\t\t<InputRange\n\t\t\t\t\t\tariaLabelledby={id}\n\t\t\t\t\t\tariaControls=\"dashboard-table\"\n\t\t\t\t\t\tallowSameValues\n\t\t\t\t\t\tmaxValue={maxValue}\n\t\t\t\t\t\tminValue={minValue}\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\tvalue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\tonChange={( newValue ) => {\n\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tformatLabel={formatLabel || defaultFormatLabel}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tmaxWidth: maxWidth\n\t};\n}\n\n\n// EXPORTS //\n\nexport default createNumericColumn;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport floor from '@stdlib/math/base/special/floor';\n\n\n// MAIN //\n\n/**\n* Formats a timestamp in a human readable format.\n*\n* @param {number} timestamp - timestamp\n* @param {Object} [opts] - options\n* @param {string} [opts.hours] - hours\n* @param {string} [opts.minutes] - minutes\n* @param {string} [opts.seconds] - seconds\n* @returns {string} formatted timestamp\n*/\nconst formatTime = ( time, opts = { hours: true, minutes: true, seconds: true }) => {\n\ttime = time / 1000;\n\tconst hours = floor( time / ( 60*60 ) );\n\ttime = time % ( 60*60 );\n\tlet minutes = floor( time / 60 );\n\tif ( minutes < 10 ) {\n\t\tminutes = '0'+minutes;\n\t}\n\ttime = time % 60;\n\tlet seconds = floor( time );\n\tif ( seconds < 10 ) {\n\t\tseconds = '0'+seconds;\n\t}\n\tlet out = '';\n\tif ( opts.hours ) {\n\t\tout += hours;\n\t}\n\tif ( opts.minutes ) {\n\t\tif ( out ) {\n\t\t\tout += ':';\n\t\t}\n\t\tout += minutes;\n\t}\n\tif ( opts.seconds ) {\n\t\tif ( out ) {\n\t\t\tout += ':';\n\t\t}\n\t\tout += seconds;\n\t}\n\treturn out;\n};\n\n\n// EXPORTS //\n\nexport default formatTime;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Test if a value is an array of strings.\n*\n* @module @stdlib/assert/is-string-array\n*\n* @example\n* var isStringArray = require( '@stdlib/assert/is-string-array' );\n*\n* var bool = isStringArray( [ 'abc', 'def' ] );\n* // returns true\n*\n* bool = isStringArray( [ 'abc', 123 ] );\n* // returns false\n*\n* @example\n* var isStringArray = require( '@stdlib/assert/is-string-array' ).primitives;\n*\n* var bool = isStringArray( [ 'abc', 'def' ] );\n* // returns true\n*\n* bool = isStringArray( [ 'abc', new String( 'def' ) ] );\n* // returns false\n*\n* @example\n* var isStringArray = require( '@stdlib/assert/is-string-array' ).objects;\n*\n* var bool = isStringArray( [ new String( 'abc' ), new String( 'def' ) ] );\n* // returns true\n*\n* bool = isStringArray( [ new String( 'abc' ), 'def' ] );\n* // returns false\n*/\n// MODULES //\n\nvar setReadOnly = require('@stdlib/utils/define-nonenumerable-read-only-property');\n\nvar arrayfun = require('./../../tools/array-function');\n\nvar isString = require('./../../is-string'); // MAIN //\n\n\nvar isStringArray = arrayfun(isString);\nsetReadOnly(isStringArray, 'primitives', arrayfun(isString.isPrimitive));\nsetReadOnly(isStringArray, 'objects', arrayfun(isString.isObject)); // EXPORTS //\n\nmodule.exports = isStringArray;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Test if a value is `undefined` or `null`.\n*\n* @module @stdlib/assert/is-undefined-or-null\n*\n* @example\n* var isUndefinedOrNull = require( '@stdlib/assert/is-undefined-or-null' );\n*\n* var bool = isUndefinedOrNull( void 0 );\n* // returns true\n*\n* bool = isUndefinedOrNull( null );\n* // returns true\n*\n* bool = isUndefinedOrNull( false );\n* // returns false\n*/\n// MODULES //\n\nvar isUndefinedOrNull = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = isUndefinedOrNull;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Tests if a value is `undefined` or `null`.\n*\n* ## Notes\n*\n* -   In older browsers, `undefined` is a global which can be overridden. `void`, however, is an operator which **cannot** be overridden. Consequently, better to use `void` to check for `undefined`. See [Stack Overflow][1].\n*\n* [1]: http://stackoverflow.com/a/19369078/2225624\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is undefined\n*\n* @example\n* var bool = isUndefinedOrNull( undefined );\n* // returns true\n*\n* bool = isUndefinedOrNull( null );\n* // returns true\n*\n* bool = isUndefinedOrNull( false );\n* // returns false\n*/\n\nfunction isUndefinedOrNull(value) {\n  return value === void 0 || value === null;\n} // EXPORTS //\n\n\nmodule.exports = isUndefinedOrNull;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Maximum safe double-precision floating-point integer.\n*\n* @module @stdlib/constants/float64/max-safe-integer\n* @type {number}\n*\n* @example\n* var FLOAT64_MAX_SAFE_INTEGER = require( '@stdlib/constants/float64/max-safe-integer' );\n* // returns 9007199254740991\n*/\n// MAIN //\n\n/**\n* Maximum safe double-precision floating-point integer.\n*\n* ## Notes\n*\n* The integer has the value\n*\n* ```tex\n* 2^{53} - 1\n* ```\n*\n* @constant\n* @type {number}\n* @default 9007199254740991\n* @see [Safe Integers]{@link http://www.2ality.com/2013/10/safe-integers.html}\n* @see [IEEE 754]{@link https://en.wikipedia.org/wiki/IEEE_754-1985}\n*/\n\nvar FLOAT64_MAX_SAFE_INTEGER = 9007199254740991; // EXPORTS //\n\nmodule.exports = FLOAT64_MAX_SAFE_INTEGER;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Test if a double-precision floating-point numeric value is infinite.\n*\n* @module @stdlib/math/base/assert/is-infinite\n*\n* @example\n* var isInfinite = require( '@stdlib/math/base/assert/is-infinite' );\n*\n* var bool = isInfinite( Infinity );\n* // returns true\n*\n* bool = isInfinite( -Infinity );\n* // returns true\n*\n* bool = isInfinite( 5.0 );\n* // returns false\n*\n* bool = isInfinite( NaN );\n* // returns false\n*/\n// MODULES //\n\nvar isInfinite = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = isInfinite;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar PINF = require('@stdlib/constants/float64/pinf');\n\nvar NINF = require('@stdlib/constants/float64/ninf'); // MAIN //\n\n/**\n* Tests if a double-precision floating-point numeric value is infinite.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is infinite\n*\n* @example\n* var bool = isInfinite( Infinity );\n* // returns true\n*\n* @example\n* var bool = isInfinite( -Infinity );\n* // returns true\n*\n* @example\n* var bool = isInfinite( 5.0 );\n* // returns false\n*\n* @example\n* var bool = isInfinite( NaN );\n* // returns false\n*/\n\n\nfunction isInfinite(x) {\n  return x === PINF || x === NINF;\n} // EXPORTS //\n\n\nmodule.exports = isInfinite;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Test if a double-precision floating-point numeric value is negative zero.\n*\n* @module @stdlib/math/base/assert/is-negative-zero\n*\n* @example\n* var isNegativeZero = require( '@stdlib/math/base/assert/is-negative-zero' );\n*\n* var bool = isNegativeZero( -0.0 );\n* // returns true\n*\n* bool = isNegativeZero( 0.0 );\n* // returns false\n*/\n// MODULES //\n\nvar isNegativeZero = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = isNegativeZero;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar NINF = require('@stdlib/constants/float64/ninf'); // MAIN //\n\n/**\n* Tests if a double-precision floating-point numeric value is negative zero.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is negative zero\n*\n* @example\n* var bool = isNegativeZero( -0.0 );\n* // returns true\n*\n* @example\n* var bool = isNegativeZero( 0.0 );\n* // returns false\n*/\n\n\nfunction isNegativeZero(x) {\n  return x === 0.0 && 1.0 / x === NINF;\n} // EXPORTS //\n\n\nmodule.exports = isNegativeZero;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Compute an absolute value of a double-precision floating-point number.\n*\n* @module @stdlib/math/base/special/abs\n*\n* @example\n* var abs = require( '@stdlib/math/base/special/abs' );\n*\n* var v = abs( -1.0 );\n* // returns 1.0\n*\n* v = abs( 2.0 );\n* // returns 2.0\n*\n* v = abs( 0.0 );\n* // returns 0.0\n*\n* v = abs( -0.0 );\n* // returns 0.0\n*\n* v = abs( NaN );\n* // returns NaN\n*/\n// MODULES //\n\nvar abs = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = abs;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MAIN //\n\n/**\n* Computes the absolute value of a double-precision floating-point number `x`.\n*\n* @param {number} x - input value\n* @returns {number} absolute value\n*\n* @example\n* var v = abs( -1.0 );\n* // returns 1.0\n*\n* @example\n* var v = abs( 2.0 );\n* // returns 2.0\n*\n* @example\n* var v = abs( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = abs( -0.0 );\n* // returns 0.0\n*\n* @example\n* var v = abs( NaN );\n* // returns NaN\n*/\n\nfunction abs(x) {\n  return Math.abs(x); // eslint-disable-line stdlib/no-builtin-math\n} // EXPORTS //\n\n\nmodule.exports = abs;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Round a double-precision floating-point number toward positive infinity.\n*\n* @module @stdlib/math/base/special/ceil\n*\n* @example\n* var ceil = require( '@stdlib/math/base/special/ceil' );\n*\n* var v = ceil( -4.2 );\n* // returns -4.0\n*\n* v = ceil( 9.99999 );\n* // returns 10.0\n*\n* v = ceil( 0.0 );\n* // returns 0.0\n*\n* v = ceil( NaN );\n* // returns NaN\n*/\n// MODULES //\n\nvar ceil = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = ceil;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // TODO: implementation (?)\n\n/**\n* Rounds a double-precision floating-point number toward positive infinity.\n*\n* @param {number} x - input value\n* @returns {number} rounded value\n*\n* @example\n* var v = ceil( -4.2 );\n* // returns -4.0\n*\n* @example\n* var v = ceil( 9.99999 );\n* // returns 10.0\n*\n* @example\n* var v = ceil( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = ceil( NaN );\n* // returns NaN\n*/\n\nvar ceil = Math.ceil; // eslint-disable-line stdlib/no-builtin-math\n// EXPORTS //\n\nmodule.exports = ceil;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Restrict a double-precision floating-point number to a specified range.\n*\n* @module @stdlib/math/base/special/clamp\n*\n* @example\n* var clamp = require( '@stdlib/math/base/special/clamp' );\n*\n* var v = clamp( 3.14, 0.0, 5.0 );\n* // returns 3.14\n*\n* v = clamp( -3.14, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 10.0, 0.0, 5.0 );\n* // returns 5.0\n*\n* v = clamp( -0.0, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 0.0, -0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( NaN, 0.0, 5.0 );\n* // returns NaN\n*\n* v = clamp( 0.0, NaN, 5.0 );\n* // returns NaN\n*\n* v = clamp( 3.14, 0.0, NaN );\n* // returns NaN\n*/\n// MODULES //\n\nvar clamp = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = clamp;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isnan = require('./../../../../base/assert/is-nan');\n\nvar isNegativeZero = require('./../../../../base/assert/is-negative-zero'); // MAIN //\n\n/**\n* Restricts a double-precision floating-point number to a specified range.\n*\n* @param {number} v - input value\n* @param {number} min - minimum value\n* @param {number} max - maximum value\n* @returns {number} value restricted to a specified range\n*\n* @example\n* var v = clamp( 3.14, 0.0, 5.0 );\n* // returns 3.14\n*\n* v = clamp( -3.14, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 10.0, 0.0, 5.0 );\n* // returns 5.0\n*\n* v = clamp( -0.0, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 0.0, -0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( NaN, 0.0, 5.0 );\n* // returns NaN\n*\n* v = clamp( 0.0, NaN, 5.0 );\n* // returns NaN\n*\n* v = clamp( 3.14, 0.0, NaN );\n* // returns NaN\n*/\n\n\nfunction clamp(v, min, max) {\n  if (isnan(v) || isnan(min) || isnan(max)) {\n    return NaN;\n  } // Simple cases...\n\n\n  if (v < min) {\n    return min;\n  }\n\n  if (v > max) {\n    return max;\n  } // Special cases for handling +-0.0...\n\n\n  if (min === 0.0 && isNegativeZero(v)) {\n    return min; // +-0.0\n  }\n\n  if (v === 0.0 && isNegativeZero(max)) {\n    return max; // -0.0\n  } // Case: min <= v <= max\n\n\n  return v;\n} // EXPORTS //\n\n\nmodule.exports = clamp;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Return the minimum value.\n*\n* @module @stdlib/math/base/special/min\n*\n* @example\n* var min = require( '@stdlib/math/base/special/min' );\n*\n* var v = min( 3.14, 4.2 );\n* // returns 3.14\n*\n* v = min( 5.9, 3.14, 4.2 );\n* // returns 3.14\n*\n* v = min( 3.14, NaN );\n* // returns NaN\n*\n* v = min( +0.0, -0.0 );\n* // returns -0.0\n*/\n// MODULES //\n\nvar min = require('./min.js'); // EXPORTS //\n\n\nmodule.exports = min;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isNegativeZero = require('./../../../../base/assert/is-negative-zero');\n\nvar isnan = require('./../../../../base/assert/is-nan');\n\nvar NINF = require('@stdlib/constants/float64/ninf');\n\nvar PINF = require('@stdlib/constants/float64/pinf'); // MAIN //\n\n/**\n* Returns the minimum value.\n*\n* @param {number} [x] - first number\n* @param {number} [y] - second number\n* @param {...number} [args] - numbers\n* @returns {number} minimum value\n*\n* @example\n* var v = min( 3.14, 4.2 );\n* // returns 3.14\n*\n* @example\n* var v = min( 5.9, 3.14, 4.2 );\n* // returns 3.14\n*\n* @example\n* var v = min( 3.14, NaN );\n* // returns NaN\n*\n* @example\n* var v = min( +0.0, -0.0 );\n* // returns -0.0\n*/\n\n\nfunction min(x, y) {\n  var len;\n  var m;\n  var v;\n  var i;\n  len = arguments.length;\n\n  if (len === 2) {\n    if (isnan(x) || isnan(y)) {\n      return NaN;\n    }\n\n    if (x === NINF || y === NINF) {\n      return NINF;\n    }\n\n    if (x === y && x === 0.0) {\n      if (isNegativeZero(x)) {\n        return x;\n      }\n\n      return y;\n    }\n\n    if (x < y) {\n      return x;\n    }\n\n    return y;\n  }\n\n  m = PINF;\n\n  for (i = 0; i < len; i++) {\n    v = arguments[i];\n\n    if (isnan(v) || v === NINF) {\n      return v;\n    }\n\n    if (v < m) {\n      m = v;\n    } else if (v === m && v === 0.0 && isNegativeZero(v)) {\n      m = v;\n    }\n  }\n\n  return m;\n} // EXPORTS //\n\n\nmodule.exports = min;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Return a partial object copy excluding specified keys.\n*\n* @module @stdlib/utils/omit\n*\n* @example\n* var omit = require( '@stdlib/utils/omit' );\n*\n* var obj1 = {\n*     'a': 1,\n*     'b': 2\n* };\n*\n* var obj2 = omit( obj1, 'b' );\n* // returns { 'a': 1 }\n*/\n// MODULES //\n\nvar omit = require('./omit.js'); // EXPORTS //\n\n\nmodule.exports = omit;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar objectKeys = require('./../../keys');\n\nvar isString = require('@stdlib/assert/is-string').isPrimitive;\n\nvar isStringArray = require('@stdlib/assert/is-string-array').primitives;\n\nvar indexOf = require('./../../index-of'); // MAIN //\n\n/**\n* Returns a partial object copy excluding specified keys.\n*\n* @param {Object} obj - source object\n* @param {(string|StringArray)} keys - keys to exclude\n* @throws {TypeError} first argument must be an object\n* @throws {TypeError} second argument must be either a string or an array of strings\n* @returns {Object} new object\n*\n* @example\n* var obj1 = {\n*     'a': 1,\n*     'b': 2\n* };\n*\n* var obj2 = omit( obj1, 'b' );\n* // returns { 'a': 1 }\n*/\n\n\nfunction omit(obj, keys) {\n  var ownKeys;\n  var out;\n  var key;\n  var i;\n\n  if (typeof obj !== 'object' || obj === null) {\n    throw new TypeError('invalid argument. First argument must be an object. Value: `' + obj + '`.');\n  }\n\n  ownKeys = objectKeys(obj);\n  out = {};\n\n  if (isString(keys)) {\n    for (i = 0; i < ownKeys.length; i++) {\n      key = ownKeys[i];\n\n      if (key !== keys) {\n        out[key] = obj[key];\n      }\n    }\n\n    return out;\n  }\n\n  if (isStringArray(keys)) {\n    for (i = 0; i < ownKeys.length; i++) {\n      key = ownKeys[i];\n\n      if (indexOf(keys, key) === -1) {\n        out[key] = obj[key];\n      }\n    }\n\n    return out;\n  }\n\n  throw new TypeError('invalid argument. Second argument must be either a string primitive or an array of string primitives. Value: `' + keys + '`.');\n} // EXPORTS //\n\n\nmodule.exports = omit;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Return a partial object copy containing only specified keys.\n*\n* @module @stdlib/utils/pick\n*\n* @example\n* var pick = require( '@stdlib/utils/pick' );\n*\n* var obj1 = {\n*     'a': 1,\n*     'b': 2\n* };\n*\n* var obj2 = pick( obj1, 'b' );\n* // returns { 'b': 2 }\n*/\n// MODULES //\n\nvar pick = require('./pick.js'); // EXPORTS //\n\n\nmodule.exports = pick;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isString = require('@stdlib/assert/is-string').isPrimitive;\n\nvar isStringArray = require('@stdlib/assert/is-string-array').primitives;\n\nvar hasOwnProp = require('@stdlib/assert/has-own-property'); // MAIN //\n\n/**\n* Returns a partial object copy containing only specified keys. If a key does not exist as an own property in a source object, the key is ignored.\n*\n* @param {Object} obj - source object\n* @param {(string|StringArray)} keys - keys to copy\n* @throws {TypeError} first argument must be an object\n* @throws {TypeError} second argument must be either a string or an array of strings\n* @returns {Object} new object\n*\n* @example\n* var obj1 = {\n*     'a': 1,\n*     'b': 2\n* };\n*\n* var obj2 = pick( obj1, 'b' );\n* // returns { 'b': 2 }\n*/\n\n\nfunction pick(obj, keys) {\n  var out;\n  var key;\n  var i;\n\n  if (typeof obj !== 'object' || obj === null) {\n    throw new TypeError('invalid argument. First argument must be an object. Value: `' + obj + '`.');\n  }\n\n  out = {};\n\n  if (isString(keys)) {\n    if (hasOwnProp(obj, keys)) {\n      out[keys] = obj[keys];\n    }\n\n    return out;\n  }\n\n  if (isStringArray(keys)) {\n    for (i = 0; i < keys.length; i++) {\n      key = keys[i];\n\n      if (hasOwnProp(obj, key)) {\n        out[key] = obj[key];\n      }\n    }\n\n    return out;\n  }\n\n  throw new TypeError('invalid argument. Second argument must be either a string primitive or an array of string primitives. Value: `' + keys + '`.');\n} // EXPORTS //\n\n\nmodule.exports = pick;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"show\", \"closeLabel\", \"className\", \"children\", \"variant\", \"onClose\", \"dismissible\", \"transition\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport divWithClassName from './divWithClassName';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport SafeAnchor from './SafeAnchor';\nvar DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nvar AlertHeading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nvar AlertLink = createWithBsPrefix('alert-link', {\n  Component: SafeAnchor\n});\nvar defaultProps = {\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nvar Alert = /*#__PURE__*/React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  }),\n      bsPrefix = _useUncontrolled.bsPrefix,\n      show = _useUncontrolled.show,\n      closeLabel = _useUncontrolled.closeLabel,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      variant = _useUncontrolled.variant,\n      onClose = _useUncontrolled.onClose,\n      dismissible = _useUncontrolled.dismissible,\n      transition = _useUncontrolled.transition,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  var handleClose = useEventCallback(function (e) {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  var Transition = transition === true ? Fade : transition;\n  var alert = /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"alert\"\n  }, !Transition ? props : undefined, {\n    ref: ref,\n    className: classNames(className, prefix, variant && prefix + \"-\" + variant, dismissible && prefix + \"-dismissible\")\n  }), dismissible && /*#__PURE__*/React.createElement(CloseButton, {\n    onClick: handleClose,\n    label: closeLabel\n  }), children);\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/React.createElement(Transition, _extends({\n    unmountOnExit: true\n  }, props, {\n    ref: undefined,\n    in: show\n  }), alert);\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nAlert.Link = AlertLink;\nAlert.Heading = AlertHeading;\nexport default Alert;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"pill\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  pill: false\n};\nvar Badge = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      pill = _ref.pill,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, pill && prefix + \"-pill\", variant && prefix + \"-\" + variant)\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import React from 'react';\n/**\n * Iterates through children that are typically specified as `props.children`,\n * but only maps over children that are \"valid elements\".\n *\n * The mapFunction provided index will be normalised to the components mapped,\n * so an invalid component would not increase the index.\n *\n */\n\nfunction map(children, func) {\n  var index = 0;\n  return React.Children.map(children, function (child) {\n    return /*#__PURE__*/React.isValidElement(child) ? func(child, index++) : child;\n  });\n}\n/**\n * Iterates through children that are \"valid elements\".\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child with the index reflecting the position relative to \"valid components\".\n */\n\n\nfunction forEach(children, func) {\n  var index = 0;\n  React.Children.forEach(children, function (child) {\n    if ( /*#__PURE__*/React.isValidElement(child)) func(child, index++);\n  });\n}\n\nexport { map, forEach };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"min\", \"now\", \"max\", \"label\", \"srOnly\", \"striped\", \"animated\", \"className\", \"style\", \"variant\", \"bsPrefix\"],\n    _excluded2 = [\"isChild\"],\n    _excluded3 = [\"min\", \"now\", \"max\", \"label\", \"srOnly\", \"striped\", \"animated\", \"bsPrefix\", \"variant\", \"className\", \"children\"];\nimport classNames from 'classnames';\nimport React, { cloneElement } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { map } from './ElementChildren';\nvar ROUND_PRECISION = 1000;\n/**\n * Validate that children, if any, are instances of `<ProgressBar>`.\n */\n\nfunction onlyProgressBar(props, propName, componentName) {\n  var children = props[propName];\n\n  if (!children) {\n    return null;\n  }\n\n  var error = null;\n  React.Children.forEach(children, function (child) {\n    if (error) {\n      return;\n    }\n    /**\n     * Compare types in a way that works with libraries that patch and proxy\n     * components like react-hot-loader.\n     *\n     * see https://github.com/gaearon/react-hot-loader#checking-element-types\n     */\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n\n    var element = /*#__PURE__*/React.createElement(ProgressBar, null);\n    if (child.type === element.type) return;\n    var childType = child.type;\n    var childIdentifier = /*#__PURE__*/React.isValidElement(child) ? childType.displayName || childType.name || childType : child;\n    error = new Error(\"Children of \" + componentName + \" can contain only ProgressBar \" + (\"components. Found \" + childIdentifier + \".\"));\n  });\n  return error;\n}\n\nvar defaultProps = {\n  min: 0,\n  max: 100,\n  animated: false,\n  isChild: false,\n  srOnly: false,\n  striped: false\n};\n\nfunction getPercentage(now, min, max) {\n  var percentage = (now - min) / (max - min) * 100;\n  return Math.round(percentage * ROUND_PRECISION) / ROUND_PRECISION;\n}\n\nfunction renderProgressBar(_ref, ref) {\n  var _classNames;\n\n  var min = _ref.min,\n      now = _ref.now,\n      max = _ref.max,\n      label = _ref.label,\n      srOnly = _ref.srOnly,\n      striped = _ref.striped,\n      animated = _ref.animated,\n      className = _ref.className,\n      style = _ref.style,\n      variant = _ref.variant,\n      bsPrefix = _ref.bsPrefix,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, props, {\n    role: \"progressbar\",\n    className: classNames(className, bsPrefix + \"-bar\", (_classNames = {}, _classNames[\"bg-\" + variant] = variant, _classNames[bsPrefix + \"-bar-animated\"] = animated, _classNames[bsPrefix + \"-bar-striped\"] = animated || striped, _classNames)),\n    style: _extends({\n      width: getPercentage(now, min, max) + \"%\"\n    }, style),\n    \"aria-valuenow\": now,\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max\n  }), srOnly ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, label) : label);\n}\n\nvar ProgressBar = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var isChild = _ref2.isChild,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  props.bsPrefix = useBootstrapPrefix(props.bsPrefix, 'progress');\n\n  if (isChild) {\n    return renderProgressBar(props, ref);\n  }\n\n  var min = props.min,\n      now = props.now,\n      max = props.max,\n      label = props.label,\n      srOnly = props.srOnly,\n      striped = props.striped,\n      animated = props.animated,\n      bsPrefix = props.bsPrefix,\n      variant = props.variant,\n      className = props.className,\n      children = props.children,\n      wrapperProps = _objectWithoutPropertiesLoose(props, _excluded3);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, wrapperProps, {\n    className: classNames(className, bsPrefix)\n  }), children ? map(children, function (child) {\n    return /*#__PURE__*/cloneElement(child, {\n      isChild: true\n    });\n  }) : renderProgressBar({\n    min: min,\n    now: now,\n    max: max,\n    label: label,\n    srOnly: srOnly,\n    striped: striped,\n    animated: animated,\n    bsPrefix: bsPrefix,\n    variant: variant\n  }, ref));\n});\nProgressBar.displayName = 'ProgressBar';\nProgressBar.defaultProps = defaultProps;\nexport default ProgressBar;","import { S as Select } from './Select-dbb12e54.esm.js';\nexport { c as createFilter, d as defaultTheme, m as mergeStyles } from './Select-dbb12e54.esm.js';\nimport { m as manageState } from './stateManager-845a3300.esm.js';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport { _ as _createSuper } from './index-4bd03571.esm.js';\nexport { c as components } from './index-4bd03571.esm.js';\nimport React, { Component } from 'react';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\nimport memoizeOne from 'memoize-one';\nimport '@babel/runtime/helpers/extends';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/typeof';\nimport 'react-input-autosize';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\n\nvar NonceProvider = /*#__PURE__*/function (_Component) {\n  _inherits(NonceProvider, _Component);\n\n  var _super = _createSuper(NonceProvider);\n\n  function NonceProvider(props) {\n    var _this;\n\n    _classCallCheck(this, NonceProvider);\n\n    _this = _super.call(this, props);\n\n    _this.createEmotionCache = function (nonce, key) {\n      return createCache({\n        nonce: nonce,\n        key: key\n      });\n    };\n\n    _this.createEmotionCache = memoizeOne(_this.createEmotionCache);\n    return _this;\n  }\n\n  _createClass(NonceProvider, [{\n    key: \"render\",\n    value: function render() {\n      var emotionCache = this.createEmotionCache(this.props.nonce, this.props.cacheKey);\n      return /*#__PURE__*/React.createElement(CacheProvider, {\n        value: emotionCache\n      }, this.props.children);\n    }\n  }]);\n\n  return NonceProvider;\n}(Component);\n\nvar index = manageState(Select);\nexport default index;\nexport { NonceProvider };","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["receivedUserBadges","badges","type","USER_RECEIVED_BADGES","payload","getUserBadges","dispatch","axios","server","res","data","addedBadges","length","i","item","contains","name","addNotification","description","picture","pic","children","i18next","className","src","alt","style","marginTop","level","position","dismissible","autoDismiss","addErrorNotification","getUserBadgesInjector","getAvailableBadges","RETRIEVED_BADGES","getAvailableBadgesInjector","TicketModal","props","event","setState","response","target","value","submitTicketMessage","message","state","ticketID","ticket","_id","done","openTicket","closeTicket","val","idx","t","createdAt","Date","key","author","date","toLocaleTimeString","toLocaleDateString","body","str","this","Fragment","Modal","show","onHide","dialogClassName","as","width","title","OverlayTrigger","placement","overlay","Tooltip","id","Button","onClick","float","variant","height","overflowY","whiteSpace","namespace","lesson","component","attachments","map","file","href","filename","marginLeft","rel","marginRight","messages","renderMessage","background","FormGroup","controlId","FormLabel","FormControl","rows","placeholder","onChange","handleResponseChange","disabled","block","handleResponseSubmit","toggleCompletion","Component","defaultProps","withTranslation","EXPORT_COLUMNS","debug","logger","getPartAfterMedia","filepath","substring","indexOf","prepareExportData","row","pick","FilesPage","handleFileDeletion","deletionID","ownerFiles","toggleDeleteModal","showDeleteModal","createTextColumn","Header","accessor","minWidth","filterMethod","filter","lowercase","Cell","size","resizable","filterable","sortable","copyToClipboard","maxWidth","url","startsWith","d","parts","trim","split","pop","join","createNumericColumn","roundn","pivotId","min","max","formatLabel","maxValue","ceil","fileMaxSize","minValue","createDateColumn","currentFiles","dashboardTable","table","getResolvedState","sortedData","blob","Blob","JSON","stringify","saveAs","header","err","output","showExplorer","fileInputKey","columns","createColumns","getFiles","namespaceName","prevProps","files","replacement","email","updatedAt","push","obsToVar","categorical","quantitative","close","toggleExplorer","ButtonGroup","saveCSV","saveJSON","htmlFor","cursor","Badge","accept","handleUpload","display","ref","r","onButtonClick","onConfirm","handleDelete","AnnouncementsPage","ndx","editItem","announcement","announcements","deleteAnnouncement","clear","closeDeleteModal","now","getTime","user","addAnnouncement","editAnnouncement","mode","index","dateString","navigator","language","hour","minute","editMessage","isDisabled","isEmpty","renderMessages","Card","Form","padding","handleInputChange","createMessage","deleteSelectedMessage","EditableProgress","isEditing","newProgress","progress","clamp","hasChanged","onSubmit","originalProgress","handleChange","role","tabIndex","toggleEditing","onKeyPress","handleSubmit","ProgressBar","fontSize","label","nextProps","prevState","filterNumbersFactory","lessons","lessonData","isUndefinedOrNull","round","sortFactory","a","b","filterMethodCategories","isArray","String","ProgressPage","original","lessonID","fontWeight","formatTime","spentTime","toLocaleString","adjustProgress","namespaceID","cohort","assembleData","cohorts","displayedMembers","lessonSortDirection","lessonOrder","createDisplayedMembers","members","cohortMembers","j","concat","lastName","firstName","COLUMNS","color","Filter","newValue","onBlur","backgroundColor","v","_lesson","accessorFactory","sortMethod","paddingLeft","paddingRight","paddingTop","ariaLabelledby","ariaControls","allowSameValues","len","out","Array","member","_original","availableCustomFields","fieldName","customFields","lessonName","slice","sort","localeCompare","DropdownButton","onSelect","reorderColumns","Dropdown","eventKey","renderSortButton","CohortsPage","selectedCohorts","actualMember","cohortOptions","ani","showUser","animation","list","renderMember","totalTime","time","score","closeActualMember","renderMemberLessons","renderMemberBadges","isMulti","options","handleCohortChange","renderCohort","renderActualMember","grades","points","_sumPoints","GradesPage","lessonGrades","maxPoints","metadata","tally","hasOwnProp","margin","defaultVal","_excluded","noop","ToggleButton","_ref","checked","inputRef","_useState","useState","focused","setFocused","handleFocus","useCallback","e","tagName","handleBlur","undefined","active","autoComplete","onFocus","displayName","ToggleButtonGroup","_useUncontrolled","controlledProps","getValues","toggle","child","values","_child$props","childVal","childOnChange","inputVal","isActive","n","handleToggle","vertical","ActionsPage","getNamespaceActions","namespaceTitle","anonymized","lessonActionsPage","actualLesson","hideLessonActions","renderCohorts","showLessonActions","renderExportSection","handleRadioChange","retrieveActions","renderLessons","renderLessonActionsPage","RE_TICKET","TicketsPage","showTicketModal","tickets","minTime","PINF","maxTime","moment","selectedTicket","toggleTicketModal","createCategoricalColumn","labels","higher","lower","updatePriority","createBooleanColumn","trueLabel","falseLabel","textAlign","popover","Popover","maxHeight","arrowProps","omit","trigger","startDate","endDate","priority","browser","platform","version","os","family","architecture","getCourseTickets","history","location","search","match","exec","assembleExplorerData","NamespaceData","activePage","formData","FormData","append","uploadFile","deleteFile","sendTicketMessage","selectedKey","Number","replace","params","subpage","getBadges","handleAnnouncementEdit","handleAnnouncementDeletion","handleAnnouncementCreation","getOwnerFiles","Alert","page","renderPage","Nav","activeKey","handleSelect","enableTicketing","editedAnnouncement","EDITED_ANNOUNCEMENT","createdAnnouncement","CREATED_ANNOUNCEMENT","deletedAnnouncement","DELETED_ANNOUNCEMENT","namespaceAxios","addAnnouncementInjector","deleteAnnouncementInjector","editAnnouncementInjector","VisibleNamespaceData","connect","adjustProgressInjector","getCourseTicketsInjector","getFilesInjector","getOwnerFilesInjector","getNamespaceActionsInjector","addNotificationInjector","deleteFileInjector","sendTicketMessageInjector","closeTicketInjector","openTicketInjector","uploadFileInjector","updatePriorityInjector","withRouter","defaultFilterMethod","defaultFormatLabel","step","opts","hours","minutes","seconds","floor","setReadOnly","arrayfun","isString","isStringArray","isPrimitive","isObject","module","exports","isInfinite","NINF","x","isNegativeZero","abs","Math","isnan","NaN","y","m","arguments","objectKeys","obj","keys","ownKeys","TypeError","DivStyledAsH4","AlertHeading","AlertLink","transition","closeLabel","uncontrolledProps","bsPrefix","onClose","prefix","handleClose","Transition","alert","unmountOnExit","in","Link","Heading","pill","_ref$as","func","_excluded2","_excluded3","getPercentage","percentage","renderProgressBar","_classNames","srOnly","striped","animated","_ref2","isChild","wrapperProps","cloneElement","S","_toConsumableArray","arr","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray"],"sourceRoot":""}