(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[1662],{23646:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeToArray=__webpack_require__(67228);function _arrayWithoutHoles(arr){if(Array.isArray(arr))return arrayLikeToArray(arr)}module.exports=_arrayWithoutHoles,module.exports.__esModule=!0,module.exports.default=module.exports},46860:function(module){function _iterableToArray(iter){if(typeof Symbol!="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}module.exports=_iterableToArray,module.exports.__esModule=!0,module.exports.default=module.exports},98206:function(module){function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}module.exports=_nonIterableSpread,module.exports.__esModule=!0,module.exports.default=module.exports},319:function(module,__unused_webpack_exports,__webpack_require__){var arrayWithoutHoles=__webpack_require__(23646),iterableToArray=__webpack_require__(46860),unsupportedIterableToArray=__webpack_require__(60379),nonIterableSpread=__webpack_require__(98206);function _toConsumableArray(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||unsupportedIterableToArray(arr)||nonIterableSpread()}module.exports=_toConsumableArray,module.exports.__esModule=!0,module.exports.default=module.exports},87594:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var trim=__webpack_require__(84001);module.exports=trim},84001:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isString=__webpack_require__(99301).isPrimitive,replace=__webpack_require__(51594),RE=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;function trim(str){if(!isString(str))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+str+"`.");return replace(str,RE,"$1")}module.exports=trim},93390:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87594),_stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0__),_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25351),_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1__);const RE_NUMBER=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;function obsToVar(arr){const data={},keymap={},columnNames=_stdlib_utils_keys__WEBPACK_IMPORTED_MODULE_1___default()(arr[0]).filter(x=>x!=="");for(let i=0;i<columnNames.length;i++){const col=_stdlib_string_trim__WEBPACK_IMPORTED_MODULE_0___default()(columnNames[i]);keymap[columnNames[i]]=col,data[col]=new Array(arr.length)}for(let i=0;i<arr.length;i++)for(let j=0;j<columnNames.length;j++){const col=columnNames[j];let val=arr[i][col];RE_NUMBER.test(val)&&(val=Number(val)),data[keymap[col]][i]=val}return data}__webpack_exports__.Z=obsToVar},37013:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_17__),debug__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11227),debug__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(81468),moment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30381),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_16__),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(99201),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_14__),react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(18868),react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_15__),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(44981),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_13__),_stdlib_string_capitalize__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26867),_stdlib_string_capitalize__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_stdlib_string_capitalize__WEBPACK_IMPORTED_MODULE_3__),_stdlib_constants_float64_pinf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(51235),_stdlib_constants_float64_pinf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_stdlib_constants_float64_pinf__WEBPACK_IMPORTED_MODULE_4__),_isle_project_utils_obs_to_var__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93390),components_dashboard_table__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1624),ev_components_data_explorer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(63787),components_confirm_modal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(88608),constants_server__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(94204),utils_create_boolean_column_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3902),utils_create_date_column_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30691),utils_text_filter_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(31190),__defProp=Object.defineProperty,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value),__async=(__this,__arguments,generator)=>new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())});const debug=debug__WEBPACK_IMPORTED_MODULE_1___default()("isle-dashboard:admin");class LessonTable extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props);__publicField(this,"createColumns",()=>{const{t}=this.props,lessons=this.props.admin.lessons;let minTime=_stdlib_constants_float64_pinf__WEBPACK_IMPORTED_MODULE_4___default(),maxTime=0;for(let i=0;i<lessons.length;i++)lessons[i].createdAt>maxTime&&(maxTime=lessons[i].createdAt),lessons[i].updatedAt>maxTime&&(maxTime=lessons[i].updatedAt),lessons[i].createdAt<minTime&&(minTime=lessons[i].createdAt),lessons[i].updatedAt<minTime&&(minTime=lessons[i].updatedAt);return maxTime=moment__WEBPACK_IMPORTED_MODULE_2___default()(maxTime),minTime=moment__WEBPACK_IMPORTED_MODULE_2___default()(minTime),[{Header:t("common:title"),id:"title",accessor:"title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:utils_text_filter_js__WEBPACK_IMPORTED_MODULE_12__.Z,Cell:row=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:`${constants_server__WEBPACK_IMPORTED_MODULE_9__.ZP}/${row.original.namespace.title}/${row.original.title}`},row.original.title)},{Header:t("common:course"),id:"namespace",accessor:"namespace.title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:utils_text_filter_js__WEBPACK_IMPORTED_MODULE_12__.Z},{Header:t("common:description"),id:"description",accessor:"description",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:utils_text_filter_js__WEBPACK_IMPORTED_MODULE_12__.Z},(0,utils_create_boolean_column_js__WEBPACK_IMPORTED_MODULE_10__.Z)({Header:_stdlib_string_capitalize__WEBPACK_IMPORTED_MODULE_3___default()(t("lesson:active")),accessor:"active",trueLabel:t("lesson:active"),falseLabel:t("lesson:inactive")}),(0,utils_create_boolean_column_js__WEBPACK_IMPORTED_MODULE_10__.Z)({Header:_stdlib_string_capitalize__WEBPACK_IMPORTED_MODULE_3___default()(t("lesson:public")),accessor:"public",trueLabel:t("lesson:public"),falseLabel:t("lesson:private")}),(0,utils_create_date_column_js__WEBPACK_IMPORTED_MODULE_11__.Z)({Header:t("last-updated"),accessor:"updatedAt",startDate:minTime,endDate:maxTime,t}),(0,utils_create_date_column_js__WEBPACK_IMPORTED_MODULE_11__.Z)({Header:t("created-at"),accessor:"createdAt",startDate:minTime,endDate:maxTime,t}),{Header:t("metadata"),accessor:"metadata",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:row=>{if(row.value){const popover=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_13___default(),{id:"popover-data",style:{maxWidth:400}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_13___default().Header,{as:"h3"},"Data"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_13___default().Body,{style:{backgroundColor:"lightblue"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",null,JSON.stringify(row.value,null,2))));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_14___default(),{trigger:"click",placement:"right",overlay:popover},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:120,resizable:!1,filterable:!1,sortable:!1},{Header:t("common:actions"),Cell:row=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_14___default(),{placement:"bottom",overlay:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Tooltip__WEBPACK_IMPORTED_MODULE_15___default(),{id:"delete_lesson"},t("lesson:delete-lesson"))},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_16___default(),{variant:"outline-secondary",style:{marginLeft:8},onClick:this.askToDeleteSelectedLessonFactory(row.row._original),"aria-label":t("lesson:delete-lesson")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"fa fa-trash-alt"})))),resizable:!1,filterable:!1,sortable:!1}]}),__publicField(this,"askToDeleteSelectedLessonFactory",lesson=>()=>{this.setState({showDeleteModal:!this.state.showDeleteModal,selectedLesson:lesson})}),__publicField(this,"deleteSelectedLesson",()=>{const lessonName=this.state.selectedLesson.title,namespaceName=this.state.selectedLesson.namespace.title;debug(`Delete lesson ${lessonName} of course ${namespaceName}.`),this.setState({showDeleteModal:!1},()=>__async(this,null,function*(){yield this.props.deleteLesson({lessonName,namespaceName}),this.props.getAllLessons()}))}),__publicField(this,"toggleDeleteModal",()=>{this.setState({showDeleteModal:!this.state.showDeleteModal})}),__publicField(this,"toggleExplorer",()=>{this.setState({showExplorer:!this.state.showExplorer})}),this.state={selectedLesson:null,showDeleteModal:!1,columns:this.createColumns(),showExplorer:!1}}componentDidMount(){this.props.getAllLessons()}componentDidUpdate(prevProps){prevProps.admin.lessons!==this.props.admin.lessons&&this.setState({columns:this.createColumns()})}render(){const{t}=this.props;if(this.state.showExplorer){const lessons=this.props.admin.lessons;let data=[];for(let i=0;i<lessons.length;i++){const lesson=lessons[i],replacement={};replacement.title=lesson.title,replacement.namespace=lesson.namespace?lesson.namespace.title:null,replacement.description=lesson.description,replacement.active=lesson.active,replacement.public=lesson.public,replacement.createdAt=lesson.createdAt,replacement.updatedAt=lesson.updatedAt,data.push(replacement)}return data=(0,_isle_project_utils_obs_to_var__WEBPACK_IMPORTED_MODULE_5__.Z)(data),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ev_components_data_explorer__WEBPACK_IMPORTED_MODULE_7__.Z,{title:t("explorer-lessons-title"),data,categorical:["title","namespace","active","public","createdAt","updatedAt"],quantitative:[],close:this.toggleExplorer})}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_dashboard_table__WEBPACK_IMPORTED_MODULE_6__.Z,{data:this.props.admin.lessons,columns:this.state.columns,onButtonClick:this.toggleExplorer,t}),this.state.showDeleteModal?react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_confirm_modal__WEBPACK_IMPORTED_MODULE_8__.Z,{title:t("lesson:delete-lesson"),message:react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,t("lesson:delete-modal-body",{name:this.state.selectedLesson.title})),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedLesson}):null)}}LessonTable.propTypes={admin:prop_types__WEBPACK_IMPORTED_MODULE_17___default().object.isRequired,deleteLesson:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func.isRequired,getAllLessons:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func.isRequired,t:prop_types__WEBPACK_IMPORTED_MODULE_17___default().func.isRequired},__webpack_exports__.default=(0,react_i18next__WEBPACK_IMPORTED_MODULE_18__.Zh)(["admin","lesson","common"])(LessonTable)},88608:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(81468),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89194),react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1__);const ConfirmModal=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default(),{show:props.show,onHide:props.close},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Header,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Title,{as:"h3"},props.title)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Body,null,props.message),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_1___default().Footer,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default(),{onClick:props.close},props.t("cancel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2___default(),{variant:"danger",onClick:props.onConfirm},props.t("confirm"))));ConfirmModal.propTypes={close:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,message:prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,onConfirm:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,show:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,title:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},ConfirmModal.defaultProps={close(){},message:"",onConfirm(){},show:!1,title:""},__webpack_exports__.Z=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.Zh)(["common"])(ConfirmModal)},1624:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return dashboard_table}});var react=__webpack_require__(67294),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),lib=__webpack_require__(86199),Button=__webpack_require__(89876),Button_default=__webpack_require__.n(Button),ButtonGroup=__webpack_require__(63319),ButtonGroup_default=__webpack_require__.n(ButtonGroup),OverlayTrigger=__webpack_require__(99201),OverlayTrigger_default=__webpack_require__.n(OverlayTrigger),Tooltip=__webpack_require__(18868),Tooltip_default=__webpack_require__.n(Tooltip),react_table=__webpack_require__(94064),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));const DashboardTable=(0,react.forwardRef)((props,ref)=>{const{id,t}=props,getProps=(0,react.useCallback)(()=>({id:id||"dashboard-table"}),[id]);return react.createElement(react.Fragment,null,react.createElement(lib.ZP,__spreadProps(__spreadValues({},props),{filterable:!0,className:`dashboard-table ${props.className}`,data:props.data,columns:props.columns,previousText:t("common:previous"),nextText:t("common:next"),loadingText:t("common:loading"),noDataText:t("common:no-rows-found"),pageText:t("common:page"),ofText:t("common:of"),rowsText:t("common:rows"),getProps,ref})),props.onButtonClick?react.createElement(ButtonGroup_default(),{vertical:!0,style:{float:"right",marginRight:-9}},react.createElement(OverlayTrigger_default(),{placement:"left",overlay:react.createElement(Tooltip_default(),{id:"explorer-tooltip"},t("common:data-explorer"))},react.createElement(Button_default(),{"aria-label":t("common:data-explorer"),variant:"primary",style:{marginBottom:8},onClick:props.onButtonClick},react.createElement("i",{className:"fas fa-chart-bar"})))):null)});DashboardTable.propTypes={className:prop_types_default().string,columns:prop_types_default().array.isRequired,data:prop_types_default().oneOfType([prop_types_default().object,prop_types_default().array]).isRequired,onButtonClick:prop_types_default().func.isRequired,t:prop_types_default().func},DashboardTable.defaultProps={className:"",t(){}};var dashboard_table=DashboardTable},63787:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var components_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15052);const DashboardDataExplorer=(0,components_async__WEBPACK_IMPORTED_MODULE_0__.Z)(()=>Promise.all([__webpack_require__.e(8512),__webpack_require__.e(1419)]).then(__webpack_require__.bind(__webpack_require__,72186)));__webpack_exports__.Z=DashboardDataExplorer},3902:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294);function createBooleanColumn({Header,accessor,trueLabel,falseLabel,printLabels=!1,maxWidth=150}){let Cell,style;return printLabels?(Cell=row=>row.value===!0?trueLabel:row.value===!1?falseLabel:null,style={marginTop:"8px",color:"darkslategrey"}):(Cell=row=>row.value?react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"far fa-check-square"}):null,style={marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center"}),{Header,accessor,style,Cell,filterMethod:(filter,row)=>{if(filter.value==="all")return!0;const id=filter.pivotId||filter.id;return row[id]===void 0?!0:String(row[id])===filter.value},Filter:({filter,onChange})=>{const handleChange=event=>{const newValue=event.target.value;onChange(newValue)};let value;return filter?value=filter.value:value="all",react__WEBPACK_IMPORTED_MODULE_0__.createElement("select",{onBlur:handleChange,onChange:handleChange,style:{width:"100%",backgroundColor:"ghostwhite"},value},react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:"all"},"Show All"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:!0},trueLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:!1},falseLabel))},maxWidth}}__webpack_exports__.Z=createBooleanColumn},30691:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),react_dates__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76141),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(99201),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44981),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89876),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__),react_dates_lib_css_datepicker_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71990),__defProp=Object.defineProperty,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);class CustomDatePicker extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props);__publicField(this,"handleDatesChange",({startDate,endDate})=>{this.setState({startDate,endDate},()=>{this.props.onDatesChange(this.state)})}),__publicField(this,"handleReset",()=>{this.setState({startDate:this.props.minDate,endDate:this.props.maxDate},()=>{this.props.onDatesChange(this.state)})}),this.state={startDate:props.startDate,endDate:props.endDate}}componentDidUpdate(prevProps){(this.props.startDate!==prevProps.startDate||this.props.endDate!==prevProps.endDate)&&this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_dates__WEBPACK_IMPORTED_MODULE_1__.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,startDateId:"start_date_input",endDateId:"end_date_input",onDatesChange:this.handleDatesChange,focusedInput:this.state.focusedInput,onFocusChange:focusedInput=>this.setState({focusedInput}),isOutsideRange:()=>!1}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default(),{"aria-label":this.props.t("common:close"),variant:"warning",onClick:this.handleReset,style:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,fontSize:20}},"x"))}}const DefaultCell=row=>new Date(row.value).toLocaleString();function createBooleanColumn({Header,accessor,Cell,style,startDate,endDate,t,maxWidth=150}){return{Header,accessor,style,Cell:Cell||DefaultCell,filterMethod:(filter,row)=>{if(!filter.value)return!0;const{startDate:startDate2,endDate:endDate2}=filter.value,id=filter.pivotId||filter.id,value=row[id].getTime();return startDate2&&endDate2?value>=startDate2.valueOf()&&value<=endDate2.valueOf():startDate2?value>=startDate2.valueOf():endDate2?value<=endDate2.valueOf():!0},Filter:({filter,onChange})=>{const filterValue=filter?filter.value||{}:{},popover=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default(),{id:"popover-data",style:{maxWidth:400}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default().Header,{as:"h3"},t("common:dates")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_4___default().Body,{style:{backgroundColor:"grey"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(CustomDatePicker,{startDate:filterValue.startDate||startDate,minDate:startDate,maxDate:endDate,endDate:filterValue.endDate||endDate,onDatesChange:({startDate:startDate2,endDate:endDate2})=>{onChange({startDate:startDate2,endDate:endDate2})},t})));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_5___default(),{trigger:"click",placement:"right",overlay:popover},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default(),{"aria-label":t("common:toggle-calendar"),size:"sm",style:{float:"left",marginLeft:6},variant:"secondary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"far fa-calendar-alt"})))},maxWidth}}__webpack_exports__.Z=createBooleanColumn},31190:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61635),_stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0__),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86361),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1__);const textFilter=(filter,row)=>{const str=row[filter.id]||"";return _stdlib_assert_contains__WEBPACK_IMPORTED_MODULE_0___default()(_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1___default()(str),_stdlib_string_lowercase__WEBPACK_IMPORTED_MODULE_1___default()(filter.value))};__webpack_exports__.Z=textFilter}}]);

//# sourceMappingURL=1662.23e76e3c.chunk.js.map