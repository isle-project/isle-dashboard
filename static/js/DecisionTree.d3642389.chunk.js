"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[61],{43450:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45254),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(81468),react_bootstrap_Alert__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24032),react_bootstrap_Alert__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_bootstrap_Alert__WEBPACK_IMPORTED_MODULE_6__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30276),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7__),_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76266),_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_1__),_isle_project_components_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77287),_tree_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(55139),_isle_project_utils_prop_check__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25048),_isle_project_utils_factor_variable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93199),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);let COUNTER=0;const fitModel=({x,y,data,type,quantitative,impurityMeasure,scoreThreshold,maxTreeDepth,minItemsCount})=>{let predictors;_stdlib_assert_is_array__WEBPACK_IMPORTED_MODULE_1___default()(x)?predictors=x:predictors=[x];try{let tree;return type==="Classification"?tree=new _tree_js__WEBPACK_IMPORTED_MODULE_3__.DV({response:y,predictors,data,quantitative,criterion:impurityMeasure,scoreThreshold,maxTreeDepth,minItemsCount}):tree=new _tree_js__WEBPACK_IMPORTED_MODULE_3__.tC({response:y,predictors,data,quantitative,scoreThreshold,maxTreeDepth,minItemsCount}),tree}catch(_){return null}};class DecisionTree extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),__publicField(this,"handlePredict",()=>{this.props.onPredict(this.state.tree,COUNTER)}),COUNTER+=1;const{x,y,data,type,quantitative,impurityMeasure,scoreThreshold,maxTreeDepth,minItemsCount}=this.props;this.state=__spreadValues({tree:fitModel({x,y,data,type,quantitative,impurityMeasure,scoreThreshold,maxTreeDepth,minItemsCount})},props)}static getDerivedStateFromProps(nextProps,prevState){if(nextProps.y!==prevState.y||nextProps.x!==prevState.x||nextProps.type!==prevState.type||nextProps.impurityMeasure!==prevState.impurityMeasure||nextProps.data!==prevState.data||nextProps.quantitative!==prevState.quantitative||nextProps.scoreThreshold!==prevState.scoreThreshold||nextProps.maxTreeDepth!==prevState.maxTreeDepth||nextProps.minItemsCount!==prevState.minItemsCount){const{x,y,data,type,quantitative,impurityMeasure,scoreThreshold,maxTreeDepth,minItemsCount}=nextProps;return __spreadValues({tree:fitModel({x,y,data,type,quantitative,impurityMeasure,scoreThreshold,maxTreeDepth,minItemsCount})},nextProps)}return null}render(){const{tree}=this.state,{t}=this.props;return tree?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{overflowX:"auto",width:"100%"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"title"},t("decision-tree-for",{y:this.props.y,counter:COUNTER})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tree_js__WEBPACK_IMPORTED_MODULE_3__.fA,{tree:tree.root}),this.props.onPredict?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{tooltip:t("predictions-attached")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_7___default(),{variant:"secondary",size:"sm",style:{marginTop:10},onClick:this.handlePredict},this.props.t("use-model-to-predict"))):null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Alert__WEBPACK_IMPORTED_MODULE_6___default(),{variant:"danger"},t("missing-attributes"))}}DecisionTree.defaultProps={impurityMeasure:"gini",scoreThreshold:.0075,maxTreeDepth:5,minItemsCount:50,onPredict:null},DecisionTree.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object.isRequired,y:prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,prop_types__WEBPACK_IMPORTED_MODULE_8___default().instanceOf(_isle_project_utils_factor_variable__WEBPACK_IMPORTED_MODULE_5__.E)]).isRequired,x:prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,prop_types__WEBPACK_IMPORTED_MODULE_8___default().instanceOf(_isle_project_utils_factor_variable__WEBPACK_IMPORTED_MODULE_5__.E)])),prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,prop_types__WEBPACK_IMPORTED_MODULE_8___default().instanceOf(_isle_project_utils_factor_variable__WEBPACK_IMPORTED_MODULE_5__.E)]).isRequired,type:prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOf(["Classification","Regression"]).isRequired,quantitative:prop_types__WEBPACK_IMPORTED_MODULE_8___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default().string).isRequired,impurityMeasure:prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOf(["gini","entropy"]),scoreThreshold:prop_types__WEBPACK_IMPORTED_MODULE_8___default().number,maxTreeDepth:prop_types__WEBPACK_IMPORTED_MODULE_8___default().number,minItemsCount:prop_types__WEBPACK_IMPORTED_MODULE_8___default().number,onPredict:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func},__webpack_exports__.default=(0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.Zh)("models")((0,_isle_project_utils_prop_check__WEBPACK_IMPORTED_MODULE_4__.W)(DecisionTree))}}]);

//# sourceMappingURL=DecisionTree.d3642389.chunk.js.map