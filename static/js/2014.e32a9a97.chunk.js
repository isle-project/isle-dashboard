"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties;var __getOwnPropDescs=Object.getOwnPropertyDescriptors;var __getOwnPropSymbols=Object.getOwnPropertySymbols;var __hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));var __objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(source!=null&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target};(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2014],{26680:function(module,__unused_webpack_exports,__webpack_require__){var sqrt=__webpack_require__(61239);module.exports=sqrt},61239:function(module){var sqrt=Math.sqrt;module.exports=sqrt},32014:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return visible_enroll_page}});var react=__webpack_require__(67294),lib=__webpack_require__(37424),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),react_grid_layout=__webpack_require__(69968),commonjs=__webpack_require__(81468),pluck_lib=__webpack_require__(60149),pluck_lib_default=__webpack_require__.n(pluck_lib),floor_lib=__webpack_require__(78113),floor_lib_default=__webpack_require__.n(floor_lib),group_by_lib=__webpack_require__(54529),group_by_lib_default=__webpack_require__.n(group_by_lib),keys_lib=__webpack_require__(25351),keys_lib_default=__webpack_require__.n(keys_lib),Button=__webpack_require__(89876),Button_default=__webpack_require__.n(Button),Container=__webpack_require__(70448),Container_default=__webpack_require__.n(Container),Row=__webpack_require__(28269),Row_default=__webpack_require__.n(Row),Col=__webpack_require__(1266),Modal=__webpack_require__(89194),Modal_default=__webpack_require__.n(Modal),FormGroup=__webpack_require__(34168),FormGroup_default=__webpack_require__.n(FormGroup),FormCheck=__webpack_require__(3692),FormCheck_default=__webpack_require__.n(FormCheck),sqrt_lib=__webpack_require__(26680),sqrt_lib_default=__webpack_require__.n(sqrt_lib),server=__webpack_require__(94204);const UserBadge=({user,idx})=>user?react.createElement(Col.default,{key:`owner-${idx}`,className:"enroll-page-course-teacher"},react.createElement("img",{className:"enroll-page-course-teacher-thumbnail",src:server.ZP+"/thumbnail/"+user.picture,alt:"Lesson Thumbnail"}),react.createElement("span",{className:"enroll-page-course-teacher-info"},react.createElement("span",{className:"enroll-page-courses-teacher-name"},user.name),react.createElement("br",null),react.createElement("span",{className:"enroll-page-course-teacher-email"},react.createElement("a",{href:"mailto:"+user.email},user.email)))):null,AvailableCohorts=props=>{const list=[];for(let i=0;i<props.cohorts.length;i++){const cohort2=props.cohorts[i],from=new Date(cohort2.startDate).toLocaleDateString(),to=new Date(cohort2.endDate).toLocaleDateString(),label=react.createElement(react.Fragment,null,react.createElement("span",null,cohort2.title),react.createElement("span",{className:"enroll-cohort-date"},from," - ",to));list.push(react.createElement(FormCheck_default(),{id:i,key:i,"data-pos":i,type:"radio",checked:props.checked===i,label,name:"radioGroup",onChange:props.onCohortSelect}))}return list},EnrollModal=props=>react.createElement(Modal_default(),{onHide:props.onHide,show:props.show},react.createElement(Modal_default().Header,{closeButton:!0},react.createElement("h1",null,props.namespace.title)),react.createElement(Modal_default().Body,null,react.createElement("div",{className:"enroll-page-cohort-information"},"(",props.t("select-cohort"),")"),react.createElement("div",{className:"enroll-page-cohorts-list"},react.createElement(FormGroup_default(),null,react.createElement(AvailableCohorts,{cohorts:props.cohorts,onCohortSelect:props.onCohortSelect,checked:props.checked}))),react.createElement(Button_default(),{onClick:props.onEnroll,size:"sm",className:"enroll-button-modal"},props.t("enroll-in-course")))),OwnersList=props=>{const profiles=[],owners=props.namespace.owners.filter(x=>x.writeAccess),colsPerRow=floor_lib_default()(sqrt_lib_default()(owners.length));for(let i=0;i<owners.length;i+=colsPerRow){const row=[];for(let j=0;j<colsPerRow;j++)row[j]=react.createElement(UserBadge,{user:owners[i+j],idx:i+j,key:`badge-${i+j}`});profiles.push(react.createElement(Row_default(),{key:`row-${i}`},row))}return react.createElement("div",{className:"enroll-page-course-owner-wrapper"},react.createElement(Container_default(),{className:"enroll-page-course-owners"},profiles))},Course=({cohorts,namespace,enrollable,addUserToCohort,t})=>{const[checked,setChecked]=(0,react.useState)(!1),[showModal,setShowModal]=(0,react.useState)(!1),handleEnroll=(0,react.useCallback)(()=>{const cohortID=cohorts[checked]._id;addUserToCohort(cohortID,namespace),setShowModal(!1)},[checked,cohorts,namespace,addUserToCohort]),toggleModal=(0,react.useCallback)(()=>{setShowModal(!showModal)},[showModal]),handleCohortSelect=(0,react.useCallback)(event=>{const check=event.target.checked,pos=event.target.dataset.pos;check&&setChecked(Number(pos))},[]);let cardClassName="enroll-page-course-item",buttonText=t("common:enroll");return enrollable===!1&&(cardClassName="enroll-item-deactivated",buttonText=t("already-enrolled")),react.createElement(react.Fragment,null,react.createElement("div",{className:cardClassName},react.createElement("h1",null,namespace.title),react.createElement("div",{className:"enroll-page-course-description"},namespace.description),react.createElement(OwnersList,{namespace}),react.createElement(Button_default(),{size:"sm",className:"enroll-button",disabled:!enrollable,onClick:toggleModal},buttonText)),react.createElement(EnrollModal,{namespace,cohorts,onHide:toggleModal,show:showModal,onEnroll:handleEnroll,onCohortSelect:handleCohortSelect,checked,t}))};Course.propTypes={addUserToCohort:prop_types_default().func.isRequired,cohorts:prop_types_default().array.isRequired,enrollable:prop_types_default().bool.isRequired,namespace:prop_types_default().object.isRequired,t:prop_types_default().func.isRequired};var course=Course;const ResponsiveReactGridLayout=(0,react_grid_layout.WidthProvider)(react_grid_layout.Responsive);class EnrollPage extends react.Component{constructor(props){super(props);this.state={}}componentDidMount(){this.props.fetchCohorts(this.props.user)}createLayout(courses){let layouts=courses.map((e,i)=>({lg:{i:`cell-${i}`,x:i*6%24,y:floor_lib_default()(i/4)*3.72,w:6,h:3.72},md:{i:`cell-${i}`,x:i*6%18,y:floor_lib_default()(i/3)*3.72,w:6,h:3.72},sm:{i:`cell-${i}`,x:i*6%12,y:floor_lib_default()(i/2)*3.72,w:6,h:3.72},xs:{i:`cell-${i}`,x:i*6%6,y:floor_lib_default()(i/1)*3.72,w:6,h:3.72}}));return layouts={lg:pluck_lib_default()(layouts,"lg"),md:pluck_lib_default()(layouts,"md"),sm:pluck_lib_default()(layouts,"sm"),xs:pluck_lib_default()(layouts,"xs")},layouts}checkEnrollable(namespaceTitle){const user=this.props.user;for(let i=0;i<user.enrolledNamespaces.length;i++)if(user.enrolledNamespaces[i].title===namespaceTitle)return!1;return!0}renderCourses(){let cohorts=this.props.cohorts;if(!cohorts)return null;cohorts=cohorts.filter(x=>x.namespace);const courses=group_by_lib_default()(cohorts,function(cohort2){return cohort2.namespace.title}),names=keys_lib_default()(courses),list=new Array(names.length);for(let i=0;i<names.length;i++){const title=names[i];list[i]=react.createElement("div",{className:"enroll-page-course",key:`cell-${i}`},react.createElement(course,{addUserToCohort:this.props.addUserToCohort,enrollable:this.checkEnrollable(title),namespace:courses[title][0].namespace,user:this.props.user,cohorts:courses[title],t:this.props.t}))}const layouts=this.createLayout(names);return react.createElement(ResponsiveReactGridLayout,{margin:[20,20],containerPadding:[10,10],layouts,breakpoints:{lg:1800,md:1400,sm:900,xs:500},cols:{lg:24,md:18,sm:12,xs:6},isResizable:!1,isDraggable:!1,rowHeight:60},list)}render(){return react.createElement("div",{className:"enroll-page"},react.createElement("img",{className:"enroll-page-background",src:"img/pexels_background.jpeg",alt:""}),react.createElement("div",{className:"enroll-page-content"},this.renderCourses()))}}EnrollPage.propTypes={addUserToCohort:prop_types_default().func.isRequired,cohorts:prop_types_default().array.isRequired,fetchCohorts:prop_types_default().func.isRequired,user:prop_types_default().object.isRequired};var enroll_page=(0,commonjs.Zh)(["enroll_page","common"])(EnrollPage),cohort=__webpack_require__(72371);function mapStateToProps(state){return{cohorts:state.cohorts,user:state.user}}function mapDispatchToProps(dispatch){return{addUserToCohort:(0,cohort.Yc)(dispatch),fetchCohorts:(0,cohort.R9)(dispatch)}}var visible_enroll_page=(0,lib.connect)(mapStateToProps,mapDispatchToProps)(enroll_page)},70448:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const defaultProps={fluid:!1},Container=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,fluid,as:Component="div",className}=_b,props=__objRest(_b,["bsPrefix","fluid","as","className"]);const prefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"container"),suffix=typeof fluid=="string"?`-${fluid}`:"-fluid";return(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,fluid?`${prefix}${suffix}`:prefix)}))});Container.displayName="Container",Container.defaultProps=defaultProps;var _default=Container;exports.default=_default,module.exports=exports.default},28269:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(95318);exports.__esModule=!0,exports.default=void 0;var _classnames=_interopRequireDefault(__webpack_require__(94184)),React=_interopRequireWildcard(__webpack_require__(67294)),_ThemeProvider=__webpack_require__(3349),_jsxRuntime=__webpack_require__(85893);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!="function")return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop2){return nodeInterop2?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(obj===null||typeof obj!="object"&&typeof obj!="function")return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const DEVICE_SIZES=["xxl","xl","lg","md","sm","xs"],Row=React.forwardRef((_a,ref)=>{var _b=_a,{bsPrefix,className,as:Component="div"}=_b,props=__objRest(_b,["bsPrefix","className","as"]);const decoratedBsPrefix=(0,_ThemeProvider.useBootstrapPrefix)(bsPrefix,"row"),sizePrefix=`${decoratedBsPrefix}-cols`,classes=[];return DEVICE_SIZES.forEach(brkPoint=>{const propValue=props[brkPoint];delete props[brkPoint];let cols;propValue!=null&&typeof propValue=="object"?{cols}=propValue:cols=propValue;const infix=brkPoint!=="xs"?`-${brkPoint}`:"";cols!=null&&classes.push(`${sizePrefix}${infix}-${cols}`)}),(0,_jsxRuntime.jsx)(Component,__spreadProps(__spreadValues({ref},props),{className:(0,_classnames.default)(className,decoratedBsPrefix,...classes)}))});Row.displayName="Row";var _default=Row;exports.default=_default,module.exports=exports.default}}]);

//# sourceMappingURL=2014.e32a9a97.chunk.js.map