"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5576],{87595:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(15671),s=n(43144),i=n(60136),o=n(29388),a=n(41488),l=n(65695),u=n(10724),c=n(87651),h=a.createContext("anonymous"),d=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,s){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).state={isEnrolled:!1,isOwner:!1,validCheck:!e.check||e.check(s)},i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.context;t&&(this.unsubscribe=t.subscribe((function(n,r){if(n!==l.YQ&&n!==l.Fw&&n!==l.E7&&n!==u.x$||e.checkAuthorization(),e.props.check){var s=e.props.check(t);if(s!==e.state.validCheck)return e.setState({validCheck:s})}e._isMounted&&e.forceUpdate()})),this.checkAuthorization())}},{key:"componentDidUpdate",value:function(){if(this.props.check){var e=this.props.check(this.context);if(e!==this.state.validCheck)return this.setState({validCheck:e})}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1}},{key:"checkAuthorization",value:function(){var e=this.context,t={isEnrolled:e.isEnrolled(),isOwner:e.isOwner(),presentationMode:e.presentationMode};t.isEnrolled===this.state.isEnrolled&&t.isOwner===this.state.isOwner&&t.presentationMode===this.state.presentationMode||this.setState(t)}},{key:"isTimeActive",value:function(){if(!this.props.after&&!this.props.until)return!0;var e=this.context;return this.props.after&&this.props.until?this.props.after<e.startTime&&e.startTime<=this.props.until:this.props.until?e.startTime<=this.props.until:this.props.after<e.startTime}},{key:"renderChildren",value:function(e){return a.createElement(a.Fragment,null,e?null:this.props.banner,a.createElement("div",{className:"gate outer-element",style:{display:e?"inline":"none"}},this.props.children))}},{key:"render",value:function(){var e=this,t=this.context;return a.createElement(h.Consumer,null,(function(n){var r=e.props,s=r.disabled,i=r.user,o=r.notUser,a=r.enrolled,l=r.notEnrolled,u=r.owner,c=r.notOwner,h=e.state.isEnrolled||"enrolled"===n,d=e.state.isOwner||"owner"===n,p=t&&!t.anonymous||"anonymous"!==n,f=!1;return s||!e.state.validCheck||o&&p||c&&d||l&&h?e.renderChildren(!1):e.isTimeActive()?(i&&p||a&&h||u&&d&&(e.props.showOwnerInPresentationMode||!e.state.presentationMode)?f=!0:i||u||a||(f=!0),e.renderChildren(f)):e.renderChildren(!1)}))}}]),n}(a.Component);d.defaultProps={user:!1,notUser:!1,enrolled:!1,notEnrolled:!1,owner:!1,notOwner:!1,after:null,until:null,banner:null,disabled:!1,showOwnerInPresentationMode:!1,check:null},d.contextType=c.Z;var p=d}}]);
//# sourceMappingURL=Gate.f3fc433d.chunk.js.map