{"version":3,"sources":["../node_modules/@stdlib/assert/is-digit-string/lib/index.js","../node_modules/@stdlib/assert/is-digit-string/lib/main.js","../node_modules/@isle-project/components/collapse/index.js","../node_modules/@isle-project/utils/stop-propagation/index.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/bin_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/formula_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/categorical_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/group_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/random-transformer/index.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/index.js","../node_modules/@isle-project/components/node_modules/react-bootstrap/cjs/ButtonToolbar.js","../node_modules/@isle-project/components/node_modules/react-bootstrap/cjs/Table.js","../node_modules/@isle-project/components/panel/index.js"],"names":[],"mappings":"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","file":"static/js/9733.f983bb65.chunk.js","sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test whether a string contains only numeric digits.\n*\n* @module @stdlib/assert/is-digit-string\n*\n* @example\n* var isDigitString = require( '@stdlib/assert/is-digit-string' );\n*\n* var out = isDigitString( '0123456789' );\n* // returns true\n*\n* out = isDigitString( '0xffffff' );\n* // returns false\n*\n* out = isDigitString( '' );\n* // returns false\n*/\n\n// MODULES //\n\nvar isDigitString = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isDigitString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isString = require( './../../is-string' ).isPrimitive;\n\n\n// VARIABLES //\n\n// Character codes:\nvar ZERO = 48;\nvar NINE = 57;\n\n\n// MAIN //\n\n/**\n* Tests whether a string contains only numeric digits.\n*\n* @param {*} x - value to test\n* @returns {boolean} boolean indicating if a string contains only numeric digits\n*\n* @example\n* var out = isDigitString( '0123456789' );\n* // returns true\n*\n* @example\n* var out = isDigitString( '0xffffff' );\n* // returns false\n*\n* @example\n* var out = isDigitString( '' );\n* // returns false\n*\n* @example\n* var out = isDigitString( 123 );\n* // returns false\n*/\nfunction isDigitString( x ) {\n\tvar len;\n\tvar ch;\n\tvar i;\n\tif ( !isString( x ) ) {\n\t\treturn false;\n\t}\n\tlen = x.length;\n\tif ( len === 0 ) {\n\t\treturn false;\n\t}\n\tfor ( i = 0; i < len; i++ ) {\n\t\tch = x.charCodeAt( i );\n\t\tif ( ch < ZERO || ch > NINE ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isDigitString;\n","// MODULES //\n\nimport Loadable from '@isle-project/components/internal/loadable';\n\n\n// MAIN //\n\nconst Collapse = Loadable( () => import( /* webpackChunkName: \"Collapse\" */ './main.js' ) );\n\n\n// EXPORTS //\n\nexport default Collapse;\n","// MAIN //\n\n/**\n * Sets an element to prevent event propagation.\n *\n * @param {Event} event - event for which to stop propagation\n */\nfunction stopPropagation( event ) {\n\tevent.stopPropagation();\n}\n\n\n// EXPORTS //\n\nexport default stopPropagation;\n","// MODULES //\n\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport FocusTrap from 'focus-trap-react';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport runif from '@stdlib/random/base/uniform';\nimport keys from '@stdlib/utils/keys';\nimport roundn from '@stdlib/math/base/special/roundn';\nimport copy from '@stdlib/utils/copy';\nimport { isPrimitive as isNumber } from '@stdlib/assert/is-number';\nimport NumberInput from '@isle-project/components/input/number';\nimport SelectInput from '@isle-project/components/input/select';\nimport TextInput from '@isle-project/components/input/text';\nimport Draggable from '@isle-project/components/draggable';\nimport Plotly from '@isle-project/components/plotly';\nimport Panel from '@isle-project/components/panel';\nimport TeX from '@isle-project/components/tex';\nimport isnan from '@stdlib/assert/is-nan';\nimport factor from '@isle-project/utils/factor-variable';\nimport mean from '@isle-project/utils/statistic/mean.js';\nimport min from '@isle-project/utils/statistic/min.js';\nimport max from '@isle-project/utils/statistic/max.js';\nimport { DATA_EXPLORER_BIN_TRANSFORMER } from '@isle-project/constants/actions.js';\nimport { generateHistogramConfig } from '@isle-project/components/plots/histogram';\nimport stopPropagation from '@isle-project/utils/stop-propagation';\nimport retrieveBinnedValues from './retrieve_binned_values.js';\nimport ClearButton from './../clear_button.js';\nimport './bin_transformer.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:data-explorer:variable-transformer' );\nconst RE_SHAPE = /shapes\\[(\\d)\\]\\.x0/;\nconst HISTOGRAM_SETTINGS = {\n\tgroup: null,\n\tdisplayDensity: true,\n\tdensityType: 'Data-driven',\n\tchooseBins: false,\n\tnBins: null\n};\nconst FOCUS_TRAP_OPTIONS = {\n\tclickOutsideDeactivates: true\n};\n\n\n// FUNCTIONS //\n\n/**\n* Comparator function used to sort values in ascending order.\n*\n* @private\n* @param {number} a - first number\n* @param {number} b - second number\n* @returns {number} difference between `a` and `b`\n*/\nfunction ascending( a, b ) {\n\treturn a - b;\n}\n\n/**\n* Function to make shapes from breakpoints.\n*/\nconst makeShapes = ( breakpoints ) => {\n\tconst breakShapes = [];\n\tfor ( let i = 0; i < breakpoints.length; i++ ) {\n\t\tbreakShapes.push({\n\t\t\ttype: 'line',\n\t\t\tx0: breakpoints[i],\n\t\t\ty0: -100,\n\t\t\tx1: breakpoints[i],\n\t\t\ty1: 100,\n\t\t\tline: {\n\t\t\t\tcolor: 'red',\n\t\t\t\twidth: 3\n\t\t\t}\n\t\t});\n\t}\n\treturn breakShapes;\n};\n\n/**\n* Creates an array of category names for created bins.\n*\n* @param {Array<number>} breakpoints - breakpoints\n* @param {Array<string>} customNames - custom category labels\n* @returns {Array<string>} array of bin labels\n*/\nconst createCategoryNames = ( breakpoints, customNames ) => {\n\tconst out = new Array( customNames.length );\n\tif ( customNames[ 0 ] ) {\n\t\tout[ 0 ] = customNames[ 0 ];\n\t} else {\n\t\tout[ 0 ] = `(-\\u221E,${breakpoints[0]})`; // eslint-disable-line i18next/no-literal-string\n\t}\n\tfor ( let i = 1; i < customNames.length; i++ ) {\n\t\tif ( customNames[ i ] ) {\n\t\t\tout[ i ] = customNames[ i ];\n\t\t} else {\n\t\t\tout[ i ] = `[${breakpoints[i-1]},${breakpoints[i]})`;\n\t\t}\n\t}\n\tconst last = customNames.length - 1;\n\tif ( customNames[ last ] ) {\n\t\tout[ last ] = customNames[ last ];\n\t} else {\n\t\tout[ last ] = `[${breakpoints[ breakpoints.length - 1 ]},\\u221E)`; // eslint-disable-line i18next/no-literal-string\n\t}\n\treturn out;\n};\n\n\n// MAIN //\n\nconst BinningTransformer = ( props ) => {\n\tconst [ name, setName ] = useState( '' );\n\tconst [ snapDigits, setSnapDigits ] = useState( 0 );\n\tconst [ state, setState ] = useState({\n\t\tvariable: null,\n\t\tconfigHist: null,\n\t\tbreakpoints: null,\n\t\tcategories: null,\n\t\tcustomNames: null\n\t});\n\tconst invalidName = name.length < 1;\n\tconst makeNewVar = () => {\n\t\tconst { variable, categories, breakpoints } = state;\n\t\tconst rawData = props.data[ variable ];\n\t\tconst values = retrieveBinnedValues( rawData, categories, breakpoints );\n\t\tprops.logAction( DATA_EXPLORER_BIN_TRANSFORMER, {\n\t\t\tname,\n\t\t\tvariable,\n\t\t\tbreaks: breakpoints,\n\t\t\tcategories\n\t\t});\n\t\tconst newName = factor( name, categories );\n\t\tprops.onGenerate( newName, values );\n\t\tprops.onHide();\n\t};\n\tconst handleKeyPress = ( event ) => {\n\t\t// Handle \"Return\" key:\n\t\tif ( event.charCode === 13 && !invalidName ) {\n\t\t\tmakeNewVar();\n\t\t}\n\t};\n\tconst handleNameChange = ( event ) => {\n\t\tsetName( event.target.value );\n\t};\n\tconst changeFactory = ( ind ) => {\n\t\treturn ( value ) => {\n\t\t\tdebug( 'Change break point...' );\n\t\t\tconst newBreakpoints = state.breakpoints.slice();\n\t\t\tnewBreakpoints[ ind ] = roundn( value, -snapDigits );\n\t\t\tnewBreakpoints.sort( ascending );\n\t\t\tconst configHist = copy( state.configHist );\n\t\t\tconfigHist.layout.shapes = makeShapes( newBreakpoints );\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tconfigHist,\n\t\t\t\tbreakpoints: newBreakpoints,\n\t\t\t\tcategories: createCategoryNames( newBreakpoints, state.customNames )\n\t\t\t});\n\t\t};\n\t};\n\tconst categoryChangeFactory = ( ind ) => {\n\t\treturn ( value ) => {\n\t\t\tconst newCategories = state.categories.slice();\n\t\t\tnewCategories[ ind ] = value;\n\t\t\tconst newCustomNames = state.customNames.slice();\n\t\t\tnewCustomNames[ ind ] = value;\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t\tcategories: newCategories,\n\t\t\t\tcustomNames: newCustomNames\n\t\t\t};\n\t\t\tsetState( newState );\n\t\t};\n\t};\n\tconst deleteBreakpoint = ( ind ) => {\n\t\treturn () => {\n\t\t\tconst { breakpoints, categories, customNames } = state;\n\n\t\t\t// Remove the elements at the specified index:\n\t\t\tbreakpoints.splice( ind, 1 );\n\t\t\tcategories.splice( ind, 1 );\n\t\t\tcustomNames.splice( ind, 1 );\n\t\t\tconst configHist = { ...state.configHist };\n\t\t\tconfigHist.layout.shapes = makeShapes( breakpoints );\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tconfigHist,\n\t\t\t\tcategories,\n\t\t\t\tcustomNames,\n\t\t\t\tbreakpoints\n\t\t\t});\n\t\t};\n\t};\n\tconst makeTextInputs = () => {\n\t\tconst inputs = [];\n\t\tconst breakpoints = state.breakpoints;\n\t\tconst disableButton = breakpoints.length === 1;\n\t\tinputs.push( <Row key=\"div-0\">\n\t\t\t<Col md={7}>\n\t\t\t\t<TeX\n\t\t\t\t\traw=\"x < \"\n\t\t\t\t/><NumberInput\n\t\t\t\t\tinline\n\t\t\t\t\tonBlur={changeFactory( 0 )}\n\t\t\t\t\tdefaultValue={breakpoints[0]}\n\t\t\t\t\tstep=\"any\"\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={4}>\n\t\t\t\t<TextInput\n\t\t\t\t\tkey={0}\n\t\t\t\t\tlegend={`${props.t('label')} 1`}\n\t\t\t\t\tdefaultValue={state.categories[ 0 ]}\n\t\t\t\t\tonChange={categoryChangeFactory( 0 )}\n\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={1}></Col>\n\t\t</Row> );\n\t\tif ( breakpoints.length > 1 ) {\n\t\t\tfor ( let i = 0; i < breakpoints.length - 1; i++ ) {\n\t\t\t\tconst changeFn = categoryChangeFactory( i+1 );\n\t\t\t\tinputs.push( <Row key={`div-${i+1}`}>\n\t\t\t\t\t<Col md={7}>\n\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\tonBlur={changeFactory( i )}\n\t\t\t\t\t\t\tdefaultValue={breakpoints[i]}\n\t\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TeX raw=\"\\le x <\" />\n\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\tonBlur={changeFactory( i+1 )}\n\t\t\t\t\t\t\tdefaultValue={breakpoints[i+1]}\n\t\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tkey={1+i}\n\t\t\t\t\t\t\tlegend={`${props.t('label')} ${i+2}`}\n\t\t\t\t\t\t\tdefaultValue={state.categories[ i+1 ]}\n\t\t\t\t\t\t\tonChange={changeFn}\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={1}>\n\t\t\t\t\t\t<ClearButton\n\t\t\t\t\t\t\tonClick={deleteBreakpoint(i)}\n\t\t\t\t\t\t\tstyle={{ marginTop: '5px' }}\n\t\t\t\t\t\t\tdisabled={disableButton}\n\t\t\t\t\t\t\ttooltipPlacement=\"right\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row> );\n\t\t\t}\n\t\t}\n\t\tconst len = breakpoints.length;\n\t\tinputs.push( <Row key={`div-${len}`}>\n\t\t\t<Col md={7}>\n\t\t\t\t<TeX raw=\"x \\ge\" />\n\t\t\t\t<NumberInput\n\t\t\t\t\tinline\n\t\t\t\t\tonChange={changeFactory( len-1 )}\n\t\t\t\t\tdefaultValue={breakpoints[ len-1 ]}\n\t\t\t\t\tstep=\"any\"\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={4}>\n\t\t\t\t<TextInput\n\t\t\t\t\tlegend={`Label ${len+1}`}\n\t\t\t\t\tdefaultValue={state.categories[ len ]}\n\t\t\t\t\tonChange={categoryChangeFactory( len )}\n\t\t\t\t\tkey={len}\n\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={1}>\n\t\t\t\t<ClearButton\n\t\t\t\t\tonClick={deleteBreakpoint( len - 1 )}\n\t\t\t\t\tstyle={{ marginTop: '5px' }}\n\t\t\t\t\tdisabled={disableButton}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t</Row> );\n\t\treturn inputs;\n\t};\n\tconst onChangeHistLine = ( data ) => {\n\t\tconst keyUpdate = keys( data );\n\t\tconst matches = RE_SHAPE.exec( keyUpdate[ 0 ] );\n\t\tif ( matches ) {\n\t\t\tconst ind = matches[ 1 ];\n\t\t\tconst newBreakpoints = state.breakpoints.slice();\n\t\t\tnewBreakpoints[ ind ] = roundn( data[ keyUpdate[0] ], -snapDigits );\n\t\t\tnewBreakpoints.sort( ascending );\n\t\t\tconst configHist = copy( state.configHist );\n\t\t\tconfigHist.layout.shapes = makeShapes( newBreakpoints );\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tconfigHist,\n\t\t\t\tbreakpoints: newBreakpoints,\n\t\t\t\tcategories: createCategoryNames( newBreakpoints, state.customNames )\n\t\t\t});\n\t\t}\n\t};\n\tconst handleVariableChange = ( value ) => {\n\t\tdebug( 'Change variable to bin...' );\n\t\tconst histConfigSettings = {\n\t\t\tdata: props.data,\n\t\t\tvariable: value,\n\t\t\t...HISTOGRAM_SETTINGS\n\t\t};\n\t\tconst configHist = generateHistogramConfig( histConfigSettings );\n\t\tconfigHist.layout.yaxis = {\n\t\t\trange: [\n\t\t\t\tmin( configHist.data[ 1 ].y ),\n\t\t\t\tmax( configHist.data[ 1 ].y )\n\t\t\t],\n\t\t\tfixedrange: true\n\t\t};\n\t\tconfigHist.layout.xaxis = {\n\t\t\tfixedrange: true\n\t\t};\n\t\tlet values = props.data[ value ];\n\t\tvalues = values.filter( x => isNumber( x ) && !isnan( x ) );\n\t\tconst breakpoints = [ roundn( mean( values ), -snapDigits ) ];\n\t\tconfigHist.layout.shapes = makeShapes( breakpoints );\n\t\tconst customNames = [ false, false ];\n\t\tsetState({\n\t\t\tvariable: value,\n\t\t\tconfigHist,\n\t\t\tbreakpoints,\n\t\t\tcustomNames,\n\t\t\tcategories: createCategoryNames( breakpoints, customNames )\n\t\t});\n\t};\n\tconst addBreakpoint = () => {\n\t\tconst newBreakpoints = state.breakpoints.slice();\n\t\tlet values = props.data[ state.variable ];\n\t\tvalues = values.filter( x => isNumber( x ) && !isnan( x ) );\n\t\tconst avg = runif( 0.8, 1.2 ) * mean( values );\n\t\tnewBreakpoints.push( roundn( avg, -snapDigits ) );\n\t\tnewBreakpoints.sort( ascending );\n\n\t\tconst configHist = copy( state.configHist );\n\t\tconfigHist.layout.shapes = makeShapes( newBreakpoints );\n\n\t\tconst customNames = state.customNames;\n\t\tcustomNames.push( false );\n\n\t\tconst newState = {\n\t\t\t...state,\n\t\t\tbreakpoints: newBreakpoints,\n\t\t\tconfigHist,\n\t\t\tcategories: createCategoryNames( newBreakpoints, customNames )\n\t\t};\n\t\tsetState( newState );\n\t};\n\tconst renderBody = () => {\n\t\tconst configHist = state.configHist;\n\t\tconst select = <SelectInput\n\t\t\tlegend={props.t('variable-to-bin')}\n\t\t\tdefaultValue={state.variable}\n\t\t\toptions={props.quantitative}\n\t\t\tonChange={handleVariableChange}\n\t\t\tstyle={{ maxWidth: 400 }}\n\t\t/>;\n\t\tif ( !configHist ) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{select}\n\t\t\t\t\t<Alert variant=\"info\">{props.t('select-variable-bin')}</Alert>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{select}\n\t\t\t\t<Button className=\"insert-line-button\" onClick={addBreakpoint}>\n\t\t\t\t\t{props.t('insert-break-line')}\n\t\t\t\t</Button>\n\t\t\t\t<p>\n\t\t\t\t\t{props.t('drag-red-bars')}\n\t\t\t\t\t(<NumberInput legend={props.t('digits-after-decimal-snap')} min={0} max={9} inline defaultValue={snapDigits} onChange={setSnapDigits} />)\n\t\t\t\t</p>\n\t\t\t\t<div style={{ height: 250 }}>\n\t\t\t\t\t<Plotly\n\t\t\t\t\t\tdata={configHist.data}\n\t\t\t\t\t\tlayout={configHist.layout}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\tfit\n\t\t\t\t\t\tremoveButtons\n\t\t\t\t\t\tlegendButtons={false}\n\t\t\t\t\t\tonRelayout={onChangeHistLine}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Card className=\"mb-2\" >\n\t\t\t\t\t\t<Card.Header>{props.t('choose-category-labels')}:</Card.Header>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t{makeTextInputs()}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t\t<FormGroup style={{ width: 'fit-content' }} >\n\t\t\t\t\t<FormLabel>{props.t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder={props.t('select-name')}\n\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormText>\n\t\t\t\t\t\t{props.t('new-variable-appended')}\n\t\t\t\t\t</FormText>\n\t\t\t\t</FormGroup>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\treturn (\n\t\t<Draggable cancel=\".card-body\" onDragStart={stopPropagation} style={{ zIndex: 1006 }} >\n\t\t\t<FocusTrap focusTrapOptions={FOCUS_TRAP_OPTIONS} >\n\t\t\t\t<Panel\n\t\t\t\t\tonHide={props.onHide}\n\t\t\t\t\tshow={props.show}\n\t\t\t\t\theader={props.t('bin-transformer-header')}\n\t\t\t\t\tfooter={<Button onClick={makeNewVar} disabled={invalidName} >\n\t\t\t\t\t\t{props.t('create-new-variable')}\n\t\t\t\t\t</Button>}\n\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t}}\n\t\t\t\t\tbodyClassName=\"d-grid gap-3\"\n\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t>\n\t\t\t\t\t{renderBody()}\n\t\t\t\t</Panel>\n\t\t\t</FocusTrap>\n\t\t</Draggable>\n\t);\n};\n\n\n// PROPERTIES //\n\nBinningTransformer.defaultProps = {\n\tlogAction() {},\n\tonGenerate() {}\n};\n\nBinningTransformer.propTypes = {\n\tshow: PropTypes.bool.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tquantitative: PropTypes.array.isRequired,\n\tlogAction: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tonGenerate: PropTypes.func\n};\n\n\n// EXPORTS //\n\nexport default BinningTransformer;\n","// MODULES //\n\nimport React, { Component, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Trans } from 'react-i18next';\nimport FocusTrap from 'focus-trap-react';\nimport Table from 'react-bootstrap/Table';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport Draggable from '@isle-project/components/draggable';\nimport Panel from '@isle-project/components/panel';\nimport Collapse from '@isle-project/components/collapse';\nimport TextArea from '@isle-project/components/input/text-area';\nimport Tooltip from '@isle-project/components/tooltip';\nimport incrspace from '@stdlib/array/incrspace';\nimport contains from '@stdlib/assert/contains';\nimport replace from '@stdlib/string/replace';\nimport { DATA_EXPLORER_VARIABLE_TRANSFORMER } from '@isle-project/constants/actions.js';\nimport valuesFromFormula from './values_from_formula.js';\nimport FUNCTION_KEYS from './function_keys.json';\nimport './formula_transformer.css';\n\n\n// VARIABLES //\n\nconst RE_NAME_RANGE = /datum\\.([^0-9]+)(\\d+):datum\\.\\1(\\d+)/;\nconst DIGITS = incrspace( 0, 10, 1 );\nconst RE_LAST_EXPRESSION = /(?:^|\\n)([^\\n]*)$/;\nconst RE_DIGITS_START = /^[0-9]/;\nconst FOCUS_TRAP_OPTIONS = {\n\tclickOutsideDeactivates: true\n};\n\n\n// FUNCTIONS //\n\nconst CustomMenu = React.forwardRef(\n\t({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\n\t\tconst [value, setValue] = useState( '' );\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tstyle={style}\n\t\t\t\tclassName={className}\n\t\t\t\taria-labelledby={labeledBy}\n\t\t\t>\n\t\t\t<FormControl\n\t\t\t\tclassName=\"mx-3 my-2 w-auto\"\n\t\t\t\tplaceholder=\"Type to filter...\"\n\t\t\t\tonChange={e => setValue(e.target.value)}\n\t\t\t\tvalue={value}\n\t\t\t/>\n\t\t\t\t<ul className=\"list-unstyled\">\n\t\t\t\t\t{React.Children.toArray(children).filter(\n\t\t\t\t\t\tchild =>\n\t\t\t\t\t\t!value || child.props.children.toLowerCase().startsWith(value),\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\n\n// MAIN //\n\nclass FormulaTransformer extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tcode: props.defaultCode,\n\t\t\tselection: null,\n\t\t\tname: '',\n\t\t\tshowGuide: false,\n\t\t\tasCategorical: false\n\t\t};\n\t}\n\n\thandleGenerate = () => {\n\t\tlet { code, name } = this.state;\n\t\tif ( RE_NAME_RANGE.test( code ) ) {\n\t\t\tconst match = RE_NAME_RANGE.exec( code );\n\t\t\tconst prefix = match[ 1 ];\n\t\t\tconst start = parseInt( match[ 2 ], 10 );\n\t\t\tconst end = parseInt( match[ 3 ], 10 );\n\t\t\tlet replacement = '';\n\t\t\tfor ( let i = start; i <= end; i++ ) {\n\t\t\t\treplacement += `datum.${prefix}${i}`; // eslint-disable-line i18next/no-literal-string\n\t\t\t\treplacement += i < end ? ',' : '';\n\t\t\t}\n\t\t\tcode = replace( code, match[ 0 ], replacement );\n\t\t}\n\t\tif ( !contains( code, 'return ' ) ) {\n\t\t\tcode = replace( code, RE_LAST_EXPRESSION, '\\nreturn $1' );\n\t\t}\n\t\tlet values;\n\t\ttry {\n\t\t\tvalues = valuesFromFormula( code, this.props.data );\n\t\t\tthis.props.logAction( DATA_EXPLORER_VARIABLE_TRANSFORMER, {\n\t\t\t\tcode, name\n\t\t\t});\n\t\t\tif ( this.state.asCategorical ) {\n\t\t\t\tvalues = values.map( x => String( x ) );\n\t\t\t}\n\t\t\tthis.props.onGenerate( name, values );\n\t\t} catch ( err ) {\n\t\t\treturn this.props.session.addNotification({\n\t\t\t\ttitle: 'Errored',\n\t\t\t\tmessage: 'Encountered the following error: '+err.message,\n\t\t\t\tlevel: 'error',\n\t\t\t\tposition: 'tr'\n\t\t\t});\n\t\t}\n\t\tthis.props.onHide();\n\t};\n\n\thandleNameChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tname: event.target.value\n\t\t});\n\t};\n\n\thandleCodeChange = ( value ) => {\n\t\tthis.setState({\n\t\t\tcode: value\n\t\t});\n\t};\n\n\thandleKeyPress = ( event ) => {\n\t\tif ( event.charCode === 13 && this.state.name.length >= 2 ) {\n\t\t\tthis.handleGenerate();\n\t\t}\n\t};\n\n\tinsertVarFactory = ( name ) => {\n\t\treturn () => {\n\t\t\tlet newCode = this.state.code.substring( 0, this.state.selection );\n\t\t\tlet replacement = 'datum';\n\t\t\tconst literal =\n\t\t\t\t!contains( name, ' ' ) &&\n\t\t\t\t!contains( name, '.' ) &&\n\t\t\t\t!RE_DIGITS_START.test( name );\n\t\t\treplacement += literal ? `.${name}` : `['${name}']`;\n\t\t\tnewCode += replacement;\n\t\t\tnewCode += this.state.code.substring( this.state.selection );\n\t\t\tthis.setState({\n\t\t\t\tcode: newCode,\n\t\t\t\tselection: this.state.selection + replacement.length\n\t\t\t});\n\t\t};\n\t};\n\n\tinsertLiteralFactory = ( operator ) => {\n\t\treturn () => {\n\t\t\tlet newCode = this.state.code.substring( 0, this.state.selection );\n\t\t\tconst replacement = operator;\n\t\t\tnewCode += replacement;\n\t\t\tnewCode += this.state.code.substring( this.state.selection );\n\t\t\tthis.setState({\n\t\t\t\tcode: newCode,\n\t\t\t\tselection: this.state.selection + replacement.length\n\t\t\t});\n\t\t};\n\t};\n\n\tinsertFuncFactory = ( funcName ) => {\n\t\treturn () => {\n\t\t\tlet newCode = this.state.code.substring( 0, this.state.selection );\n\t\t\tconst replacement = ' '+funcName+'()';\n\t\t\tnewCode += replacement;\n\t\t\tnewCode += this.state.code.substring( this.state.selection );\n\t\t\tthis.setState({\n\t\t\t\tcode: newCode,\n\t\t\t\tselection: this.state.selection + replacement.length - 1\n\t\t\t});\n\t\t};\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst continuousItems = this.props.quantitative.map( ( v, i ) => {\n\t\t\treturn <Dropdown.Item key={i} onClick={this.insertVarFactory( v )} eventKey={i}>{v}</Dropdown.Item>;\n\t\t});\n\t\treturn (\n\t\t\t<Draggable cancel=\".card-body\" onDragStart={( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}} style={{ zIndex: 1006 }} >\n\t\t\t\t<FocusTrap focusTrapOptions={FOCUS_TRAP_OPTIONS} >\n\t\t\t\t\t<Panel\n\t\t\t\t\t\tshow={this.props.show}\n\t\t\t\t\t\tonHide={this.props.onHide}\n\t\t\t\t\t\theader={this.props.t('formula-transformer-header')}\n\t\t\t\t\t\tfooter={<Button onClick={this.handleGenerate} disabled={this.state.name.length < 1} >{this.props.t('create-new-variable')}</Button>}\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"formula-transformer-body\">\n\t\t\t\t\t\t\t<Collapse headerClassName=\"title\" header={this.state.showGuide ? t('hide-example-guide') : t('show-example-guide')} visible={this.state.showGuide} onClick={() => this.setState({ showGuide: !this.state.showGuide })}>\n\t\t\t\t\t\t\t\t<p>{t('formula-transformer-example-intro')}</p>\n\t\t\t\t\t\t\t\t<Table condensed >\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th>{t('type')}</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>{t('example')}</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>{t('description')}</th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>{t('interaction')}:</td>\n\t\t\t\t\t\t\t\t\t\t\t<td><code>datum.{this.props.quantitative[0]} * datum.{this.props.quantitative[1]}</code></td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"example-description-multiply\" ns=\"DataExplorer\" >\n\t\t\t\t\t\t\t\t\t\t\t\t\tMultiply values of variables <code>{{ first: this.props.quantitative[0] }}</code> and <code>{{ second: this.props.quantitative[1] }}</code>\n\t\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>{t('transformation')}:</td>\n\t\t\t\t\t\t\t\t\t\t\t<td><code>exp( datum.{this.props.quantitative[0]} )</code></td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"example-description-exponential\" ns=\"DataExplorer\" >\n\t\t\t\t\t\t\t\t\t\t\t\t\tNatural exponential function of variable <code>{{ variable: this.props.quantitative[0] }}</code>\n\t\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>{t('function')}:</td>\n\t\t\t\t\t\t\t\t\t\t\t<td><code>9/5 * {this.props.quantitative[0]} + 32</code></td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"example-description-calculation\" ns=\"DataExplorer\" >\n\t\t\t\t\t\t\t\t\t\t\t\t\tMultiply values of <code>{{ variable: this.props.quantitative[0] }}</code> by <code>9/5</code> and add <code>32</code>\n\t\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<div className=\"mb-2\" >\n\t\t\t\t\t\t\t\t<ButtonToolbar style={{ marginBottom: 5 }} >\n\t\t\t\t\t\t\t\t\t<Dropdown className=\"mr-2\">\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"light\" id=\"dropdown-custom-components\">\n\t\t\t\t\t\t\t\t\t\t\t{t('quantitative')}\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu variant=\"light\" as={CustomMenu} id=\"bg-nested-dropdown\">\n\t\t\t\t\t\t\t\t\t\t\t{continuousItems}\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t\t\t<Dropdown className=\"mr-2\">\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"light\" id=\"dropdown-custom-components\">\n\t\t\t\t\t\t\t\t\t\t\t{t('categorical')}\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu variant=\"light\" as={CustomMenu} id=\"bg-nested-dropdown\">\n\t\t\t\t\t\t\t\t\t\t\t{this.props.categorical.map( ( v, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={i} onClick={this.insertVarFactory( v )} eventKey={i}>{v}</Dropdown.Item>;\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Card className=\"mb-2\" >\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t<ButtonToolbar style={{ marginBottom: 5 }} >\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('smaller-than')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' < ')} >{'<'}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('greater-than')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' > ')} >{'>'}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('smaller-or-equal')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' <= ')} >{'<='}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('greater-or-equal')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' >= ')} >{'>='}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('open-parenthesis')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' ( ')} >(</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('closing-parenthesis')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' ) ')} >)</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('addition')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' + ')} >+</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('subtraction')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' - ')} >-</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('multiplication')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' * ')} >*</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('division')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' / ')} >/</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('boolean-and')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' && ')} >{t('and')}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('boolean-or')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' || ')} >{t('or')}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('boolean-not')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' !')} >{t('not')}</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t\t\t<ButtonToolbar style={{ marginBottom: 5 }} >\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t\t{DIGITS.map( ( d, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Button key={i} variant=\"light\" onClick={this.insertLiteralFactory( `${d}`)} >{d}</Button>;\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory('.')} >.</Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t\t\t<ButtonToolbar>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"me-2\" >\n\t\t\t\t\t\t\t\t\t\t\t{FUNCTION_KEYS.map( ( v, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn ( <Tooltip key={i} placement=\"bottom\" tooltip={t(v+'-tooltip')} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertFuncFactory( v )} eventKey={i}>{v}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip> );\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card className=\"mb-2\" >\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\t\t\tref={div => { this.textarea = div; }}\n\t\t\t\t\t\t\t\t\t\tlegend={`${t('expression')}:`}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('enter-formula')}\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.code}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleCodeChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst selectionStart = event.target.selectionStart;\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tselection: selectionStart\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<FormGroup style={{ margin: 8 }}>\n\t\t\t\t\t\t\t\t<FormLabel>{t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={t('select-name')}\n\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\n\t\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormText>\n\t\t\t\t\t\t\t\t\t{t('new-variable-appended')}\n\t\t\t\t\t\t\t\t</FormText>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\t\t\tname=\"options\"\n\t\t\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tasCategorical: value\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvalue={this.state.asCategorical}\n\t\t\t\t\t\t\t\tstyle={{ padding: 6 }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\t\t\tid=\"data-explorer-transform-toggle-quantitative\"\n\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\tvalue={false}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('treat-as-quantitative')}\n\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\t\t\tid=\"data-explorer-transform-toggle-categorical\"\n\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\tvalue={true}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('treat-as-categorical')}\n\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Panel>\n\t\t\t\t</FocusTrap>\n\t\t\t</Draggable>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nFormulaTransformer.defaultProps = {\n\tlogAction() {},\n\tonGenerate() {},\n\tdefaultCode: '',\n\tsession: {}\n};\n\nFormulaTransformer.propTypes = {\n\tshow: PropTypes.bool.isRequired,\n\tcategorical: PropTypes.array.isRequired,\n\tquantitative: PropTypes.array.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tdefaultCode: PropTypes.string,\n\tlogAction: PropTypes.func,\n\tonGenerate: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tsession: PropTypes.object\n};\n\n\n// EXPORTS //\n\nexport default FormulaTransformer;\n","// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport FocusTrap from 'focus-trap-react';\nimport Draggable from '@isle-project/components/draggable';\nimport Panel from '@isle-project/components/panel';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport Table from '@isle-project/components/table';\nimport objectKeys from '@stdlib/utils/keys';\nimport countBy from '@stdlib/utils/count-by';\nimport identity from '@stdlib/utils/identity-function';\nimport copy from '@stdlib/utils/copy';\nimport replace from '@stdlib/string/replace';\nimport isDigitString from '@stdlib/assert/is-digit-string';\nimport SelectInput from '@isle-project/components/input/select';\nimport CheckboxInput from '@isle-project/components/input/checkbox';\nimport Tooltip from '@isle-project/components/tooltip';\nimport { DATA_EXPLORER_CAT_TRANSFORMER } from '@isle-project/constants/actions.js';\nimport recodeCategorical from './recode_categorical';\nimport extractUsedCategories from '@isle-project/utils/extract-used-categories';\nimport './categorical_transformer.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:data-explorer:variable-transformer' );\nconst FOCUS_TRAP_OPTIONS = {\n\tclickOutsideDeactivates: true\n};\n\n\n// FUNCTIONS //\n\n/**\n * Escapes dots in a string.\n *\n * @private\n * @param {string} str - string to escape\n * @returns {string} escaped string\n */\nfunction escapeDots( str ) {\n\tif ( !str ) {\n\t\treturn str;\n\t}\n\treturn replace( str, '.', '[dot]' );\n}\n\n/**\n * Checks whether all values of the supplied object are digit strings.\n *\n * @private\n * @param {Object} nameMappings - object of name to digit mappings to check\n * @returns {boolean} boolean indicating whether all values are digit strings\n */\nfunction checkNumericLabels( nameMappings ) {\n\tconst keys = objectKeys( nameMappings );\n\tlet allNumeric = true;\n\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\tif ( !isDigitString( nameMappings[ keys[ i ] ] ) ) {\n\t\t\tallNumeric = false;\n\t\t}\n\t}\n\treturn allNumeric;\n}\n\n\n// MAIN //\n\nclass CategoricalTransformer extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst firstVar = props.categorical[ 0 ];\n\t\tconst firstValues = props.data[ firstVar ];\n\t\tconst firstFreqs = countBy( firstValues, identity );\n\t\tconst keys = extractUsedCategories( firstFreqs, firstVar );\n\t\tconst nameMappings = {};\n\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\tnameMappings[ escapeDots( keys[ i ] ) ] = keys[ i ];\n\t\t}\n\t\tthis.state = {\n\t\t\tgeneratedName: '',\n\t\t\tfirstVar,\n\t\t\tfirstFreqs,\n\t\t\tnameMappings,\n\t\t\tsecondVar: null,\n\t\t\tsecondFreqs: null,\n\t\t\tcastNumeric: false,\n\t\t\tonlyNumbers: false\n\t\t};\n\t}\n\n\thandleFirstVariableChange = ( variable ) => {\n\t\tconst nameMappings = {};\n\t\tlet firstFreqs;\n\t\tif ( !this.state.secondVar ) {\n\t\t\tconst firstValues = this.props.data[ variable ];\n\t\t\tfirstFreqs = countBy( firstValues, identity );\n\t\t\tconst keys = extractUsedCategories( firstFreqs, variable );\n\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\tnameMappings[ escapeDots( keys[ i ] ) ] = keys[ i ];\n\t\t\t}\n\t\t} else {\n\t\t\tconst firstVar = variable;\n\t\t\tconst secondVar = this.state.secondVar;\n\t\t\tconst firstValues = this.props.data[ firstVar ];\n\t\t\tfirstFreqs = countBy( firstValues, identity );\n\t\t\tconst firstKeys = extractUsedCategories( firstFreqs, firstVar );\n\t\t\tconst secondKeys = extractUsedCategories( this.state.secondFreqs, secondVar );\n\t\t\tfor ( let i = 0; i < firstKeys.length; i++ ) {\n\t\t\t\tfor ( let j = 0; j < secondKeys.length; j++ ) {\n\t\t\t\t\tconst label = firstKeys[ i ] + '-' + secondKeys[ j ];\n\t\t\t\t\tnameMappings[ escapeDots( label ) ] = label;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst onlyNumbers = checkNumericLabels( nameMappings );\n\t\tthis.setState({\n\t\t\tfirstVar: variable,\n\t\t\tfirstFreqs,\n\t\t\tnameMappings,\n\t\t\tonlyNumbers\n\t\t});\n\t};\n\n\thandleSecondVariableChange = ( secondVar ) => {\n\t\tif ( !secondVar ) {\n\t\t\t// Case: Resetting the second variable...\n\t\t\tconst firstVar = this.state.firstVar;\n\t\t\tconst keys = extractUsedCategories( this.state.firstFreqs, firstVar );\n\t\t\tconst nameMappings = {};\n\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\tnameMappings[ escapeDots( keys[ i ] ) ] = keys[ i ];\n\t\t\t}\n\t\t\treturn this.setState({\n\t\t\t\tsecondVar,\n\t\t\t\tnameMappings\n\t\t\t});\n\t\t}\n\t\t// Case: Have both a second and first variable...\n\t\tconst nameMappings = {};\n\t\tconst firstVar = this.state.firstVar;\n\t\tconst secondValues = this.props.data[ secondVar ];\n\t\tconst secondFreqs = countBy( secondValues, identity );\n\t\tconst firstKeys = extractUsedCategories( this.state.firstFreqs, firstVar );\n\t\tconst secondKeys = extractUsedCategories( secondFreqs, secondVar );\n\t\tfor ( let i = 0; i < firstKeys.length; i++ ) {\n\t\t\tfor ( let j = 0; j < secondKeys.length; j++ ) {\n\t\t\t\tconst label = firstKeys[ i ] + '-' + secondKeys[ j ];\n\t\t\t\tnameMappings[ escapeDots( label ) ] = label;\n\t\t\t}\n\t\t}\n\t\tconst onlyNumbers = checkNumericLabels( nameMappings );\n\t\tthis.setState({\n\t\t\tsecondVar,\n\t\t\tsecondFreqs,\n\t\t\tnameMappings,\n\t\t\tonlyNumbers\n\t\t});\n\t};\n\n\thandleKeyPress = ( event ) => {\n\t\tif ( event.charCode === 13 && this.state.generatedName.length >= 2 ) {\n\t\t\tthis.makeNewVar();\n\t\t}\n\t};\n\n\trenderTable() {\n\t\tif ( this.state.firstVar && this.state.secondVar ) {\n\t\t\treturn this.renderContingencyTable();\n\t\t}\n\t\tif ( this.state.firstVar || this.state.secondVar ) {\n\t\t\treturn this.renderFrequencyTable();\n\t\t}\n\t\treturn null;\n\t}\n\n\tchangeFreqFactory = ( oldLabel ) => {\n\t\treturn ( event ) => {\n\t\t\tconst nameMappings = copy( this.state.nameMappings );\n\t\t\tnameMappings[ escapeDots( oldLabel ) ] = event.target.value;\n\t\t\tconst onlyNumbers = checkNumericLabels( nameMappings );\n\t\t\tthis.setState({\n\t\t\t\tnameMappings,\n\t\t\t\tonlyNumbers\n\t\t\t});\n\t\t};\n\t};\n\n\tchangeContingencyFactory = ( rowLabel, colLabel ) => {\n\t\treturn ( event ) => {\n\t\t\tconst nameMappings = copy( this.state.nameMappings );\n\t\t\tnameMappings[ escapeDots( colLabel ) + '-' + escapeDots( rowLabel ) ] = event.target.value;\n\t\t\tthis.setState({\n\t\t\t\tnameMappings\n\t\t\t});\n\t\t};\n\t};\n\n\thandleGeneratedNameChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tgeneratedName: event.target.value\n\t\t});\n\t};\n\n\tmakeNewVar = () => {\n\t\tdebug( 'Generating new categorical variable...' );\n\t\tconst { firstVar, secondVar, nameMappings, castNumeric } = this.state;\n\t\tconst newVar = recodeCategorical( firstVar, secondVar, nameMappings, this.props.data, castNumeric );\n\t\tthis.props.onGenerate( this.state.generatedName, newVar );\n\t\tthis.props.logAction( DATA_EXPLORER_CAT_TRANSFORMER, {\n\t\t\tname: this.state.generatedName,\n\t\t\tfirstVar: firstVar,\n\t\t\tsecondVar: secondVar,\n\t\t\tnameMappings: nameMappings,\n\t\t\tcastNumeric: castNumeric\n\t\t});\n\t\tthis.props.onHide();\n\t};\n\n\trenderFrequencyTable = () => {\n\t\tconst variable = this.state.firstVar;\n\t\tconst values = this.props.data[ variable ];\n\t\tconst varFreqs = countBy( values, identity );\n\t\tconst keys = extractUsedCategories( varFreqs, variable );\n\t\treturn (\n\t\t\t<Table bordered style={{ margin: 8 }} clickable={false} >\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{this.props.t('old')}:</th>\n\t\t\t\t\t\t{keys.map( ( val, idx ) => {\n\t\t\t\t\t\t\treturn <th key={`${variable}-${idx}-old`}>{val}</th>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{this.props.t('new')}:</th>\n\t\t\t\t\t\t{keys.map( ( val, idx ) => {\n\t\t\t\t\t\t\treturn ( <th key={`${variable}-${idx}-new`}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"transformer-table-input\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tdefaultValue={val}\n\t\t\t\t\t\t\t\t\tonChange={this.changeFreqFactory( val )}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</th> );\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr style={{ borderTop: '1px solid black' }}>\n\t\t\t\t\t\t<th>{this.props.t('frequencies')}:</th>\n\t\t\t\t\t\t{keys.map( ( label, idx ) => {\n\t\t\t\t\t\t\tconst freq = this.state.firstFreqs[ label ];\n\t\t\t\t\t\t\treturn <td key={`${variable}-${idx}-freq`}>{freq}</td>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t);\n\t};\n\n\trenderContingencyTable = () => {\n\t\tconst rowVar = this.state.secondVar;\n\t\tconst colVar = this.state.firstVar;\n\t\tconst rowValues = this.props.data[ rowVar ];\n\t\tconst colValues = this.props.data[ colVar ];\n\t\tconst rowFreqs = countBy( rowValues, identity );\n\t\tconst colFreqs = countBy( colValues, identity );\n\t\tconst rowKeys = extractUsedCategories( rowFreqs, rowVar );\n\t\tconst colKeys = extractUsedCategories( colFreqs, colVar );\n\t\treturn (\n\t\t\t<Table bordered style={{ margin: 8 }}>\n\t\t\t\t<tr>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t{colKeys.map( ( col, idx ) => {\n\t\t\t\t\t\treturn ( <th key={`${col}-${idx}`}>\n\t\t\t\t\t\t\t{col}\n\t\t\t\t\t\t</th> );\n\t\t\t\t\t})}\n\t\t\t\t</tr>\n\t\t\t\t{rowKeys.map( ( row, idx ) => {\n\t\t\t\t\treturn ( <tr key={`${row}-${idx}`}>\n\t\t\t\t\t\t<th>{row}</th>\n\t\t\t\t\t\t{colKeys.map( ( col, idx ) => {\n\t\t\t\t\t\t\treturn ( <td key={`${row}-${col}-${idx}`}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"transformer-table-input\"\n\t\t\t\t\t\t\t\t\ttype=\"text\" defaultValue={`${col}-${row}`}\n\t\t\t\t\t\t\t\t\tonChange={this.changeContingencyFactory( row, col )}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td> );\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr> );\n\t\t\t\t})}\n\t\t\t</Table>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Draggable cancel=\".card-body\" onDragStart={( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}} style={{ zIndex: 1006 }} >\n\t\t\t\t<FocusTrap focusTrapOptions={FOCUS_TRAP_OPTIONS} >\n\t\t\t\t\t<Panel\n\t\t\t\t\t\tonHide={this.props.onHide}\n\t\t\t\t\t\tshow={this.props.show}\n\t\t\t\t\t\theader={t('categorical-transformer-header')}\n\t\t\t\t\t\tfooter={<Button onClick={this.makeNewVar} disabled={this.state.generatedName.length < 1}>\n\t\t\t\t\t\t\t{t('create-new-variable')}\n\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\tlegend={t('first-variable')}\n\t\t\t\t\t\t\t\t\tdefaultValue={this.state.firstVar || ''}\n\t\t\t\t\t\t\t\t\toptions={this.props.categorical}\n\t\t\t\t\t\t\t\t\tonChange={this.handleFirstVariableChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\t\tlegend={t('optional-second-variable')}\n\t\t\t\t\t\t\t\t\tdefaultValue={this.state.secondVar || ''}\n\t\t\t\t\t\t\t\t\toptions={this.props.categorical}\n\t\t\t\t\t\t\t\t\tonChange={this.handleSecondVariableChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row style={{ overflowX: 'auto', width: '100%' }}>\n\t\t\t\t\t\t\t{this.renderTable()}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Tooltip tooltip={t('treat-labels-as-numbers-tooltip')}>\n\t\t\t\t\t\t\t\t<CheckboxInput\n\t\t\t\t\t\t\t\t\tlegend={t('treat-labels-as-numbers')}\n\t\t\t\t\t\t\t\t\tdefaultValue={false}\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.onlyNumbers}\n\t\t\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tcastNumeric: !this.state.castNumeric\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<FormGroup style={{ margin: 8 }}>\n\t\t\t\t\t\t\t\t<FormLabel>{t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={t('select-name')}\n\t\t\t\t\t\t\t\t\tonChange={this.handleGeneratedNameChange}\n\t\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormText>\n\t\t\t\t\t\t\t\t\t{t('new-variable-appended')}\n\t\t\t\t\t\t\t\t</FormText>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Panel>\n\t\t\t\t</FocusTrap>\n\t\t\t</Draggable>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCategoricalTransformer.defaultProps = {\n\tlogAction() {}\n};\n\nCategoricalTransformer.propTypes = {\n\tcategorical: PropTypes.array.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tonGenerate: PropTypes.func.isRequired,\n\tlogAction: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\n\n// EXPORTS //\n\nexport default CategoricalTransformer;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport FocusTrap from 'focus-trap-react';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport sample from '@stdlib/random/sample';\nimport absdiff from '@stdlib/math/base/utils/absolute-difference';\nimport objectKeys from '@stdlib/utils/keys';\nimport TextInput from '@isle-project/components/input/text';\nimport NumberInput from '@isle-project/components/input/number';\nimport Draggable from '@isle-project/components/draggable';\nimport Panel from '@isle-project/components/panel';\nimport { DATA_EXPLORER_GROUP_TRANSFORMER } from '@isle-project/constants/actions.js';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:data-explorer:group-transformer' );\nconst FOCUS_TRAP_OPTIONS = {\n\tclickOutsideDeactivates: true\n};\n\n\n// MAIN //\n\nclass GroupTransformer extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tgeneratedName: '',\n\t\t\tnGroups: 2,\n\t\t\tgroupProbs: [ 0.5, 0.5 ],\n\t\t\tlabels: [ 'Group 1', 'Group 2' ]\n\t\t};\n\t}\n\n\thandleGeneratedNameChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tgeneratedName: event.target.value\n\t\t});\n\t};\n\n\thandleGroupNumberChange = ( nGroups ) => {\n\t\tconst groupProbs = new Array( nGroups ).fill( 1/nGroups );\n\t\tconst labels = new Array( nGroups );\n\t\tfor ( let i = 0; i < labels.length; i++ ) {\n\t\t\tlabels[ i ] = `${this.props.t('group')} ${i+1}`;\n\t\t}\n\t\tthis.setState({\n\t\t\tgroupProbs,\n\t\t\tlabels,\n\t\t\tnGroups\n\t\t});\n\t};\n\n\thandleKeyPress = ( event ) => {\n\t\tif ( event.charCode === 13 ) {\n\t\t\tlet sum = 0.0;\n\t\t\tfor ( let i = 0; i < this.state.groupProbs.length; i++ ) {\n\t\t\t\tsum += this.state.groupProbs[ i ];\n\t\t\t}\n\t\t\tconst hasValidValues = this.state.generatedName.length > 2 && absdiff( sum, 1.0 ) <= 1.5e-8;\n\t\t\tif ( hasValidValues ) {\n\t\t\t\tthis.makeNewVar();\n\t\t\t}\n\t\t}\n\t};\n\n\tmakeNewVar = () => {\n\t\tdebug( 'Generating new categorical variable...' );\n\t\tconst keys = objectKeys( this.props.data );\n\t\tconst nobs = this.props.data[ keys[ 0 ] ].length;\n\n\t\tconst values = sample( this.state.labels, {\n\t\t\tsize: nobs,\n\t\t\tprobs: this.state.groupProbs,\n\t\t\treplace: true\n\t\t});\n\t\tthis.props.onGenerate( this.state.generatedName, values );\n\t\tthis.props.logAction( DATA_EXPLORER_GROUP_TRANSFORMER, {\n\t\t\tname: this.state.generatedName,\n\t\t\tlabels: this.state.labels,\n\t\t\tgroupProbs: this.state.groupProbs\n\t\t});\n\t\tthis.props.onHide();\n\t};\n\n\trenderTable() {\n\t\tconst elems = new Array( this.state.nGroups );\n\t\tfor ( let i = 0; i < elems.length; i++ ) {\n\t\t\telems[ i ] = <Row key={i} >\n\t\t\t\t<Col>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tlegend={`Label for Group ${i+1}`}\n\t\t\t\t\t\tdefaultValue={this.state.labels[ i ]}\n\t\t\t\t\t\tonChange={( val ) => {\n\t\t\t\t\t\t\tconst labels = this.state.labels.slice();\n\t\t\t\t\t\t\tlabels[ i ] = val;\n\t\t\t\t\t\t\tthis.setState({ labels });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<NumberInput\n\t\t\t\t\t\tlegend={this.props.t('group-proportion')}\n\t\t\t\t\t\tonChange={( val ) => {\n\t\t\t\t\t\t\tconst groupProbs = this.state.groupProbs.slice();\n\t\t\t\t\t\t\tgroupProbs[ i ] = val;\n\t\t\t\t\t\t\tthis.setState({ groupProbs });\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultValue={this.state.groupProbs[ i ]}\n\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\tnumbersOnly={false}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{elems}\n\t\t\t\t<p>{this.props.t('proportions-sum-one')}</p>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tlet sum = 0.0;\n\t\tfor ( let i = 0; i < this.state.groupProbs.length; i++ ) {\n\t\t\tsum += this.state.groupProbs[ i ];\n\t\t}\n\t\tconst hasValidValues = this.state.generatedName.length > 2 && absdiff( sum, 1.0 ) <= 1.5e-8;\n\t\treturn (\n\t\t\t<Draggable cancel=\".card-body\" onDragStart={( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}} style={{ zIndex: 1006 }} >\n\t\t\t\t<FocusTrap focusTrapOptions={FOCUS_TRAP_OPTIONS} >\n\t\t\t\t\t<Panel\n\t\t\t\t\t\tonHide={this.props.onHide}\n\t\t\t\t\t\tshow={this.props.show}\n\t\t\t\t\t\theader={this.props.t('group-transformer-header')}\n\t\t\t\t\t\tfooter={<Button onClick={this.makeNewVar} disabled={!hasValidValues}>\n\t\t\t\t\t\t\t{this.props.t('create-new-variable')}\n\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\t\t\tlegend={this.props.t('number-of-groups')}\n\t\t\t\t\t\t\t\t\tonChange={this.handleGroupNumberChange}\n\t\t\t\t\t\t\t\t\tdefaultValue={this.state.nGroups}\n\t\t\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tmax={99}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{this.renderTable()}\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<FormGroup style={{ margin: 8 }}>\n\t\t\t\t\t\t\t\t<FormLabel>{this.props.t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={this.props.t('select-name')}\n\t\t\t\t\t\t\t\t\tonChange={this.handleGeneratedNameChange}\n\t\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormText>\n\t\t\t\t\t\t\t\t\t{this.props.t('new-variable-appended')}\n\t\t\t\t\t\t\t\t</FormText>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Panel>\n\t\t\t\t</FocusTrap>\n\t\t\t</Draggable>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nGroupTransformer.defaultProps = {\n\tlogAction() {}\n};\n\nGroupTransformer.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tonGenerate: PropTypes.func.isRequired,\n\tlogAction: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\n\n// EXPORTS //\n\nexport default GroupTransformer;\n","// MODULES //\n\nimport Loadable from '@isle-project/components/internal/loadable';\n\n\n// MAIN //\n\nconst RandomTransformer = Loadable( () => import( /* webpackChunkName: \"RandomTransformer\" */ './main.js' ) );\n\n\n// EXPORTS //\n\nexport default RandomTransformer;\n","// MODULES //\n\nimport React, { useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport BinTransformer from './bin_transformer.js';\nimport FormulaTransformer from './formula_transformer.js';\nimport CategoricalModal from './categorical_transformer.js';\nimport GroupModal from './group_transformer.js';\nimport RandomModal from './random-transformer';\n\n\n// MAIN //\n\nconst Transformer = ( props ) => {\n\tconst { data, categorical, quantitative, t, session, defaultCode, logAction, onGenerate } = props;\n\tconst [ active, setActive ] = useState( null );\n\n\tconst toggleFormulaModal = () => {\n\t\tconst newActive = active === 'formula' ? null : 'formula';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleBinModal = () => {\n\t\tconst newActive = active === 'bin' ? null : 'bin';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleCategoricalModal = () => {\n\t\tconst newActive = active === 'categorical' ? null : 'categorical';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleGroupModal = () => {\n\t\tconst newActive = active === 'group' ? null : 'group';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleRandomModal = () => {\n\t\tconst newActive = active === 'random' ? null : 'random';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tlet modal;\n\tif ( data ) {\n\t\tswitch ( active ) {\n\t\t\tcase 'bin':\n\t\t\t\tmodal = <BinTransformer\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleBinModal}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'categorical':\n\t\t\t\tmodal = <CategoricalModal\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleCategoricalModal}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'formula':\n\t\t\t\tmodal = <FormulaTransformer\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleFormulaModal}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tdefaultCode={defaultCode}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tsession={session}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'group':\n\t\t\t\tmodal = <GroupModal\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleGroupModal}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'random':\n\t\t\t\tmodal = <RandomModal\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleRandomModal}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"well d-grid gap-3\" style={{ padding: 15, margin: 15 }} >\n\t\t\t\t<Button\n\t\t\t\t\tonClick={toggleFormulaModal}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t>\n\t\t\t\t\t{t('interactions-functions')}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={toggleBinModal}\n\t\t\t\t\tdisabled={!quantitative || quantitative.length === 0}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t>\n\t\t\t\t\t{t('bin-quantitative')}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={toggleCategoricalModal}\n\t\t\t\t\tdisabled={!categorical || categorical.length === 0}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t>\n\t\t\t\t\t{t('rename-or-combine')}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={toggleGroupModal}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t>\n\t\t\t\t\t{t('create-groups')}\n\t\t\t\t</Button>\n\t\t\t\t<div className=\"d-grid\" >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleRandomModal}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('generate-random-data')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{modal}\n\t\t</Fragment>\n\t);\n};\n\n\n// PROPERTIES //\n\nTransformer.defaultProps = {\n\tlogAction() {},\n\tonActive() {},\n\tonGenerate() {},\n\tdefaultCode: '',\n\tsession: {}\n};\n\nTransformer.propTypes = {\n\tcategorical: PropTypes.array.isRequired,\n\tquantitative: PropTypes.array.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tdefaultCode: PropTypes.string,\n\tlogAction: PropTypes.func,\n\tonActive: PropTypes.func,\n\tonGenerate: PropTypes.func,\n\tsession: PropTypes.object\n};\n\n\n// EXPORTS //\n\nexport default Transformer;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst defaultProps = {\n  role: 'toolbar'\n};\nconst ButtonToolbar = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  ...props\n}, ref) => {\n  const prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'btn-toolbar');\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", { ...props,\n    ref: ref,\n    className: (0, _classnames.default)(className, prefix)\n  });\n});\nButtonToolbar.displayName = 'ButtonToolbar';\nButtonToolbar.defaultProps = defaultProps;\nvar _default = ButtonToolbar;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Table = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  striped,\n  bordered,\n  borderless,\n  hover,\n  size,\n  variant,\n  responsive,\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'table');\n  const classes = (0, _classnames.default)(className, decoratedBsPrefix, variant && `${decoratedBsPrefix}-${variant}`, size && `${decoratedBsPrefix}-${size}`, striped && `${decoratedBsPrefix}-striped`, bordered && `${decoratedBsPrefix}-bordered`, borderless && `${decoratedBsPrefix}-borderless`, hover && `${decoratedBsPrefix}-hover`);\n  const table = /*#__PURE__*/(0, _jsxRuntime.jsx)(\"table\", { ...props,\n    className: classes,\n    ref: ref\n  });\n\n  if (responsive) {\n    let responsiveClass = `${decoratedBsPrefix}-responsive`;\n\n    if (typeof responsive === 'string') {\n      responsiveClass = `${responsiveClass}-${responsive}`;\n    }\n\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n      className: responsiveClass,\n      children: table\n    });\n  }\n\n  return table;\n});\nvar _default = Table;\nexports.default = _default;\nmodule.exports = exports.default;","// MODULES //\n\nimport Loadable from '@isle-project/components/internal/loadable';\n\n\n// MAIN //\n\nconst Panel = Loadable( () => import( /* webpackChunkName: \"Panel\" */ './main.js' ) );\n\n\n// EXPORTS //\n\nexport default Panel;\n"],"sourceRoot":""}