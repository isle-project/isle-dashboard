{"version":3,"file":"static/js/8758.81e7ab6d.chunk.js","mappings":";2RAgCA,MAAMA,UAAsBC,EAAAA,UAC3BC,SACC,IAAMC,KAAKC,MAAMC,kBAChB,OAAO,KAER,MAAMC,EAAUH,KAAKC,MAAMC,kBAAkBC,QAC7C,IAAMC,GAAAA,CAASD,GACd,OAAO,KAER,MAAME,EAAOL,KAAKC,MAAMK,KAAKC,WAC7B,IAAIC,EAAS,GACb,MAAMC,EAAQ,GACRC,EAAQ,GACd,IAAM,IAAIC,EAAI,EAAGA,EAAIR,EAAQS,OAAQD,IAAM,CAC1C,MAAME,EAASV,EAASQ,GACnBN,EAAMQ,EAAOC,OACjBN,EAAOO,KAAMC,GAAAA,CAAqC,IAA9BX,EAAMQ,EAAOC,KAAMG,SAAgB,EAAG,MAC1DR,EAAMM,KAAMF,EAAOK,OACnBR,EAAMK,KAAO,gBAAcI,EAAAA,EAAAA,GAAYd,EAAMQ,EAAOC,KAAMM,eAG5D,IAAIC,EAAKC,GAAAA,CAAgBd,GACzB,MAAMe,EAAMC,GAAAA,CAAUH,GACtBA,EAAKC,GAAAA,CAAgBd,GACrB,MAAMiB,EAAQC,GAAAA,CAAWL,GACzB,OACC,uBAAKM,MAAO,CAAEC,QAAS,MAAOC,SAAU,WACtCN,EAAM,gBAAC,EAAAO,SAAD,KACN,wBAAMC,UAAU,SAAhB,sBACA,4BAAQ,IAAIR,EAAIS,QAAS,MACzB,4BAAQ,SAAQP,EAAMO,QAAS,QACnB,KACb,gBAAC,IAAD,CACC3B,KAAM,CAAC,CACN4B,EAAGxB,EACHyB,EAAG1B,EACH2B,KAAMzB,EACN0B,KAAM,MACNC,OAAQ,CACPC,MAAO,UACPC,QAAS,GACTC,KAAM,CACLF,MAAO,gBACPG,MAAO,QAIVC,OAAQ,CACPC,gBAAgB,EAChBC,aAAa,GAEdC,OAAQ,CACPC,aAAc,kBACdC,cAAe,kBACfC,MAAO,CACN9B,MAAO,cACP+B,YAAY,GAEbC,MAAO,CACNhC,MAAO,yBACP+B,YAAY,GAEbE,UAAU,EACVC,OAAQ,CACPC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,KAGLC,kBAAkB,EAClB9B,MAAO,CACNc,MAAO,OACPiB,OAAQ,YAWd7D,EAAc8D,UAAY,CACzBzD,kBAAmB0D,IAAAA,OACnBtD,KAAMsD,IAAAA,OAAAA,YAGP/D,EAAcgE,aAAe,CAC5B3D,kBAAmB,MAMpB,mCC9FA,IAAI4D,EAAiB,EAAQ,OAG7BC,EAAOC,QAAUF,yBClBjB,IAAIG,EAAO,EAAQ,OAuBnBF,EAAOC,QALP,SAAwB/B,GACtB,OAAa,IAANA,GAAa,EAAMA,IAAMgC,0BCclC,IAAIjD,EAAQ,EAAQ,MAGpB+C,EAAOC,QAAUhD,wBCpCjB,IAAIkD,EAAQ,EAAQ,MAEhBJ,EAAiB,EAAQ,OAiE7BC,EAAOC,QA5BP,SAAeG,EAAGC,EAAKC,GACrB,OAAIH,EAAMC,IAAMD,EAAME,IAAQF,EAAMG,GAC3BC,IAILH,EAAIC,EACCA,EAGLD,EAAIE,EACCA,EAIG,IAARD,GAAeN,EAAeK,GACzBC,EAGC,IAAND,GAAaL,EAAeO,GACvBA,EAIFF","sources":["components/profile-page/progress.js","../node_modules/@stdlib/math/base/assert/is-negative-zero/lib/index.js","../node_modules/@stdlib/math/base/assert/is-negative-zero/lib/main.js","../node_modules/@stdlib/math/base/special/clamp/lib/index.js","../node_modules/@stdlib/math/base/special/clamp/lib/main.js"],"sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Plotly from 'react-plotly.js';\nimport clamp from '@stdlib/math/base/special/clamp';\nimport isArray from '@stdlib/assert/is-array';\nimport iterMean from '@stdlib/stats/iter/mean';\nimport iterStdev from '@stdlib/stats/iter/stdev';\nimport array2iterator from '@stdlib/array/to-iterator';\nimport formatTime from 'utils/format_time.js';\n\n\n// MAIN //\n\nclass ProgressStats extends Component {\n\trender() {\n\t\tif ( !this.props.selectedNamespace ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst lessons = this.props.selectedNamespace.lessons;\n\t\tif ( !isArray( lessons ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst data = this.props.user.lessonData;\n\t\tlet values = [];\n\t\tconst names = [];\n\t\tconst texts = [];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst lesson = lessons[ i ];\n\t\t\tif ( data[ lesson._id ] ) {\n\t\t\t\tvalues.push( clamp( data[ lesson._id ].progress * 100, 0, 100 ) );\n\t\t\t\tnames.push( lesson.title );\n\t\t\t\ttexts.push( `Time spent: ${formatTime( data[ lesson._id ].spentTime )}` );\n\t\t\t}\n\t\t}\n\t\tlet it = array2iterator( values );\n\t\tconst avg = iterMean( it );\n\t\tit = array2iterator( values );\n\t\tconst stdev = iterStdev( it );\n\t\treturn (\n\t\t\t<div style={{ padding: '5px', overflow: 'hidden' }}>\n\t\t\t\t{avg ? <Fragment>\n\t\t\t\t\t<span className=\"title\">Average progress: </span>\n\t\t\t\t\t<span>{` ${ avg.toFixed( 3 ) }`}</span>\n\t\t\t\t\t<span>{` (SD: ${stdev.toFixed( 3 )})`}</span>\n\t\t\t\t</Fragment>: null}\n\t\t\t\t<Plotly\n\t\t\t\t\tdata={[{\n\t\t\t\t\t\tx: names,\n\t\t\t\t\t\ty: values,\n\t\t\t\t\t\ttext: texts,\n\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\tmarker: {\n\t\t\t\t\t\t\tcolor: '#0069d9',\n\t\t\t\t\t\t\topacity: 0.6,\n\t\t\t\t\t\t\tline: {\n\t\t\t\t\t\t\t\tcolor: 'rgb(8,48,107)',\n\t\t\t\t\t\t\t\twidth: 1.5\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]}\n\t\t\t\t\tconfig={{\n\t\t\t\t\t\tdisplayModeBar: false,\n\t\t\t\t\t\tdisplaylogo: false\n\t\t\t\t\t}}\n\t\t\t\t\tlayout={{\n\t\t\t\t\t\tplot_bgcolor: 'rgba(0,0,0,0.0)',\n\t\t\t\t\t\tpaper_bgcolor: 'rgba(0,0,0,0.0)',\n\t\t\t\t\t\txaxis: {\n\t\t\t\t\t\t\ttitle: 'Lesson Name',\n\t\t\t\t\t\t\tfixedrange: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyaxis: {\n\t\t\t\t\t\t\ttitle: 'Completed (in percent)',\n\t\t\t\t\t\t\tfixedrange: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tautosize: true,\n\t\t\t\t\t\tmargin: {\n\t\t\t\t\t\t\tl: 50,\n\t\t\t\t\t\t\tr: 50,\n\t\t\t\t\t\t\tb: 50,\n\t\t\t\t\t\t\tt: 50\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tuseResizeHandler={true}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '17vw'\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nProgressStats.propTypes = {\n\tselectedNamespace: PropTypes.object,\n\tuser: PropTypes.object.isRequired\n};\n\nProgressStats.defaultProps = {\n\tselectedNamespace: null\n};\n\n\n// EXPORTS //\n\nexport default ProgressStats;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Test if a double-precision floating-point numeric value is negative zero.\n*\n* @module @stdlib/math/base/assert/is-negative-zero\n*\n* @example\n* var isNegativeZero = require( '@stdlib/math/base/assert/is-negative-zero' );\n*\n* var bool = isNegativeZero( -0.0 );\n* // returns true\n*\n* bool = isNegativeZero( 0.0 );\n* // returns false\n*/\n// MODULES //\n\nvar isNegativeZero = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = isNegativeZero;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar NINF = require('@stdlib/constants/float64/ninf'); // MAIN //\n\n/**\n* Tests if a double-precision floating-point numeric value is negative zero.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is negative zero\n*\n* @example\n* var bool = isNegativeZero( -0.0 );\n* // returns true\n*\n* @example\n* var bool = isNegativeZero( 0.0 );\n* // returns false\n*/\n\n\nfunction isNegativeZero(x) {\n  return x === 0.0 && 1.0 / x === NINF;\n} // EXPORTS //\n\n\nmodule.exports = isNegativeZero;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Restrict a double-precision floating-point number to a specified range.\n*\n* @module @stdlib/math/base/special/clamp\n*\n* @example\n* var clamp = require( '@stdlib/math/base/special/clamp' );\n*\n* var v = clamp( 3.14, 0.0, 5.0 );\n* // returns 3.14\n*\n* v = clamp( -3.14, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 10.0, 0.0, 5.0 );\n* // returns 5.0\n*\n* v = clamp( -0.0, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 0.0, -0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( NaN, 0.0, 5.0 );\n* // returns NaN\n*\n* v = clamp( 0.0, NaN, 5.0 );\n* // returns NaN\n*\n* v = clamp( 3.14, 0.0, NaN );\n* // returns NaN\n*/\n// MODULES //\n\nvar clamp = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = clamp;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isnan = require('./../../../../base/assert/is-nan');\n\nvar isNegativeZero = require('./../../../../base/assert/is-negative-zero'); // MAIN //\n\n/**\n* Restricts a double-precision floating-point number to a specified range.\n*\n* @param {number} v - input value\n* @param {number} min - minimum value\n* @param {number} max - maximum value\n* @returns {number} value restricted to a specified range\n*\n* @example\n* var v = clamp( 3.14, 0.0, 5.0 );\n* // returns 3.14\n*\n* v = clamp( -3.14, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 10.0, 0.0, 5.0 );\n* // returns 5.0\n*\n* v = clamp( -0.0, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 0.0, -0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( NaN, 0.0, 5.0 );\n* // returns NaN\n*\n* v = clamp( 0.0, NaN, 5.0 );\n* // returns NaN\n*\n* v = clamp( 3.14, 0.0, NaN );\n* // returns NaN\n*/\n\n\nfunction clamp(v, min, max) {\n  if (isnan(v) || isnan(min) || isnan(max)) {\n    return NaN;\n  } // Simple cases...\n\n\n  if (v < min) {\n    return min;\n  }\n\n  if (v > max) {\n    return max;\n  } // Special cases for handling +-0.0...\n\n\n  if (min === 0.0 && isNegativeZero(v)) {\n    return min; // +-0.0\n  }\n\n  if (v === 0.0 && isNegativeZero(max)) {\n    return max; // -0.0\n  } // Case: min <= v <= max\n\n\n  return v;\n} // EXPORTS //\n\n\nmodule.exports = clamp;"],"names":["ProgressStats","Component","render","this","props","selectedNamespace","lessons","isArray","data","user","lessonData","values","names","texts","i","length","lesson","_id","push","clamp","progress","title","formatTime","spentTime","it","array2iterator","avg","iterMean","stdev","iterStdev","style","padding","overflow","Fragment","className","toFixed","x","y","text","type","marker","color","opacity","line","width","config","displayModeBar","displaylogo","layout","plot_bgcolor","paper_bgcolor","xaxis","fixedrange","yaxis","autosize","margin","l","r","b","t","useResizeHandler","height","propTypes","PropTypes","defaultProps","isNegativeZero","module","exports","NINF","isnan","v","min","max","NaN"],"sourceRoot":""}