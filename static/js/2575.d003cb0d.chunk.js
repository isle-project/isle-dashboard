/*! For license information please see 2575.d003cb0d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2575],{42575:function(e,t,a){a.r(t);var n=a(87757),l=a.n(n),r=a(15861),o=a(15671),c=a(43144),s=a(97326),i=a(60136),u=a(29388),d=a(4942),m=a(41488),p=a(25472),f=a(75314),h=a(70048),k=a(66734),E=a(47701),Z=a(7131),b=a.n(Z),v=a(42263),w=a(63834),g=function(e){(0,i.Z)(a,e);var t=(0,u.Z)(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,d.Z)((0,s.Z)(n),"handleBackupCreation",(function(){n.props.createBackup()})),(0,d.Z)((0,s.Z)(n),"askToDeleteSelectedBackupFactory",(function(e){return function(){n.setState({showDeleteModal:!n.state.showDeleteModal,selectedBackup:e})}})),(0,d.Z)((0,s.Z)(n),"deleteSelectedBackup",(function(){n.setState({showDeleteModal:!1},(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.deleteBackup(n.state.selectedBackup._id);case 2:case"end":return e.stop()}}),e)}))))})),(0,d.Z)((0,s.Z)(n),"toggleDeleteModal",(function(){n.setState({showDeleteModal:!n.state.showDeleteModal})})),n.state={selectedBackup:null,showDeleteModal:!1},n}return(0,c.Z)(a,[{key:"componentDidMount",value:function(){this.props.getBackups()}},{key:"renderBackupList",value:function(){var e=this;if(!this.props.admin.backups)return null;var t=this.props.t;return m.createElement(f.Z,{striped:!0,bordered:!0,hover:!0},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",null,t("common:filename")),m.createElement("th",null,t("common:size")),m.createElement("th",null,t("common:date")),m.createElement("th",null,t("common:actions")))),m.createElement("tbody",null,this.props.admin.backups.map((function(a,n){if(!a)return null;var l=b()(a.size/1048576);return m.createElement("tr",{key:n},m.createElement("td",null,a.filename),m.createElement("td",null,"".concat(l," MB")),m.createElement("td",null,a.createdAt),m.createElement("td",null,m.createElement("a",{"aria-label":t("download-backup"),href:"".concat(w.ZP,"/").concat(a.filename),target:"_blank",rel:"noopener noreferrer"},m.createElement(k.Z,{placement:"bottom",overlay:m.createElement(E.Z,{id:"download-backup-tooltip"},t("download-backup"))},m.createElement(h.Z,{"aria-label":t("download-backup"),size:"sm",variant:"secondary",style:{marginRight:8}},m.createElement("i",{className:"fas fa-cloud-download-alt"})))),m.createElement(k.Z,{placement:"bottom",overlay:m.createElement(E.Z,{id:"delete-backup-tooltip"},t("delete-backup"))},m.createElement(h.Z,{"aria-label":t("delete-backup"),size:"sm",variant:"danger",onClick:e.askToDeleteSelectedBackupFactory(a)},m.createElement("i",{className:"fas fa-trash-alt"})))))}))))}},{key:"render",value:function(){var e=this.props.t;return m.createElement(m.Fragment,null,m.createElement("div",{className:"admin-settings-outer-container"},m.createElement("h1",null,e("created-backups")),this.renderBackupList(),m.createElement(h.Z,{size:"lg",onClick:this.handleBackupCreation},m.createElement("i",{className:"fas fa-cloud-upload-alt",style:{marginRight:12}}),e("create-backup"))),this.state.showDeleteModal?m.createElement(v.Z,{title:e("delete-backup"),message:m.createElement("div",null,m.createElement("p",null,e("delete-backup-confirm")),m.createElement("span",{style:{color:"red"}},this.state.selectedBackup.filename)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedBackup}):null)}}]),a}(m.Component);t.default=(0,p.Z)(["admin_settings","common"])(g)},42263:function(e,t,a){var n=a(41488),l=a(25472),r=a(70048),o=a(85840),c=function(e){return n.createElement(o.Z,{show:e.show,onHide:e.close},n.createElement(o.Z.Header,null,n.createElement(o.Z.Title,{as:"h3"},e.title)),n.createElement(o.Z.Body,null,e.message),n.createElement(o.Z.Footer,null,n.createElement(r.Z,{onClick:e.close},e.t("cancel")),n.createElement(r.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};c.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,l.Z)(["common"])(c)},7131:function(e,t,a){var n=a(28974);e.exports=n},28974:function(e){var t=Math.round;e.exports=t},75314:function(e,t,a){var n=a(87462),l=a(63366),r=a(78265),o=a.n(r),c=a(41488),s=a(38674),i=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=c.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,u=e.striped,d=e.bordered,m=e.borderless,p=e.hover,f=e.size,h=e.variant,k=e.responsive,E=(0,l.Z)(e,i),Z=(0,s.vE)(a,"table"),b=o()(r,Z,h&&Z+"-"+h,f&&Z+"-"+f,u&&Z+"-striped",d&&Z+"-bordered",m&&Z+"-borderless",p&&Z+"-hover"),v=c.createElement("table",(0,n.Z)({},E,{className:b,ref:t}));if(k){var w=Z+"-responsive";return"string"===typeof k&&(w=w+"-"+k),c.createElement("div",{className:w},v)}return v}));t.Z=u}}]);
//# sourceMappingURL=2575.d003cb0d.chunk.js.map