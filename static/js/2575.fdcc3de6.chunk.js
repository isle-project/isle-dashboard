/*! For license information please see 2575.fdcc3de6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2575],{42575:function(e,t,n){n.r(t);var a=n(87757),r=n.n(a),o=n(15861),l=n(15671),c=n(43144),s=n(97326),i=n(60136),u=n(29388),d=n(4942),m=n(41488),f=n(25472),p=n(75314),Z=n(70048),h=n(93391),v=n(47701),E=n(7131),b=n.n(E),g=n(42263),k=n(63834),y=function(e){(0,i.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;return(0,l.Z)(this,n),a=t.call(this,e),(0,d.Z)((0,s.Z)(a),"handleBackupCreation",(function(){a.props.createBackup()})),(0,d.Z)((0,s.Z)(a),"askToDeleteSelectedBackupFactory",(function(e){return function(){a.setState({showDeleteModal:!a.state.showDeleteModal,selectedBackup:e})}})),(0,d.Z)((0,s.Z)(a),"deleteSelectedBackup",(function(){a.setState({showDeleteModal:!1},(0,o.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.deleteBackup(a.state.selectedBackup._id);case 2:case"end":return e.stop()}}),e)}))))})),(0,d.Z)((0,s.Z)(a),"toggleDeleteModal",(function(){a.setState({showDeleteModal:!a.state.showDeleteModal})})),a.state={selectedBackup:null,showDeleteModal:!1},a}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){this.props.getBackups()}},{key:"renderBackupList",value:function(){var e=this;if(!this.props.admin.backups)return null;var t=this.props.t;return m.createElement(p.Z,{striped:!0,bordered:!0,hover:!0},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",null,t("common:filename")),m.createElement("th",null,t("common:size")),m.createElement("th",null,t("common:date")),m.createElement("th",null,t("common:actions")))),m.createElement("tbody",null,this.props.admin.backups.map((function(n,a){if(!n)return null;var r=b()(n.size/1048576);return m.createElement("tr",{key:a},m.createElement("td",null,n.filename),m.createElement("td",null,"".concat(r," MB")),m.createElement("td",null,n.createdAt),m.createElement("td",null,m.createElement("a",{"aria-label":t("download-backup"),href:"".concat(k.ZP,"/").concat(n.filename),target:"_blank",rel:"noopener noreferrer"},m.createElement(h.Z,{placement:"bottom",overlay:m.createElement(v.Z,{id:"download-backup-tooltip"},t("download-backup"))},m.createElement(Z.Z,{"aria-label":t("download-backup"),size:"sm",variant:"secondary",style:{marginRight:8}},m.createElement("i",{className:"fas fa-cloud-download-alt"})))),m.createElement(h.Z,{placement:"bottom",overlay:m.createElement(v.Z,{id:"delete-backup-tooltip"},t("delete-backup"))},m.createElement(Z.Z,{"aria-label":t("delete-backup"),size:"sm",variant:"danger",onClick:e.askToDeleteSelectedBackupFactory(n)},m.createElement("i",{className:"fas fa-trash-alt"})))))}))))}},{key:"render",value:function(){var e=this.props.t;return m.createElement(m.Fragment,null,m.createElement("div",{className:"admin-settings-outer-container"},m.createElement("h1",null,e("created-backups")),this.renderBackupList(),m.createElement(Z.Z,{size:"lg",onClick:this.handleBackupCreation},m.createElement("i",{className:"fas fa-cloud-upload-alt",style:{marginRight:12}}),e("create-backup"))),this.state.showDeleteModal?m.createElement(g.Z,{title:e("delete-backup"),message:m.createElement("div",null,m.createElement("p",null,e("delete-backup-confirm")),m.createElement("span",{style:{color:"red"}},this.state.selectedBackup.filename)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedBackup}):null)}}]),n}(m.Component);t.default=(0,f.Z)(["admin_settings","common"])(y)},42263:function(e,t,n){var a=n(41488),r=n(25472),o=n(70048),l=n(3252),c=function(e){return a.createElement(l.Z,{show:e.show,onHide:e.close},a.createElement(l.Z.Header,null,a.createElement(l.Z.Title,{as:"h3"},e.title)),a.createElement(l.Z.Body,null,e.message),a.createElement(l.Z.Footer,null,a.createElement(o.Z,{onClick:e.close},e.t("cancel")),a.createElement(o.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};c.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,r.Z)(["common"])(c)},7131:function(e,t,n){var a=n(28974);e.exports=a},28974:function(e){var t=Math.round;e.exports=t},77096:function(e,t,n){var a=n(87462),r=n(63366),o=n(83603),l=n.n(o),c=n(41488),s=n(78265),i=n.n(s),u=["label","onClick","className"],d={label:l().string.isRequired,onClick:l().func},m=c.forwardRef((function(e,t){var n=e.label,o=e.onClick,l=e.className,s=(0,r.Z)(e,u);return c.createElement("button",(0,a.Z)({ref:t,type:"button",className:i()("close",l),onClick:o},s),c.createElement("span",{"aria-hidden":"true"},"\xd7"),c.createElement("span",{className:"sr-only"},n))}));m.displayName="CloseButton",m.propTypes=d,m.defaultProps={label:"Close"},t.Z=m},3252:function(e,t,n){n.d(t,{Z:function(){return J}});var a=n(63366),r=n(87462),o=n(78265),l=n.n(o),c=n(35291),s=n(60580),i=n(28340),u=n(80084),d=n(88703),m=n(28973),f=n(71605),p=n(35264),Z=n(15223),h=n(41488),v=n(37636),E=(n(47815),n(94578)),b=n(76943),g=n(44503),k=n(82853),y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",N=".sticky-top",w=".navbar-toggler",C=function(e){function t(){return e.apply(this,arguments)||this}(0,E.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var a,r=t.style[e];t.dataset[e]=r,(0,b.Z)(t,((a={})[e]=parseFloat((0,b.Z)(t,e))+n+"px",a))},n.restore=function(e,t){var n,a=t.dataset[e];void 0!==a&&(delete t.dataset[e],(0,b.Z)(t,((n={})[e]=a,n)))},n.setContainerStyle=function(t,n){var a=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var r=(0,d.Z)();(0,g.Z)(n,y).forEach((function(e){return a.adjustAndStore("paddingRight",e,r)})),(0,g.Z)(n,N).forEach((function(e){return a.adjustAndStore("marginRight",e,-r)})),(0,g.Z)(n,w).forEach((function(e){return a.adjustAndStore("marginRight",e,r)}))}},n.removeContainerStyle=function(t,n){var a=this;e.prototype.removeContainerStyle.call(this,t,n),(0,g.Z)(n,y).forEach((function(e){return a.restore("paddingRight",e)})),(0,g.Z)(n,N).forEach((function(e){return a.restore("marginRight",e)})),(0,g.Z)(n,w).forEach((function(e){return a.restore("marginRight",e)}))},t}(k.Z),x=n(54087),R=n(25237),B=(0,R.Z)("modal-body"),D=h.createContext({onHide:function(){}}),S=n(38674),F=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],P=h.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.contentClassName,s=e.centered,i=e.size,u=e.children,d=e.scrollable,m=(0,a.Z)(e,F),f=(n=(0,S.vE)(n,"modal"))+"-dialog";return h.createElement("div",(0,r.Z)({},m,{ref:t,className:l()(f,o,i&&n+"-"+i,s&&f+"-centered",d&&f+"-scrollable")}),h.createElement("div",{className:l()(n+"-content",c)},u))}));P.displayName="ModalDialog";var M=P,H=(0,R.Z)("modal-footer"),T=n(77096),A=["bsPrefix","closeLabel","closeButton","onHide","className","children"],z=h.forwardRef((function(e,t){var n=e.bsPrefix,o=e.closeLabel,c=e.closeButton,s=e.onHide,i=e.className,u=e.children,d=(0,a.Z)(e,A);n=(0,S.vE)(n,"modal-header");var m=(0,h.useContext)(D),p=(0,f.Z)((function(){m&&m.onHide(),s&&s()}));return h.createElement("div",(0,r.Z)({ref:t},d,{className:l()(i,n)}),u,c&&h.createElement(T.Z,{label:o,onClick:p}))}));z.displayName="ModalHeader",z.defaultProps={closeLabel:"Close",closeButton:!1};var O,_=z,I=(0,n(90855).Z)("h4"),L=(0,R.Z)("modal-title",{Component:I}),j=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],K={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:M};function U(e){return h.createElement(x.Z,(0,r.Z)({},e,{timeout:null}))}function q(e){return h.createElement(x.Z,(0,r.Z)({},e,{timeout:null}))}var G=h.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,E=e.style,b=e.dialogClassName,g=e.contentClassName,k=e.children,y=e.dialogAs,N=e["aria-labelledby"],w=e.show,x=e.animation,R=e.backdrop,B=e.keyboard,F=e.onEscapeKeyDown,P=e.onShow,M=e.onHide,H=e.container,T=e.autoFocus,A=e.enforceFocus,z=e.restoreFocus,_=e.restoreFocusOptions,I=e.onEntered,L=e.onExit,K=e.onExiting,G=e.onEnter,J=e.onEntering,Q=e.onExited,V=e.backdropClassName,W=e.manager,X=(0,a.Z)(e,j),Y=(0,h.useState)({}),$=Y[0],ee=Y[1],te=(0,h.useState)(!1),ne=te[0],ae=te[1],re=(0,h.useRef)(!1),oe=(0,h.useRef)(!1),le=(0,h.useRef)(null),ce=(0,m.Z)(),se=ce[0],ie=ce[1],ue=(0,f.Z)(M);n=(0,S.vE)(n,"modal"),(0,h.useImperativeHandle)(t,(function(){return{get _modal(){return se}}}),[se]);var de=(0,h.useMemo)((function(){return{onHide:ue}}),[ue]);function me(){return W||(O||(O=new C),O)}function fe(e){if(s.Z){var t=me().isContainerOverflowing(se),n=e.scrollHeight>(0,i.Z)(e).documentElement.clientHeight;ee({paddingRight:t&&!n?(0,d.Z)():void 0,paddingLeft:!t&&n?(0,d.Z)():void 0})}}var pe=(0,f.Z)((function(){se&&fe(se.dialog)}));(0,p.Z)((function(){(0,u.Z)(window,"resize",pe),le.current&&le.current()}));var Ze=function(){re.current=!0},he=function(e){re.current&&se&&e.target===se.dialog&&(oe.current=!0),re.current=!1},ve=function(){ae(!0),le.current=(0,Z.Z)(se.dialog,(function(){ae(!1)}))},Ee=function(e){"static"!==R?oe.current||e.target!==e.currentTarget?oe.current=!1:null==M||M():function(e){e.target===e.currentTarget&&ve()}(e)},be=(0,h.useCallback)((function(e){return h.createElement("div",(0,r.Z)({},e,{className:l()(n+"-backdrop",V,!x&&"show")}))}),[x,V,n]),ge=(0,r.Z)({},E,$);x||(ge.display="block");return h.createElement(D.Provider,{value:de},h.createElement(v.Z,{show:w,ref:ie,backdrop:R,container:H,keyboard:!0,autoFocus:T,enforceFocus:A,restoreFocus:z,restoreFocusOptions:_,onEscapeKeyDown:function(e){B||"static"!==R?B&&F&&F(e):(e.preventDefault(),ve())},onShow:P,onHide:M,onEnter:function(e,t){e&&(e.style.display="block",fe(e)),null==G||G(e,t)},onEntering:function(e,t){null==J||J(e,t),(0,c.ZP)(window,"resize",pe)},onEntered:I,onExit:function(e){null==le.current||le.current(),null==L||L(e)},onExiting:K,onExited:function(e){e&&(e.style.display=""),null==Q||Q(e),(0,u.Z)(window,"resize",pe)},manager:me(),containerClassName:n+"-open",transition:x?U:void 0,backdropTransition:x?q:void 0,renderBackdrop:be,renderDialog:function(e){return h.createElement("div",(0,r.Z)({role:"dialog"},e,{style:ge,className:l()(o,n,ne&&n+"-static"),onClick:R?Ee:void 0,onMouseUp:he,"aria-labelledby":N}),h.createElement(y,(0,r.Z)({},X,{onMouseDown:Ze,className:b,contentClassName:g}),k))}}))}));G.displayName="Modal",G.defaultProps=K,G.Body=B,G.Header=_,G.Title=L,G.Footer=H,G.Dialog=M,G.TRANSITION_DURATION=300,G.BACKDROP_TRANSITION_DURATION=150;var J=G},75314:function(e,t,n){var a=n(87462),r=n(63366),o=n(78265),l=n.n(o),c=n(41488),s=n(38674),i=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=c.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,u=e.striped,d=e.bordered,m=e.borderless,f=e.hover,p=e.size,Z=e.variant,h=e.responsive,v=(0,r.Z)(e,i),E=(0,s.vE)(n,"table"),b=l()(o,E,Z&&E+"-"+Z,p&&E+"-"+p,u&&E+"-striped",d&&E+"-bordered",m&&E+"-borderless",f&&E+"-hover"),g=c.createElement("table",(0,a.Z)({},v,{className:b,ref:t}));if(h){var k=E+"-responsive";return"string"===typeof h&&(k=k+"-"+h),c.createElement("div",{className:k},g)}return g}));t.Z=u},25237:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(87462),r=n(63366),o=n(78265),l=n.n(o),c=n(96358),s=n(41488),i=n(38674),u=["className","bsPrefix","as"];function d(e,t){var n,o=void 0===t?{}:t,d=o.displayName,m=void 0===d?(n=e)[0].toUpperCase()+(0,c.Z)(n).slice(1):d,f=o.Component,p=o.defaultProps,Z=s.forwardRef((function(t,n){var o=t.className,c=t.bsPrefix,d=t.as,m=void 0===d?f||"div":d,p=(0,r.Z)(t,u),Z=(0,i.vE)(c,e);return s.createElement(m,(0,a.Z)({ref:n,className:l()(o,Z)},p))}));return Z.defaultProps=p,Z.displayName=m,Z}},90855:function(e,t,n){var a=n(87462),r=n(41488),o=n(78265),l=n.n(o);t.Z=function(e){return r.forwardRef((function(t,n){return r.createElement("div",(0,a.Z)({},t,{ref:n,className:l()(t.className,e)}))}))}}}]);
//# sourceMappingURL=2575.fdcc3de6.chunk.js.map