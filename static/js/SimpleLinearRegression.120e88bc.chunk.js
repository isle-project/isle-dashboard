/*! For license information please see SimpleLinearRegression.120e88bc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[4651],{56390:function(e,t,l){l.r(t);var n=l(38603),r=l(91532),i=l.n(r),a=l(58651),s=l(79174),o=l(93918),c=l(5883),u=l(94123),d=l(42415),m=l(80386),p=l.n(m),g=l(34064),h=l.n(g),y=l(54167),E=l.n(y),f=l(76912),x=l.n(f),v=l(51086),b=l.n(v),F=l(45674),Z=l.n(F),w=l(48207),k=l.n(w),P=l(83276),q=l.n(P),C=l(84111),M=l(18237),A=l(58184),D=l(50806),z=l(34041),O=l(76798),_=l(32921);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},j.apply(this,arguments)}let R=0;function L(e,t){const l=(0,C.Z)(e),n=(0,C.Z)(t);let r=0,i=0;const a=e.length;for(let o=0;o<a;o++){let a=e[o]-l;r+=a*a,i+=a*(t[o]-n)}const s=i/r;return{yint:n-s*l,slope:s,xg:e,yg:t}}function T(e){return h()(e)||p()(e)}function X(e){return(0,d.isPrimitive)(e)&&!h()(e)}function S({x:e,y:t,data:l,group:n,omitMissing:r}){const i=l[e],a=l[t],s=l[n];if(r){const e=[],t=[],l=[];if(s)for(let n=0;n<i.length;n++)!T(s[n])&&X(i[n])&&X(a[n])&&(e.push(i[n]),t.push(a[n]),l.push(s[n]));else for(let n=0;n<i.length;n++)X(i[n])&&X(a[n])&&(e.push(i[n]),t.push(a[n]));return{xd:e,yd:t,groups:l}}return{xd:i,yd:a,groups:s}}class W extends n.Component{constructor(e){super(e),R+=1;const{x:t,y:l,data:n,group:r,omitMissing:i}=e;this.state=S({x:t,y:l,data:n,group:r,omitMissing:i})}static getDerivedStateFromProps(e,t){if(e.data!==t.data||e.x!==t.x||e.y!==t.y||e.group!==t.group||e.omitMissing!==t.omitMissing){const{x:t,y:l,intercept:n,omitMissing:r,data:i,group:a}=e;return S({x:t,y:l,intercept:n,omitMissing:r,data:i,group:a})}return null}render(){const{xd:e,yd:t,groups:l}=this.state,{x:r,y:i,group:a,data:d,t:m}=this.props;let p;try{if(a){const s=(0,z.Z)(e,l,C.Z),g=(0,D.Z)(e,t,l,L);p=n.createElement("div",{style:{overflowX:"auto",width:"100%"}},n.createElement("label",null,m("regression-y-on-x",{x:r,y:i})),n.createElement("p",null,n.createElement("i",null,m("grouped-by")," ",a,":")),E()(x()(g,((e,t)=>{const{yint:l,slope:i,xg:a,yg:o}=e,u=b()(),d=b()(),p=b()(),g=Z().factory(o.length-2);for(let n=0;n<o.length;n++){u(l+i*a[n]-o[n]),d(a[n]),p(a[n]-s[t])}const h=u()/(o.length-2),y=h/p(),E=q()(y),f=1/o.length*h*d()/p(),x=q()(f),v=i/E,F=l/x;return n.createElement("div",{key:`group-${t}`},n.createElement("label",null,t,":"),n.createElement(c.Z,{bordered:!0,size:"sm"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,m("variable")),n.createElement("th",null,m("coefficient")),n.createElement("th",null,m("std-error")),n.createElement("th",null,"t"),n.createElement("th",null,m("p-value")))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,m("intercept")),n.createElement("td",null,l.toFixed(4)),n.createElement("td",null,x.toFixed(4)),n.createElement("td",null,F.toFixed(4)),n.createElement("td",null,2*(1-g(k()(F))).toFixed(4))),n.createElement("tr",null,n.createElement("td",null,r),n.createElement("td",null,i.toFixed(4)),n.createElement("td",null,E.toFixed(4)),n.createElement("td",null,v.toFixed(4)),n.createElement("td",null,2*(1-g(k()(v))).toFixed(4))))))}))),this.props.onPredict?n.createElement(u.Z,{tooltip:m("use-model-to-predict-tooltip")},n.createElement(o.Z,{variant:"secondary",size:"sm",onClick:()=>{const e=d[r],t=d[i],l=new Float64Array(t.length),n=new Float64Array(t.length),s=d[a];for(let r=0;r<l.length;r++){const[i,a]=g[s[r]];l[r]=i+a*e[r],n[r]=t[r]-l[r]}this.props.onPredict(l,n,R)}},this.props.t("use-model-to-predict"))):null,this.props.onDiagnostics?n.createElement(o.Z,{variant:"secondary",size:"sm",style:{marginLeft:6},onClick:()=>{const e=d[r],t=d[i],l=new Float64Array(t.length),s=new Float64Array(t.length),o=d[a];for(let n=0;n<l.length;n++){const[r,i]=g[o[n]];l[n]=r+i*e[n],s[n]=t[n]-l[n]}const c={variable:m("qq-plot-of-residuals"),type:"Chart",value:n.createElement(M.Z,j({draggable:!0,editable:!0,fit:!0},(0,A._)(s,"residuals"),{meta:{type:"qqplot of regression residuals",x:e,y:t}}))},u={variable:m("residuals-vs-fitted"),type:"Chart",value:n.createElement(M.Z,{draggable:!0,editable:!0,fit:!0,data:[{x:l,y:s,mode:"markers"}],layout:{xaxis:{title:m("fitted-values")},yaxis:{title:m("residuals")},title:m("residuals-vs-fitted")},meta:{type:"regression residuals vs. fitted",x:e,y:t}})};this.props.onDiagnostics([c,u])}},m("model-diagnostics")):null)}else{const{yint:l,slope:a}=L(e,t),s=b()(),g=b()(),h=b()(),y=(0,C.Z)(e),E=Z().factory(t.length-2);for(let n=0;n<t.length;n++){s(l+a*e[n]-t[n]),g(e[n]),h(e[n]-y)}const f=s()/(t.length-2),x=f/h(),v=q()(x),F=1/t.length*f*g()/h(),w=q()(F),P=a/v,D=l/w;p=n.createElement("div",{style:{overflowX:"auto",width:"100%"}},n.createElement("label",null,m("simple-regression-title",{x:r,y:i,counter:R})),n.createElement(c.Z,{bordered:!0,size:"sm"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,m("variable")),n.createElement("th",null,m("coefficient")),n.createElement("th",null,m("std-error")),n.createElement("th",null,"t"),n.createElement("th",null,m("p-value")))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,m("intercept")),n.createElement("td",null,l.toFixed(4)),n.createElement("td",null,w.toFixed(4)),n.createElement("td",null,D.toFixed(4)),n.createElement("td",null,2*(1-E(k()(D))).toFixed(4))),n.createElement("tr",null,n.createElement("td",null,r),n.createElement("td",null,a.toFixed(4)),n.createElement("td",null,v.toFixed(4)),n.createElement("td",null,P.toFixed(4)),n.createElement("td",null,2*(1-E(k()(P))).toFixed(4))))),this.props.onPredict?n.createElement(u.Z,{tooltip:m("use-model-to-predict-tooltip")},n.createElement(o.Z,{variant:"secondary",size:"sm",onClick:()=>{const e=d[r],t=d[i],n=new Array(t.length),s=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=l+a*e[r],s[r]=t[r]-n[r];this.props.onPredict(n,s,R)}},this.props.t("use-model-to-predict"))):null,this.props.onDiagnostics?n.createElement(o.Z,{variant:"secondary",size:"sm",style:{marginLeft:6},onClick:()=>{const e=d[r],t=d[i],s=new Array(t.length),o=new Array(t.length);for(let n=0;n<s.length;n++)s[n]=l+a*e[n],o[n]=t[n]-s[n];const c=n.createElement(M.Z,j({draggable:!0,editable:!0,fit:!0},(0,A._)(o,"residuals"),{meta:{type:"qqplot of regression residuals",x:e,y:t}})),u=n.createElement(M.Z,{draggable:!0,editable:!0,fit:!0,data:[{x:s,y:o,mode:"markers",type:s.length>2e3?"scattergl":"scatter"}],layout:{xaxis:{title:m("fitted-values")},yaxis:{title:m("residuals")},title:m("residuals-vs-fitted")},meta:{type:"regression residuals vs. fitted",x:e,y:t}});this.props.onDiagnostics([c,u])}},m("model-diagnostics")):null)}return p}catch(g){return n.createElement(s.Z,{variant:"danger"},m("missing-attributes"))}}}W.defaultProps={group:null,omitMissing:!1,onDiagnostics:null,onPredict:null},W.propTypes={data:i().object.isRequired,x:i().string.isRequired,y:i().string.isRequired,group:i().oneOfType([i().string,i().instanceOf(_.E)]),omitMissing:i().bool,onDiagnostics:i().func,onPredict:i().func},t.default=(0,a.Z)(["models","plotly"])((0,O.W)(W))},51086:function(e,t,l){var n=l(44969);e.exports=n},44969:function(e){e.exports=function(){var e,t=0;return function(l){if(0===arguments.length)return e?t:null;return e=!0,t+=l*l}}}}]);
//# sourceMappingURL=SimpleLinearRegression.120e88bc.chunk.js.map