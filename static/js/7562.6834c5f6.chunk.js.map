{"version":3,"sources":["constants/colors.js","components/gallery/import_modal.js","components/gallery/lesson.js","components/gallery/index.js","containers/visible-gallery/index.js","utils/sort_lessons.js"],"names":[],"mappings":"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","file":"static/js/7562.6834c5f6.chunk.js","sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MAIN //\n\nconst COLORS = [\n\t'#1f77b4',\n\t'#ff7f0e',\n\t'#2ca02c',\n\t'#d62728',\n\t'#9467bd',\n\t'#8c564b',\n\t'#c49c94',\n\t'#e377c2',\n\t'#17becf',\n\t'#aec7e8',\n\t'#ffbb78',\n\t'#ff9896',\n\t'#98df8a',\n\t'#7f7f7f',\n\t'#c5b0d5',\n\t'#f7b6d2',\n\t'#bcbd22',\n\t'#c7c7c7',\n\t'#dbdb8d',\n\t'#9edae5'\n];\n\n\n// EXPORTS //\n\nexport default COLORS;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Modal from 'react-bootstrap/Modal';\nimport SelectInput from 'react-select';\nimport isArray from '@stdlib/assert/is-array';\n\n\n// MAIN //\n\nclass ImportModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst ns = props.userNamespaces;\n\t\tlet selected;\n\t\tif ( props.openedNamespace.title ) {\n\t\t\tselected = props.openedNamespace.title;\n\t\t} else {\n\t\t\tselected = ( isArray( ns ) && ns.length > 0 ) ?\n\t\t\t\tns[ 0 ].title :\n\t\t\t\tnull;\n\t\t}\n\t\tif ( selected ) {\n\t\t\tselected = { label: selected, value: selected };\n\t\t}\n\t\tthis.state = {\n\t\t\tselected: selected,\n\t\t\ttargetName: props.title\n\t\t};\n\t}\n\n\thandleChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\t\tthis.setState({\n\t\t\t[ name ]: value\n\t\t});\n\t};\n\n\thandleImport = () => {\n\t\tthis.props.copyLesson({\n\t\t\tsourceName: this.props.title,\n\t\t\tsource: this.props.namespace,\n\t\t\ttarget: this.state.selected.value,\n\t\t\ttargetName: this.state.targetName\n\t\t});\n\t\tthis.props.close();\n\t};\n\n\thandleCourseChange = ( newValue ) => {\n\t\tthis.setState({\n\t\t\tselected: newValue\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Modal show={this.props.show} onHide={this.props.close}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t{t('import-lesson')}<span style={{ color: 'darkred' }}>{this.props.namespace}: {this.props.title}</span>\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body className=\"d-grid gap-2\">\n\t\t\t\t\t<p>{t('import-lesson-description')}</p>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormLabel>{t('select-course')}</FormLabel>\n\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\toptions={this.props.userNamespaces.map( ns => {\n\t\t\t\t\t\t\t\treturn { value: ns.title, label: ns.title };\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonChange={this.handleCourseChange}\n\t\t\t\t\t\t\tvalue={this.state.selected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormLabel>{t('lesson-name')}</FormLabel>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tname=\"targetName\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.targetName}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button onClick={this.props.close}>{t('common:cancel')}</Button>\n\t\t\t\t\t<Button variant=\"success\" onClick={this.handleImport} >{t('import')}</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nImportModal.propTypes = {\n\tclose: PropTypes.func.isRequired,\n\tcopyLesson: PropTypes.func.isRequired,\n\tnamespace: PropTypes.string.isRequired,\n\topenedNamespace: PropTypes.object.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tt: PropTypes.func.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tuserNamespaces: PropTypes.array.isRequired\n};\n\n\n// EXPORTS //\n\nexport default ImportModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport 'css/image.css';\nimport COLORS from 'constants/colors';\nimport copyToClipboard from 'clipboard-copy';\nimport background from './bubble.jpg';\nimport upload from './upload.svg';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:gallery:lesson' );\n\n\n// MAIN //\n\nclass Lesson extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tisleFile: null\n\t\t};\n\t}\n\n\tgetIsleFile = async () => {\n\t\tdebug( 'Request ISLE source code from server...' );\n\t\tif ( !this.state.isleFile ) {\n\t\t\tconst data = await this.props.getIsleFile({\n\t\t\t\tlessonName: this.props.title,\n\t\t\t\tnamespaceName: this.props.namespace\n\t\t\t});\n\t\t\tif ( data ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisleFile: data\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcopyIsleFileToClipboard = () => {\n\t\tif ( !this.state.isleFile ) {\n\t\t\treturn this.props.addNotification({\n\t\t\t\tmessage: this.props.t('source-file-error'),\n\t\t\t\tlevel: 'error'\n\t\t\t});\n\t\t}\n\t\tconst promise = copyToClipboard( this.state.isleFile );\n\t\tpromise.then( () => {\n\t\t\tthis.props.addNotification({\n\t\t\t\tmessage: this.props.t('source-file-copied'),\n\t\t\t\tlevel: 'success'\n\t\t\t});\n\t\t}).catch( err => {\n\t\t\tthis.props.addNotification({\n\t\t\t\tmessage: err.message,\n\t\t\t\tlevel: 'error'\n\t\t\t});\n\t\t});\n\t};\n\n\tcopyIncludeToClipboard = () => {\n\t\tconst promise = copyToClipboard( `<!-- #include \"${this.props.url}\" -->` );\n\t\tpromise.then( () => {\n\t\t\tthis.props.addNotification({\n\t\t\t\tmessage: this.props.t('include-copied'),\n\t\t\t\tlevel: 'success'\n\t\t\t});\n\t\t}).catch( err => {\n\t\t\tthis.props.addNotification({\n\t\t\t\tmessage: err.message,\n\t\t\t\tlevel: 'error'\n\t\t\t});\n\t\t});\n\t};\n\n\topenLesson = () => {\n\t\tconst win = window.open( this.props.url, '_blank' );\n\t\twin.focus();\n\t};\n\n\trenderButtonToolbarDate() {\n\t\tif ( !this.props.updatedAt ) {\n\t\t\treturn null;\n\t\t}\n\t\tlet date = null;\n\t\tlet updated = null;\n\t\tif ( this.props.updatedAt ) {\n\t\t\tupdated = new Date( this.props.updatedAt );\n\t\t\tupdated = updated.toLocaleDateString();\n\t\t\tif ( this.props.createdAt ) {\n\t\t\t\tdate = new Date( this.props.createdAt );\n\t\t\t\tdate = date.toLocaleDateString();\n\t\t\t} else {\n\t\t\t\tdate = updated;\n\t\t\t}\n\t\t}\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<div className=\"gallery-upload\">\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"toggle_visibility\">{t('created-at')}</Tooltip>}>\n\t\t\t\t\t<span className=\"gallery-uploaded-image\"><img style={{ stroke: 'white', fill: 'red' }} alt=\"Upload Time Icon\" src={upload} /></span>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"toggle_visibility\">{t('last-updated')}{updated}</Tooltip>}>\n\t\t\t\t\t<span className=\"gallery-uploaded\">{date}</span>\n\t\t\t\t</OverlayTrigger>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderButtonToolbar() {\n\t\tconst { t } = this.props;\n\t\treturn ( <div className=\"gallery-toolbar\">\n\t\t\t<ButtonToolbar size=\"sm\" style={{ marginLeft: -4, marginTop: 3 }}>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ImportFile\">{t('import-tooltip')}</Tooltip>}>\n\t\t\t\t\t<Button size=\"sm\" style={{ marginLeft: 4, marginRight: 4 }} onClick={this.props.onImport}>\n\t\t\t\t\t\t{t('import')}\n\t\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"IsleFile\">{t('copy-file')}</Tooltip>}>\n\t\t\t\t\t<Button aria-label={t('copy-file')} size=\"sm\" onFocus={this.getIsleFile} onMouseEnter={this.getIsleFile} onClick={this.copyIsleFileToClipboard} >\n\t\t\t\t\t\t<i className=\"fa fa-clipboard\"></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"IsleFile\">{t('copy-include')}</Tooltip>}>\n\t\t\t\t\t<Button aria-label={t('copy-include')} size=\"sm\" onClick={this.copyIncludeToClipboard} style={{ marginLeft: 4 }} >\n\t\t\t\t\t\t<i className=\"fa fa-link\"></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t{ this.renderButtonToolbarDate() }\n\t\t\t</ButtonToolbar>\n\t\t</div> );\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Card className=\"gallery-card\">\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<div style={{ height: 180 }} >\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tfilter: 'grayscale(30%)',\n\t\t\t\t\t\t\tbackground: COLORS[ this.props.colorIndex ]\n\t\t\t\t\t\t}} className=\"hovereffect \">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"img-responsive\"\n\t\t\t\t\t\t\t\tsrc={background}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\theight: 180,\n\t\t\t\t\t\t\t\t\tbackground: COLORS[ this.props.colorIndex ]\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\trole=\"button\" className=\"overlay\"\n\t\t\t\t\t\t\t\tonClick={this.openLesson}\n\t\t\t\t\t\t\t\tonKeyPress={this.openLesson}\n\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h2>{this.props.namespace}: {this.props.title}</h2>\n\t\t\t\t\t\t\t\t<h3>{this.props.description}</h3>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"info\"\n\t\t\t\t\t\t\t\t>{t('open-lesson')}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderButtonToolbar()}\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES//\n\nLesson.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tcolorIndex: PropTypes.number.isRequired,\n\tcreatedAt: PropTypes.any.isRequired,\n\tdescription: PropTypes.string.isRequired,\n\tgetIsleFile: PropTypes.func.isRequired,\n\tnamespace: PropTypes.string.isRequired,\n\tonImport: PropTypes.func.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tupdatedAt: PropTypes.any.isRequired,\n\turl: PropTypes.string.isRequired\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'lesson', 'common' ] )( Lesson );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Pagination from 'react-bootstrap/Pagination';\nimport { Responsive, WidthProvider } from 'react-grid-layout';\nimport isArray from '@stdlib/assert/is-array';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport pluck from '@stdlib/utils/pluck';\nimport min from '@stdlib/math/base/special/min';\nimport ceil from '@stdlib/math/base/special/ceil';\nimport floor from '@stdlib/math/base/special/floor';\nimport sortLessons from 'utils/sort_lessons.js';\nimport ImportModal from './import_modal.js';\nimport Lesson from './lesson.js';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\nimport 'css/image.css';\nimport './gallery.css';\n\n\n// FUNCTIONS //\n\nfunction createLayout( nLessons ) {\n\tconst elemH = 3.72;\n\tlet layouts = [];\n\tfor ( let i = 0; i < nLessons; i++ ) {\n\t\tlayouts[ i ] = {\n\t\t\tlg: { i: `cell-${i}`, x: i*4 % 24, y: floor( i / 6 ) * elemH, w: 4, h: elemH },\n\t\t\tmd: { i: `cell-${i}`, x: i*4 % 20, y: floor( i / 5 ) * elemH, w: 4, h: elemH },\n\t\t\tsm: { i: `cell-${i}`, x: i*4 % 16, y: floor( i / 4 ) * elemH, w: 4, h: elemH },\n\t\t\txs: { i: `cell-${i}`, x: i*4 % 12, y: floor( i / 3 ) * elemH, w: 4, h: elemH },\n\t\t\txxs: { i: `cell-${i}`, x: i*4 % 8, y: floor( i / 2 ) * elemH, w: 4, h: elemH },\n\t\t\ttiny: { i: `cell-${i}`, x: i*4 % 4, y: floor( i / 1 ) * elemH, w: 4, h: elemH }\n\t\t};\n\t}\n\tlayouts = {\n\t\tlg: pluck( layouts, 'lg' ),\n\t\tmd: pluck( layouts, 'md' ),\n\t\tsm: pluck( layouts, 'sm' ),\n\t\txs: pluck( layouts, 'xs' ),\n\t\txxs: pluck( layouts, 'xxs' ),\n\t\ttiny: pluck( layouts, 'tiny' )\n\t};\n\treturn layouts;\n}\n\n\n// VARIABLES //\n\nconst ResponsiveReactGridLayout = WidthProvider( Responsive );\nconst NO_LESSONS_PER_PAGE = 100;\nconst FULL_LAYOUT = createLayout( NO_LESSONS_PER_PAGE );\n\n\n// MAIN //\n\nclass Gallery extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tfilteredLessons: [],\n\t\t\tshowImportModal: false,\n\t\t\tnamespace: null,\n\t\t\ttitle: null,\n\t\t\tpage: 0\n\t\t};\n\t\tprops.findPublicLessons();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tthis.props.gallery.lessons !== prevProps.gallery.lessons\n\t\t) {\n\t\t\tconst lessons = this.props.gallery.lessons || [];\n\t\t\tlet filteredLessons = this.searchLessons( lessons, prevProps.search.phrase );\n\t\t\tthis.setState({\n\t\t\t\tfilteredLessons\n\t\t\t});\n\t\t}\n\t\tif (\n\t\t\tthis.props.search.phrase !== prevProps.search.phrase\n\t\t) {\n\t\t\tconst lessons = prevProps.gallery.lessons || [];\n\t\t\tlet filteredLessons = this.searchLessons( lessons, this.props.search.phrase );\n\t\t\tthis.setState({\n\t\t\t\tfilteredLessons\n\t\t\t});\n\t\t}\n\t}\n\n\tshowImportModal = ({ title, namespace }) => {\n\t\tthis.setState({\n\t\t\tshowImportModal: true,\n\t\t\tnamespace,\n\t\t\ttitle\n\t\t});\n\t};\n\n\tcloseImportModal = () => {\n\t\tthis.setState({\n\t\t\tshowImportModal: false\n\t\t});\n\t};\n\n\tsearchLessons( lessons, phrase ) {\n\t\tif ( !phrase ) {\n\t\t\treturn lessons;\n\t\t}\n\t\tconst filteredLessons = [];\n\t\tif ( isArray( lessons ) ) {\n\t\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\t\tif (\n\t\t\t\t\tcontains( lowercase( lessons[ i ].title ), phrase ) ||\n\t\t\t\t\tcontains( lowercase( lessons[ i ].namespace ), phrase ) ||\n\t\t\t\t\tcontains( lowercase( lessons[ i ].description ), phrase )\n\t\t\t\t) {\n\t\t\t\t\tfilteredLessons.push( lessons[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn filteredLessons;\n\t}\n\n\tselectPageLessons( lessons ) {\n\t\tlet out = [];\n\t\tconst maxid = min( ( this.state.page+1 ) * NO_LESSONS_PER_PAGE, lessons.length );\n\t\tfor ( let i = this.state.page*NO_LESSONS_PER_PAGE; i < maxid; i++ ) {\n\t\t\tout.push( lessons[ i ] );\n\t\t}\n\t\treturn out;\n\t}\n\n\trenderImportModal() {\n\t\tif ( !this.state.showImportModal ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn ( <ImportModal\n\t\t\tnamespace={this.state.namespace}\n\t\t\ttitle={this.state.title}\n\t\t\tshow={this.state.showImportModal}\n\t\t\tclose={this.closeImportModal}\n\t\t\tuserNamespaces={this.props.user.ownedNamespaces}\n\t\t\tcopyLesson={this.props.copyLesson}\n\t\t\topenedNamespace={this.props.openedNamespace}\n\t\t\tt={this.props.t}\n\t\t/> );\n\t}\n\n\trenderPagination() {\n\t\tconst nPages = ceil( this.state.filteredLessons.length / NO_LESSONS_PER_PAGE );\n\t\tconst pages = [];\n\t\tfor ( let i = 0; i < nPages; i++ ) {\n\t\t\tpages.push(\n\t\t\t\t<Pagination.Item\n\t\t\t\t\tkey={i}\n\t\t\t\t\tactive={i === this.state.page}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpage: i\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{i+1}\n\t\t\t\t</Pagination.Item>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Pagination className=\"gallery-pagination\" size=\"small\" >\n\t\t\t\t{pages}\n\t\t\t</Pagination>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tlet lessons = this.state.filteredLessons;\n\t\tif ( !isArray( lessons ) || lessons.length === 0 ) {\n\t\t\treturn ( <div className=\"jumbotron gallery-jumbotron\">\n\t\t\t\t<h1>{t('no-lessons-title')}</h1>\n\t\t\t\t<p>{t('no-lessons-description')}</p>\n\t\t\t</div> );\n\t\t}\n\t\tlessons = this.selectPageLessons( lessons );\n\t\tconst layouts = ( lessons.length === NO_LESSONS_PER_PAGE ) ?\n\t\t\tFULL_LAYOUT :\n\t\t\tcreateLayout( lessons.length );\n\t\tsortLessons( lessons, this.props.search );\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.renderPagination()}\n\t\t\t\t<div className=\"gallery\">\n\t\t\t\t\t<ResponsiveReactGridLayout\n\t\t\t\t\t\tlayouts={layouts}\n\t\t\t\t\t\tbreakpoints={{ lg: 1800, md: 1550, sm: 1200, xs: 900, xxs: 400, tiny: 0 }}\n\t\t\t\t\t\tcols={{ lg: 24, md: 20, sm: 16, xs: 12, xxs: 8, tiny: 4 }}\n\t\t\t\t\t\tcontainerPadding={[10, 10]}\n\t\t\t\t\t\tisResizable={false}\n\t\t\t\t\t\tisDraggable={false}\n\t\t\t\t\t\trowHeight={60}\n\t\t\t\t\t>\n\t\t\t\t\t\t{lessons.map( ( e, i ) => {\n\t\t\t\t\t\t\treturn ( <div key={`cell-${i}`}>\n\t\t\t\t\t\t\t\t<Lesson\n\t\t\t\t\t\t\t\t\t{...lessons[ i ]}\n\t\t\t\t\t\t\t\t\tgetIsleFile={this.props.getIsleFile}\n\t\t\t\t\t\t\t\t\taddNotification={this.props.addNotification}\n\t\t\t\t\t\t\t\t\topenedNamespace={this.props.openedNamespace}\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tonImport={() => {\n\t\t\t\t\t\t\t\t\t\tthis.showImportModal({\n\t\t\t\t\t\t\t\t\t\t\ttitle: lessons[ i ].title,\n\t\t\t\t\t\t\t\t\t\t\tnamespace: lessons[ i ].namespace\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div> );\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ResponsiveReactGridLayout>\n\t\t\t\t\t{this.renderImportModal()}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nGallery.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tcopyLesson: PropTypes.func.isRequired,\n\tfindPublicLessons: PropTypes.func.isRequired,\n\tgallery: PropTypes.object.isRequired,\n\tgetIsleFile: PropTypes.func.isRequired,\n\topenedNamespace: PropTypes.object.isRequired,\n\tsearch: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'gallery', 'common' ] )( Gallery );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Gallery from 'components/gallery';\nimport { copyLessonInjector, getIsleFileInjector, getPublicLessonsInjector } from 'actions/lesson';\nimport { addNotificationInjector } from 'actions/notification';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tsearch: state.search,\n\t\tuser: state.user,\n\t\topenedNamespace: state.namespace,\n\t\tgallery: state.gallery\n\t};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\taddNotification: addNotificationInjector( dispatch ),\n\t\tcopyLesson: copyLessonInjector( dispatch ),\n\t\tfindPublicLessons: getPublicLessonsInjector( dispatch ),\n\t\tgetIsleFile: getIsleFileInjector( dispatch )\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleGallery = connect( mapStateToProps, mapDispatchToProps )( Gallery );\n\n\n// EXPORTS //\n\nexport default VisibleGallery;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// VARIABLES //\n\nconst OPTS = {\n\tnumeric: true // Use numeric collation such that \"1\" < \"2\" < \"10\"...\n};\n\n\n// MAIN //\n\n/**\n* Sorts lessons according to the `search` object in place.\n*\n* @param {Array} lessons - a list of lessons\n* @param {Object} search - search object\n* @param {string} search.type - either `sequentially`, `alphabetically`, `created_at`, or `updated_at`\n* @param {string} search.direction - either `ascending` or `descending`\n*/\nfunction sortLessons( lessons, search ) {\n\tconst { type, direction } = search;\n\tif ( type === 'sequentially' ) {\n\t\tif ( direction === 'ascending' ) {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\treturn a.pos - b.pos;\n\t\t\t});\n\t\t} else {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\treturn b.pos - a.pos;\n\t\t\t});\n\t\t}\n\t}\n\telse if ( type === 'alphabetically' ) {\n\t\tif ( direction === 'ascending' ) {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\tconst x = a.namespace + a.title;\n\t\t\t\tconst y = b.namespace + b.title;\n\t\t\t\treturn x.localeCompare( y, void 0, OPTS );\n\t\t\t});\n\t\t} else {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\tconst x = a.namespace + a.title;\n\t\t\t\tconst y = b.namespace + b.title;\n\t\t\t\treturn y.localeCompare( x, void 0, OPTS );\n\t\t\t});\n\t\t}\n\t}\n\telse if ( type === 'created_at' ) {\n\t\tif ( direction === 'ascending' ) {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\treturn a.createdAt.localeCompare( b.createdAt, void 0, OPTS );\n\t\t\t});\n\t\t} else {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\treturn b.createdAt.localeCompare( a.createdAt, void 0, OPTS );\n\t\t\t});\n\t\t}\n\t}\n\telse if ( type === 'updated_at' ) {\n\t\tif ( direction === 'ascending' ) {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\treturn a.updatedAt.localeCompare( b.updatedAt, void 0, OPTS );\n\t\t\t});\n\t\t} else {\n\t\t\tlessons.sort( ( a, b ) => {\n\t\t\t\treturn b.updatedAt.localeCompare( a.updatedAt, void 0, OPTS );\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// EXPORTS //\n\nexport default sortLessons;\n"],"sourceRoot":""}