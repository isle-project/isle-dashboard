{"version":3,"file":"static/js/3980.9f2c3ca2.chunk.js","mappings":"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","sources":["actions/custom_field.js","components/signup/message_modal.js","components/signup/index.js","containers/visible-signup/index.js"],"sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport server from 'constants/server';\nimport i18next from 'i18next';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { CREATED_CUSTOM_FIELD, DELETED_CUSTOM_FIELD, FIELD_POSITION_INCREMENTED, FIELD_POSITION_DECREMENTED, GET_CUSTOM_FIELDS, UPDATED_CUSTOM_FIELD } from 'constants/action_types.js';\nimport { globalAxios } from 'helpers/axios.js';\n\n\n// EXPORTS //\n\n/**\n * Makes a GET request to the server to get all custom user fields.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {void}\n */\nexport const getCustomFields = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await globalAxios.get( server+'/get_custom_fields' );\n\t\tdispatch({\n\t\t\ttype: GET_CUSTOM_FIELDS,\n\t\t\tpayload: {\n\t\t\t\tcustomFields: res.data.fields\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to the server to get all custom user fields with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function to make a GET request to the server to get all custom user fields\n */\nexport const getCustomFieldsInjector = dispatch => {\n\treturn async () => {\n\t\tawait getCustomFields( dispatch );\n\t};\n};\n\n/**\n * Makes a POST request to the server to increment a custom field's position.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - the custom field's unique id\n * @returns {void}\n */\nexport const incrementFieldPosition = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await globalAxios.post( server+'/increment_field_position', {\n\t\t\tid\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FIELD_POSITION_INCREMENTED,\n\t\t\tpayload: {\n\t\t\t\tcustomFields: res.data.fields\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to the server to increment a custom field's position with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function to make a POST request to the server to increment a custom field's position\n */\nexport const incrementFieldPositionInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait incrementFieldPosition( dispatch, id );\n\t};\n};\n\n/**\n * Makes a POST request to the server to decrement a custom field's position.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - the custom field's unique id\n * @returns {void}\n */\nexport const decrementFieldPosition = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await globalAxios.post( server+'/decrement_field_position', {\n\t\t\tid\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FIELD_POSITION_DECREMENTED,\n\t\t\tpayload: {\n\t\t\t\tcustomFields: res.data.fields\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to the server to decrement a custom field's position with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function to make a POST request to the server to decrement a custom field's position\n */\nexport const decrementFieldPositionInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait decrementFieldPosition( dispatch, id );\n\t};\n};\n\n/**\n * Makes a POST request to the server to delete a custom field.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - the custom field's unique id\n * @returns {void}\n */\nexport const deleteCustomField = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await globalAxios.post( server+'/delete_custom_field', {\n\t\t\tid\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:deleted'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: DELETED_CUSTOM_FIELD,\n\t\t\tpayload: {\n\t\t\t\tid\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to the server to delete a custom field with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function to make a POST request to the server to delete a custom field\n */\nexport const deleteCustomFieldInjector = dispatch => {\n\treturn async ( id ) => {\n\t\tawait deleteCustomField( dispatch, id );\n\t};\n};\n\n/**\n * Makes a POST request to the server to create a custom field.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} field - the custom field's data\n * @param {string} field.name - the custom field's name\n * @param {string} field.description - the custom field's description\n * @param {string} field.type - the custom field's type\n * @param {Array} field.options - the custom field's options (if type is `dropdown`)\n * @param {number} field.position - the custom field's position\n * @param {boolean} field.showOnProfile - whether the custom field should be shown on the users' profile\n * @param {boolean} field.editableOnSignup - whether the custom field should be editable on signup\n * @param {boolean} field.editableOnProfile - whether the custom field should be editable on the users' profile\n * @returns {void}\n */\nexport const createCustomField = async ( dispatch, {\n\tname,\n\tdescription,\n\ttype,\n\toptions,\n\tposition,\n\tshowOnProfile,\n\teditableOnSignup,\n\teditableOnProfile\n}) => {\n\ttry {\n\t\tconst res = await globalAxios.post( server + '/create_custom_field', {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\ttype,\n\t\t\toptions,\n\t\t\tposition,\n\t\t\tshowOnProfile,\n\t\t\teditableOnSignup,\n\t\t\teditableOnProfile\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:created'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATED_CUSTOM_FIELD,\n\t\t\tpayload: res.data.field\n\t\t});\n\t\treturn res;\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to the server to create a custom field with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function to make a POST request to the server to create a custom field\n */\nexport const createCustomFieldInjector = dispatch => {\n\treturn async ({\n\t\tname,\n\t\tdescription,\n\t\ttype,\n\t\toptions,\n\t\tposition,\n\t\tshowOnProfile,\n\t\teditableOnSignup,\n\t\teditableOnProfile\n\t}) => {\n\t\tawait createCustomField( dispatch, {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\ttype,\n\t\t\toptions,\n\t\t\tposition,\n\t\t\tshowOnProfile,\n\t\t\teditableOnSignup,\n\t\t\teditableOnProfile\n\t\t});\n\t};\n};\n\n/**\n * Makes a POST request to the server to update a custom field.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} field - the custom field's data\n * @param {string} field.name - the custom field's name\n * @param {string} field.description - the custom field's description\n * @param {string} field.type - the custom field's type\n * @param {Array} field.options - the custom field's options (if type is `dropdown`)\n * @param {number} field.position - the custom field's position\n * @param {boolean} field.showOnProfile - whether the custom field should be shown on the users' profile\n * @param {boolean} field.editableOnSignup - whether the custom field should be editable on signup\n * @param {boolean} field.editableOnProfile - whether the custom field should be editable on the users' profile\n */\nexport const updateCustomField = async ( dispatch, {\n\tname,\n\tdescription,\n\ttype,\n\toptions,\n\tposition,\n\tshowOnProfile,\n\teditableOnSignup,\n\teditableOnProfile\n}) => {\n\ttry {\n\t\tconst res = await globalAxios.post( server + '/update_custom_field', {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\ttype,\n\t\t\toptions,\n\t\t\tposition,\n\t\t\tshowOnProfile,\n\t\t\teditableOnSignup,\n\t\t\teditableOnProfile\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:update'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATED_CUSTOM_FIELD,\n\t\t\tpayload: {\n\t\t\t\tname,\n\t\t\t\tdescription,\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tshowOnProfile,\n\t\t\t\teditableOnSignup,\n\t\t\t\teditableOnProfile\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to the server to update a custom field with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} a function to make a POST request to the server to update a custom field\n */\nexport const updateCustomFieldInjector = dispatch => {\n\treturn async ({\n\t\tname,\n\t\tdescription,\n\t\ttype,\n\t\toptions,\n\t\tposition,\n\t\tshowOnProfile,\n\t\teditableOnSignup,\n\t\teditableOnProfile\n\t}) => {\n\t\tawait updateCustomField( dispatch, {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\ttype,\n\t\t\toptions,\n\t\t\tposition,\n\t\t\tshowOnProfile,\n\t\t\teditableOnSignup,\n\t\t\teditableOnProfile\n\t\t});\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport { withRouter } from 'react-router';\nimport i18n from 'i18next';\n\n\n// MAIN //\n\nconst MessageModal = withRouter( ( props ) => (\n\t<Modal variant={props.successful ? 'success' : 'warning'} show={props.show}>\n\t\t<Modal.Header>\n\t\t\t<Modal.Title>{i18n.t('signup:create-user')}</Modal.Title>\n\t\t</Modal.Header>\n\t\t<Modal.Body>\n\t\t\t{props.message}\n\t\t</Modal.Body>\n\t\t<Modal.Footer>\n\t\t\t{ props.successful ?\n\t\t\t\t<Button onClick={()=>{\n\t\t\t\t\tprops.history.push( '/login' );\n\t\t\t\t}}>{i18n.t('signup:go-to-login-page')}</Button> :\n\t\t\t\t<Button onClick={props.close}>\n\t\t\t\t\t{i18n.t('signup:close')}\n\t\t\t\t</Button>\n\t\t\t}\n\t\t</Modal.Footer>\n\t</Modal>\n) );\n\n\n// EXPORTS //\n\nexport default MessageModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Trans, withTranslation } from 'react-i18next';\nimport SelectInput from 'react-select';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Form from 'react-bootstrap/Form';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Popover from 'react-bootstrap/Popover';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport { Link } from 'react-router-dom';\nimport logger from 'debug';\nimport isEmail from '@stdlib/assert/is-email-address';\nimport MessageModal from './message_modal.js';\nimport 'css/login.css';\n\n\n// FUNCTIONS //\n\nconst createTooltip = ( str ) => {\n\treturn <Tooltip id=\"tooltip\">{str}</Tooltip>;\n};\n\nconst extractUserData = ({ name, email, password, customFields }) => {\n\treturn { name, email, password, customFields };\n};\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard:signup' );\n\n\n// MAIN //\n\nclass Signup extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tpasswordRepeat: '',\n\t\t\tshowModal: false,\n\t\t\tcustomFields: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getCustomFields();\n\t}\n\n\thandleSubmit = async ( event ) => {\n\t\tevent.preventDefault();\n\t\tif (\n\t\t\tthis.getEmailValidationState() &&\n\t\t\tthis.getNameValidationState() &&\n\t\t\tthis.getPasswordValidationState()\n\t\t) {\n\t\t\ttry {\n\t\t\t\tconst res = await this.props.createUser( extractUserData( this.state ) );\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessage: res.data.message,\n\t\t\t\t\tsuccessful: true,\n\t\t\t\t\tshowModal: true\n\t\t\t\t});\n\t\t\t} catch ( err ) {\n\t\t\t\tlet message;\n\t\t\t\tif ( err.response ) {\n\t\t\t\t\tmessage = err.response.data;\n\t\t\t\t} else {\n\t\t\t\t\tmessage = err.message;\n\t\t\t\t}\n\t\t\t\tdebug( 'Encountered an error: ' + message );\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessage,\n\t\t\t\t\tsuccessful: false,\n\t\t\t\t\tshowModal: true\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tshowSubmitOverlay: true,\n\t\t\t\toverlayTarget: event.target\n\t\t\t}, () => {\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tshowSubmitOverlay: false\n\t\t\t\t\t});\n\t\t\t\t}, 4000 );\n\t\t\t});\n\t\t}\n\t}\n\n\thandleInputChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\t\tthis.setState({\n\t\t\t[ name ]: value\n\t\t});\n\t}\n\n\tgetEmailValidationState = () => {\n\t\treturn isEmail( this.state.email );\n\t}\n\n\tgetNameValidationState = () => {\n\t\treturn this.state.name.length > 3;\n\t}\n\n\tgetPasswordValidationState = () => {\n\t\tconst { password, passwordRepeat } = this.state;\n\t\tif ( password.length < 6 || passwordRepeat.length === 0 ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( password !== passwordRepeat ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tclose = () => {\n\t\tthis.setState({\n\t\t\tshowModal: false\n\t\t});\n\t}\n\n\trenderEmail() {\n\t\tconst { t } = this.props;\n\t\treturn ( <OverlayTrigger placement=\"right\" overlay={createTooltip( t('email-tooltip') )}>\n\t\t\t<FormGroup\n\t\t\t\tcontrolId=\"form-email\"\n\t\t\t>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t<FormLabel>{t('common:email')}</FormLabel>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tautoComplete=\"username email\"\n\t\t\t\t\t\t\tplaceholder={t('common:enter-email')}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\tisInvalid={this.state.email && !this.getEmailValidationState()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t{t('invalid-email')}\n\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</FormGroup>\n\t\t</OverlayTrigger> );\n\t}\n\n\trenderName() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('name-tooltip') )}>\n\t\t\t\t<FormGroup\n\t\t\t\t\tcontrolId=\"form-name\"\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t<FormLabel>{t('common:name')}</FormLabel>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={t('common:enter-name')}\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tisInvalid={this.state.name && !this.getNameValidationState()}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{t('invalid-name')}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</FormGroup>\n\t\t\t</OverlayTrigger>\n\t\t);\n\t}\n\n\trenderPasswordFields() {\n\t\tconst { t } = this.props;\n\t\tconst validPasswords = this.getPasswordValidationState();\n\t\tconst enteredPasswords = this.state.password || this.state.passwordRepeat;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('password-tooltip') )}>\n\t\t\t\t\t<FormGroup\n\t\t\t\t\t\tcontrolId=\"form-password\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t\t<FormLabel>{t('common:password')}</FormLabel>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\t\t\t\tplaceholder={t('choose-password')}\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\tmaxLength={30}\n\t\t\t\t\t\t\t\t\tminLength={6}\n\t\t\t\t\t\t\t\t\tisInvalid={enteredPasswords && !validPasswords}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t('invalid-password')}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<FormGroup\n\t\t\t\t\tcontrolId=\"form-repeat-password\"\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t<FormLabel>{t('common:repeat')}</FormLabel>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm={{ span: 9 }}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"passwordRepeat\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\t\t\tplaceholder={t('confirm-password')}\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tmaxLength={30}\n\t\t\t\t\t\t\t\tminLength={6}\n\t\t\t\t\t\t\t\tisInvalid={enteredPasswords && !validPasswords}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{t('invalid-password-match')}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</FormGroup>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t, settings } = this.props;\n\t\tconst userCustomFields = this.state.customFields;\n\t\tconst availableCustomFields = this.props.user.availableCustomFields || [];\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"login\">\n\t\t\t\t\t<Card style={{ boxShadow: '0 0 8px rgba(0,0,0,0.3)', borderRadius: '6px', opacity: 0.98, background: 'rgba(255,255,255,0.75)' }}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<Card.Title as=\"h1\" style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\tISLE <small>Dashboard</small>\n\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t{this.renderEmail()}\n\t\t\t\t\t\t\t\t{this.renderName()}\n\t\t\t\t\t\t\t\t{this.renderPasswordFields()}\n\t\t\t\t\t\t\t\t{availableCustomFields.filter( x => x.editableOnSignup ).map( ( x, idx ) => {\n\t\t\t\t\t\t\t\t\tlet input;\n\t\t\t\t\t\t\t\t\tconst value = userCustomFields[ x.name ];\n\t\t\t\t\t\t\t\t\tif ( x.type === 'checkbox' ) {\n\t\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t\t\tas={Row}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={3}></Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={x.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = event.target.checked;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t\t} else if ( x.type === 'text' ) {\n\t\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t\t\tas={Row}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>{x.name}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={9} >\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={x.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={`Enter ${x.name}...`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = event.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// Case: dropdown menu\n\t\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t\t\tas={Row}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel>{x.name}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={value ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ label: value, value: value } :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={x.options.map( e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { value: e, label: e };\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={( elem ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = elem.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<OverlayTrigger key={idx} placement=\"top\" overlay={createTooltip( x.description )} >\n\t\t\t\t\t\t\t\t\t\t\t{input}\n\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"signup:tos-disclaimer\" >\n\t\t\t\t\t\t\t\t\t\tThrough clicking the signup button you agree to our <Link to=\"/terms\">terms of service</Link>. Learn more about how your data is processed in our <Link to=\"/privacy\" >privacy policy</Link>.\n\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"centered\"\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\t\t\t\t>{t('common:register')}</Button>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t<Card.Footer style={{ background: 'rgba(255,255,255,0.6)', textAlign: 'right' }}>\n\t\t\t\t\t\t\t<Link to=\"/forgot-password\">{t('common:forgot-password')}</Link>\n\t\t\t\t\t\t\t<span> | </span>\n\t\t\t\t\t\t\t<Link to=\"/login\">{t('common:login')}</Link>\n\t\t\t\t\t\t</Card.Footer>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{settings.brandingLogo ? <img\n\t\t\t\t\t\tclassName=\"login-branding-logo\"\n\t\t\t\t\t\tsrc={settings.brandingLogo}\n\t\t\t\t\t\talt=\"Branded Logo\"\n\t\t\t\t\t/> : null}\n\t\t\t\t</div>\n\t\t\t\t<MessageModal\n\t\t\t\t\tshow={this.state.showModal}\n\t\t\t\t\tclose={this.close}\n\t\t\t\t\tmessage={this.state.message}\n\t\t\t\t\tsuccessful={this.state.successful}\n\t\t\t\t/>\n\t\t\t\t<Overlay\n\t\t\t\t\tshow={this.state.showSubmitOverlay}\n\t\t\t\t\ttarget={this.state.overlayTarget}\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\tcontainerPadding={20}\n\t\t\t\t>\n\t\t\t\t\t<Popover id=\"popover-contained\" title=\"Input fields are not valid\">\n\t\t\t\t\t\t{t('signup-not-valid')}\n\t\t\t\t\t</Popover>\n\t\t\t\t</Overlay>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nSignup.propTypes = {\n\tcreateUser: PropTypes.func.isRequired,\n\tgetCustomFields: PropTypes.func.isRequired,\n\tsettings: PropTypes.object,\n\tuser: PropTypes.object\n};\n\nSignup.defaultProps = {\n\tsettings: {},\n\tuser: {}\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'signup', 'common' ] )( Signup );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Signup from 'components/signup';\nimport { createUser } from 'actions/user';\nimport { getCustomFieldsInjector } from 'actions/custom_field.js';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tuser: state.user,\n\t\tsettings: state.settings\n\t};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\tcreateUser,\n\t\tgetCustomFields: getCustomFieldsInjector( dispatch )\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleSignup = connect( mapStateToProps, mapDispatchToProps )( Signup );\n\n\n// EXPORTS //\n\nexport default VisibleSignup;\n"],"names":["getCustomFields","dispatch","globalAxios","server","res","type","GET_CUSTOM_FIELDS","payload","customFields","data","fields","addErrorNotification","getCustomFieldsInjector","incrementFieldPosition","id","FIELD_POSITION_INCREMENTED","incrementFieldPositionInjector","decrementFieldPosition","FIELD_POSITION_DECREMENTED","decrementFieldPositionInjector","deleteCustomField","addNotification","title","i18next","message","level","DELETED_CUSTOM_FIELD","deleteCustomFieldInjector","createCustomField","name","description","options","position","showOnProfile","editableOnSignup","editableOnProfile","CREATED_CUSTOM_FIELD","field","createCustomFieldInjector","withRouter","props","Modal","variant","successful","show","i18n","Button","onClick","history","push","close","createTooltip","str","Tooltip","debug","logger","Signup","event","preventDefault","getEmailValidationState","getNameValidationState","getPasswordValidationState","createUser","state","email","password","setState","showModal","response","showSubmitOverlay","overlayTarget","target","setTimeout","value","isEmail","length","passwordRepeat","this","t","OverlayTrigger","placement","overlay","FormGroup","controlId","Row","Col","sm","FormLabel","FormControl","autoComplete","placeholder","onChange","handleInputChange","isInvalid","Form","validPasswords","enteredPasswords","Fragment","maxLength","minLength","span","settings","userCustomFields","availableCustomFields","user","className","Card","style","boxShadow","borderRadius","opacity","background","as","textAlign","renderEmail","renderName","renderPasswordFields","filter","x","map","idx","input","label","defaultChecked","newCustomFields","checked","changed","defaultValue","e","elem","key","Trans","i18nKey","to","handleSubmit","brandingLogo","src","alt","Overlay","containerPadding","Popover","Component","defaultProps","withTranslation","connect"],"sourceRoot":""}