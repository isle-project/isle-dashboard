/*! For license information please see NaiveBayes.0837b998.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[139],{14621:function(t,e,r){r.d(e,{i:function(){return y},W:function(){return g}});var n=r(33837),a=r.n(n),s=r(59755),i=r.n(s),o=r(37221),l=r(96967),c=r.n(l),u=r(31495),h=r.n(u),p=r(70954),f=r.n(p),v=r(75959);function m(t){return h()(t)||c()(t)}function d(t){return(0,o.isPrimitive)(t)&&!h()(t)}function y(t,e,r,n){var s=[],o=[],l={};f()(t)||(t=[t]);for(var c=0;c<t.length;c++){var u=r[t[c]];if(a()(n,t[c]))o.push(t[c]);else{for(var h=(0,v.Z)(u,t[c]),p=0;p<h.length;p++)o.push("".concat(t[c],"_").concat(h[p]));l[t[c]]=h}}for(var m=r[t[0]].length,d=0;d<m;d++){for(var y=[],g=0;g<t.length;g++){var E=r[t[g]];if(a()(n,t[g]))y.push(E[d]);else for(var w=l[t[g]],b=E[d],Z=0;Z<w.length;Z++)y.push(b===w[Z]?1:0)}s.push(y)}return{matrix:s=i()(s),predictors:o,yvalues:r[e]}}function g(t,e,r,n){var s=[],o=[],l={};f()(t)||(t=[t]);for(var c=0;c<t.length;c++){var u=r[t[c]];if(a()(n,t[c]))o.push(t[c]);else{for(var h=(0,v.Z)(u,t[c]),p=0;p<h.length;p++)o.push("".concat(t[c],"_").concat(h[p]));l[t[c]]=h}}for(var y=r[t[0]].length,g=[],E=0;E<y;E++){for(var w=[],b=!1,Z=0;Z<t.length;Z++){var k=r[t[Z]];if(a()(n,t[Z]))d(k[E])?w.push(k[E]):b=!0;else{var x=l[t[Z]],A=k[E];if(m(A))b=!0;else for(var P=0;P<x.length;P++)w.push(A===x[P]?1:0)}}m(r[e][E])&&(b=!0),b||(s.push(w),g.push(r[e][E]))}return{matrix:s=i()(s),predictors:o,yvalues:g}}},55344:function(t,e,r){r.r(e),r.d(e,{default:function(){return U}});var n=r(1413),a=r(15671),s=r(43144),i=r(97326),o=r(60136),l=r(29388),c=r(4942),u=r(41488),h=r(25472),p=r(26881),f=r(70048),v=r(83301),m=r(33837),d=r.n(m),y=r(8128),g=r.n(y),E=r(84972),w=r(59755),b=r.n(w),Z=(r(12087),r(82764)),k=r.n(Z),x=r(265),A=r.n(x),P=r(96485),M=r.n(P),F=(r(37221),r(12860)),q=r(70885),T=r(91031),G=r.n(T),V=r(59491),z=r.n(V),C=r(76941),O=r.n(C),_=r(53109),N=r.n(_),S=r(75127),W=r(13579),D=r(20360),I=r(55659);function L(t,e){this.n=t.shape[0],this.p=t.shape[1],this.classes=G()(e.slice()),this.nclass=this.classes.length,this.fitGaussian(t,e)}L.prototype.score=r(27892),L.prototype.fitGaussian=function(t,e){var r=this;this.prior={};var n=[this.p,this.nclass];this.mu=b()(new Float64Array(n[0]*n[1]),{shape:n}),this.sigma=b()(new Float64Array(n[0]*n[1]),{shape:n});for(var a=0;a<this.nclass;a++){for(var s=[],i=this.classes[a],o=0;o<this.n;o++)e[o]===i&&s.push(o);var l=s.length;this.prior[i]=z()(l/this.n);for(var c=function(e){var n=s.map((function(r){return t.get(r,e)})),i=(0,S.Z)(n),o=(0,W.Z)(n);r.mu.set(e,a,i),r.sigma.set(e,a,o)},u=0;u<this.p;u++)c(u)}},L.prototype.calcGaussianProb=function(t,e){for(var r=this.classes[e],n=this.prior[r],a=0;a<this.p;a++){var s=this.sigma.get(a,e),i=s*s,o=this.mu.get(a,e);n+=-.5*z()(2*N()*i)-O()(t[a]-o,2)/i}return n},L.prototype.predictOne=function(t){for(var e=this.classes.length,r=new Array(e),n=0;n<e;n++)r[n]=this.calcGaussianProb(t,n);for(var a=r[0],s=this.classes[0],i=0;i<e;i++){var o=r[i];o>a&&(a=o,s=this.classes[i])}return s},L.prototype.predict=function(t){var e=this.classes.length;if(k()(t)&&(t=b()(t)),M()(t)){for(var r=(0,q.Z)(t.shape,2),n=r[0],a=r[1],s=new Array(n),i=0;i<n;i++){for(var o=new Array(e),l=0;l<e;l++){for(var c=new Array(a),u=0;u<a;u++)c[u]=t.get(i,u);o[l]=this.calcGaussianProb(c,l)}for(var h=o[0],p=this.classes[0],f=0;f<e;f++){var v=o[f];v>h&&(h=v,p=this.classes[f])}s[i]=p}return s}return this.predictOne(t)},L.prototype.predictProbs=function(t){if(k()(t)&&(t=b()(t)),M()(t)){for(var e=(0,q.Z)(t.shape,2),r=e[0],n=e[1],a=new Array(r),s=0;s<r;s++){for(var i=new Array(this.nclass),o=0;o<this.nclass;o++){for(var l=new Array(n),c=0;c<n;c++)l[c]=t.get(s,c);i[o]=this.calcGaussianProb(l,o)}for(var u=(0,D.Z)(i),h=0,p=0;p<i.length;p++)h+=g()(i[p]-u);var f=u+z()(h);i=(0,I.Z)(i,f),a[s]=i.map((function(t){return g()(t)}))}return a}for(var v=new Array(this.nclass),m=0;m<this.nclass;m++)v[m]=this.calcGaussianProb(t,m);for(var d=(0,D.Z)(v),y=0,E=0;E<v.length;E++)y+=g()(v[E]-d);var w=d+z()(y);return(0,I.Z)(v,w),(0,F.Z)("logLik"),v.map((function(t){return g()(t)}))};var X=L,j=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e};function B(t,e,r){this.n=t.shape[0],this.p=t.shape[1],this.classes=G()(e.slice()),this.nclass=this.classes.length,this.alpha=r,this.fitMultinomial(t,e)}B.prototype.score=r(27892),B.prototype.fitMultinomial=function(t,e){for(var r={},n=[this.p,this.nclass],a=b()(new Float64Array(n[0]*n[1]),{shape:n}),s=0;s<this.nclass;s++){for(var i=[],o=new Int32Array(this.p),l=this.classes[s],c=0;c<this.n;c++)e[c]===l&&i.push(c);var u=i.length;r[l]=z()(u/this.n);for(var h=0,p=function(e){var r=i.map((function(r){return t.get(r,e)}));o[e]=j(r),h+=o[e]},f=0;f<this.p;f++)p(f);for(var v=0;v<this.p;v++){var m=z()(o[v]+this.alpha)-z()(h+this.p*this.alpha);a.set(v,s,m)}}this.prior=r,this.cprob=a},B.prototype.calcMultinomProb=function(t,e,r){var n=this.classes[e],a=this.prior[n];for(r=0;r<this.p;r++){a+=t[r]?t[r]*this.cprob.get(r,e):0}return a},B.prototype.predictOne=function(t){for(var e=this.classes.length,r=new Array(e),n=0;n<e;n++){var a=this.classes[n];r[n]=this.prior[a];for(var s=0;s<this.p;s++){var i=t[s]?t[s]*this.cprob.get(s,n):0;r[n]+=i}}for(var o=r[0],l=this.classes[0],c=0;c<e;c++){var u=r[c];u>o&&(o=u,l=this.classes[c])}return l},B.prototype.predict=function(t){var e=this.classes.length;if(k()(t)&&(t=b()(t)),M()(t)){for(var r=[],n=t.shape[0],a=0;a<n;a++){for(var s=new Array(e),i=0;i<e;i++){var o=this.classes[i];s[i]=this.prior[o];for(var l=0;l<this.p;l++){var c=t.get(a,l)?t.get(a,l)*this.cprob.get(l,i):0;s[i]+=c}}for(var u=s[0],h=this.classes[0],p=0;p<e;p++){var f=s[p];f>u&&(u=f,h=this.classes[p])}r[a]=h}return r}return this.predictOne(t)},B.prototype.predictProbs=function(t){if(k()(t)&&(t=b()(t)),M()(t)){for(var e=t.shape[0],r=new Array(e),n=0;n<e;n++){for(var a=new Array(this.nclass),s=0;s<this.nclass;s++){var i=this.classes[s];a[s]=this.prior[i];for(var o=0;o<this.p;o++){var l=t.get(n,o)?t.get(n,o)*this.cprob.get(o,s):0;a[s]+=l}}for(var c=(0,D.Z)(a),u=0,h=0;h<a.length;h++)u+=g()(a[h]-c);var p=c+z()(u);a=(0,I.Z)(a,p),r[n]=a.map((function(t){return g()(t)}))}return r}for(var f=new Array(this.nclass),v=0;v<this.nclass;v++){var m=this.classes[v];f[v]=this.prior[m];for(var d=0;d<this.p;d++){var y=t[d]*this.cprob.get(d,v);f[v]+=y}}for(var E=(0,D.Z)(f),w=0,Z=0;Z<f.length;Z++)w+=g()(f[Z]-E);var x=E+z()(w);return(f=(0,I.Z)(f,x)).map((function(t){return g()(t)}))};var H=r(14621),J=r(41993),K=(r(41090),0),Q=function(t){var e=t.x,r=t.y,n=t.data,a=t.quantitative,s=t.omitMissing;try{var i=(s?H.W:H.i)(e,r,n,a),o=i.matrix,l=i.predictors;return{result:function(t,e){if(k()(t))t=b()(t);else if(!M()(t))throw new TypeError("invalid input argument. The first argument must be a matrix or an array-of-arrays. Value: `"+t+"`");if(!A()(e))throw new TypeError("invalid input argument. The second argument must be array-like. Value: `"+e+"`");return new X(t,e)}(o,i.yvalues),predictors:l}}catch(c){return{}}},R=function(t){(0,o.Z)(r,t);var e=(0,l.Z)(r);function r(t){var s;(0,a.Z)(this,r),s=e.call(this,t),(0,c.Z)((0,i.Z)(s),"handlePrediction",(function(){s.props.onPredict(s.state.result,K)})),K+=1;var o=t.x,l=t.y,u=t.data,h=t.quantitative,p=t.omitMissing;return s.state=(0,n.Z)((0,n.Z)({},Q({x:o,y:l,data:u,quantitative:h,omitMissing:p})),t),s}return(0,s.Z)(r,[{key:"render",value:function(){var t=this.state,e=t.result,r=t.predictors,n=this.props.t;return e?u.createElement("div",{style:{overflowX:"auto",width:"100%"}},u.createElement("span",{className:"title"},n("naive-bayes-for-response",{y:this.props.y,counter:K})),function(t,e,r,n){return u.createElement("div",null,u.createElement("span",{className:"title"},n("apriori-probs"),":"),u.createElement(v.Z,{bordered:!0,size:"sm"},u.createElement("thead",null,u.createElement("tr",null,e.classes.map((function(t,e){return u.createElement("th",{key:e},t)})))),u.createElement("tbody",null,u.createElement("tr",null,e.classes.map((function(t,r){return u.createElement("th",{key:r},g()(e.prior[t]).toFixed(3))}))))),u.createElement("span",{className:"title"},n("conditionals"),":"),t.map((function(t,a){return d()(r,t)?u.createElement(v.Z,{bordered:!0,size:"sm",key:a},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,t),e.classes.map((function(t,e){return u.createElement("th",{key:e},t)})))),u.createElement("tbody",null,u.createElement("tr",null,u.createElement("th",null,n("mean")),e.classes.map((function(t,r){return u.createElement("td",{key:"".concat(a,"-").concat(r)},e.mu.get(a,r).toFixed(6))}))),u.createElement("tr",null,u.createElement("th",null,n("sd")),e.classes.map((function(t,r){return u.createElement("td",{key:"".concat(a,"-").concat(r)},e.sigma.get(a,r).toFixed(6))}))))):u.createElement(v.Z,{bordered:!0,size:"sm",key:a},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,t),e.classes.map((function(t,e){return u.createElement("th",{key:e},t)})))),u.createElement("tbody",null,u.createElement("tr",null,u.createElement("th",null,n("yes")),e.classes.map((function(t,r){return u.createElement("td",{key:"".concat(a,"-").concat(r)},e.mu.get(a,r).toFixed(3))}))),u.createElement("tr",null,u.createElement("th",null,n("no")),e.classes.map((function(t,r){return u.createElement("td",{key:"".concat(a,"-").concat(r)},(1-e.mu.get(a,r)).toFixed(3))})))))})))}(r,e,this.props.quantitative,n),this.props.onPredict?u.createElement(E.Z,{tooltip:n("use-model-to-predict-tooltip")},u.createElement(f.Z,{variant:"secondary",size:"sm",onClick:this.handlePrediction},n("use-model-to-predict"))):null):u.createElement(p.Z,{variant:"danger"},n("missing-attributes"))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data||t.quantitative!==e.quantitative||t.x!==e.x||t.y!==e.y||t.omitMissing!==e.omitMissing){var r=t.x,a=t.y,s=t.data,i=t.quantitative,o=t.omitMissing;return(0,n.Z)((0,n.Z)({},Q({x:r,y:a,data:s,quantitative:i,omitMissing:o})),t)}return null}}]),r}(u.Component);R.defaultProps={omitMissing:!1,onPredict:null};var U=(0,h.Z)("models")((0,J.W)(R))},27892:function(t,e,r){r.r(e);var n=r(265),a=r.n(n);e.default=function(t,e){if(!a()(t))throw new TypeError("invalid argument. First argument must be a matrix or array of test data. Value: `"+t+"`");if(!a()(e))throw new TypeError("invalid argument. Second argument must be an array of labels for the test data. Value: `"+e+"`");for(var r=this.predict(t),n=e.length,s=0,i=0;i<n;i++)r[i]===e[i]&&(s+=1);return s/=n}},55659:function(t,e,r){var n=r(265),a=r.n(n),s=r(37221);e.Z=function(t,e){var r=a()(e);if(!a()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!(0,s.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var n=t.length,i=new Array(n);if(r){if(n!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var o=0;o<n;o++)i[o]=t[o]-e[o]}else for(var l=0;l<n;l++)i[l]=t[l]-e;return i}},82764:function(t,e,r){var n=r(60116);t.exports=n},60116:function(t,e,r){var n=r(83936)(r(70954));t.exports=n},12860:function(t,e,r){function n(t){throw new TypeError('"'+t+'" is read-only')}r.d(e,{Z:function(){return n}})}}]);
//# sourceMappingURL=NaiveBayes.0837b998.chunk.js.map