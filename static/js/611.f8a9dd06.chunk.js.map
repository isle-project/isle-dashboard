{"version":3,"file":"static/js/611.f8a9dd06.chunk.js","mappings":"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","sources":["../node_modules/@isle-project/components/collapse/index.js","../node_modules/@isle-project/components/panel/index.js","../node_modules/@isle-project/utils/stop-propagation/index.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/bin_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/formula_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/categorical_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/group_transformer.js","../node_modules/@isle-project/components/data-explorer/variable-transformer/index.js","../node_modules/@isle-project/components/node_modules/react-bootstrap/esm/ButtonToolbar.js","../node_modules/@isle-project/components/node_modules/react-bootstrap/esm/Table.js","../node_modules/@stdlib/assert/is-digit-string/lib/index.js","../node_modules/@stdlib/assert/is-digit-string/lib/main.js","../node_modules/@stdlib/random/base/uniform/lib/factory.js","../node_modules/@stdlib/random/base/uniform/lib/index.js","../node_modules/@stdlib/random/base/uniform/lib/main.js","../node_modules/@stdlib/random/base/uniform/lib/uniform.js","../node_modules/@stdlib/random/base/uniform/lib/validate.js"],"sourcesContent":["// MODULES //\n\nimport Loadable from '@isle-project/components/internal/loadable';\n\n\n// MAIN //\n\nconst Collapse = Loadable( () => import( /* webpackChunkName: \"Collapse\" */ './main.js' ) );\n\n\n// EXPORTS //\n\nexport default Collapse;\n","// MODULES //\n\nimport Loadable from '@isle-project/components/internal/loadable';\n\n\n// MAIN //\n\nconst Panel = Loadable( () => import( /* webpackChunkName: \"Panel\" */ './main.js' ) );\n\n\n// EXPORTS //\n\nexport default Panel;\n","// MAIN //\n\nfunction stopPropagation( event ) {\n\tevent.stopPropagation();\n}\n\n\n// EXPORTS //\n\nexport default stopPropagation;\n","// MODULES //\n\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport runif from '@stdlib/random/base/uniform';\nimport keys from '@stdlib/utils/keys';\nimport roundn from '@stdlib/math/base/special/roundn';\nimport copy from '@stdlib/utils/copy';\nimport { isPrimitive as isNumber } from '@stdlib/assert/is-number';\nimport NumberInput from '@isle-project/components/input/number';\nimport SelectInput from '@isle-project/components/input/select';\nimport TextInput from '@isle-project/components/input/text';\nimport Draggable from '@isle-project/components/draggable';\nimport Plotly from '@isle-project/components/plotly';\nimport Panel from '@isle-project/components/panel';\nimport TeX from '@isle-project/components/tex';\nimport isnan from '@stdlib/assert/is-nan';\nimport factor from '@isle-project/utils/factor-variable';\nimport mean from '@isle-project/utils/statistic/mean.js';\nimport min from '@isle-project/utils/statistic/min.js';\nimport max from '@isle-project/utils/statistic/max.js';\nimport { DATA_EXPLORER_BIN_TRANSFORMER } from '@isle-project/constants/actions.js';\nimport { generateHistogramConfig } from '@isle-project/components/plots/histogram';\nimport stopPropagation from '@isle-project/utils/stop-propagation';\nimport retrieveBinnedValues from './retrieve_binned_values.js';\nimport ClearButton from './../clear_button.js';\nimport './bin_transformer.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:data-explorer:variable-transformer' );\nconst RE_SHAPE = /shapes\\[(\\d)\\]\\.x0/;\nconst HISTOGRAM_SETTINGS = {\n\tgroup: null,\n\tdisplayDensity: true,\n\tdensityType: 'Data-driven',\n\tchooseBins: false,\n\tnBins: null\n};\n\n\n// FUNCTIONS //\n\n/**\n* Comparator function used to sort values in ascending order.\n*\n* @private\n* @param {number} a - first number\n* @param {number} b - second number\n* @returns {number} difference between `a` and `b`\n*/\nfunction ascending( a, b ) {\n\treturn a - b;\n}\n\n/**\n* Function to make shapes from breakpoints.\n*/\nconst makeShapes = ( breakpoints ) => {\n\tconst breakShapes = [];\n\tfor ( let i = 0; i < breakpoints.length; i++ ) {\n\t\tbreakShapes.push({\n\t\t\ttype: 'line',\n\t\t\tx0: breakpoints[i],\n\t\t\ty0: -100,\n\t\t\tx1: breakpoints[i],\n\t\t\ty1: 100,\n\t\t\tline: {\n\t\t\t\tcolor: 'red',\n\t\t\t\twidth: 3\n\t\t\t}\n\t\t});\n\t}\n\treturn breakShapes;\n};\n\n/**\n* Creates an array of category names for created bins.\n*\n* @param {Array<number>} breakpoints - breakpoints\n* @param {Array<string>} customNames - custom category labels\n* @returns {Array<string>} array of bin labels\n*/\nconst createCategoryNames = ( breakpoints, customNames ) => {\n\tconst out = new Array( customNames.length );\n\tif ( customNames[ 0 ] ) {\n\t\tout[ 0 ] = customNames[ 0 ];\n\t} else {\n\t\tout[ 0 ] = `(-\\u221E,${breakpoints[0]})`; // eslint-disable-line i18next/no-literal-string\n\t}\n\tfor ( let i = 1; i < customNames.length; i++ ) {\n\t\tif ( customNames[ i ] ) {\n\t\t\tout[ i ] = customNames[ i ];\n\t\t} else {\n\t\t\tout[ i ] = `[${breakpoints[i-1]},${breakpoints[i]})`;\n\t\t}\n\t}\n\tconst last = customNames.length - 1;\n\tif ( customNames[ last ] ) {\n\t\tout[ last ] = customNames[ last ];\n\t} else {\n\t\tout[ last ] = `[${breakpoints[ breakpoints.length - 1 ]},\\u221E)`; // eslint-disable-line i18next/no-literal-string\n\t}\n\treturn out;\n};\n\n\n// MAIN //\n\nconst BinningTransformer = ( props ) => {\n\tconst [ name, setName ] = useState( '' );\n\tconst [ snapDigits, setSnapDigits ] = useState( 0 );\n\tconst [ state, setState ] = useState({\n\t\tvariable: null,\n\t\tconfigHist: null,\n\t\tbreakpoints: null,\n\t\tcategories: null,\n\t\tcustomNames: null\n\t});\n\tconst invalidName = name.length < 2;\n\tconst makeNewVar = () => {\n\t\tconst { variable, categories, breakpoints } = state;\n\t\tconst rawData = props.data[ variable ];\n\t\tconst values = retrieveBinnedValues( rawData, categories, breakpoints );\n\t\tprops.logAction( DATA_EXPLORER_BIN_TRANSFORMER, {\n\t\t\tname,\n\t\t\tvariable,\n\t\t\tbreaks: breakpoints,\n\t\t\tcategories\n\t\t});\n\t\tconst newName = factor( name, categories );\n\t\tprops.onGenerate( newName, values );\n\t\tprops.onHide();\n\t};\n\tconst handleKeyPress = ( event ) => {\n\t\t// Handle \"Return\" key:\n\t\tif ( event.charCode === 13 && !invalidName ) {\n\t\t\tmakeNewVar();\n\t\t}\n\t};\n\tconst handleNameChange = ( event ) => {\n\t\tsetName( event.target.value );\n\t};\n\tconst changeFactory = ( ind ) => {\n\t\treturn ( value ) => {\n\t\t\tdebug( 'Change break point...' );\n\t\t\tconst newBreakpoints = state.breakpoints.slice();\n\t\t\tnewBreakpoints[ ind ] = roundn( value, -snapDigits );\n\t\t\tnewBreakpoints.sort( ascending );\n\t\t\tconst configHist = copy( state.configHist );\n\t\t\tconfigHist.layout.shapes = makeShapes( newBreakpoints );\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tconfigHist,\n\t\t\t\tbreakpoints: newBreakpoints,\n\t\t\t\tcategories: createCategoryNames( newBreakpoints, state.customNames )\n\t\t\t});\n\t\t};\n\t};\n\tconst categoryChangeFactory = ( ind ) => {\n\t\treturn ( value ) => {\n\t\t\tconst newCategories = state.categories.slice();\n\t\t\tnewCategories[ ind ] = value;\n\t\t\tconst newCustomNames = state.customNames.slice();\n\t\t\tnewCustomNames[ ind ] = value;\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t\tcategories: newCategories,\n\t\t\t\tcustomNames: newCustomNames\n\t\t\t};\n\t\t\tsetState( newState );\n\t\t};\n\t};\n\tconst deleteBreakpoint = ( ind ) => {\n\t\treturn () => {\n\t\t\tconst { breakpoints, categories, customNames } = state;\n\n\t\t\t// Remove the elements at the specified index:\n\t\t\tbreakpoints.splice( ind, 1 );\n\t\t\tcategories.splice( ind, 1 );\n\t\t\tcustomNames.splice( ind, 1 );\n\t\t\tconst configHist = { ...state.configHist };\n\t\t\tconfigHist.layout.shapes = makeShapes( breakpoints );\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tconfigHist,\n\t\t\t\tcategories,\n\t\t\t\tcustomNames,\n\t\t\t\tbreakpoints\n\t\t\t});\n\t\t};\n\t};\n\tconst makeTextInputs = () => {\n\t\tconst inputs = [];\n\t\tconst breakpoints = state.breakpoints;\n\t\tconst disableButton = breakpoints.length === 1;\n\t\tinputs.push( <Row key=\"div-0\">\n\t\t\t<Col md={7}>\n\t\t\t\t<TeX\n\t\t\t\t\traw=\"x < \"\n\t\t\t\t/><NumberInput\n\t\t\t\t\tinline\n\t\t\t\t\tonBlur={changeFactory( 0 )}\n\t\t\t\t\tdefaultValue={breakpoints[0]}\n\t\t\t\t\tstep=\"any\"\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={4}>\n\t\t\t\t<TextInput\n\t\t\t\t\tkey={0}\n\t\t\t\t\tlegend={`${props.t('label')} 1`}\n\t\t\t\t\tdefaultValue={state.categories[ 0 ]}\n\t\t\t\t\tonChange={categoryChangeFactory( 0 )}\n\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={1}></Col>\n\t\t</Row> );\n\t\tif ( breakpoints.length > 1 ) {\n\t\t\tfor ( let i = 0; i < breakpoints.length - 1; i++ ) {\n\t\t\t\tconst changeFn = categoryChangeFactory( i+1 );\n\t\t\t\tinputs.push( <Row key={`div-${i+1}`}>\n\t\t\t\t\t<Col md={7}>\n\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\tonBlur={changeFactory( i )}\n\t\t\t\t\t\t\tdefaultValue={breakpoints[i]}\n\t\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TeX raw=\"\\le x <\" />\n\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\tonBlur={changeFactory( i+1 )}\n\t\t\t\t\t\t\tdefaultValue={breakpoints[i+1]}\n\t\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tkey={1+i}\n\t\t\t\t\t\t\tlegend={`${props.t('label')} ${i+2}`}\n\t\t\t\t\t\t\tdefaultValue={state.categories[ i+1 ]}\n\t\t\t\t\t\t\tonChange={changeFn}\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={1}>\n\t\t\t\t\t\t<ClearButton\n\t\t\t\t\t\t\tonClick={deleteBreakpoint(i)}\n\t\t\t\t\t\t\tstyle={{ marginTop: '5px' }}\n\t\t\t\t\t\t\tdisabled={disableButton}\n\t\t\t\t\t\t\ttooltipPlacement=\"right\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row> );\n\t\t\t}\n\t\t}\n\t\tconst len = breakpoints.length;\n\t\tinputs.push( <Row key={`div-${len}`}>\n\t\t\t<Col md={7}>\n\t\t\t\t<TeX raw=\"x \\ge\" />\n\t\t\t\t<NumberInput\n\t\t\t\t\tinline\n\t\t\t\t\tonChange={changeFactory( len-1 )}\n\t\t\t\t\tdefaultValue={breakpoints[ len-1 ]}\n\t\t\t\t\tstep=\"any\"\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={4}>\n\t\t\t\t<TextInput\n\t\t\t\t\tlegend={`Label ${len+1}`}\n\t\t\t\t\tdefaultValue={state.categories[ len ]}\n\t\t\t\t\tonChange={categoryChangeFactory( len )}\n\t\t\t\t\tkey={len}\n\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t\t<Col md={1}>\n\t\t\t\t<ClearButton\n\t\t\t\t\tonClick={deleteBreakpoint( len - 1 )}\n\t\t\t\t\tstyle={{ marginTop: '5px' }}\n\t\t\t\t\tdisabled={disableButton}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t</Row> );\n\t\treturn inputs;\n\t};\n\tconst onChangeHistLine = ( data ) => {\n\t\tconst keyUpdate = keys( data );\n\t\tconst matches = RE_SHAPE.exec( keyUpdate[ 0 ] );\n\t\tif ( matches ) {\n\t\t\tconst ind = matches[ 1 ];\n\t\t\tconst newBreakpoints = state.breakpoints.slice();\n\t\t\tnewBreakpoints[ ind ] = roundn( data[ keyUpdate[0] ], -snapDigits );\n\t\t\tnewBreakpoints.sort( ascending );\n\t\t\tconst configHist = copy( state.configHist );\n\t\t\tconfigHist.layout.shapes = makeShapes( newBreakpoints );\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tconfigHist,\n\t\t\t\tbreakpoints: newBreakpoints,\n\t\t\t\tcategories: createCategoryNames( newBreakpoints, state.customNames )\n\t\t\t});\n\t\t}\n\t};\n\tconst handleVariableChange = ( value ) => {\n\t\tdebug( 'Change variable to bin...' );\n\t\tconst histConfigSettings = {\n\t\t\tdata: props.data,\n\t\t\tvariable: value,\n\t\t\t...HISTOGRAM_SETTINGS\n\t\t};\n\t\tconst configHist = generateHistogramConfig( histConfigSettings );\n\t\tconfigHist.layout.yaxis = {\n\t\t\trange: [\n\t\t\t\tmin( configHist.data[ 1 ].y ),\n\t\t\t\tmax( configHist.data[ 1 ].y )\n\t\t\t],\n\t\t\tfixedrange: true\n\t\t};\n\t\tconfigHist.layout.xaxis = {\n\t\t\tfixedrange: true\n\t\t};\n\t\tlet values = props.data[ value ];\n\t\tvalues = values.filter( x => isNumber( x ) && !isnan( x ) );\n\t\tconst breakpoints = [ roundn( mean( values ), -snapDigits ) ];\n\t\tconfigHist.layout.shapes = makeShapes( breakpoints );\n\t\tconst customNames = [ false, false ];\n\t\tsetState({\n\t\t\tvariable: value,\n\t\t\tconfigHist,\n\t\t\tbreakpoints,\n\t\t\tcustomNames,\n\t\t\tcategories: createCategoryNames( breakpoints, customNames )\n\t\t});\n\t};\n\tconst addBreakpoint = () => {\n\t\tconst newBreakpoints = state.breakpoints.slice();\n\t\tlet values = props.data[ state.variable ];\n\t\tvalues = values.filter( x => isNumber( x ) && !isnan( x ) );\n\t\tconst avg = runif( 0.8, 1.2 ) * mean( values );\n\t\tnewBreakpoints.push( roundn( avg, -snapDigits ) );\n\t\tnewBreakpoints.sort( ascending );\n\n\t\tconst configHist = copy( state.configHist );\n\t\tconfigHist.layout.shapes = makeShapes( newBreakpoints );\n\n\t\tconst customNames = state.customNames;\n\t\tcustomNames.push( false );\n\n\t\tconst newState = {\n\t\t\t...state,\n\t\t\tbreakpoints: newBreakpoints,\n\t\t\tconfigHist,\n\t\t\tcategories: createCategoryNames( newBreakpoints, customNames )\n\t\t};\n\t\tsetState( newState );\n\t};\n\tconst renderBody = () => {\n\t\tconst configHist = state.configHist;\n\t\tconst select = <SelectInput\n\t\t\tlegend={props.t('variable-to-bin')}\n\t\t\tdefaultValue={state.variable}\n\t\t\toptions={props.quantitative}\n\t\t\tonChange={handleVariableChange}\n\t\t\tstyle={{ maxWidth: 400 }}\n\t\t/>;\n\t\tif ( !configHist ) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{select}\n\t\t\t\t\t<Alert variant=\"info\">{props.t('select-variable-bin')}</Alert>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{select}\n\t\t\t\t<Button className=\"insert-line-button\" onClick={addBreakpoint}>\n\t\t\t\t\t{props.t('insert-break-line')}\n\t\t\t\t</Button>\n\t\t\t\t<p>\n\t\t\t\t\t{props.t('drag-red-bars')}\n\t\t\t\t\t(<NumberInput legend={props.t('digits-after-comma-snap')} min={0} max={9} inline defaultValue={snapDigits} onChange={setSnapDigits} />)\n\t\t\t\t</p>\n\t\t\t\t<div style={{ height: 250 }}>\n\t\t\t\t\t<Plotly\n\t\t\t\t\t\tdata={configHist.data}\n\t\t\t\t\t\tlayout={configHist.layout}\n\t\t\t\t\t\teditable\n\t\t\t\t\t\tfit\n\t\t\t\t\t\tremoveButtons\n\t\t\t\t\t\tlegendButtons={false}\n\t\t\t\t\t\tonRelayout={onChangeHistLine}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Card className=\"mb-2\" >\n\t\t\t\t\t\t<Card.Header>{props.t('choose-category-labels')}:</Card.Header>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t{makeTextInputs()}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t\t<FormGroup style={{ width: 'fit-content' }} >\n\t\t\t\t\t<FormLabel>{props.t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder={props.t('select-name')}\n\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormText>\n\t\t\t\t\t\t{props.t('new-variable-appended')}\n\t\t\t\t\t</FormText>\n\t\t\t\t</FormGroup>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\treturn (\n\t\t<Draggable cancel=\".card-body\" onDragStart={stopPropagation} style={{ zIndex: 1006 }} >\n\t\t\t<Panel\n\t\t\t\tonHide={props.onHide}\n\t\t\t\tshow={props.show}\n\t\t\t\theader={props.t('bin-transformer-header')}\n\t\t\t\tfooter={<Button onClick={makeNewVar} disabled={invalidName} >\n\t\t\t\t\t{props.t('create-new-variable')}\n\t\t\t\t</Button>}\n\t\t\t\tbodyStyle={{\n\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\tposition: 'relative'\n\t\t\t\t}}\n\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t>\n\t\t\t\t{renderBody()}\n\t\t\t</Panel>\n\t\t</Draggable>\n\t);\n};\n\n\n// PROPERTIES //\n\nBinningTransformer.defaultProps = {\n\tlogAction() {},\n\tonGenerate() {}\n};\n\nBinningTransformer.propTypes = {\n\tshow: PropTypes.bool.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tquantitative: PropTypes.array.isRequired,\n\tlogAction: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tonGenerate: PropTypes.func\n};\n\n\n// EXPORTS //\n\nexport default BinningTransformer;\n","// MODULES //\n\nimport React, { Component, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Trans } from 'react-i18next';\nimport Table from 'react-bootstrap/Table';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Draggable from '@isle-project/components/draggable';\nimport Panel from '@isle-project/components/panel';\nimport Collapse from '@isle-project/components/collapse';\nimport TextArea from '@isle-project/components/input/text-area';\nimport Tooltip from '@isle-project/components/tooltip';\nimport incrspace from '@stdlib/array/incrspace';\nimport contains from '@stdlib/assert/contains';\nimport replace from '@stdlib/string/replace';\nimport { DATA_EXPLORER_VARIABLE_TRANSFORMER } from '@isle-project/constants/actions.js';\nimport valuesFromFormula from './values_from_formula.js';\nimport FUNCTION_KEYS from './function_keys.json';\nimport './formula_transformer.css';\n\n\n// VARIABLES //\n\nconst DIGITS = incrspace( 0, 10, 1 );\nconst RE_LAST_EXPRESSION = /(?:^|\\n)([^\\n]*)$/;\nconst RE_DIGITS_START = /^[0-9]/;\n\n\n// FUNCTIONS //\n\nconst CustomMenu = React.forwardRef(\n\t({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\n\t\tconst [value, setValue] = useState( '' );\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tstyle={style}\n\t\t\t\tclassName={className}\n\t\t\t\taria-labelledby={labeledBy}\n\t\t\t>\n\t\t\t<FormControl\n\t\t\t\tclassName=\"mx-3 my-2 w-auto\"\n\t\t\t\tplaceholder=\"Type to filter...\"\n\t\t\t\tonChange={e => setValue(e.target.value)}\n\t\t\t\tvalue={value}\n\t\t\t/>\n\t\t\t\t<ul className=\"list-unstyled\">\n\t\t\t\t\t{React.Children.toArray(children).filter(\n\t\t\t\t\t\tchild =>\n\t\t\t\t\t\t!value || child.props.children.toLowerCase().startsWith(value),\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\n\n// MAIN //\n\nclass FormulaTransformer extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tcode: props.defaultCode,\n\t\t\tselection: null,\n\t\t\tname: '',\n\t\t\tshowGuide: false\n\t\t};\n\t}\n\n\thandleGenerate = () => {\n\t\tlet { code, name } = this.state;\n\t\tif ( !contains( code, 'return ' ) ) {\n\t\t\tcode = replace( code, RE_LAST_EXPRESSION, '\\nreturn $1' );\n\t\t}\n\t\tlet values;\n\t\ttry {\n\t\t\tvalues = valuesFromFormula( code, this.props.data );\n\t\t\tthis.props.logAction( DATA_EXPLORER_VARIABLE_TRANSFORMER, {\n\t\t\t\tcode, name\n\t\t\t});\n\t\t\tthis.props.onGenerate( name, values );\n\t\t} catch ( err ) {\n\t\t\treturn this.props.session.addNotification({\n\t\t\t\ttitle: 'Errored',\n\t\t\t\tmessage: 'Encountered the following error: '+err.message,\n\t\t\t\tlevel: 'error',\n\t\t\t\tposition: 'tr'\n\t\t\t});\n\t\t}\n\t\tthis.props.onHide();\n\t}\n\n\thandleNameChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tname: event.target.value\n\t\t});\n\t}\n\n\thandleCodeChange = ( value ) => {\n\t\tthis.setState({\n\t\t\tcode: value\n\t\t});\n\t}\n\n\thandleKeyPress = ( event ) => {\n\t\tif ( event.charCode === 13 && this.state.name.length >= 2 ) {\n\t\t\tthis.handleGenerate();\n\t\t}\n\t}\n\n\tinsertVarFactory = ( name ) => {\n\t\treturn () => {\n\t\t\tlet newCode = this.state.code.substring( 0, this.state.selection );\n\t\t\tlet replacement = 'datum';\n\t\t\tconst literal =\n\t\t\t\t!contains( name, ' ' ) &&\n\t\t\t\t!contains( name, '.' ) &&\n\t\t\t\t!RE_DIGITS_START.test( name );\n\t\t\treplacement += literal ? `.${name}` : `['${name}']`;\n\t\t\tnewCode += replacement;\n\t\t\tnewCode += this.state.code.substring( this.state.selection );\n\t\t\tthis.setState({\n\t\t\t\tcode: newCode,\n\t\t\t\tselection: this.state.selection + replacement.length\n\t\t\t});\n\t\t};\n\t}\n\n\tinsertLiteralFactory = ( operator ) => {\n\t\treturn () => {\n\t\t\tlet newCode = this.state.code.substring( 0, this.state.selection );\n\t\t\tconst replacement = operator;\n\t\t\tnewCode += replacement;\n\t\t\tnewCode += this.state.code.substring( this.state.selection );\n\t\t\tthis.setState({\n\t\t\t\tcode: newCode,\n\t\t\t\tselection: this.state.selection + replacement.length\n\t\t\t});\n\t\t};\n\t}\n\n\tinsertFuncFactory = ( funcName ) => {\n\t\treturn () => {\n\t\t\tlet newCode = this.state.code.substring( 0, this.state.selection );\n\t\t\tconst replacement = ' '+funcName+'()';\n\t\t\tnewCode += replacement;\n\t\t\tnewCode += this.state.code.substring( this.state.selection );\n\t\t\tthis.setState({\n\t\t\t\tcode: newCode,\n\t\t\t\tselection: this.state.selection + replacement.length - 1\n\t\t\t});\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst continuousItems = this.props.quantitative.map( ( v, i ) => {\n\t\t\treturn <Dropdown.Item key={i} onClick={this.insertVarFactory( v )} eventKey={i}>{v}</Dropdown.Item>;\n\t\t});\n\t\treturn (\n\t\t\t<Draggable cancel=\".card-body\" onDragStart={( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}} style={{ zIndex: 1006 }} >\n\t\t\t\t<Panel\n\t\t\t\t\tshow={this.props.show}\n\t\t\t\t\tonHide={this.props.onHide}\n\t\t\t\t\theader={this.props.t('formula-transformer-header')}\n\t\t\t\t\tfooter={<Button onClick={this.handleGenerate} disabled={this.state.name.length < 2} >{this.props.t('create-new-variable')}</Button>}\n\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"formula-transformer-body\">\n\t\t\t\t\t\t<Collapse headerClassName=\"title\" header={this.state.showGuide ? t('hide-example-guide') : t('show-example-guide')} visible={this.state.showGuide} onClick={() => this.setState({ showGuide: !this.state.showGuide })}>\n\t\t\t\t\t\t\t<p>{t('formula-transformer-example-intro')}</p>\n\t\t\t\t\t\t\t<Table condensed >\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>{t('type')}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t('example')}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t('description')}</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>{t('interaction')}:</td>\n\t\t\t\t\t\t\t\t\t\t<td><code>datum.{this.props.quantitative[0]} * datum.{this.props.quantitative[1]}</code></td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"example-description-multiply\" ns=\"DataExplorer\" >\n\t\t\t\t\t\t\t\t\t\t\t\tMultiply values of variables <code>{{ first: this.props.quantitative[0] }}</code> and <code>{{ second: this.props.quantitative[1] }}</code>\n\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>{t('transformation')}:</td>\n\t\t\t\t\t\t\t\t\t\t<td><code>exp( datum.{this.props.quantitative[0]} )</code></td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"example-description-exponential\" ns=\"DataExplorer\" >\n\t\t\t\t\t\t\t\t\t\t\t\tNatural exponential function of variable <code>{{ variable: this.props.quantitative[0] }}</code>\n\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>{t('function')}:</td>\n\t\t\t\t\t\t\t\t\t\t<td><code>9/5 * {this.props.quantitative[0]} + 32</code></td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"example-description-calculation\" ns=\"DataExplorer\" >\n\t\t\t\t\t\t\t\t\t\t\t\tMultiply values of <code>{{ variable: this.props.quantitative[0] }}</code> by <code>9/5</code> and add <code>32</code>\n\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<div className=\"mb-2\" >\n\t\t\t\t\t\t\t<ButtonToolbar style={{ marginBottom: 5 }} >\n\t\t\t\t\t\t\t\t<Dropdown className=\"mr-2\">\n\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"light\" id=\"dropdown-custom-components\">\n\t\t\t\t\t\t\t\t\t\t{t('quantitative')}\n\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t<Dropdown.Menu variant=\"light\" as={CustomMenu} id=\"bg-nested-dropdown\">\n\t\t\t\t\t\t\t\t\t\t{continuousItems}\n\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown className=\"mr-2\">\n\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"light\" id=\"dropdown-custom-components\">\n\t\t\t\t\t\t\t\t\t\t{t('categorical')}\n\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t<Dropdown.Menu variant=\"light\" as={CustomMenu} id=\"bg-nested-dropdown\">\n\t\t\t\t\t\t\t\t\t\t{this.props.categorical.map( ( v, i ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <Dropdown.Item key={i} onClick={this.insertVarFactory( v )} eventKey={i}>{v}</Dropdown.Item>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Card className=\"mb-2\" >\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ButtonToolbar style={{ marginBottom: 5 }} >\n\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' < ')} >{'<'}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' > ')} >{'>'}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' <= ')} >{'<='}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' >= ')} >{'>='}</Button>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('open-parenthesis')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' ( ')} >(</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('closing-parenthesis')} ><Button variant=\"light\" onClick={this.insertLiteralFactory(' ) ')} >)</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('addition')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' + ')} >+</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('subtraction')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' - ')} >-</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('multiplication')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' * ')} >*</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" tooltip={t('division')}><Button variant=\"light\" onClick={this.insertLiteralFactory(' / ')} >/</Button></Tooltip>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' && ')} >{t('and')}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' || ')} >{t('or')}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory(' !')} >{t('not')}</Button>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"me-2\">\n\t\t\t\t\t\t\t\t\t\t{FUNCTION_KEYS.map( ( v, i ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <Button key={i} variant=\"light\" onClick={this.insertFuncFactory( v )} eventKey={i}>{v}</Button>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t\t<ButtonToolbar>\n\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"sm\" className=\"mr-2\" >\n\t\t\t\t\t\t\t\t\t\t{DIGITS.map( ( d, i ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <Button key={i} variant=\"light\" onClick={this.insertLiteralFactory( `${d}`)} >{d}</Button>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" onClick={this.insertLiteralFactory('.')} >.</Button>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<Card className=\"mb-2\" >\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\t\tref={div => { this.textarea = div; }}\n\t\t\t\t\t\t\t\t\tlegend={`${t('expression')}:`}\n\t\t\t\t\t\t\t\t\tplaceholder={t('enter-formula')}\n\t\t\t\t\t\t\t\t\tvalue={this.state.code}\n\t\t\t\t\t\t\t\t\tonChange={this.handleCodeChange}\n\t\t\t\t\t\t\t\t\tonBlur={( event ) => {\n\t\t\t\t\t\t\t\t\t\tconst selectionStart = event.target.selectionStart;\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tselection: selectionStart\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<FormGroup style={{ margin: 8 }}>\n\t\t\t\t\t\t\t<FormLabel>{t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={t('select-name')}\n\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\n\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormText>\n\t\t\t\t\t\t\t\t{t('new-variable-appended')}\n\t\t\t\t\t\t\t</FormText>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</Panel>\n\t\t\t</Draggable>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nFormulaTransformer.defaultProps = {\n\tlogAction() {},\n\tonGenerate() {},\n\tdefaultCode: '',\n\tsession: {}\n};\n\nFormulaTransformer.propTypes = {\n\tshow: PropTypes.bool.isRequired,\n\tcategorical: PropTypes.array.isRequired,\n\tquantitative: PropTypes.array.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tdefaultCode: PropTypes.string,\n\tlogAction: PropTypes.func,\n\tonGenerate: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tsession: PropTypes.object\n};\n\n\n// EXPORTS //\n\nexport default FormulaTransformer;\n","// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport Draggable from '@isle-project/components/draggable';\nimport Panel from '@isle-project/components/panel';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport Table from '@isle-project/components/table';\nimport objectKeys from '@stdlib/utils/keys';\nimport countBy from '@stdlib/utils/count-by';\nimport identity from '@stdlib/utils/identity-function';\nimport copy from '@stdlib/utils/copy';\nimport replace from '@stdlib/string/replace';\nimport isDigitString from '@stdlib/assert/is-digit-string';\nimport SelectInput from '@isle-project/components/input/select';\nimport CheckboxInput from '@isle-project/components/input/checkbox';\nimport Tooltip from '@isle-project/components/tooltip';\nimport { DATA_EXPLORER_CAT_TRANSFORMER } from '@isle-project/constants/actions.js';\nimport recodeCategorical from './recode_categorical';\nimport extractUsedCategories from '@isle-project/utils/extract-used-categories';\nimport './categorical_transformer.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:data-explorer:variable-transformer' );\n\n\n// FUNCTIONS //\n\nfunction escapeDots( str ) {\n\tif ( !str ) {\n\t\treturn str;\n\t}\n\treturn replace( str, '.', '[dot]' );\n}\n\nfunction checkNumericLabels( nameMappings ) {\n\tconst keys = objectKeys( nameMappings );\n\tlet allNumeric = true;\n\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\tif ( !isDigitString( nameMappings[ keys[ i ] ] ) ) {\n\t\t\tallNumeric = false;\n\t\t}\n\t}\n\treturn allNumeric;\n}\n\n\n// MAIN //\n\nclass CategoricalTransformer extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst firstVar = props.categorical[ 0 ];\n\t\tconst firstValues = props.data[ firstVar ];\n\t\tconst firstFreqs = countBy( firstValues, identity );\n\t\tconst keys = extractUsedCategories( firstFreqs, firstVar );\n\t\tconst nameMappings = {};\n\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\tnameMappings[ escapeDots( keys[ i ] ) ] = keys[ i ];\n\t\t}\n\t\tthis.state = {\n\t\t\tgeneratedName: '',\n\t\t\tfirstVar,\n\t\t\tfirstFreqs,\n\t\t\tnameMappings,\n\t\t\tsecondVar: null,\n\t\t\tsecondFreqs: null,\n\t\t\tcastNumeric: false,\n\t\t\tonlyNumbers: false\n\t\t};\n\t}\n\n\thandleFirstVariableChange = ( variable ) => {\n\t\tconst nameMappings = {};\n\t\tlet firstFreqs;\n\t\tif ( !this.state.secondVar ) {\n\t\t\tconst firstValues = this.props.data[ variable ];\n\t\t\tfirstFreqs = countBy( firstValues, identity );\n\t\t\tconst keys = extractUsedCategories( firstFreqs, variable );\n\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\tnameMappings[ escapeDots( keys[ i ] ) ] = keys[ i ];\n\t\t\t}\n\t\t} else {\n\t\t\tconst firstVar = variable;\n\t\t\tconst secondVar = this.state.secondVar;\n\t\t\tconst firstValues = this.props.data[ firstVar ];\n\t\t\tfirstFreqs = countBy( firstValues, identity );\n\t\t\tconst firstKeys = extractUsedCategories( firstFreqs, firstVar );\n\t\t\tconst secondKeys = extractUsedCategories( this.state.secondFreqs, secondVar );\n\t\t\tfor ( let i = 0; i < firstKeys.length; i++ ) {\n\t\t\t\tfor ( let j = 0; j < secondKeys.length; j++ ) {\n\t\t\t\t\tconst label = firstKeys[ i ] + '-' + secondKeys[ j ];\n\t\t\t\t\tnameMappings[ escapeDots( label ) ] = label;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst onlyNumbers = checkNumericLabels( nameMappings );\n\t\tthis.setState({\n\t\t\tfirstVar: variable,\n\t\t\tfirstFreqs,\n\t\t\tnameMappings,\n\t\t\tonlyNumbers\n\t\t});\n\t}\n\n\thandleSecondVariableChange = ( secondVar ) => {\n\t\tif ( !secondVar ) {\n\t\t\t// Case: Resetting the second variable...\n\t\t\tconst firstVar = this.state.firstVar;\n\t\t\tconst keys = extractUsedCategories( this.state.firstFreqs, firstVar );\n\t\t\tconst nameMappings = {};\n\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\tnameMappings[ escapeDots( keys[ i ] ) ] = keys[ i ];\n\t\t\t}\n\t\t\treturn this.setState({\n\t\t\t\tsecondVar,\n\t\t\t\tnameMappings\n\t\t\t});\n\t\t}\n\t\t// Case: Have both a second and first variable...\n\t\tconst nameMappings = {};\n\t\tconst firstVar = this.state.firstVar;\n\t\tconst secondValues = this.props.data[ secondVar ];\n\t\tconst secondFreqs = countBy( secondValues, identity );\n\t\tconst firstKeys = extractUsedCategories( this.state.firstFreqs, firstVar );\n\t\tconst secondKeys = extractUsedCategories( secondFreqs, secondVar );\n\t\tfor ( let i = 0; i < firstKeys.length; i++ ) {\n\t\t\tfor ( let j = 0; j < secondKeys.length; j++ ) {\n\t\t\t\tconst label = firstKeys[ i ] + '-' + secondKeys[ j ];\n\t\t\t\tnameMappings[ escapeDots( label ) ] = label;\n\t\t\t}\n\t\t}\n\t\tconst onlyNumbers = checkNumericLabels( nameMappings );\n\t\tthis.setState({\n\t\t\tsecondVar,\n\t\t\tsecondFreqs,\n\t\t\tnameMappings,\n\t\t\tonlyNumbers\n\t\t});\n\t}\n\n\thandleKeyPress = ( event ) => {\n\t\tif ( event.charCode === 13 && this.state.generatedName.length >= 2 ) {\n\t\t\tthis.makeNewVar();\n\t\t}\n\t}\n\n\trenderTable() {\n\t\tif ( this.state.firstVar && this.state.secondVar ) {\n\t\t\treturn this.renderContingencyTable();\n\t\t}\n\t\tif ( this.state.firstVar || this.state.secondVar ) {\n\t\t\treturn this.renderFrequencyTable();\n\t\t}\n\t\treturn null;\n\t}\n\n\tchangeFreqFactory = ( oldLabel ) => {\n\t\treturn ( event ) => {\n\t\t\tconst nameMappings = copy( this.state.nameMappings );\n\t\t\tnameMappings[ escapeDots( oldLabel ) ] = event.target.value;\n\t\t\tconst onlyNumbers = checkNumericLabels( nameMappings );\n\t\t\tthis.setState({\n\t\t\t\tnameMappings,\n\t\t\t\tonlyNumbers\n\t\t\t});\n\t\t};\n\t}\n\n\tchangeContigencyFactory = ( rowLabel, colLabel ) => {\n\t\treturn ( event ) => {\n\t\t\tconst nameMappings = copy( this.state.nameMappings );\n\t\t\tnameMappings[ escapeDots( colLabel ) + '-' + escapeDots( rowLabel ) ] = event.target.value;\n\t\t\tthis.setState({\n\t\t\t\tnameMappings\n\t\t\t});\n\t\t};\n\t}\n\n\thandleGeneratedNameChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tgeneratedName: event.target.value\n\t\t});\n\t}\n\n\tmakeNewVar = () => {\n\t\tdebug( 'Generating new categorical variable...' );\n\t\tconst { firstVar, secondVar, nameMappings, castNumeric } = this.state;\n\t\tconst newVar = recodeCategorical( firstVar, secondVar, nameMappings, this.props.data, castNumeric );\n\t\tthis.props.onGenerate( this.state.generatedName, newVar );\n\t\tthis.props.logAction( DATA_EXPLORER_CAT_TRANSFORMER, {\n\t\t\tname: this.state.generatedName,\n\t\t\tfirstVar: firstVar,\n\t\t\tsecondVar: secondVar,\n\t\t\tnameMappings: nameMappings,\n\t\t\tcastNumeric: castNumeric\n\t\t});\n\t\tthis.props.onHide();\n\t}\n\n\trenderFrequencyTable = () => {\n\t\tconst variable = this.state.firstVar;\n\t\tconst values = this.props.data[ variable ];\n\t\tconst varFreqs = countBy( values, identity );\n\t\tconst keys = extractUsedCategories( varFreqs, variable );\n\t\treturn (\n\t\t\t<Table bordered style={{ margin: 8 }} >\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{this.props.t('old')}:</th>\n\t\t\t\t\t\t{keys.map( ( val, idx ) => {\n\t\t\t\t\t\t\treturn <th key={`${variable}-${idx}-old`}>{val}</th>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{this.props.t('new')}:</th>\n\t\t\t\t\t\t{keys.map( ( val, idx ) => {\n\t\t\t\t\t\t\treturn ( <th key={`${variable}-${idx}-new`}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"transformer-table-input\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tdefaultValue={val}\n\t\t\t\t\t\t\t\t\tonChange={this.changeFreqFactory( val )}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</th> );\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr style={{ borderTop: '1px solid black' }}>\n\t\t\t\t\t\t<th>{this.props.t('frequencies')}:</th>\n\t\t\t\t\t\t{keys.map( ( label, idx ) => {\n\t\t\t\t\t\t\tconst freq = this.state.firstFreqs[ label ];\n\t\t\t\t\t\t\treturn <td key={`${variable}-${idx}-freq`}>{freq}</td>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t);\n\t}\n\n\trenderContingencyTable = () => {\n\t\tconst rowVar = this.state.secondVar;\n\t\tconst colVar = this.state.firstVar;\n\t\tconst rowValues = this.props.data[ rowVar ];\n\t\tconst colValues = this.props.data[ colVar ];\n\t\tconst rowFreqs = countBy( rowValues, identity );\n\t\tconst colFreqs = countBy( colValues, identity );\n\t\tconst rowKeys = extractUsedCategories( rowFreqs, rowVar );\n\t\tconst colKeys = extractUsedCategories( colFreqs, colVar );\n\t\treturn (\n\t\t\t<Table bordered style={{ margin: 8 }}>\n\t\t\t\t<tr>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t{colKeys.map( ( col, idx ) => {\n\t\t\t\t\t\treturn ( <th key={`${col}-${idx}`}>\n\t\t\t\t\t\t\t{col}\n\t\t\t\t\t\t</th> );\n\t\t\t\t\t})}\n\t\t\t\t</tr>\n\t\t\t\t{rowKeys.map( ( row, idx ) => {\n\t\t\t\t\treturn ( <tr key={`${row}-${idx}`}>\n\t\t\t\t\t\t<th>{row}</th>\n\t\t\t\t\t\t{colKeys.map( ( col, idx ) => {\n\t\t\t\t\t\t\treturn ( <td key={`${row}-${col}-${idx}`}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"transformer-table-input\"\n\t\t\t\t\t\t\t\t\ttype=\"text\" defaultValue={`${col}-${row}`}\n\t\t\t\t\t\t\t\t\tonChange={this.changeContigencyFactory( row, col )}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td> );\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tr> );\n\t\t\t\t})}\n\t\t\t</Table>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Draggable cancel=\".card-body\" onDragStart={( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}} style={{ zIndex: 1006 }} >\n\t\t\t\t<Panel\n\t\t\t\t\tonHide={this.props.onHide}\n\t\t\t\t\tshow={this.props.show}\n\t\t\t\t\theader={t('categorical-transformer-header')}\n\t\t\t\t\tfooter={<Button onClick={this.makeNewVar} disabled={this.state.generatedName.length < 2}>\n\t\t\t\t\t\t{t('create-new-variable')}\n\t\t\t\t\t</Button>}\n\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t}}\n\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\tlegend={t('first-variable')}\n\t\t\t\t\t\t\t\tdefaultValue={this.state.firstVar || ''}\n\t\t\t\t\t\t\t\toptions={this.props.categorical}\n\t\t\t\t\t\t\t\tonChange={this.handleFirstVariableChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\tlegend={t('optional-second-variable')}\n\t\t\t\t\t\t\t\tdefaultValue={this.state.secondVar || ''}\n\t\t\t\t\t\t\t\toptions={this.props.categorical}\n\t\t\t\t\t\t\t\tonChange={this.handleSecondVariableChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row style={{ overflowX: 'auto', width: '100%' }}>\n\t\t\t\t\t\t{this.renderTable()}\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Tooltip tooltip={t('treat-labels-as-numbers-tooltip')}>\n\t\t\t\t\t\t\t<CheckboxInput\n\t\t\t\t\t\t\t\tlegend={t('treat-labels-as-numbers')}\n\t\t\t\t\t\t\t\tdefaultValue={false}\n\t\t\t\t\t\t\t\tdisabled={!this.state.onlyNumbers}\n\t\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tcastNumeric: !this.state.castNumeric\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<FormGroup style={{ margin: 8 }}>\n\t\t\t\t\t\t\t<FormLabel>{t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={t('select-name')}\n\t\t\t\t\t\t\t\tonChange={this.handleGeneratedNameChange}\n\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormText>\n\t\t\t\t\t\t\t\t{t('new-variable-appended')}\n\t\t\t\t\t\t\t</FormText>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Row>\n\t\t\t\t</Panel>\n\t\t\t</Draggable>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCategoricalTransformer.defaultProps = {\n\tlogAction() {}\n};\n\nCategoricalTransformer.propTypes = {\n\tcategorical: PropTypes.array.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tonGenerate: PropTypes.func.isRequired,\n\tlogAction: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\n\n// EXPORTS //\n\nexport default CategoricalTransformer;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormText from 'react-bootstrap/FormText';\nimport sample from '@stdlib/random/sample';\nimport absdiff from '@stdlib/math/base/utils/absolute-difference';\nimport objectKeys from '@stdlib/utils/keys';\nimport TextInput from '@isle-project/components/input/text';\nimport NumberInput from '@isle-project/components/input/number';\nimport Draggable from '@isle-project/components/draggable';\nimport Panel from '@isle-project/components/panel';\nimport { DATA_EXPLORER_GROUP_TRANSFORMER } from '@isle-project/constants/actions.js';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:data-explorer:group-transformer' );\n\n\n// MAIN //\n\nclass GroupTransformer extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tgeneratedName: '',\n\t\t\tnGroups: 2,\n\t\t\tgroupProbs: [ 0.5, 0.5 ],\n\t\t\tlabels: [ 'Group 1', 'Group 2' ]\n\t\t};\n\t}\n\n\thandleGeneratedNameChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tgeneratedName: event.target.value\n\t\t});\n\t}\n\n\thandleGroupNumberChange = ( nGroups ) => {\n\t\tconst groupProbs = new Array( nGroups ).fill( 1/nGroups );\n\t\tconst labels = new Array( nGroups );\n\t\tfor ( let i = 0; i < labels.length; i++ ) {\n\t\t\tlabels[ i ] = `${this.props.t('group')} ${i+1}`;\n\t\t}\n\t\tthis.setState({\n\t\t\tgroupProbs,\n\t\t\tlabels,\n\t\t\tnGroups\n\t\t});\n\t}\n\n\thandleKeyPress = ( event ) => {\n\t\tif ( event.charCode === 13 ) {\n\t\t\tlet sum = 0.0;\n\t\t\tfor ( let i = 0; i < this.state.groupProbs.length; i++ ) {\n\t\t\t\tsum += this.state.groupProbs[ i ];\n\t\t\t}\n\t\t\tconst hasValidValues = this.state.generatedName.length > 2 && absdiff( sum, 1.0 ) <= 1.5e-8;\n\t\t\tif ( hasValidValues ) {\n\t\t\t\tthis.makeNewVar();\n\t\t\t}\n\t\t}\n\t}\n\n\tmakeNewVar = () => {\n\t\tdebug( 'Generating new categorical variable...' );\n\t\tconst keys = objectKeys( this.props.data );\n\t\tconst nobs = this.props.data[ keys[ 0 ] ].length;\n\n\t\tconst values = sample( this.state.labels, {\n\t\t\tsize: nobs,\n\t\t\tprobs: this.state.groupProbs,\n\t\t\treplace: true\n\t\t});\n\t\tthis.props.onGenerate( this.state.generatedName, values );\n\t\tthis.props.logAction( DATA_EXPLORER_GROUP_TRANSFORMER, {\n\t\t\tname: this.state.generatedName,\n\t\t\tlabels: this.state.labels,\n\t\t\tgroupProbs: this.state.groupProbs\n\t\t});\n\t\tthis.props.onHide();\n\t}\n\n\trenderTable() {\n\t\tconst elems = new Array( this.state.nGroups );\n\t\tfor ( let i = 0; i < elems.length; i++ ) {\n\t\t\telems[ i ] = <Row key={i} >\n\t\t\t\t<Col>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tlegend={`Label for Group ${i+1}`}\n\t\t\t\t\t\tdefaultValue={this.state.labels[ i ]}\n\t\t\t\t\t\tonChange={( val ) => {\n\t\t\t\t\t\t\tconst labels = this.state.labels.slice();\n\t\t\t\t\t\t\tlabels[ i ] = val;\n\t\t\t\t\t\t\tthis.setState({ labels });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<NumberInput\n\t\t\t\t\t\tlegend={this.props.t('group-proportion')}\n\t\t\t\t\t\tonChange={( val ) => {\n\t\t\t\t\t\t\tconst groupProbs = this.state.groupProbs.slice();\n\t\t\t\t\t\t\tgroupProbs[ i ] = val;\n\t\t\t\t\t\t\tthis.setState({ groupProbs });\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultValue={this.state.groupProbs[ i ]}\n\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\tnumbersOnly={false}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{elems}\n\t\t\t\t<p>{this.props.t('proportions-sum-one')}</p>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tlet sum = 0.0;\n\t\tfor ( let i = 0; i < this.state.groupProbs.length; i++ ) {\n\t\t\tsum += this.state.groupProbs[ i ];\n\t\t}\n\t\tconst hasValidValues = this.state.generatedName.length > 2 && absdiff( sum, 1.0 ) <= 1.5e-8;\n\t\treturn (\n\t\t\t<Draggable cancel=\".card-body\" onDragStart={( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}} style={{ zIndex: 1006 }} >\n\t\t\t\t<Panel\n\t\t\t\t\tonHide={this.props.onHide}\n\t\t\t\t\tshow={this.props.show}\n\t\t\t\t\theader={this.props.t('group-transformer-header')}\n\t\t\t\t\tfooter={<Button onClick={this.makeNewVar} disabled={!hasValidValues}>\n\t\t\t\t\t\t{this.props.t('create-new-variable')}\n\t\t\t\t\t</Button>}\n\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\tbodyStyle={{\n\t\t\t\t\t\tmaxHeight: 'calc(100vh - 200px)',\n\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\tposition: 'relative'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\t\tlegend={this.props.t('number-of-groups')}\n\t\t\t\t\t\t\t\tonChange={this.handleGroupNumberChange}\n\t\t\t\t\t\t\t\tdefaultValue={this.state.nGroups}\n\t\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\tmax={99}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t{this.renderTable()}\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<FormGroup style={{ margin: 8 }}>\n\t\t\t\t\t\t\t<FormLabel>{this.props.t('name-new-variable')}:</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={this.props.t('select-name')}\n\t\t\t\t\t\t\t\tonChange={this.handleGeneratedNameChange}\n\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormText>\n\t\t\t\t\t\t\t\t{this.props.t('new-variable-appended')}\n\t\t\t\t\t\t\t</FormText>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Row>\n\t\t\t\t</Panel>\n\t\t\t</Draggable>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nGroupTransformer.defaultProps = {\n\tlogAction() {}\n};\n\nGroupTransformer.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tonGenerate: PropTypes.func.isRequired,\n\tlogAction: PropTypes.func,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\n\n// EXPORTS //\n\nexport default GroupTransformer;\n","// MODULES //\n\nimport React, { useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport BinTransformer from './bin_transformer.js';\nimport FormulaTransformer from './formula_transformer.js';\nimport CategoricalModal from './categorical_transformer.js';\nimport GroupModal from './group_transformer.js';\n\n\n// MAIN //\n\nconst Transformer = ( props ) => {\n\tconst { data, categorical, quantitative, t, session, defaultCode, logAction, onGenerate } = props;\n\tconst [ active, setActive ] = useState( null );\n\n\tconst toggleFormulaModal = () => {\n\t\tconst newActive = active === 'formula' ? null : 'formula';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleBinModal = () => {\n\t\tconst newActive = active === 'bin' ? null : 'bin';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleCategoricalModal = () => {\n\t\tconst newActive = active === 'categorical' ? null : 'categorical';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tconst toggleGroupModal = () => {\n\t\tconst newActive = active === 'group' ? null : 'group';\n\t\tsetActive( newActive );\n\t\tprops.onActive( newActive );\n\t};\n\tlet modal;\n\tif ( data ) {\n\t\tswitch ( active ) {\n\t\t\tcase 'bin':\n\t\t\t\tmodal = <BinTransformer\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleBinModal}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'categorical':\n\t\t\t\tmodal = <CategoricalModal\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleCategoricalModal}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'formula':\n\t\t\t\tmodal = <FormulaTransformer\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleFormulaModal}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tdefaultCode={defaultCode}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tsession={session}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t\tcase 'group':\n\t\t\t\tmodal = <GroupModal\n\t\t\t\t\tshow={true}\n\t\t\t\t\tonHide={toggleGroupModal}\n\t\t\t\t\tlogAction={logAction}\n\t\t\t\t\tonGenerate={onGenerate}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tt={t}\n\t\t\t\t/>;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"well\" style={{ padding: 15, margin: 15 }} >\n\t\t\t\t<div style={{ padding: 12 }} >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleFormulaModal}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('interactions-functions')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ padding: 12 }} >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleBinModal}\n\t\t\t\t\t\tdisabled={!quantitative || quantitative.length === 0}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('bin-quantitative')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ padding: 12 }} >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleCategoricalModal}\n\t\t\t\t\t\tdisabled={!categorical || categorical.length === 0}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('rename-or-combine')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ padding: 12 }} >\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleGroupModal}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ fontSize: '1.2em' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('create-groups')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{modal}\n\t\t</Fragment>\n\t);\n};\n\n\n// PROPERTIES //\n\nTransformer.defaultProps = {\n\tlogAction() {},\n\tonActive() {},\n\tonGenerate() {},\n\tdefaultCode: '',\n\tsession: {}\n};\n\nTransformer.propTypes = {\n\tcategorical: PropTypes.array.isRequired,\n\tquantitative: PropTypes.array.isRequired,\n\tdata: PropTypes.object.isRequired,\n\tdefaultCode: PropTypes.string,\n\tlogAction: PropTypes.func,\n\tonActive: PropTypes.func,\n\tonGenerate: PropTypes.func,\n\tsession: PropTypes.object\n};\n\n\n// EXPORTS //\n\nexport default Transformer;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  role: 'toolbar'\n};\nvar ButtonToolbar = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn-toolbar');\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    ref: ref,\n    className: classNames(className, prefix)\n  }));\n});\nButtonToolbar.displayName = 'ButtonToolbar';\nButtonToolbar.defaultProps = defaultProps;\nexport default ButtonToolbar;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Test whether a string contains only numeric digits.\n*\n* @module @stdlib/assert/is-digit-string\n*\n* @example\n* var isDigitString = require( '@stdlib/assert/is-digit-string' );\n*\n* var out = isDigitString( '0123456789' );\n* // returns true\n*\n* out = isDigitString( '0xffffff' );\n* // returns false\n*\n* out = isDigitString( '' );\n* // returns false\n*/\n// MODULES //\n\nvar isDigitString = require('./main.js'); // EXPORTS //\n\n\nmodule.exports = isDigitString;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isString = require('./../../is-string').isPrimitive; // VARIABLES //\n// Character codes:\n\n\nvar ZERO = 48;\nvar NINE = 57; // MAIN //\n\n/**\n* Tests whether a string contains only numeric digits.\n*\n* @param {*} x - value to test\n* @returns {boolean} boolean indicating if a string contains only numeric digits\n*\n* @example\n* var out = isDigitString( '0123456789' );\n* // returns true\n*\n* @example\n* var out = isDigitString( '0xffffff' );\n* // returns false\n*\n* @example\n* var out = isDigitString( '' );\n* // returns false\n*\n* @example\n* var out = isDigitString( 123 );\n* // returns false\n*/\n\nfunction isDigitString(x) {\n  var len;\n  var ch;\n  var i;\n\n  if (!isString(x)) {\n    return false;\n  }\n\n  len = x.length;\n\n  if (len === 0) {\n    return false;\n  }\n\n  for (i = 0; i < len; i++) {\n    ch = x.charCodeAt(i);\n\n    if (ch < ZERO || ch > NINE) {\n      return false;\n    }\n  }\n\n  return true;\n} // EXPORTS //\n\n\nmodule.exports = isDigitString;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar setReadOnly = require('@stdlib/utils/define-nonenumerable-read-only-property');\n\nvar setReadOnlyAccessor = require('@stdlib/utils/define-nonenumerable-read-only-accessor');\n\nvar setReadWriteAccessor = require('@stdlib/utils/define-nonenumerable-read-write-accessor');\n\nvar isObject = require('@stdlib/assert/is-plain-object');\n\nvar isFunction = require('@stdlib/assert/is-function');\n\nvar hasOwnProp = require('@stdlib/assert/has-own-property');\n\nvar constantFunction = require('@stdlib/utils/constant-function');\n\nvar noop = require('@stdlib/utils/noop');\n\nvar randu = require('./../../../base/mt19937').factory;\n\nvar isnan = require('@stdlib/math/base/assert/is-nan');\n\nvar typedarray2json = require('@stdlib/array/to-json');\n\nvar validate = require('./validate.js');\n\nvar uniform0 = require('./uniform.js'); // MAIN //\n\n/**\n* Returns a pseudorandom number generator for generating uniformly distributed random numbers.\n*\n* @param {number} [a] - minimum support (inclusive)\n* @param {number} [b] - maximum support (exclusive)\n* @param {Options} [options] - function options\n* @param {PRNG} [options.prng] - pseudorandom number generator which generates uniformly distributed pseudorandom numbers\n* @param {PRNGSeedMT19937} [options.seed] - pseudorandom number generator seed\n* @param {PRNGStateMT19937} [options.state] - pseudorandom number generator state\n* @param {boolean} [options.copy=true] - boolean indicating whether to copy a provided pseudorandom number generator state\n* @throws {TypeError} `a` must be a number\n* @throws {TypeError} `b` must be a number\n* @throws {RangeError} `a` must be less than `b`\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} must provide valid options\n* @throws {Error} must provide a valid state\n* @returns {PRNG} pseudorandom number generator\n*\n* @example\n* var uniform = factory( 0.0, 1.0 );\n*\n* var v = uniform();\n* // returns <number>\n*\n* @example\n* var uniform = factory( -3.0, -1.0, {\n*     'seed': 297\n* });\n* var v = uniform();\n* // returns <number>\n*/\n\n\nfunction factory() {\n  var opts;\n  var rand;\n  var prng;\n  var err;\n  var a;\n  var b;\n\n  if (arguments.length === 0) {\n    rand = randu();\n  } else if (arguments.length === 1) {\n    opts = arguments[0];\n\n    if (!isObject(opts)) {\n      throw new TypeError('invalid argument. Options argument must be an object. Value: `' + opts + '`.');\n    }\n\n    if (hasOwnProp(opts, 'prng')) {\n      if (!isFunction(opts.prng)) {\n        throw new TypeError('invalid option. `prng` option must be a pseudorandom number generator function. Option: `' + opts.prng + '`.');\n      }\n\n      rand = opts.prng;\n    } else {\n      rand = randu(opts);\n    }\n  } else {\n    a = arguments[0];\n    b = arguments[1];\n    err = validate(a, b);\n\n    if (err) {\n      throw err;\n    }\n\n    if (arguments.length > 2) {\n      opts = arguments[2];\n\n      if (!isObject(opts)) {\n        throw new TypeError('invalid argument. Options argument must be an object. Value: `' + opts + '`.');\n      }\n\n      if (hasOwnProp(opts, 'prng')) {\n        if (!isFunction(opts.prng)) {\n          throw new TypeError('invalid option. `prng` option must be a pseudorandom number generator function. Option: `' + opts.prng + '`.');\n        }\n\n        rand = opts.prng;\n      } else {\n        rand = randu(opts);\n      }\n    } else {\n      rand = randu();\n    }\n  }\n\n  if (a === void 0) {\n    prng = uniform2;\n  } else {\n    prng = uniform1;\n  }\n\n  setReadOnly(prng, 'NAME', 'uniform'); // If we are provided an \"external\" PRNG, we don't support getting or setting PRNG state, as we'd need to check for compatible state value types, etc, entailing considerable complexity.\n\n  if (opts && opts.prng) {\n    setReadOnly(prng, 'seed', null);\n    setReadOnly(prng, 'seedLength', null);\n    setReadWriteAccessor(prng, 'state', constantFunction(null), noop);\n    setReadOnly(prng, 'stateLength', null);\n    setReadOnly(prng, 'byteLength', null);\n    setReadOnly(prng, 'toJSON', constantFunction(null));\n    setReadOnly(prng, 'PRNG', rand);\n  } else {\n    setReadOnlyAccessor(prng, 'seed', getSeed);\n    setReadOnlyAccessor(prng, 'seedLength', getSeedLength);\n    setReadWriteAccessor(prng, 'state', getState, setState);\n    setReadOnlyAccessor(prng, 'stateLength', getStateLength);\n    setReadOnlyAccessor(prng, 'byteLength', getStateSize);\n    setReadOnly(prng, 'toJSON', toJSON);\n    setReadOnly(prng, 'PRNG', rand);\n    rand = rand.normalized;\n  }\n\n  return prng;\n  /**\n  * Returns the PRNG seed.\n  *\n  * @private\n  * @returns {PRNGSeedMT19937} seed\n  */\n\n  function getSeed() {\n    return rand.seed;\n  }\n  /**\n  * Returns the PRNG seed length.\n  *\n  * @private\n  * @returns {PositiveInteger} seed length\n  */\n\n\n  function getSeedLength() {\n    return rand.seedLength;\n  }\n  /**\n  * Returns the PRNG state length.\n  *\n  * @private\n  * @returns {PositiveInteger} state length\n  */\n\n\n  function getStateLength() {\n    return rand.stateLength;\n  }\n  /**\n  * Returns the PRNG state size (in bytes).\n  *\n  * @private\n  * @returns {PositiveInteger} state size (in bytes)\n  */\n\n\n  function getStateSize() {\n    return rand.byteLength;\n  }\n  /**\n  * Returns the current pseudorandom number generator state.\n  *\n  * @private\n  * @returns {PRNGStateMT19937} current state\n  */\n\n\n  function getState() {\n    return rand.state;\n  }\n  /**\n  * Sets the pseudorandom number generator state.\n  *\n  * @private\n  * @param {PRNGStateMT19937} s - generator state\n  * @throws {Error} must provide a valid state\n  */\n\n\n  function setState(s) {\n    rand.state = s;\n  }\n  /**\n  * Serializes the pseudorandom number generator as a JSON object.\n  *\n  * ## Notes\n  *\n  * -   `JSON.stringify()` implicitly calls this method when stringifying a PRNG.\n  *\n  * @private\n  * @returns {Object} JSON representation\n  */\n\n\n  function toJSON() {\n    var out = {};\n    out.type = 'PRNG';\n    out.name = prng.NAME;\n    out.state = typedarray2json(rand.state);\n\n    if (a === void 0) {\n      out.params = [];\n    } else {\n      out.params = [a, b];\n    }\n\n    return out;\n  }\n  /**\n  * Returns a uniformly distributed pseudorandom number with minimum support `a` and maximum support `b`.\n  *\n  * @private\n  * @returns {number} pseudorandom number\n  *\n  * @example\n  * var v = uniform1();\n  * // returns <number>\n  */\n\n\n  function uniform1() {\n    return uniform0(rand, a, b);\n  }\n  /**\n  * Returns a uniformly distributed pseudorandom number with minimum support `a` and maximum support `b`.\n  *\n  * @private\n  * @param {number} a - minimum support (inclusive)\n  * @param {number} b - maximum support (exclusive)\n  * @returns {number} pseudorandom number\n  *\n  * @example\n  * var v = uniform2( 0.0, 1.0 );\n  * // returns <number>\n  *\n  * @example\n  * var v = uniform2( 1.0, 0.0 );\n  * // returns NaN\n  */\n\n\n  function uniform2(a, b) {\n    if (isnan(a) || isnan(b) || a >= b) {\n      return NaN;\n    }\n\n    return uniform0(rand, a, b);\n  }\n} // EXPORTS //\n\n\nmodule.exports = factory;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Uniform distribution pseudorandom numbers.\n*\n* @module @stdlib/random/base/uniform\n*\n* @example\n* var uniform = require( '@stdlib/random/base/uniform' );\n*\n* var v = uniform( 0.0, 1.0 );\n* // returns <number>\n*\n* @example\n* var factory = require( '@stdlib/random/base/uniform' ).factory;\n* var uniform = factory( -5.0, 5.0, {\n*     'seed': 297\n* });\n*\n* var v = uniform();\n* // returns <number>\n*\n* @example\n* var factory = require( '@stdlib/random/base/uniform' ).factory;\n* var uniform = factory({\n*     'seed': 297\n* });\n*\n* var v = uniform( -5.0, 5.0 );\n* // returns <number>\n*/\n// MODULES //\n\nvar setReadOnly = require('@stdlib/utils/define-nonenumerable-read-only-property');\n\nvar uniform = require('./main.js');\n\nvar factory = require('./factory.js'); // MAIN //\n\n\nsetReadOnly(uniform, 'factory', factory); // EXPORTS //\n\nmodule.exports = uniform;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar factory = require('./factory.js'); // MAIN //\n\n/**\n* Returns a uniformly distributed pseudorandom number with minimum support `a` and maximum support `b`.\n*\n* @name uniform\n* @type {PRNG}\n* @param {number} a - minimum support (inclusive)\n* @param {number} b - maximum support (exclusive)\n* @returns {number} pseudorandom number\n*\n* @example\n* var v = uniform( 0.0, 1.0 );\n* // returns <number>\n*/\n\n\nvar uniform = factory(); // EXPORTS //\n\nmodule.exports = uniform;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Returns a uniformly distributed pseudorandom number with minimum support `a` and maximum support `b`.\n*\n* @private\n* @param {PRNG} rand - pseudorandom number generator\n* @param {number} a - minimum support (inclusive)\n* @param {number} b - maximum support (exclusive)\n* @returns {number} pseudorandom number\n*/\n\nfunction uniform(rand, a, b) {\n  var r = rand();\n  return b * r + (1.0 - r) * a; // equivalent to (b-a)*r + a\n} // EXPORTS //\n\n\nmodule.exports = uniform;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isNumber = require('@stdlib/assert/is-number').isPrimitive;\n\nvar isnan = require('@stdlib/assert/is-nan'); // MAIN //\n\n/**\n* Validates values provided for minimum and maximum support.\n*\n* @private\n* @param {number} a - minimum support\n* @param {number} b - maximum support\n* @returns {(Error|null)} error or null\n*\n* @example\n* var err = validate( 1.0, 2.0 );\n* if ( err ) {\n*     throw err;\n* }\n*/\n\n\nfunction validate(a, b) {\n  if (!isNumber(a) || isnan(a)) {\n    return new TypeError('invalid argument. First argument must be a number primitive and not `NaN`. Value: `' + a + '`.');\n  }\n\n  if (!isNumber(b) || isnan(b)) {\n    return new TypeError('invalid argument. Second argument must be a number primitive and not `NaN`. Value: `' + b + '`.');\n  }\n\n  if (a >= b) {\n    return new RangeError('invalid argument. Minimum support `a` must be less than maximum support `b`. Value: `[' + a + ',' + b + ']`.');\n  }\n\n  return null;\n} // EXPORTS //\n\n\nmodule.exports = validate;"],"names":["Collapse","Loadable","event","stopPropagation","debug","logger","RE_SHAPE","HISTOGRAM_SETTINGS","group","displayDensity","densityType","chooseBins","nBins","ascending","a","b","makeShapes","breakpoints","breakShapes","i","length","push","type","x0","y0","x1","y1","line","color","width","createCategoryNames","customNames","out","Array","last","BinningTransformer","props","name","setName","useState","snapDigits","setSnapDigits","state","setState","variable","configHist","categories","invalidName","makeNewVar","rawData","data","values","retrieveBinnedValues","logAction","DATA_EXPLORER_BIN_TRANSFORMER","breaks","newName","factor","onGenerate","onHide","handleKeyPress","charCode","handleNameChange","target","value","changeFactory","ind","newBreakpoints","slice","roundn","sort","copy","layout","shapes","categoryChangeFactory","newCategories","newCustomNames","newState","deleteBreakpoint","splice","onChangeHistLine","keyUpdate","keys","matches","exec","handleVariableChange","histConfigSettings","generateHistogramConfig","yaxis","range","min","y","max","fixedrange","xaxis","filter","x","isNumber","isnan","mean","addBreakpoint","avg","runif","cancel","onDragStart","style","zIndex","show","header","t","footer","Button","onClick","disabled","bodyStyle","maxHeight","overflowY","position","role","tabIndex","select","legend","defaultValue","options","quantitative","onChange","maxWidth","Fragment","className","inline","height","editable","fit","removeButtons","legendButtons","onRelayout","Card","inputs","disableButton","Row","key","Col","md","raw","onBlur","step","changeFn","marginTop","tooltipPlacement","len","makeTextInputs","FormGroup","FormLabel","FormControl","placeholder","onKeyPress","FormText","Alert","variant","renderBody","defaultProps","propTypes","PropTypes","DIGITS","incrspace","RE_LAST_EXPRESSION","RE_DIGITS_START","CustomMenu","React","children","labeledBy","ref","setValue","e","child","toLowerCase","startsWith","FormulaTransformer","Component","constructor","super","code","this","contains","replace","valuesFromFormula","DATA_EXPLORER_VARIABLE_TRANSFORMER","err","session","addNotification","title","message","level","handleGenerate","newCode","substring","selection","replacement","test","operator","funcName","defaultCode","showGuide","render","continuousItems","map","v","Dropdown","insertVarFactory","eventKey","headerClassName","visible","Table","condensed","Trans","i18nKey","ns","first","second","ButtonToolbar","marginBottom","id","as","categorical","ButtonGroup","size","insertLiteralFactory","placement","tooltip","FUNCTION_KEYS","insertFuncFactory","d","div","textarea","handleCodeChange","selectionStart","rows","margin","escapeDots","str","checkNumericLabels","nameMappings","objectKeys","allNumeric","isDigitString","CategoricalTransformer","firstFreqs","secondVar","firstVar","firstValues","countBy","identity","firstKeys","extractUsedCategories","secondKeys","secondFreqs","j","label","onlyNumbers","secondValues","generatedName","oldLabel","rowLabel","colLabel","castNumeric","newVar","recodeCategorical","DATA_EXPLORER_CAT_TRANSFORMER","varFreqs","bordered","val","idx","changeFreqFactory","borderTop","freq","rowVar","colVar","rowValues","colValues","rowFreqs","colFreqs","rowKeys","colKeys","col","row","changeContigencyFactory","renderTable","renderContingencyTable","renderFrequencyTable","handleFirstVariableChange","clearable","handleSecondVariableChange","overflowX","handleGeneratedNameChange","GroupTransformer","nGroups","groupProbs","fill","labels","sum","absdiff","nobs","sample","probs","DATA_EXPLORER_GROUP_TRANSFORMER","elems","numbersOnly","hasValidValues","handleGroupNumberChange","Transformer","active","setActive","toggleFormulaModal","newActive","onActive","toggleBinModal","toggleCategoricalModal","toggleGroupModal","modal","padding","block","fontSize","_excluded","_ref","bsPrefix","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","_extends","classNames","displayName","striped","borderless","hover","responsive","decoratedBsPrefix","classes","table","responsiveClass","module","exports","isString","ch","charCodeAt","setReadOnly","setReadOnlyAccessor","setReadWriteAccessor","isObject","isFunction","hasOwnProp","constantFunction","noop","randu","typedarray2json","validate","uniform0","opts","rand","prng","arguments","TypeError","uniform2","uniform1","getSeed","getSeedLength","getState","getStateLength","getStateSize","toJSON","normalized","seed","seedLength","stateLength","byteLength","s","NAME","params","NaN","uniform","factory","r","RangeError"],"sourceRoot":""}