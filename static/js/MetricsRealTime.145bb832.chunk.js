"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[3548],{44266:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45254),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),debug__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14946),debug__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_1__),_stdlib_utils_index_of__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27719),_stdlib_utils_index_of__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_stdlib_utils_index_of__WEBPACK_IMPORTED_MODULE_2__),_isle_project_session_context_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32283),_isle_project_constants_events_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4365);const debug=debug__WEBPACK_IMPORTED_MODULE_1___default()("isle:real-time-metrics");class RealTimeMetrics extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(),this.state={actions:[]}}componentDidMount(){this._isMounted=!0;const session=this.context;session&&(debug("Listening for all actions with id: "+this.props.for),this.unsubscribe=session.subscribe((type,action)=>{if(type===_isle_project_constants_events_js__WEBPACK_IMPORTED_MODULE_4__.Wh){if(action.type===_isle_project_constants_events_js__WEBPACK_IMPORTED_MODULE_4__.gz||action.type===_isle_project_constants_events_js__WEBPACK_IMPORTED_MODULE_4__.sS)return null;const idx=_stdlib_utils_index_of__WEBPACK_IMPORTED_MODULE_2___default()(this.props.for,action.id);if(idx!==-1){let actions=this.state.actions.slice();actions.push(this.props.returnFullObject?action:action.value),this.setState({actions},()=>{debug("A new value for the given IDs was submitted: "+JSON.stringify(this.state.actions)),this.props.onData(this.state.actions,idx),this.props.onDatum(this.state.actions[this.state.actions.length-1],idx)})}}this._isMounted&&this.forceUpdate()}))}componentWillUnmount(){this._isMounted=!1,this.unsubscribe&&this.unsubscribe()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)}}RealTimeMetrics.defaultProps={onData(){},onDatum(){},returnFullObject:!1},RealTimeMetrics.propTypes={for:prop_types__WEBPACK_IMPORTED_MODULE_5___default().array.isRequired,onData:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,onDatum:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,returnFullObject:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool},RealTimeMetrics.contextType=_isle_project_session_context_js__WEBPACK_IMPORTED_MODULE_3__.Z,__webpack_exports__.default=RealTimeMetrics}}]);

//# sourceMappingURL=MetricsRealTime.145bb832.chunk.js.map