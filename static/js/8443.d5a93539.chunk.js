/*! For license information please see 8443.d5a93539.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[8443],{98032:function(e,t,n){var a=n(6233),r=n.n(a),o=n(67583),s=n.n(o),l=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;t.Z=function(e){for(var t={},n={},a=s()(e[0]).filter((function(e){return""!==e})),o=0;o<a.length;o++){var i=r()(a[o]);n[a[o]]=i,t[i]=new Array(e.length)}for(var c=0;c<e.length;c++)for(var u=0;u<a.length;u++){var d=a[u],m=e[c][d];l.test(m)&&(m=Number(m)),t[n[d]][c]=m}return t}},39407:function(e,t,n){n.r(t);var a=n(87757),r=n.n(a),o=n(15861),s=n(15671),l=n(43144),i=n(97326),c=n(60136),u=n(29388),d=n(4942),m=n(41488),f=n(10077),p=n.n(f),h=n(25472),Z=n(51527),g=n.n(Z),v=n(70048),E=n(93391),b=n(47701),w=n(14444),y=n.n(w),C=n(47355),N=n(42263),k=n(98032),x=n(52428),A=n(76594),D=n(46968),S=n(86037),H=n(25991),R=p()("isle-dashboard:admin"),F=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;return(0,s.Z)(this,n),a=t.call(this,e),(0,d.Z)((0,i.Z)(a),"createColumns",(function(){for(var e=a.props.t,t=a.props.admin.namespaces,n=0,r=y(),o=0,s=0;s<t.length;s++){var l=t[s].owners.length;l&&l>n&&(n=l),t[s].createdAt>o&&(o=t[s].createdAt),t[s].updatedAt>o&&(o=t[s].updatedAt),t[s].createdAt<r&&(r=t[s].createdAt),t[s].updatedAt<r&&(r=t[s].updatedAt)}return o=g()(o),r=g()(r),[{Header:e("common:title"),id:"title",accessor:"title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:A.Z},{Header:e("common:description"),accessor:"description",style:{marginTop:"2px",color:"darkslategrey"},maxWidth:200,filterMethod:A.Z},(0,D.Z)({Header:e("common:owners"),accessor:"owners"}),(0,S.Z)({Header:"# ".concat(e("common:owners")),accessor:"owners.length",maxWidth:120,style:{marginTop:"2px",color:"darkslategrey"},minValue:1,maxValue:n}),(0,H.Z)({Header:e("last-updated"),accessor:"updatedAt",startDate:r,endDate:o,t:e}),(0,H.Z)({Header:e("created-at"),accessor:"createdAt",startDate:r,endDate:o,t:e}),{Header:e("common:actions"),Cell:function(t){return m.createElement("div",null,m.createElement(E.Z,{placement:"bottom",overlay:m.createElement(b.Z,{id:"delete_course"},e("namespace:delete-course"))},m.createElement(v.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:a.askToDeleteSelectedCourseFactory(t.row._original),"aria-label":e("namespace:delete-course")},m.createElement("div",{className:"fa fa-trash-alt"}))))},resizable:!1,filterable:!1,sortable:!1}]})),(0,d.Z)((0,i.Z)(a),"askToDeleteSelectedCourseFactory",(function(e){return function(){a.setState({showDeleteModal:!a.state.showDeleteModal,selectedCourse:e})}})),(0,d.Z)((0,i.Z)(a),"deleteSelectedCourse",(function(){R("Delete course ".concat(a.state.selectedCourse.title," with id ").concat(a.state.selectedCourse._id)),a.setState({showDeleteModal:!1},(0,o.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.deleteCurrentNamespace(a.state.selectedCourse._id);case 2:a.props.getAllNamespaces();case 3:case"end":return e.stop()}}),e)}))))})),(0,d.Z)((0,i.Z)(a),"toggleDeleteModal",(function(){a.setState({showDeleteModal:!a.state.showDeleteModal})})),(0,d.Z)((0,i.Z)(a),"toggleExplorer",(function(){a.setState({showExplorer:!a.state.showExplorer})})),a.state={selectedCourse:null,showDeleteModal:!1,columns:a.createColumns(),showExplorer:!1},a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.props.getAllNamespaces()}},{key:"componentDidUpdate",value:function(e){e.admin.namespaces!==this.props.admin.namespaces&&this.setState({columns:this.createColumns()})}},{key:"render",value:function(){var e=this.props.t;if(this.state.showExplorer){for(var t=this.props.admin.namespaces,n=[],a=0;a<t.length;a++){var r=t[a],o={};o.title=r.title,o.description=r.description,o.enableTicketing=r.enableTicketing,o.announcements=r.announcements.length,o.owners=r.owners.length,o.createdAt=r.createdAt,o.updatedAt=r.updatedAt,n.push(o)}return n=(0,k.Z)(n),m.createElement(x.Z,{title:e("explorer-namespaces-title"),data:n,categorical:["title","enableTicketing","createdAt","updatedAt"],quantitative:["announcements","owners"],close:this.toggleExplorer})}return m.createElement(m.Fragment,null,m.createElement(C.Z,{data:this.props.admin.namespaces,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:e}),this.state.showDeleteModal?m.createElement(N.Z,{title:e("namespace:delete-course"),message:m.createElement("span",null,e("namespace:delete-course-confirm"),m.createElement("span",{style:{color:"red"}},this.state.selectedCourse.title)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedCourse}):null)}}]),n}(m.Component);t.default=(0,h.Z)(["admin","namespace","common"])(F)},42263:function(e,t,n){var a=n(41488),r=n(25472),o=n(70048),s=n(3252),l=function(e){return a.createElement(s.Z,{show:e.show,onHide:e.close},a.createElement(s.Z.Header,null,a.createElement(s.Z.Title,{as:"h3"},e.title)),a.createElement(s.Z.Body,null,e.message),a.createElement(s.Z.Footer,null,a.createElement(o.Z,{onClick:e.close},e.t("cancel")),a.createElement(o.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};l.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,r.Z)(["common"])(l)},52428:function(e,t,n){var a=(0,n(31835).Z)((function(){return Promise.all([n.e(7704),n.e(5999)]).then(n.bind(n,45369))}));t.Z=a},6233:function(e,t,n){var a=n(73529);e.exports=a},73529:function(e,t,n){var a=n(20842).isPrimitive,r=n(50288),o=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;e.exports=function(e){if(!a(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return r(e,o,"$1")}},77096:function(e,t,n){var a=n(87462),r=n(63366),o=n(83603),s=n.n(o),l=n(41488),i=n(78265),c=n.n(i),u=["label","onClick","className"],d={label:s().string.isRequired,onClick:s().func},m=l.forwardRef((function(e,t){var n=e.label,o=e.onClick,s=e.className,i=(0,r.Z)(e,u);return l.createElement("button",(0,a.Z)({ref:t,type:"button",className:c()("close",s),onClick:o},i),l.createElement("span",{"aria-hidden":"true"},"\xd7"),l.createElement("span",{className:"sr-only"},n))}));m.displayName="CloseButton",m.propTypes=d,m.defaultProps={label:"Close"},t.Z=m},3252:function(e,t,n){n.d(t,{Z:function(){return $}});var a=n(63366),r=n(87462),o=n(78265),s=n.n(o),l=n(35291),i=n(60580),c=n(28340),u=n(80084),d=n(88703),m=n(28973),f=n(71605),p=n(35264),h=n(15223),Z=n(41488),g=n(37636),v=(n(47815),n(94578)),E=n(76943),b=n(44503),w=n(82853),y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",C=".sticky-top",N=".navbar-toggler",k=function(e){function t(){return e.apply(this,arguments)||this}(0,v.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var a,r=t.style[e];t.dataset[e]=r,(0,E.Z)(t,((a={})[e]=parseFloat((0,E.Z)(t,e))+n+"px",a))},n.restore=function(e,t){var n,a=t.dataset[e];void 0!==a&&(delete t.dataset[e],(0,E.Z)(t,((n={})[e]=a,n)))},n.setContainerStyle=function(t,n){var a=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var r=(0,d.Z)();(0,b.Z)(n,y).forEach((function(e){return a.adjustAndStore("paddingRight",e,r)})),(0,b.Z)(n,C).forEach((function(e){return a.adjustAndStore("marginRight",e,-r)})),(0,b.Z)(n,N).forEach((function(e){return a.adjustAndStore("marginRight",e,r)}))}},n.removeContainerStyle=function(t,n){var a=this;e.prototype.removeContainerStyle.call(this,t,n),(0,b.Z)(n,y).forEach((function(e){return a.restore("paddingRight",e)})),(0,b.Z)(n,C).forEach((function(e){return a.restore("marginRight",e)})),(0,b.Z)(n,N).forEach((function(e){return a.restore("marginRight",e)}))},t}(w.Z),x=n(54087),A=n(25237),D=(0,A.Z)("modal-body"),S=Z.createContext({onHide:function(){}}),H=n(38674),R=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],F=Z.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.contentClassName,i=e.centered,c=e.size,u=e.children,d=e.scrollable,m=(0,a.Z)(e,R),f=(n=(0,H.vE)(n,"modal"))+"-dialog";return Z.createElement("div",(0,r.Z)({},m,{ref:t,className:s()(f,o,c&&n+"-"+c,i&&f+"-centered",d&&f+"-scrollable")}),Z.createElement("div",{className:s()(n+"-content",l)},u))}));F.displayName="ModalDialog";var T=F,M=(0,A.Z)("modal-footer"),P=n(77096),_=["bsPrefix","closeLabel","closeButton","onHide","className","children"],B=Z.forwardRef((function(e,t){var n=e.bsPrefix,o=e.closeLabel,l=e.closeButton,i=e.onHide,c=e.className,u=e.children,d=(0,a.Z)(e,_);n=(0,H.vE)(n,"modal-header");var m=(0,Z.useContext)(S),p=(0,f.Z)((function(){m&&m.onHide(),i&&i()}));return Z.createElement("div",(0,r.Z)({ref:t},d,{className:s()(c,n)}),u,l&&Z.createElement(P.Z,{label:o,onClick:p}))}));B.displayName="ModalHeader",B.defaultProps={closeLabel:"Close",closeButton:!1};var O,I=B,z=(0,n(90855).Z)("h4"),L=(0,A.Z)("modal-title",{Component:z}),U=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],j={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:T};function K(e){return Z.createElement(x.Z,(0,r.Z)({},e,{timeout:null}))}function V(e){return Z.createElement(x.Z,(0,r.Z)({},e,{timeout:null}))}var W=Z.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,v=e.style,E=e.dialogClassName,b=e.contentClassName,w=e.children,y=e.dialogAs,C=e["aria-labelledby"],N=e.show,x=e.animation,A=e.backdrop,D=e.keyboard,R=e.onEscapeKeyDown,F=e.onShow,T=e.onHide,M=e.container,P=e.autoFocus,_=e.enforceFocus,B=e.restoreFocus,I=e.restoreFocusOptions,z=e.onEntered,L=e.onExit,j=e.onExiting,W=e.onEnter,$=e.onEntering,q=e.onExited,G=e.backdropClassName,J=e.manager,Q=(0,a.Z)(e,U),X=(0,Z.useState)({}),Y=X[0],ee=X[1],te=(0,Z.useState)(!1),ne=te[0],ae=te[1],re=(0,Z.useRef)(!1),oe=(0,Z.useRef)(!1),se=(0,Z.useRef)(null),le=(0,m.Z)(),ie=le[0],ce=le[1],ue=(0,f.Z)(T);n=(0,H.vE)(n,"modal"),(0,Z.useImperativeHandle)(t,(function(){return{get _modal(){return ie}}}),[ie]);var de=(0,Z.useMemo)((function(){return{onHide:ue}}),[ue]);function me(){return J||(O||(O=new k),O)}function fe(e){if(i.Z){var t=me().isContainerOverflowing(ie),n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;ee({paddingRight:t&&!n?(0,d.Z)():void 0,paddingLeft:!t&&n?(0,d.Z)():void 0})}}var pe=(0,f.Z)((function(){ie&&fe(ie.dialog)}));(0,p.Z)((function(){(0,u.Z)(window,"resize",pe),se.current&&se.current()}));var he=function(){re.current=!0},Ze=function(e){re.current&&ie&&e.target===ie.dialog&&(oe.current=!0),re.current=!1},ge=function(){ae(!0),se.current=(0,h.Z)(ie.dialog,(function(){ae(!1)}))},ve=function(e){"static"!==A?oe.current||e.target!==e.currentTarget?oe.current=!1:null==T||T():function(e){e.target===e.currentTarget&&ge()}(e)},Ee=(0,Z.useCallback)((function(e){return Z.createElement("div",(0,r.Z)({},e,{className:s()(n+"-backdrop",G,!x&&"show")}))}),[x,G,n]),be=(0,r.Z)({},v,Y);x||(be.display="block");return Z.createElement(S.Provider,{value:de},Z.createElement(g.Z,{show:N,ref:ce,backdrop:A,container:M,keyboard:!0,autoFocus:P,enforceFocus:_,restoreFocus:B,restoreFocusOptions:I,onEscapeKeyDown:function(e){D||"static"!==A?D&&R&&R(e):(e.preventDefault(),ge())},onShow:F,onHide:T,onEnter:function(e,t){e&&(e.style.display="block",fe(e)),null==W||W(e,t)},onEntering:function(e,t){null==$||$(e,t),(0,l.ZP)(window,"resize",pe)},onEntered:z,onExit:function(e){null==se.current||se.current(),null==L||L(e)},onExiting:j,onExited:function(e){e&&(e.style.display=""),null==q||q(e),(0,u.Z)(window,"resize",pe)},manager:me(),containerClassName:n+"-open",transition:x?K:void 0,backdropTransition:x?V:void 0,renderBackdrop:Ee,renderDialog:function(e){return Z.createElement("div",(0,r.Z)({role:"dialog"},e,{style:be,className:s()(o,n,ne&&n+"-static"),onClick:A?ve:void 0,onMouseUp:Ze,"aria-labelledby":C}),Z.createElement(y,(0,r.Z)({},Q,{onMouseDown:he,className:E,contentClassName:b}),w))}}))}));W.displayName="Modal",W.defaultProps=j,W.Body=D,W.Header=I,W.Title=L,W.Footer=M,W.Dialog=T,W.TRANSITION_DURATION=300,W.BACKDROP_TRANSITION_DURATION=150;var $=W},25237:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(87462),r=n(63366),o=n(78265),s=n.n(o),l=n(96358),i=n(41488),c=n(38674),u=["className","bsPrefix","as"];function d(e,t){var n,o=void 0===t?{}:t,d=o.displayName,m=void 0===d?(n=e)[0].toUpperCase()+(0,l.Z)(n).slice(1):d,f=o.Component,p=o.defaultProps,h=i.forwardRef((function(t,n){var o=t.className,l=t.bsPrefix,d=t.as,m=void 0===d?f||"div":d,p=(0,r.Z)(t,u),h=(0,c.vE)(l,e);return i.createElement(m,(0,a.Z)({ref:n,className:s()(o,h)},p))}));return h.defaultProps=p,h.displayName=m,h}},90855:function(e,t,n){var a=n(87462),r=n(41488),o=n(78265),s=n.n(o);t.Z=function(e){return r.forwardRef((function(t,n){return r.createElement("div",(0,a.Z)({},t,{ref:n,className:s()(t.className,e)}))}))}}}]);
//# sourceMappingURL=8443.d5a93539.chunk.js.map