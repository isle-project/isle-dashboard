/*! For license information please see 8443.7c87a339.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[8443],{98032:function(e,t,a){var n=a(6233),r=a.n(n),o=a(67583),s=a.n(o),l=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;t.Z=function(e){for(var t={},a={},n=s()(e[0]).filter((function(e){return""!==e})),o=0;o<n.length;o++){var c=r()(n[o]);a[n[o]]=c,t[c]=new Array(e.length)}for(var i=0;i<e.length;i++)for(var u=0;u<n.length;u++){var d=n[u],m=e[i][d];l.test(m)&&(m=Number(m)),t[a[d]][i]=m}return t}},39407:function(e,t,a){a.r(t);var n=a(87757),r=a.n(n),o=a(15861),s=a(15671),l=a(43144),c=a(97326),i=a(60136),u=a(29388),d=a(4942),m=a(41488),p=a(10077),f=a.n(p),h=a(25472),g=a(51527),Z=a.n(g),v=a(70048),w=a(66734),E=a(47701),C=a(14444),k=a.n(C),x=a(47355),A=a(42263),D=a(98032),y=a(52428),b=a(76594),M=a(46968),S=a(86037),T=a(25991),H=f()("isle-dashboard:admin"),_=function(e){(0,i.Z)(a,e);var t=(0,u.Z)(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,d.Z)((0,c.Z)(n),"createColumns",(function(){for(var e=n.props.t,t=n.props.admin.namespaces,a=0,r=k(),o=0,s=0;s<t.length;s++){var l=t[s].owners.length;l&&l>a&&(a=l),t[s].createdAt>o&&(o=t[s].createdAt),t[s].updatedAt>o&&(o=t[s].updatedAt),t[s].createdAt<r&&(r=t[s].createdAt),t[s].updatedAt<r&&(r=t[s].updatedAt)}return o=Z()(o),r=Z()(r),[{Header:e("common:title"),id:"title",accessor:"title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:b.Z},{Header:e("common:description"),accessor:"description",style:{marginTop:"2px",color:"darkslategrey"},maxWidth:200,filterMethod:b.Z},(0,M.Z)({Header:e("common:owners"),accessor:"owners"}),(0,S.Z)({Header:"# ".concat(e("common:owners")),accessor:"owners.length",maxWidth:120,style:{marginTop:"2px",color:"darkslategrey"},minValue:1,maxValue:a}),(0,T.Z)({Header:e("last-updated"),accessor:"updatedAt",startDate:r,endDate:o,t:e}),(0,T.Z)({Header:e("created-at"),accessor:"createdAt",startDate:r,endDate:o,t:e}),{Header:e("common:actions"),Cell:function(t){return m.createElement("div",null,m.createElement(w.Z,{placement:"bottom",overlay:m.createElement(E.Z,{id:"delete_course"},e("namespace:delete-course"))},m.createElement(v.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:n.askToDeleteSelectedCourseFactory(t.row._original),"aria-label":e("namespace:delete-course")},m.createElement("div",{className:"fa fa-trash-alt"}))))},resizable:!1,filterable:!1,sortable:!1}]})),(0,d.Z)((0,c.Z)(n),"askToDeleteSelectedCourseFactory",(function(e){return function(){n.setState({showDeleteModal:!n.state.showDeleteModal,selectedCourse:e})}})),(0,d.Z)((0,c.Z)(n),"deleteSelectedCourse",(function(){H("Delete course ".concat(n.state.selectedCourse.title," with id ").concat(n.state.selectedCourse._id)),n.setState({showDeleteModal:!1},(0,o.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.deleteCurrentNamespace(n.state.selectedCourse._id);case 2:n.props.getAllNamespaces();case 3:case"end":return e.stop()}}),e)}))))})),(0,d.Z)((0,c.Z)(n),"toggleDeleteModal",(function(){n.setState({showDeleteModal:!n.state.showDeleteModal})})),(0,d.Z)((0,c.Z)(n),"toggleExplorer",(function(){n.setState({showExplorer:!n.state.showExplorer})})),n.state={selectedCourse:null,showDeleteModal:!1,columns:n.createColumns(),showExplorer:!1},n}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){this.props.getAllNamespaces()}},{key:"componentDidUpdate",value:function(e){e.admin.namespaces!==this.props.admin.namespaces&&this.setState({columns:this.createColumns()})}},{key:"render",value:function(){var e=this.props.t;if(this.state.showExplorer){for(var t=this.props.admin.namespaces,a=[],n=0;n<t.length;n++){var r=t[n],o={};o.title=r.title,o.description=r.description,o.enableTicketing=r.enableTicketing,o.announcements=r.announcements.length,o.owners=r.owners.length,o.createdAt=r.createdAt,o.updatedAt=r.updatedAt,a.push(o)}return a=(0,D.Z)(a),m.createElement(y.Z,{title:e("explorer-namespaces-title"),data:a,categorical:["title","enableTicketing","createdAt","updatedAt"],quantitative:["announcements","owners"],close:this.toggleExplorer})}return m.createElement(m.Fragment,null,m.createElement(x.Z,{data:this.props.admin.namespaces,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:e}),this.state.showDeleteModal?m.createElement(A.Z,{title:e("namespace:delete-course"),message:m.createElement("span",null,e("namespace:delete-course-confirm"),m.createElement("span",{style:{color:"red"}},this.state.selectedCourse.title)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedCourse}):null)}}]),a}(m.Component);t.default=(0,h.Z)(["admin","namespace","common"])(_)},42263:function(e,t,a){var n=a(41488),r=a(25472),o=a(70048),s=a(85840),l=function(e){return n.createElement(s.Z,{show:e.show,onHide:e.close},n.createElement(s.Z.Header,null,n.createElement(s.Z.Title,{as:"h3"},e.title)),n.createElement(s.Z.Body,null,e.message),n.createElement(s.Z.Footer,null,n.createElement(o.Z,{onClick:e.close},e.t("cancel")),n.createElement(o.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};l.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,r.Z)(["common"])(l)},52428:function(e,t,a){var n=(0,a(31835).Z)((function(){return Promise.all([a.e(7704),a.e(5999)]).then(a.bind(a,45369))}));t.Z=n},6233:function(e,t,a){var n=a(73529);e.exports=n},73529:function(e,t,a){var n=a(20842).isPrimitive,r=a(50288),o=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;e.exports=function(e){if(!n(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return r(e,o,"$1")}}}]);
//# sourceMappingURL=8443.7c87a339.chunk.js.map