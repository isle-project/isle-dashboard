{"version":3,"sources":["components/profile-page/two_factor_authentication.js","components/profile-page/enter_token_modal.js","components/profile-page/edit_modal.js","components/profile-page/action_types_display.js","components/profile-page/create_ticket_modal.js","components/profile-page/ticket_list.js","components/profile-page/index.js","actions/two_factor_auth.js","containers/visible-profile-page/index.js"],"names":[],"mappings":"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","file":"static/js/856.12404318.chunk.js","sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\n\n\n// MAIN //\n\nclass TwoFactorAuthentication extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\ttoken: ''\n\t\t};\n\t}\n\n\trequestTfaQRCode = async () => {\n\t\tconst res = await this.props.getTfaQRCode();\n\t\tif ( res ) {\n\t\t\tthis.setState({\n\t\t\t\ttfaQRCode: {\n\t\t\t\t\t__html: res.data\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tenableTfa = () => {\n\t\tthis.props.enableTFA( this.state.token );\n\t};\n\n\tdisableTfa = () => {\n\t\tthis.props.disableTFA();\n\t};\n\n\trenderQRCode = () => {\n\t\tif ( !this.state.tfaQRCode ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst t = this.props.t;\n\n\t\t/* eslint-disable react/no-danger */\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div dangerouslySetInnerHTML={this.state.tfaQRCode} />\n\t\t\t\t<p>\n\t\t\t\t\t{t('tfa-enable-instructions')}\n\t\t\t\t</p>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col sm={8} >\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tautoFocus={true} // eslint-disable-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\ttoken: event.target.value\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col sm={3} >\n\t\t\t\t\t\t<Button onClick={this.enableTfa} disabled={this.state.token.length !== 6} >\n\t\t\t\t\t\t\t{t('common:confirm')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Fragment>\n\t\t);\n\t\t/* eslint-enable react/no-danger */\n\t};\n\n\trender() {\n\t\tconst t = this.props.t;\n\t\tif ( !this.props.user.twoFactorAuth ) {\n\t\t\treturn (\n\t\t\t\t<Card bg=\"light\" >\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<span className=\"title\" >\n\t\t\t\t\t\t\t{t('common:two-factor-authentication')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{t('two-factor-authentication-is-disabled')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tstyle={{ float: 'right', marginRight: 5 }}\n\t\t\t\t\t\t\tonClick={this.requestTfaQRCode}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-qrcode\" style={{ marginRight: 10 }}></i>\n\t\t\t\t\t\t\t{t('common:enable')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{this.renderQRCode()}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Card bg=\"light\" border=\"success\" >\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t('two-factor-authentication')}\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{t('two-factor-authentication-is-enabled')}\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\tstyle={{ float: 'right', marginRight: 5 }}\n\t\t\t\t\t\tonClick={this.disableTfa}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('common:disable')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTwoFactorAuthentication.propTypes = {\n\tdisableTFA: PropTypes.func.isRequired,\n\tenableTFA: PropTypes.func.isRequired,\n\tgetTfaQRCode: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nTwoFactorAuthentication.defaultProps = {};\n\n\n// EXPORTS //\n\nexport default TwoFactorAuthentication;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport PropTypes from 'prop-types';\n\n\n// MAIN //\n\n/**\n * A modal for entering a token to receive instructor access.\n *\n * @param {Object} props - component properties\n * @param {boolean} props.show - boolean indicating whether the modal is visible\n * @param {Function} props.close - callback to invoke when the modal is closed\n * @param {Function} props.authenticate - callback to invoke after the submit button is clicked to authenticate the token\n * @returns {ReactElement} modal window\n */\nconst EnterTokenModal = ({ authenticate, onHide, show }) => {\n\tconst [ token, setToken ] = useState( null );\n\tconst handleInputChange = ( event ) => {\n\t\tsetToken( event.target.value );\n\t};\n\tconst handleSubmit = async () => {\n\t\tconst success = await authenticate({\n\t\t\twriteAccessToken: token\n\t\t});\n\t\tif ( success ) {\n\t\t\tonHide();\n\t\t}\n\t};\n\treturn (\n\t\t<Modal onHide={onHide} show={show} >\n\t\t\t<Modal.Header closeButton >\n\t\t\t\t<Modal.Title as=\"h3\">Enter Access Token</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div>\n\t\t\t\t\tPlease enter the write-access token that was sent to you. If you have not received it yet,\n\t\t\t\t\tplease get in touch with <a href=\"mailto:pgb@andrew.cmu.edu\">Philipp Burckhardt</a>.\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<Form>\n\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"ownerTooltip\">Please enter the access token.</Tooltip>}>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col sm={2}>\n\t\t\t\t\t\t\t\t\t<FormLabel>Token</FormLabel>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter token\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!token}\n\t\t\t\t>\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\n\n// PROPERTIES //\n\nEnterTokenModal.propTypes = {\n\tauthenticate: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\n\n// EXPORTS //\n\nexport default EnterTokenModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectInput from 'react-select';\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Form from 'react-bootstrap/Form';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Modal from 'react-bootstrap/Modal';\nimport isEmptyObject from '@stdlib/assert/is-empty-object';\nimport logger from 'debug';\nimport TwoFactorAuthentication from './two_factor_authentication.js';\nimport EnterTokenModal from './enter_token_modal.js';\n\n\n// FUNCTIONS //\n\nconst createTooltip = ( str ) => {\n\treturn <Tooltip id=\"tooltip\">{str}</Tooltip>;\n};\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard' );\n\n\n// MAIN //\n\nclass EditModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\temail: props.user.email,\n\t\t\tname: props.user.name,\n\t\t\torganization: props.user.organization,\n\t\t\tpassword: '',\n\t\t\tpasswordRepeat: '',\n\t\t\tchanged: false,\n\t\t\tshowTokenModal: false,\n\t\t\tcustomFields: props.user.customFields || {}\n\t\t};\n\t}\n\n\thandleUpdate = () => {\n\t\tconst { name, password, passwordRepeat, organization, customFields } = this.state;\n\t\tconst form = {\n\t\t\tname,\n\t\t\torganization\n\t\t};\n\t\tlet change = false;\n\t\tif ( password ) {\n\t\t\tif ( passwordRepeat === password ) {\n\t\t\t\tchange = true;\n\t\t\t\tform.password = password;\n\t\t\t}\n\t\t}\n\t\tif (\n\t\t\tname !== this.props.user.name ||\n\t\t\torganization !== this.props.user.organization\n\t\t) {\n\t\t\tchange = true;\n\t\t}\n\t\tif ( !isEmptyObject( customFields ) ) {\n\t\t\tform.customFields = customFields;\n\t\t\tchange = true;\n\t\t}\n\t\tif ( change ) {\n\t\t\tdebug( 'Update user...' );\n\t\t\tthis.props.updateUser( form );\n\t\t\tthis.props.onHide();\n\t\t}\n\t};\n\n\thandleInputChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\t\tthis.setState({\n\t\t\t[ name ]: value,\n\t\t\tchanged: true\n\t\t});\n\t};\n\n\tgetNameValidationState = () => {\n\t\tconst { name } = this.state;\n\t\tif ( name && name.length > 3 ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tgetPasswordValidationState = () => {\n\t\tconst { password, passwordRepeat } = this.state;\n\t\tif ( password.length < 6 || passwordRepeat.length === 0 ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( password !== passwordRepeat ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\ttoggleTokenModal = () => {\n\t\tthis.setState({\n\t\t\tshowTokenModal: !this.state.showTokenModal\n\t\t});\n\t};\n\n\trenderInstructorButton() {\n\t\tif ( this.props.user.writeAccess ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst t = this.props.t;\n\t\treturn ( <Button\n\t\t\tonClick={this.toggleTokenModal}\n\t\t\tvariant=\"outline-success\"\n\t\t\tstyle={{ float: 'right', marginRight: 5 }}\n\t\t>{t('get-instructor-access')}</Button> );\n\t}\n\n\trender() {\n\t\tconst validPasswords = this.getPasswordValidationState();\n\t\tconst validName = this.getNameValidationState();\n\t\tconst enteredPasswords = this.state.password || this.state.passwordRepeat;\n\t\tconst user = this.props.user;\n\t\tconst t = this.props.t;\n\t\tconst userCustomFields = this.state.customFields;\n\t\tconst availableCustomFields = user.availableCustomFields || [];\n\t\tlet passwordCol;\n\t\tif ( !user.loginWithoutPassword ) {\n\t\t\tpasswordCol = <Col sm={6} className=\"d-grid gap-3\" >\n\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('enter-password') )}>\n\t\t\t\t\t<FormGroup\n\t\t\t\t\t\tcontrolId=\"form-password\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FormLabel>{t('common:password')}</FormLabel>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\t\tplaceholder={t('common:choose-new-password')}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\tmaxLength={30}\n\t\t\t\t\t\t\tminLength={6}\n\t\t\t\t\t\t\tisInvalid={enteredPasswords && !validPasswords}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\tPlease enter a new password with at least six characters.\n\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<FormGroup\n\t\t\t\t\tcontrolId=\"form-repeat-password\"\n\t\t\t\t>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tname=\"passwordRepeat\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={this.state.passwordRepeat}\n\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\tplaceholder={t('repeat-new-password')}\n\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\tmaxLength={30}\n\t\t\t\t\t\tminLength={6}\n\t\t\t\t\t\tisInvalid={enteredPasswords && !validPasswords}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t{t('invalid-password')}\n\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t</FormGroup>\n\t\t\t\t<TwoFactorAuthentication\n\t\t\t\t\tuser={this.props.user} t={this.props.t}\n\t\t\t\t\tdisableTFA={this.props.disableTFA}\n\t\t\t\t\tenableTFA={this.props.enableTFA}\n\t\t\t\t\tgetTfaQRCode={this.props.getTfaQRCode}\n\t\t\t\t/>\n\t\t\t</Col>;\n\t\t} else {\n\t\t\tpasswordCol = null;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal show={this.props.show} onHide={this.props.onHide} dialogClassName=\"edit-modal\" >\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title as=\"h3\" style={{ width: '100%' }}>\n\t\t\t\t\t\t{t('profile')}\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('close-edit-modal') )}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\taria-label={t('close-edit-modal')}\n\t\t\t\t\t\t\t\tclassName=\"modal-close\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">x</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t{this.renderInstructorButton()}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form as={Row} >\n\t\t\t\t\t\t<Col sm={6} className=\"d-grid gap-2\" >\n\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\tcontrolId=\"form-email\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormLabel style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t{t('common:email')}\n\t\t\t\t\t\t\t\t\t{!user.verifiedEmail ? <Badge\n\t\t\t\t\t\t\t\t\t\tbg=\"danger\" style={{ float: 'right' }}\n\t\t\t\t\t\t\t\t\t>{t('common:email-not-verified')}\n\t\t\t\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('resend-confirm-email') )}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={t('resend-confirm-email')}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-light\" onClick={this.props.resendConfirmEmail}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 12, marginLeft: 6 }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-redo-alt\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t</Badge> : null}\n\t\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('update-name') )}>\n\t\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\t\tcontrolId=\"form-name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:name')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\tisInvalid={!validName}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t\t{t('invalid-name')}\n\t\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('update-organization') )}>\n\t\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\t\tcontrolId=\"form-organization\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:organization')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"organization\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.organization}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t{availableCustomFields.filter( x => x.showOnProfile || x.editableOnProfile ).map( ( x, idx ) => {\n\t\t\t\t\t\t\t\tlet input;\n\t\t\t\t\t\t\t\tconst value = userCustomFields[ x.name ];\n\t\t\t\t\t\t\t\tif ( x.type === 'checkbox' ) {\n\t\t\t\t\t\t\t\t\tinput = <Form.Check\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tlabel={x.name}\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!x.editableOnProfile}\n\t\t\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = event.target.checked;\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>;\n\t\t\t\t\t\t\t\t} else if ( x.type === 'text' ) {\n\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{x.name}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tname={x.name}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={`Enter ${x.name}...`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!x.editableOnProfile}\n\t\t\t\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = event.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Case: dropdown menu\n\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{x.name}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={value ?\n\t\t\t\t\t\t\t\t\t\t\t\t{ label: value, value: value } :\n\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!x.editableOnProfile}\n\t\t\t\t\t\t\t\t\t\t\toptions={x.options.map( e => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn { value: e, label: e };\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonChange={( elem ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = elem.value;\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<OverlayTrigger key={idx} placement=\"top\" overlay={createTooltip( x.description )} >\n\t\t\t\t\t\t\t\t\t\t{input}\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t{passwordCol}\n\t\t\t\t\t</Form>\n\t\t\t\t\t<Row style={{ paddingTop: 10 }} className=\"d-grid\" >\n\t\t\t\t\t\t<Button disabled={!this.state.changed || !validName || ( !validPasswords && enteredPasswords )} onClick={this.handleUpdate}>\n\t\t\t\t\t\t\t{t('common:update')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t</Modal>\n\t\t\t\t<EnterTokenModal\n\t\t\t\t\tuser={user}\n\t\t\t\t\tauthenticate={this.props.authenticate}\n\t\t\t\t\tshow={this.state.showTokenModal}\n\t\t\t\t\tonHide={this.toggleTokenModal}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nEditModal.propTypes = {\n\tauthenticate: PropTypes.func.isRequired,\n\tdisableTFA: PropTypes.func.isRequired,\n\tenableTFA: PropTypes.func.isRequired,\n\tgetTfaQRCode: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\tresendConfirmEmail: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tt: PropTypes.func.isRequired,\n\tupdateUser: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nEditModal.defaultProps = {};\n\n\n// EXPORTS\n\nexport default EditModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from 'react-bootstrap/Table';\nimport objectKeys from '@stdlib/utils/keys';\n\n\n// MAIN //\n\nclass ActionTypesDisplay extends Component {\n\tshouldComponentUpdate( nextProps ) {\n\t\tif ( nextProps.selectedNamespaceID !== this.props.selectedNamespaceID ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tconst { selectedNamespace, lessonData: data } = this.props;\n\t\tif ( !selectedNamespace || !data ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst lessons = selectedNamespace.lessons;\n\t\tif ( !lessons ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst actionTypes = {};\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst lesson = lessons[ i ];\n\t\t\tconst id = lesson._id;\n\t\t\tif ( data[ id ] ) {\n\t\t\t\tconst types = data[ id ].actionTypes;\n\t\t\t\tif ( types ) {\n\t\t\t\t\tconst typeNames = objectKeys( types );\n\t\t\t\t\tfor ( let j = 0; j < typeNames.length; j++ ) {\n\t\t\t\t\t\tconst name = typeNames[ j ];\n\t\t\t\t\t\tif ( actionTypes[ name ] ) {\n\t\t\t\t\t\t\tactionTypes[ name ] += types[ name ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionTypes[ name ] = types[ name ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst keys = objectKeys( actionTypes );\n\t\tconst rows = new Array( keys.length );\n\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\tconst type = keys[ i ];\n\t\t\tconst count = actionTypes[ keys[ i ] ];\n\t\t\trows[ i ] = <tr key={i}>\n\t\t\t\t<td>{type}</td>\n\t\t\t\t<td>{count}</td>\n\t\t\t</tr>;\n\t\t}\n\t\treturn ( <Table size=\"sm\" striped style={{ fontSize: '0.8rem' }}>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Action Type</th>\n\t\t\t\t\t<th>Count</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</Table> );\n\t}\n}\n\n\n// PROPERTIES //\n\nActionTypesDisplay.propTypes = {\n\tlessonData: PropTypes.object,\n\tselectedNamespace: PropTypes.object,\n\tselectedNamespaceID: PropTypes.string\n};\n\nActionTypesDisplay.defaultProps = {\n\tlessonData: null,\n\tselectedNamespace: null,\n\tselectedNamespaceID: ''\n};\n\n\n// EXPORTS //\n\nexport default ActionTypesDisplay;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport platform from 'platform';\nimport logger from 'debug';\nimport SelectInput from 'react-select';\nimport Modal from 'react-bootstrap/Modal';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Tooltip from 'react-bootstrap/Tooltip';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:toolbar:ticketing' );\n\n\n// FUNCTIONS //\n\nconst createOption = ( ns ) => {\n\treturn { value: ns, label: ns.title };\n};\n\n\n// MAIN //\n\nclass CreateTicketModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\tselectedCourse: props.enrolledNamespaces ? createOption( props.enrolledNamespaces[ 0 ] ) : null,\n\t\t\tfiles: []\n\t\t};\n\t}\n\n\tattachFile = () => {\n\t\tconst input = document.createElement( 'input' );\n\t\tinput.type = 'file';\n\t\tinput.onchange = ( e ) => {\n\t\t\tconst files = e.target.files;\n\t\t\tconst newFiles = [ ...this.state.files, ...files ];\n\t\t\tthis.setState({\n\t\t\t\tfiles: newFiles\n\t\t\t});\n\t\t};\n\t\tinput.click();\n\t};\n\n\thandleTitleChange = ( event ) => {\n\t\tthis.setState({\n\t\t\ttitle: event.target.value\n\t\t});\n\t};\n\n\thandleDescriptionChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tdescription: event.target.value\n\t\t});\n\t};\n\n\thandleCourseChange = ( newValue ) => {\n\t\tthis.setState({\n\t\t\tselectedCourse: newValue\n\t\t});\n\t};\n\n\thandleSubmit = async () => {\n\t\tdebug( 'Create ticket...' );\n\t\tawait this.props.createTicket({\n\t\t\ttitle: this.state.title,\n\t\t\tdescription: this.state.description,\n\t\t\tplatform: {\n\t\t\t\tname: platform.name,\n\t\t\t\tversion: platform.version,\n\t\t\t\tproduct: platform.product,\n\t\t\t\tmanufacturer: platform.manufacturer,\n\t\t\t\tos: platform.os,\n\t\t\t\tdescription: platform.description\n\t\t\t},\n\t\t\tnamespace: this.state.selectedCourse.value,\n\t\t\tfiles: this.state.files\n\t\t});\n\t\tthis.props.onHide();\n\t};\n\n\tremoveFileFactory = ( idx ) => {\n\t\treturn () => {\n\t\t\tconst newFiles = this.state.files.slice();\n\t\t\tnewFiles.splice( idx, 1 );\n\t\t\tthis.setState({\n\t\t\t\tfiles: newFiles\n\t\t\t});\n\t\t};\n\t};\n\n\trenderAttachments() {\n\t\tif ( this.state.files.length === 0 ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<span className=\"title\">{this.props.t('attachments')}:</span>\n\t\t\t\t<ListGroup className=\"ticketing-attachment-list\" >\n\t\t\t\t\t{this.state.files.map( ( file, idx ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ListGroup.Item key={`file-${idx}`}>\n\t\t\t\t\t\t\t\t{file.name}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={this.removeFileFactory( idx )}\n\t\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tx\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ListGroup>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Modal onHide={this.props.onHide} show={this.props.show} dialogClassName=\"modal-40w\" >\n\t\t\t\t<Modal.Header closeButton >\n\t\t\t\t\t<Modal.Title as=\"h3\" >{t('new-ticket')}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<p>{t('ticketing-intro')}</p>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormLabel>{t('common:course')}:</FormLabel>\n\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\toptions={this.props.enrolledNamespaces.map( createOption )}\n\t\t\t\t\t\t\tonChange={this.handleCourseChange}\n\t\t\t\t\t\t\tvalue={this.state.selectedCourse}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormLabel>{t('common:title')}:</FormLabel>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder={t('ticket-title-placeholder')}\n\t\t\t\t\t\t\tonChange={this.handleTitleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup controlId=\"form-text\" >\n\t\t\t\t\t\t<FormLabel>{t('common:description')}:</FormLabel>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tas=\"textarea\" rows=\"5\"\n\t\t\t\t\t\t\tplaceholder={t('ticket-description-placeholder')}\n\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\tonChange={this.handleDescriptionChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t{this.renderAttachments()}\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"attachmentTooltip\">{t('attach-file')}</Tooltip>}>\n\t\t\t\t\t\t<Button onClick={this.attachFile} >\n\t\t\t\t\t\t\t<i className=\"fas fa-paperclip\"></i>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Button onClick={this.props.onHide} >\n\t\t\t\t\t\t{t('common:cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={this.handleSubmit} >\n\t\t\t\t\t\t{t('create-ticket')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCreateTicketModal.propTypes = {\n\tcreateTicket: PropTypes.func.isRequired,\n\tenrolledNamespaces: PropTypes.array,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\nCreateTicketModal.defaultProps = {\n\tenrolledNamespaces: []\n};\n\n\n// EXPORTS //\n\nexport default CreateTicketModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport Modal from 'react-bootstrap/Modal';\nimport TicketModal from 'components/ticket-modal';\nimport CreateTicketModal from './create_ticket_modal.js';\n\n\n// VARIABLES //\n\nconst RE_TICKET = /ticket=([^&]*)/;\n\n\n// MAIN //\n\nclass TicketListModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tshowCreateModal: false,\n\t\t\tshowMessagesModal: false,\n\t\t\tshowOpen: true\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this.props.getUserTickets();\n\t\tif ( window && window.location.search ) {\n\t\t\tconst match = RE_TICKET.exec( window.location.search );\n\t\t\tif ( match && match[ 1 ] ) {\n\t\t\t\tconst { tickets } = this.props.user;\n\t\t\t\tif ( tickets ) {\n\t\t\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\t\t\tif ( ticket._id === match[ 1 ] ) {\n\t\t\t\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tselectedTicket: ticket,\n\t\t\t\t\t\t\t\tshowMessagesModal: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleCreateModal = () => {\n\t\tthis.setState({\n\t\t\tshowCreateModal: !this.state.showCreateModal\n\t\t});\n\t};\n\n\ttoggleTicketModal = () => {\n\t\tthis.setState({\n\t\t\tshowMessagesModal: !this.state.showMessagesModal\n\t\t});\n\t};\n\n\ttoggleShowAll = () => {\n\t\tthis.setState({\n\t\t\tshowOpen: !this.state.showOpen\n\t\t});\n\t};\n\n\trenderTicketList() {\n\t\tconst out = [];\n\t\tconst { user, t } = this.props;\n\t\tif ( !user ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { tickets } = user;\n\t\tif ( !tickets ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( this.state.showOpen ) {\n\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\tif ( ticket.done === true ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tout.push(\n\t\t\t\t\t<ListGroup.Item key={`ticket-${i}`}>\n\t\t\t\t\t\t{ticket.title}: {ticket.description}\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ticket-status-tooltip\">\n\t\t\t\t\t\t\t{t('common:close-ticket')}\n\t\t\t\t\t\t</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\" size=\"sm\"\n\t\t\t\t\t\t\t\tstyle={{ float: 'right', marginLeft: 6 }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.closeTicket( ticket._id );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-square\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tselectedTicket: ticket\n\t\t\t\t\t\t\t\t}, this.toggleTicketModal );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:messages')}\n\t\t\t\t\t\t\t<Badge className=\"ticket-badge\" bg=\"secondary\" >{ticket.messages.length}</Badge>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\tif ( ticket.done === false ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tout.push(\n\t\t\t\t\t<ListGroup.Item key={`ticket-${i}`}>\n\t\t\t\t\t\t{ticket.title}: {ticket.description}\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ticket-status-tooltip\">\n\t\t\t\t\t\t\t{t('common:open-ticket')}\n\t\t\t\t\t\t</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tbg=\"outline-secondary\"\n\t\t\t\t\t\t\t\tsize=\"sm\" style={{ float: 'right', marginLeft: 6 }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.openTicket( ticket._id );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-check-square\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tselectedTicket: ticket\n\t\t\t\t\t\t\t\t}, this.toggleTicketModal );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:messages')}\n\t\t\t\t\t\t\t<Badge className=\"ticket-badge\" bg=\"secondary\" >{ticket.messages.length}</Badge>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn ( <ListGroup>\n\t\t\t{out}\n\t\t</ListGroup> );\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst enrolledNamespaces = this.props.user.enrolledNamespaces.filter( x => x.enableTicketing );\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal onHide={this.props.onHide} show={this.props.show} dialogClassName=\"modal-40w\" >\n\t\t\t\t\t<Modal.Header closeButton >\n\t\t\t\t\t\t<Modal.Title as=\"h3\">{t('my-tickets')}</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t{this.renderTicketList()}\n\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.toggleShowAll}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.showOpen ? t('show-completed-tickets') : t('show-open-tickets')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.toggleCreateModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('new-ticket')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:close')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t\t{ this.state.showCreateModal ? <CreateTicketModal\n\t\t\t\t\tshow={this.state.showCreateModal}\n\t\t\t\t\tonHide={this.toggleCreateModal}\n\t\t\t\t\tenrolledNamespaces={enrolledNamespaces}\n\t\t\t\t\tcreateTicket={this.props.createTicket}\n\t\t\t\t\tt={t}\n\t\t\t\t/> : null }\n\t\t\t\t{ this.state.showMessagesModal ? <TicketModal\n\t\t\t\t\tshow={this.state.showMessagesModal}\n\t\t\t\t\tonHide={this.toggleTicketModal}\n\t\t\t\t\tticket={this.state.selectedTicket}\n\t\t\t\t\tsubmitTicketMessage={this.props.submitTicketMessage}\n\t\t\t\t\tcloseTicket={this.props.closeTicket}\n\t\t\t\t\topenTicket={this.props.openTicket}\n\t\t\t\t/> : null }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketListModal.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tcreateTicket: PropTypes.func.isRequired,\n\tgetUserTickets: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\n\n// EXPORTS //\n\nexport default TicketListModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport path from 'path';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Nav from 'react-bootstrap/Nav';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport keys from '@stdlib/utils/keys';\nimport isObject from '@stdlib/assert/is-object';\nimport isArray from '@stdlib/assert/is-array';\nimport anyBy from '@stdlib/utils/any-by';\nimport formatTime from 'utils/format_time.js';\nimport asyncComponent from 'components/async';\nimport server from 'constants/server';\nimport EditModal from './edit_modal.js';\nconst ProfilePicModal = asyncComponent( () => import( './profile_pic_modal.js' ) );\nconst TimeSpent = asyncComponent( () => import( './time_spent.js' ) );\nconst ProgressStats = asyncComponent( () => import( './progress.js' ) );\nimport ActionTypesDisplay from './action_types_display.js';\nimport TicketListModal from './ticket_list.js';\nimport hoodie from './img/hoodie.jpg';\nimport badge from './img/question.svg';\nimport badgeCircle from './img/badge_circle.svg';\nimport './profile-page.css';\nimport './message-page.css';\n\n\n// FUNCTIONS //\n\nfunction id2Name( lessons, id ) {\n\tif ( !lessons ) {\n\t\treturn '';\n\t}\n\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\tif ( lessons[ i ]._id === id ) {\n\t\t\treturn lessons[ i ].title;\n\t\t}\n\t}\n\treturn '';\n}\n\n\n// MAIN //\n\nclass ProfilePage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tlet selectedNamespace = null;\n\t\tlet selectedNamespaceID = null;\n\t\tif ( props.user.enrolledNamespaces.length > 0 ) {\n\t\t\tselectedNamespace = props.user.enrolledNamespaces[ 0 ];\n\t\t\tselectedNamespaceID = selectedNamespace._id;\n\t\t}\n\t\tthis.state = {\n\t\t\tshowEditModal: false,\n\t\t\tshowProfilePicModal: false,\n\t\t\tshowTicketListModal: false,\n\t\t\tselectedNamespace: selectedNamespace,\n\t\t\tselectedNamespaceID: selectedNamespaceID,\n\t\t\tselectedDataType: 'messages',\n\t\t\tselectedStatsType: 'progress'\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( !this.props.user.files ) {\n\t\t\tthis.props.getUserFiles();\n\t\t}\n\t\tconst course = this.state.selectedNamespace;\n\t\tif ( course ) {\n\t\t\tthis.props.getLessons( course.title );\n\t\t}\n\t\tthis.props.getUserBadges();\n\t}\n\n\ttoggleEditModal = () => {\n\t\tthis.setState({\n\t\t\tshowEditModal: !this.state.showEditModal\n\t\t});\n\t};\n\n\ttoggleTicketListModal = () => {\n\t\tthis.setState({\n\t\t\tshowTicketListModal: !this.state.showTicketListModal\n\t\t});\n\t};\n\n\ttoggleProfilePicModal = () => {\n\t\tthis.setState({\n\t\t\tshowProfilePicModal: !this.state.showProfilePicModal\n\t\t});\n\t};\n\n\thandleSelect = ( newValue, event ) => {\n\t\tconst namespaceName = event.target.title;\n\t\tconst id = event.target.dataset.id;\n\t\tthis.setState({\n\t\t\tselectedNamespaceID: newValue,\n\t\t\tselectedNamespace: this.props.user.enrolledNamespaces[ id ]\n\t\t}, () => {\n\t\t\tconst course = this.props.user.enrolledNamespaces[ id ];\n\t\t\tif ( !isObject( course.lessons[ 0 ] ) ) {\n\t\t\t\tthis.props.getLessons( namespaceName );\n\t\t\t}\n\t\t});\n\t};\n\n\thandleStatsSelect = ( newValue, event ) => {\n\t\tthis.setState({\n\t\t\tselectedStatsType: newValue\n\t\t});\n\t};\n\n\trenderRightPanel() {\n\t\tif ( !this.state.selectedNamespace ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( this.state.selectedStatsType === 'progress' ) {\n\t\t\treturn (\n\t\t\t\t<ProgressStats\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tselectedNamespace={this.state.selectedNamespace}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif ( this.state.selectedStatsType === 'timeSpent' ) {\n\t\t\treturn (\n\t\t\t\t<TimeSpent\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tselectedNamespace={this.state.selectedNamespace}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\n\thandleDataSelect = ( newValue, event ) => {\n\t\tthis.setState({\n\t\t\tselectedDataType: newValue\n\t\t});\n\t};\n\n\tsubmitTicketMessage = ({ message, ticketID }) => {\n\t\tthis.props.sendTicketMessage({ message, ticketID, user: this.props.user });\n\t};\n\n\trenderLeftPanel() {\n\t\tif ( !this.state.selectedNamespace ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( this.state.selectedDataType === 'files' ) {\n\t\t\treturn this.renderFiles();\n\t\t}\n\t\tif ( this.state.selectedDataType === 'actions' ) {\n\t\t\tconst data = this.props.user.lessonData;\n\t\t\treturn ( <ActionTypesDisplay\n\t\t\t\tlessonData={data}\n\t\t\t\tselectedNamespace={this.state.selectedNamespace}\n\t\t\t\tselectedNamespaceID={this.state.selectedNamespaceID}\n\t\t\t/> );\n\t\t}\n\t\tif ( this.state.selectedDataType === 'messages' ) {\n\t\t\treturn this.renderMessages();\n\t\t}\n\t}\n\n\trenderFiles() {\n\t\tconst { t, user } = this.props;\n\t\tlet files = user.files;\n\t\tif ( files ) {\n\t\t\tfiles = files[ this.state.selectedNamespaceID ];\n\t\t}\n\t\tif ( !isArray( files ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst out = [];\n\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\tconst file = files[ i ];\n\t\t\tconst lessonName = id2Name( this.state.selectedNamespace.lessons, file.lesson );\n\n\t\t\tlet cl = 'fas fa-file-image fa-4x';\n\t\t\tconst pth = path.extname( file.filename );\n\t\t\tswitch ( pth ) {\n\t\t\t\tcase '.html':\n\t\t\t\t\tcl = 'fab fa-html5 fa-4x';\n\t\t\t\tbreak;\n\t\t\t\tcase '.pdf':\n\t\t\t\t\tcl = 'far fa-file-pdf fa-4x';\n\t\t\t\tbreak;\n\t\t\t\tcase '.jpg':\n\t\t\t\t\tcl = 'fas fa-file-image fa-4x';\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tout.push( <div className=\"media\" key={i}>\n\t\t\t\t<div className=\"mr-3\">\n\t\t\t\t\t<a href={server+'/'+file.filename} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t<i className={cl} />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"media-body\" >\n\t\t\t\t\t<a href={server+'/'+file.filename} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t<h4>{file.title}</h4>\n\t\t\t\t\t</a>\n\t\t\t\t\t<p>{t('common:date')}: {new Date( file.createdAt ).toLocaleDateString()}{lessonName ? `, ${t('common:lesson')}: ${lessonName}` : lessonName}</p>\n\t\t\t\t</div>\n\t\t\t</div> );\n\t\t}\n\t\treturn out;\n\t}\n\n\trenderMessages() {\n\t\tif ( !this.state.selectedNamespace.announcements ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<div>{ this.state.selectedNamespace.announcements.map( (value, index) => {\n\t\t\t\tconst date = new Date(value.createdAt);\n\t\t\t\tconst dateString = date.toLocaleDateString() + '  -  ' + date.toLocaleTimeString( navigator.language, {\n\t\t\t\t\thour: '2-digit',\n\t\t\t\t\tminute: '2-digit'\n\t\t\t\t});\n\t\t\t\treturn (\n\t\t\t\t\t<div key={index} className=\"message-container\">\n\t\t\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t\t\t<img src={value.picture} alt=\"Message User Profile\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t\t\t<span className=\"message-author\">{ value.author } </span>\n\t\t\t\t\t\t\t\twrote on { dateString }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"message-title\">\n\t\t\t\t\t\t\t{ value.title }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t\t\t{ value.body }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})\n\t\t\t}</div>\n\t\t);\n\t}\n\n\trenderStatisticDataToolbar() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t<Nav variant=\"tabs\" activeKey={this.state.selectedDataType} onSelect={this.handleDataSelect}>\n\t\t\t<Nav.Item >\n\t\t\t\t<Nav.Link eventKey=\"messages\" title={t('messages')}>\n\t\t\t\t\t{t('messages')}\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav.Item>\n\t\t\t<Nav.Item >\n\t\t\t\t<Nav.Link eventKey=\"files\" title={t('common:files')}>\n\t\t\t\t\t{t('common:files')}\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav.Item>\n\t\t\t<Nav.Item >\n\t\t\t\t<Nav.Link eventKey=\"actions\" title={t('actions')}>\n\t\t\t\t\t{t('actions')}\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav.Item>\n\t\t</Nav>\n\t\t);\n\t}\n\n\trenderStatisticStatsToolbar() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Nav variant=\"tabs\" activeKey={this.state.selectedStatsType} onSelect={this.handleStatsSelect}>\n\t\t\t\t<Nav.Item >\n\t\t\t\t\t<Nav.Link eventKey=\"progress\" title={t('progress')}>\n\t\t\t\t\t\t{t('progress')}\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item >\n\t\t\t\t\t<Nav.Link eventKey=\"timeSpent\" title={t('time-spent')} >\n\t\t\t\t\t\t{t('time-spent')}\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t</Nav>\n\t\t);\n\t}\n\n\trenderStatisticSection() {\n\t\tconst { t, user } = this.props;\n\t\tconst courses = user.enrolledNamespaces;\n\t\treturn (\n\t\t\t<div className=\"profile-page-statistics\">\n\t\t\t\t<div className=\"profile-page-statistics-navigation-title\">{t('common:courses')}</div>\n\t\t\t\t<div className=\"profile-page-statistics-navigation\">\n\t\t\t\t<Nav variant=\"tabs\" activeKey={this.state.selectedNamespaceID} onSelect={this.handleSelect}>\n\t\t\t\t\t{courses.map( ( course, i ) => {\n\t\t\t\t\t\tconst title = course.title;\n\t\t\t\t\t\tconst id = course._id;\n\t\t\t\t\t\treturn ( <Nav.Item key={i}>\n\t\t\t\t\t\t\t<Nav.Link eventKey={id} title={title} data-id={i} >\n\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t</Nav.Item> );\n\t\t\t\t\t})}\n\t\t\t\t</Nav>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-data-select\">{t('common:data')}</div>\n\t\t\t\t<div className=\"profile-page-statistics-top-actions\">\n\t\t\t\t\t{ this.state.selectedNamespaceID ? this.renderStatisticDataToolbar() : null }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-title2\">\n\t\t\t\t\t{t('common:statistics')}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-actions\">\n\t\t\t\t\t{this.renderLeftPanel()}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-select\">\n\t\t\t\t\t{ this.state.selectedNamespaceID ? this.renderStatisticStatsToolbar() : null }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-stats\">\n\t\t\t\t\t{this.renderRightPanel()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderBadgesSection() {\n\t\tlet list = [];\n\t\tlet badges = this.props.user.badges || [];\n\n\t\tfor ( let i = 0; i < 24; i++ ) {\n\t\t\tlet temp = badge;\n\t\t\tlet desc = 'Hidden Badge';\n\t\t\tlet display = 'profile-page-badge-item-interior unknown';\n\t\t\tlet badgeState = 'badge-not-acquired';\n\t\t\tif ( i < badges.length ) {\n\t\t\t\ttemp = server + '/badges/' + badges[i].picture;\n\t\t\t\tdesc = badges[i].description;\n\t\t\t\tdisplay = 'profile-page-badge-item-interior';\n\t\t\t\tif ( badges[i].acquired ) {\n\t\t\t\t\tbadgeState='badge-acquired';\n\t\t\t\t}\n\t\t\t}\n\t\t\tlist.push(\n\t\t\t\t<div style={{ animation: 'scale-up ' + ((i*0.05) + 0.1) + 's' }} className=\"profile-page-badge-item-nova\" key={i}>\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id={`badge-${i}-description`} >{ desc }</Tooltip>}>\n\t\t\t\t\t\t<div className=\"profile-page-badge-item\">\n\t\t\t\t\t\t\t<img className=\"mask\" src={badgeCircle} alt=\"\" />\n\t\t\t\t\t\t\t<div className={display} >\n\t\t\t\t\t\t\t\t<img className={badgeState} src={temp} alt=\"User Badge\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn list;\n\t}\n\n\trenderUserSection() {\n\t\tconst { t, user } = this.props;\n\t\tlet date = null;\n\t\tif ( user.createdAt ) {\n\t\t\tdate = new Date( user.createdAt ).toLocaleDateString();\n\t\t}\n\t\tlet userPic = hoodie;\n\t\tif ( user.picture ) {\n\t\t\tuserPic = user.picture;\n\t\t}\n\t\tconst showTicketingButton = anyBy( this.props.user.enrolledNamespaces, x => x.enableTicketing );\n\t\tconst nLessons = keys( user.lessonData ).length;\n\t\treturn (\n\t\t\t<div className=\"profile-page-user-container\">\n\t\t\t\t<div\n\t\t\t\t\trole=\"button\" className=\"profile-page-user-portrait\"\n\t\t\t\t\tonClick={this.toggleProfilePicModal}\n\t\t\t\t\tonKeyPress={this.toggleProfilePicModal}\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t>\n\t\t\t\t\t<img alt=\"User Profile\" src={userPic} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-user-personal\">\n\t\t\t\t\t<div className=\"profile-page-user-personal-name\">\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<Card.Title as=\"h3\">\n\t\t\t\t\t\t\t\t\t{user.name} <br />\n\t\t\t\t\t\t\t\t\t{user.organization ? <small>{user.organization}</small>: null }\n\t\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t\t{date ? <div>{t('registered-since', { date })}</div> : null}\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<div className=\"profile-page-user-values\">\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-legend\">{t('score')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-value\">\n\t\t\t\t\t\t\t\t\t\t{user.score}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-legend\">{t('no-lessons')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-value\">{nLessons}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-legend\">{t('time-spent')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-value\">\n\t\t\t\t\t\t\t\t\t\t{formatTime( user.spentTime )}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<div className=\"d-grid gap-2\" >\n\t\t\t\t\t\t\t<Button style={{ marginTop: 15 }} onClick={this.toggleEditModal}>{t('edit-profile')}</Button>\n\t\t\t\t\t\t\t{ showTicketingButton ? <Button style={{ marginTop: 15 }} onClick={this.toggleTicketListModal}>{t('show-tickets')}</Button> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-user-footer\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"profile-page-grid-container\">\n\t\t\t\t\t<div className=\"profile-page-left\">\n\t\t\t\t\t\t{this.renderUserSection()}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderStatisticSection()}\n\t\t\t\t\t<div className=\"profile-page-badge-title\">{t('common:badges')}</div>\n\t\t\t\t\t<div className=\"profile-page-badge-container\">\n\t\t\t\t\t\t{this.renderBadgesSection()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<EditModal\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tauthenticate={this.props.authenticate}\n\t\t\t\t\tshow={this.state.showEditModal}\n\t\t\t\t\taddNotification={this.props.addNotification}\n\t\t\t\t\tupdateUser={this.props.updateUser}\n\t\t\t\t\tonHide={this.toggleEditModal}\n\t\t\t\t\tresendConfirmEmail={this.props.resendConfirmEmail}\n\t\t\t\t\tdisableTFA={this.props.disableTFA}\n\t\t\t\t\tenableTFA={this.props.enableTFA}\n\t\t\t\t\tgetTfaQRCode={this.props.getTfaQRCode}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t\t<TicketListModal\n\t\t\t\t\tcreateTicket={this.props.createTicket}\n\t\t\t\t\tshow={this.state.showTicketListModal}\n\t\t\t\t\tonHide={this.toggleTicketListModal}\n\t\t\t\t\tgetUserTickets={this.props.getUserTickets}\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tsubmitTicketMessage={this.submitTicketMessage}\n\t\t\t\t\tcloseTicket={this.props.closeTicket}\n\t\t\t\t\topenTicket={this.props.openTicket}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t\t<ProfilePicModal\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tshow={this.state.showProfilePicModal}\n\t\t\t\t\tonHide={this.toggleProfilePicModal}\n\t\t\t\t\tuploadProfilePic={this.props.uploadProfilePic}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nProfilePage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tauthenticate: PropTypes.func.isRequired,\n\tcloseTicket: PropTypes.func.isRequired,\n\tcreateTicket: PropTypes.func.isRequired,\n\tdisableTFA: PropTypes.func.isRequired,\n\tenableTFA: PropTypes.func.isRequired,\n\tgetLessons: PropTypes.func.isRequired,\n\tgetTfaQRCode: PropTypes.func.isRequired,\n\tgetUserBadges: PropTypes.func.isRequired,\n\tgetUserFiles: PropTypes.func.isRequired,\n\tgetUserTickets: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tresendConfirmEmail: PropTypes.func.isRequired,\n\tsendTicketMessage: PropTypes.func.isRequired,\n\tupdateUser: PropTypes.func.isRequired,\n\tuploadProfilePic: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nProfilePage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'profile_page', 'common' ] )( ProfilePage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport axios from 'axios';\nimport server from 'constants/server';\nimport i18next from 'i18next';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { DISABLED_TFA, ENABLED_TFA, GET_TFA_QRCODE } from 'constants/action_types.js';\n\n\n// EXPORTS //\n\n/**\n * Makes a request to the server to get the two-factor authentication qrcode.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {(Object|void)} qrcode or void\n */\nexport const getTfaQRCode = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_tfa_qrcode' );\n\t\tdispatch({\n\t\t\ttype: GET_TFA_QRCODE,\n\t\t\tpayload: {\n\t\t\t\tevents: res.data.events\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a request for a two-factor authentication qrcode with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a request for a two-factor authentication qrcode\n */\nexport const getTfaQRCodeInjector = dispatch => {\n\treturn async () => {\n\t\tconst result = await getTfaQRCode( dispatch );\n\t\treturn result;\n\t};\n};\n\n/**\n * Makes a POST request to the server to enable two-factor authentication for the user making the request.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} token - the token to use for the two-factor authentication\n * @returns {void}\n */\nexport const enableTFA = async ( dispatch, token ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/enable_tfa', {\n\t\t\ttoken\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: res.data.verified ? i18next.t('common:tfa-enabled') : i18next.t('common:tfa-not-enabled'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: res.data.verified ? 'success' : 'error'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: ENABLED_TFA,\n\t\t\tpayload: {\n\t\t\t\tverified: res.data.verified\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to enable two-factor authentication for the user making the request with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a POST request to enable two-factor authentication for the user making the request\n */\nexport const enableTFAInjector = dispatch => {\n\treturn async ( token ) => {\n\t\tawait enableTFA( dispatch, token );\n\t};\n};\n\n/**\n * Makes a POST request to the server to disable two-factor authentication for the user making the request.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {void}\n */\nexport const disableTFA = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/disable_tfa' );\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:tfa-disabled'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: DISABLED_TFA,\n\t\t\tpayload: {\n\t\t\t\tmessage: res.data.message,\n\t\t\t\tdisabled: res.data.disabled\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to disable two-factor authentication for the user making the request with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a POST request to disable two-factor authentication for the user making the request\n */\nexport const disableTFAInjector = dispatch => {\n\treturn async () => {\n\t\tawait disableTFA( dispatch );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ProfilePage from 'components/profile-page';\nimport { getLessonsInjector } from 'actions/lesson';\nimport { getUserBadgesInjector } from 'actions/badge';\nimport { getUserFilesInjector } from 'actions/file';\nimport { authenticateInjector, uploadProfilePicInjector, updateUserInjector, resendConfirmEmailInjector } from 'actions/user';\nimport { addNotificationInjector } from 'actions/notification';\nimport { createTicketInjector, getUserTicketsInjector } from 'actions/ticket';\nimport { sendTicketMessageInjector, closeTicketInjector, openTicketInjector } from 'actions/ticket';\nimport { enableTFAInjector, disableTFAInjector, getTfaQRCodeInjector } from 'actions/two_factor_auth.js';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tuser: state.user\n\t};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\taddNotification: addNotificationInjector( dispatch ),\n\t\tcreateTicket: createTicketInjector( dispatch ),\n\t\tgetUserBadges: getUserBadgesInjector( dispatch ),\n\t\tupdateUser: updateUserInjector( dispatch ),\n\t\tauthenticate: authenticateInjector( dispatch ),\n\t\tgetUserFiles: getUserFilesInjector( dispatch ),\n\t\tgetLessons: getLessonsInjector( dispatch ),\n\t\tresendConfirmEmail: resendConfirmEmailInjector( dispatch ),\n\t\tsendTicketMessage: sendTicketMessageInjector( dispatch ),\n\t\tcloseTicket: closeTicketInjector( dispatch ),\n\t\topenTicket: openTicketInjector( dispatch ),\n\t\tgetUserTickets: getUserTicketsInjector( dispatch ),\n\t\tuploadProfilePic: uploadProfilePicInjector( dispatch ),\n\t\tenableTFA: enableTFAInjector( dispatch ),\n\t\tdisableTFA: disableTFAInjector( dispatch ),\n\t\tgetTfaQRCode: getTfaQRCodeInjector( dispatch )\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleProfilePage = connect( mapStateToProps, mapDispatchToProps )( ProfilePage );\n\n\n// EXPORTS //\n\nexport default VisibleProfilePage;\n"],"sourceRoot":""}