{"version":3,"sources":["../node_modules/@stdlib/assert/is-digit-string/lib/index.js","../node_modules/@stdlib/assert/is-digit-string/lib/main.js","../node_modules/@isle-project/components/data-table/tutorial-button/index.js","../node_modules/@isle-project/components/data-table/column_title.js","../node_modules/@isle-project/components/data-table/input_range.js","../node_modules/@isle-project/components/data-table/main.js","../node_modules/@isle-project/components/input/number/create_tooltip.js","../node_modules/@isle-project/components/input/number/main.js","../node_modules/@isle-project/components/input/number/index.js","../node_modules/@isle-project/components/node_modules/react-bootstrap/cjs/ButtonToolbar.js"],"names":["currentValue","vals","props","dataInfo","main","input","nodeInterop"],"mappings":"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","file":"static/js/5550.7d744bf2.chunk.js","sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test whether a string contains only numeric digits.\n*\n* @module @stdlib/assert/is-digit-string\n*\n* @example\n* var isDigitString = require( '@stdlib/assert/is-digit-string' );\n*\n* var out = isDigitString( '0123456789' );\n* // returns true\n*\n* out = isDigitString( '0xffffff' );\n* // returns false\n*\n* out = isDigitString( '' );\n* // returns false\n*/\n\n// MODULES //\n\nvar isDigitString = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isDigitString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isString = require( './../../is-string' ).isPrimitive;\n\n\n// VARIABLES //\n\n// Character codes:\nvar ZERO = 48;\nvar NINE = 57;\n\n\n// MAIN //\n\n/**\n* Tests whether a string contains only numeric digits.\n*\n* @param {*} x - value to test\n* @returns {boolean} boolean indicating if a string contains only numeric digits\n*\n* @example\n* var out = isDigitString( '0123456789' );\n* // returns true\n*\n* @example\n* var out = isDigitString( '0xffffff' );\n* // returns false\n*\n* @example\n* var out = isDigitString( '' );\n* // returns false\n*\n* @example\n* var out = isDigitString( 123 );\n* // returns false\n*/\nfunction isDigitString( x ) {\n\tvar len;\n\tvar ch;\n\tvar i;\n\tif ( !isString( x ) ) {\n\t\treturn false;\n\t}\n\tlen = x.length;\n\tif ( len === 0 ) {\n\t\treturn false;\n\t}\n\tfor ( i = 0; i < len; i++ ) {\n\t\tch = x.charCodeAt( i );\n\t\tif ( ch < ZERO || ch > NINE ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isDigitString;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport OverlayTrigger from '@isle-project/components/overlay-trigger';\nimport Joyride, { EVENTS } from '@isle-project/components/joyride';\nimport copy from '@stdlib/utils/copy';\nimport STEPS from './steps.json';\n\n\n// MAIN //\n\nclass Tutorial extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\trunning: false\n\t\t};\n\t\tthis.stepsWithId = copy( STEPS, 2 ).map( x => {\n\t\t\tx.target = `#${props.id} ` + x.target;\n\t\t\treturn x;\n\t\t});\n\t}\n\n\tstartTour = () => {\n\t\tthis.setState({\n\t\t\trunning: !this.state.running\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<OverlayTrigger\n\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\toverlay={<Tooltip>\n\t\t\t\t\t\t{this.props.t( this.state.running ? 'close-tutorial' : 'show-tutorial' )}\n\t\t\t\t\t</Tooltip>}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label={this.props.t('show-tutorial')}\n\t\t\t\t\t\tclassName=\"help-button\"\n\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\tonClick={this.startTour}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"fa fa-question\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<Joyride\n\t\t\t\t\tsteps={this.stepsWithId}\n\t\t\t\t\tdisableScrolling\n\t\t\t\t\tshowProgress\n\t\t\t\t\trun={this.state.running}\n\t\t\t\t\tcallback={( tour ) => {\n\t\t\t\t\t\tconst type = tour.type;\n\t\t\t\t\t\tif ( type === EVENTS.TOUR_END ) {\n\t\t\t\t\t\t\tthis.setState({ running: false });\n\t\t\t\t\t\t\tthis.props.onTutorialCompletion();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTutorial.propTypes = {\n\tonTutorialCompletion: PropTypes.func.isRequired\n};\n\n\n// EXPORTS //\n\nexport default Tutorial;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Overlay from 'react-bootstrap/Overlay';\n\n\n// MAIN //\n\nclass ColumnTitle extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tshowTooltip: false\n\t\t};\n\t}\n\n\tshowTooltip = () => {\n\t\tthis.setState({\n\t\t\tshowTooltip: true\n\t\t});\n\t};\n\n\thideTooltip = () => {\n\t\tthis.setState({\n\t\t\tshowTooltip: false\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Overlay\n\t\t\t\t\tshow={this.state.showTooltip}\n\t\t\t\t\ttarget={this.title}\n\t\t\t\t>\n\t\t\t\t\t{({ placement, scheduleUpdate, arrowProps, outOfBoundaries, show, ...props }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(10, 10, 10,0.9)',\n\t\t\t\t\t\t\t\t\tpadding: '2px 10px',\n\t\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\t\t\tmaxWidth: '300px',\n\t\t\t\t\t\t\t\t\tmarginBottom: '10px',\n\t\t\t\t\t\t\t\t\t...props.style\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.props.tooltip}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</Overlay>\n\t\t\t\t<span\n\t\t\t\t\tref={( title ) => { this.title = title; }}\n\t\t\t\t\tonMouseOver={this.showTooltip} onFocus={this.showTooltip}\n\t\t\t\t\tonMouseOut={this.hideTooltip} onBlur={this.hideTooltip}\n\t\t\t\t>{this.props.title}</span>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nColumnTitle.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\ttooltip: PropTypes.string\n};\n\nColumnTitle.defaultProps = {\n\ttooltip: ''\n};\n\n\n// EXPORTS //\n\nexport default ColumnTitle;\n","// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FocusTrap from 'focus-trap-react';\nimport InputRange from 'react-input-range';\nimport Overlay from 'react-bootstrap/Overlay';\nimport NumberInput from '@isle-project/components/input/number';\nimport Button from 'react-bootstrap/Button';\nimport round from '@stdlib/math/base/special/round';\n\n\n// MAIN //\n\nclass FilterInputRange extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tcurrentValue: props.defaultValue,\n\t\t\tdefaultValue: props.defaultValue,\n\t\t\tshowRangeInput: false\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps( nextProps, prevState ) {\n\t\tif ( nextProps.defaultValue !== prevState.defaultValue ) {\n\t\t\tconst newState = {\n\t\t\t\tcurrentValue: nextProps.defaultValue,\n\t\t\t\tdefaultValue: nextProps.defaultValue\n\t\t\t};\n\t\t\treturn newState;\n\t\t}\n\t\treturn null;\n\t}\n\n\tshowRangeInput = () => {\n\t\tthis.setState({\n\t\t\tshowRangeInput: true\n\t\t});\n\t};\n\n\thideRangeInput = () => {\n\t\tthis.setState({\n\t\t\tshowRangeInput: false\n\t\t});\n\t};\n\n\thandleBlur = () => {\n\t\tthis.props.onChange( this.state.currentValue );\n\t};\n\n\trender() {\n\t\tconst { currentValue } = this.state;\n\t\treturn (\n\t\t\t<div className=\"input-range-wrapper\" ref={( div ) => {\n\t\t\t\tthis.inputRange = div;\n\t\t\t}} >\n\t\t\t\t<InputRange\n\t\t\t\t\tariaLabelledby={this.props.ariaLabelledby}\n\t\t\t\t\tariaControls={this.props.ariaControls}\n\t\t\t\t\tallowSameValues\n\t\t\t\t\tmaxValue={this.props.maxValue}\n\t\t\t\t\tminValue={this.props.minValue}\n\t\t\t\t\tvalue={currentValue}\n\t\t\t\t\tonChange={( currentValue ) => {\n\t\t\t\t\t\tthis.setState({ currentValue });\n\t\t\t\t\t}}\n\t\t\t\t\tonChangeComplete={( newValue ) => {\n\t\t\t\t\t\tthis.props.onChange( newValue );\n\t\t\t\t\t}}\n\t\t\t\t\tformatLabel={( val ) => {\n\t\t\t\t\t\treturn ( <span\n\t\t\t\t\t\t\tclassName=\"input-range-clickable-label\"\n\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\t\tonKeyPress={this.showRangeInput}\n\t\t\t\t\t\t\tonClick={this.showRangeInput}\n\t\t\t\t\t\t\ttitle={this.props.t('click-to-set-value')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{round( val )}\n\t\t\t\t\t\t</span> );\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ float: 'left' }}\n\t\t\t\t/>\n\t\t\t\t\t<Overlay\n\t\t\t\t\t\tshow={this.state.showRangeInput}\n\t\t\t\t\t\ttarget={this.inputRange}\n\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ placement, scheduleUpdate, arrowProps, outOfBoundaries, show, ...props }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<FocusTrap active={this.state.showRangeInput} >\n\t\t\t\t\t\t\t\t\t<div className=\"input-range-number-entry\"\n\t\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t...props.style\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentValue.min}\n\t\t\t\t\t\t\t\t\t\t\tmin={this.props.minValue}\n\t\t\t\t\t\t\t\t\t\t\tmax={currentValue.max}\n\t\t\t\t\t\t\t\t\t\t\tonChange={( v ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newValue = {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin: Number( v ),\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax: this.state.currentValue.max\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue: newValue\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\t\t\t\t\tinline value={currentValue.max}\n\t\t\t\t\t\t\t\t\t\t\tmin={currentValue.min}\n\t\t\t\t\t\t\t\t\t\t\tmax={this.props.maxValue}\n\t\t\t\t\t\t\t\t\t\t\tonChange={( v ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newValue = {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin: this.state.currentValue.min,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax: Number( v )\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue: newValue\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\taria-label={this.props.t('close')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.hideRangeInput}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</FocusTrap>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Overlay>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nFilterInputRange.propTypes = {\n\tdefaultValue: PropTypes.object.isRequired,\n\tmaxValue: PropTypes.number.isRequired,\n\tminValue: PropTypes.number.isRequired,\n\tonChange: PropTypes.func.isRequired\n};\n\n\n// EXPORTS //\n\nexport default FilterInputRange;\n","/*\n* Dragging behavior adapted from code by:\n*\n* Copyright (c) 2019 by Matt Lockyer (https://codepen.io/mattlockyer/pen/LydeLj)\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport ReactTable from 'react-table';\nimport unique from 'uniq';\nimport Alert from 'react-bootstrap/Alert';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Tooltip from '@isle-project/components/tooltip';\nimport markdownit from 'markdown-it';\nimport isDigitString from '@stdlib/assert/is-digit-string';\nimport isTypedArray from '@stdlib/assert/is-typed-array';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport floor from '@stdlib/math/base/special/floor';\nimport ceil from '@stdlib/math/base/special/ceil';\nimport isNumberArray from '@stdlib/assert/is-number-array';\nimport isEmptyArray from '@stdlib/assert/is-empty-array';\nimport isEmptyObject from '@stdlib/assert/is-empty-object';\nimport isObject from '@stdlib/assert/is-object';\nimport isArray from '@stdlib/assert/is-array';\nimport { isPrimitive as isNumber } from '@stdlib/assert/is-number';\nimport isNull from '@stdlib/assert/is-null';\nimport objectKeys from '@stdlib/utils/keys';\nimport min from '@isle-project/utils/statistic/min';\nimport max from '@isle-project/utils/statistic/max';\nimport generateUID from '@isle-project/utils/uid';\nimport saveAs from '@isle-project/utils/file-saver';\nimport SessionContext from '@isle-project/session/context.js';\nimport { TABLE_SORT, TABLE_FILTER, TABLE_RESET } from '@isle-project/constants/actions.js';\nimport NINF from '@stdlib/constants/float64/ninf';\nimport SelectInput from '@isle-project/components/input/select';\nimport { components } from 'react-select';\nimport TutorialButton from './tutorial-button/index.js';\nimport ColumnTitle from './column_title.js';\nimport FilterInputRange from './input_range.js';\nimport { withPropCheck } from '@isle-project/utils/prop-check';\nimport 'react-table/react-table.css';\nimport './input_range.css';\nimport './react_table_height.css';\nimport './data_table.css';\n\n\n// VARIABLES //\n\nconst md = markdownit({\n\thtml: true,\n\txhtmlOut: true,\n\tbreaks: true,\n\ttypographer: false\n});\nconst debug = logger( 'isle:data-table' );\nconst uid = generateUID( 'data-table' );\nconst collator = new Intl.Collator( 'en', { numeric: true, sensitivity: 'base' });\nconst RE_NUMBER = /[0-9.,]+/;\n\n\n// FUNCTIONS //\n\nfunction numericComparer( a, b ) {\n\ta = ( a === null || a === void 0 || a === 'NA' ) ? NINF : a;\n\tb = ( b === null || b === void 0 || b === 'NA' ) ? NINF : b;\n\treturn a - b;\n}\n\nfunction generalComparer( a, b ) {\n\ta = ( a === null || a === void 0 || a === 'NA' ) ? NINF : a;\n\tb = ( b === null || b === void 0 || b === 'NA' ) ? NINF : b;\n\treturn collator.compare( a, b );\n}\n\nfunction createDescriptions( descriptions, t ) {\n\tconst keys = objectKeys( descriptions );\n\tconst arr = new Array( keys.length );\n\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\tconst key = keys[ i ];\n\t\tarr[ i ] = <tr key={`${key}-${i}`} >\n\t\t\t<td>{`${key}`}</td>\n\t\t\t<td>{descriptions[ key ]}</td>\n\t\t</tr>;\n\t}\n\treturn ( <table className=\"table-bordered table-condensed\" style={{ width: '100%' }} >\n\t\t<thead>\n\t\t\t<tr><th>{t('name')}</th><th>{t('description')}</th></tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t{arr}\n\t\t</tbody>\n\t</table> );\n}\n\nfunction filterMethodStrings( filter, row ) {\n\tconst rowValue = row[ filter.id ];\n\tif ( !rowValue && filter.value ) {\n\t\treturn false;\n\t}\n\tif ( isArray( filter.value ) ) {\n\t\treturn contains( filter.value, rowValue );\n\t}\n\t// Check whether string contains search phrase:\n\treturn contains( lowercase( rowValue ), lowercase( filter.value ) );\n}\n\nfunction filterMethodNumbers( filter, row ) {\n\tconst val = row[ filter.id ];\n\treturn val >= filter.value.min && val <= filter.value.max;\n}\n\nfunction filterMethodCategories( filter, row, column ) {\n\tif ( !filter.value || isEmptyArray( filter.value ) ) {\n\t\treturn true;\n\t}\n\tconst id = filter.pivotId || filter.id;\n\tif ( row[ id ] === void 0 ) {\n\t\treturn true;\n\t}\n\tif ( isArray( filter.value ) ) {\n\t\treturn contains( filter.value, String( row[ id ] ) );\n\t}\n\treturn String( row[ id ] ) === filter.value;\n}\n\n\n/**\n * Returns the maximum length of any of the arrays in the given object.\n *\n * @private\n * @param {Object} obj - object to check\n * @param {Array} keys - array of keys to check\n * @returns {number} maximum length\n */\nfunction maxLength( obj, keys ) {\n\tlet v = 0;\n\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\tconst key = keys[ i ];\n\t\tconst arr = obj[ key ];\n\t\tif ( isArray( arr ) && arr.length > v ) {\n\t\t\tv = arr.length;\n\t\t}\n\t}\n\treturn v;\n}\n\nfunction createRows( data ) {\n\tif ( isEmptyObject( data ) ) {\n\t\treturn [];\n\t}\n\tconst keys = objectKeys( data );\n\tconst nRows = maxLength( data, keys );\n\tconst rows = new Array( nRows );\n\tfor ( let i = 0; i < nRows; i++ ) {\n\t\trows[ i ] = {};\n\t\tfor ( let j = 0; j < keys.length; j++ ) {\n\t\t\tlet key = keys[ j ];\n\t\t\trows[ i ][ key ] = data[ key ][ i ];\n\t\t}\n\t}\n\treturn rows;\n}\n\nconst CustomIndicator = () => {\n\treturn <div />;\n};\n\nfunction adjustWidth( event ) {\n\tevent.target.style.width = (event.target.value.length+1) + 'ch';\n}\n\nfunction createColumns( props, state ) {\n\tdebug( 'Create columns...' );\n\tconst t = props.t;\n\tconst columns = state.keys.filter( key => key !== 'id' ).map( ( key, idx ) => {\n\t\tlet header = key;\n\t\tconst hasDescription = props.dataInfo &&\n\t\t\tprops.dataInfo.variables &&\n\t\t\tprops.dataInfo.variables[ key ];\n\t\tconst out = {\n\t\t\tid: key,\n\t\t\taccessor: ( d ) => isNull( d[ key ] ) ? 'NA' : String( d[ key ] ),\n\t\t\tminWidth: hasDescription ? 125 : 150\n\t\t};\n\t\tif ( hasDescription ) {\n\t\t\theader = <ColumnTitle title={key} tooltip={props.dataInfo.variables[ key ]} />;\n\t\t} else if ( props.deletable && !contains( props.undeletableVars, key ) ) {\n\t\t\theader = <div style={{ backgroundColor: 'papayawhip' }}>\n\t\t\t\t\t<Tooltip placement=\"left\" tooltip={t('rename-variable')} >\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<input type=\"text\" className=\"header-text-input\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: `${key.length+1}ch`\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdefaultValue={key}\n\t\t\t\t\t\t\tonBlur={( e ) => {\n\t\t\t\t\t\t\t\tconst newKey = e.target.value;\n\t\t\t\t\t\t\t\tdocument.getElementById( `header-${key}`).setAttribute( 'draggable', true );\n\t\t\t\t\t\t\t\tif ( newKey.length > 0 && key !== newKey ) {\n\t\t\t\t\t\t\t\t\tprops.onColumnNameChange( key, newKey );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseEnter={( e ) => {\n\t\t\t\t\t\t\t\t// Update draggable attribute to handle Firefox bug (https://stackoverflow.com/questions/21680363/prevent-drag-event-to-interfere-with-input-elements-in-firefox-using-html5-drag)\n\t\t\t\t\t\t\t\tdocument.getElementById( `header-${key}`).setAttribute( 'draggable', false );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={adjustWidth}\n\t\t\t\t\t\t\tonClick={( e ) => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip placement=\"left\" tooltip={t('remove-variable')} >\n\t\t\t\t\t<button aria-label={t('remove-variable')} className=\"fa fa-times delete-button\" onClick={( evt ) => {\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\tprops.onColumnDelete( key );\n\t\t\t\t\t}} />\n\t\t\t\t</Tooltip>\n\t\t\t</div>;\n\t\t}\n\t\tout.Header = header;\n\t\tlet vals;\n\t\tif ( !isArray( props.data ) ) {\n\t\t\tvals = props.data[ key ].slice();\n\t\t} else {\n\t\t\tvals = new Array( state.rows.length );\n\t\t\tfor ( let i = 0; i < state.rows.length; i++ ) {\n\t\t\t\tvals[ i ] = props.data[ i ][ key ];\n\t\t\t}\n\t\t}\n\t\tif ( props.filterable ) {\n\t\t\tlet isNumColumn = false;\n\t\t\tlet uniqueValues;\n\t\t\tif ( isTypedArray( vals ) ) {\n\t\t\t\tisNumColumn = true;\n\t\t\t\tuniqueValues = vals;\n\t\t\t} else {\n\t\t\t\tvals = vals.filter( x => !isNull( x ) && x !== '' && x !== 'NA' );\n\t\t\t\tuniqueValues = unique( vals );\n\t\t\t\tconst activeFilter = props.filters.filter( x => x.id === key )[ 0 ];\n\t\t\t\tif ( activeFilter && isNumber( activeFilter.value.min ) && isNumber( activeFilter.value.max ) ) {\n\t\t\t\t\tisNumColumn = true;\n\t\t\t\t} else {\n\t\t\t\t\tisNumColumn = isNumberArray( vals ) && uniqueValues.length > 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( isNumColumn ) {\n\t\t\t\tout[ 'filterMethod' ] = filterMethodNumbers;\n\t\t\t\tout[ 'sortMethod' ] = numericComparer;\n\t\t\t\tout[ 'style' ] = {\n\t\t\t\t\ttextAlign: 'right'\n\t\t\t\t};\n\t\t\t\tout[ 'Filter' ] = ({ filter, onChange }) => {\n\t\t\t\t\tconst maxValue = ceil( max( uniqueValues ) );\n\t\t\t\t\tconst minValue = floor( min( uniqueValues ) );\n\t\t\t\t\tconst defaultVal = {\n\t\t\t\t\t\tmax: maxValue,\n\t\t\t\t\t\tmin: minValue\n\t\t\t\t\t};\n\t\t\t\t\treturn ( <FilterInputRange\n\t\t\t\t\t\tariaLabelledby={`header-${key}`}\n\t\t\t\t\t\tariaControls={state.id}\n\t\t\t\t\t\tdefaultValue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\tonChange={onChange} maxValue={maxValue} minValue={minValue}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t/> );\n\t\t\t\t};\n\t\t\t} else if ( uniqueValues.length <= 50 ) {\n\t\t\t\t// Cast values to strings for select component to work and sort:\n\t\t\t\tuniqueValues = uniqueValues.map( x => String( x ) ).sort( generalComparer );\n\t\t\t\tif ( isDigitString( uniqueValues[ 0 ] ) ) {\n\t\t\t\t\tout[ 'style' ] = {\n\t\t\t\t\t\ttextAlign: 'right'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tout[ 'filterMethod' ] = filterMethodCategories;\n\t\t\t\tout[ 'sortMethod' ] = generalComparer;\n\t\t\t\tout[ 'Filter' ] = ({ filter, onChange }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\tonChange={( vals ) => {\n\t\t\t\t\t\t\t\tif ( vals && vals.length > 0 && uniqueValues.length > 3 ) {\n\t\t\t\t\t\t\t\t\tout.minWidth = 300;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tout.minWidth = 125;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange( vals );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\t\tvalue={filter ? filter.value : null}\n\t\t\t\t\t\t\tsearchable={false}\n\t\t\t\t\t\t\toptions={uniqueValues}\n\t\t\t\t\t\t\tmenuPlacement=\"auto\"\n\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\tplaceholder={t('show-all')}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tDropdownIndicator: CustomIndicator,\n\t\t\t\t\t\t\t\tMultiValueLabel: props => {\n\t\t\t\t\t\t\t\t\tconst invertSelection = () => {\n\t\t\t\t\t\t\t\t\t\tonChange( uniqueValues.filter( x => x !== props.children ) );\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Tooltip tooltip={t('select-others')} placement=\"bottom\" >\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={invertSelection}\n\t\t\t\t\t\t\t\t\t\t\t\tonKeyPress={invertSelection}\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// See: https://github.com/JedWatson/react-select/issues/3117\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'cursor' }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<components.MultiValueLabel {...props} />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tescapeClearsValue\n\t\t\t\t\t\t\tcloseMenuOnSelect={uniqueValues.length <= 2}\n\t\t\t\t\t\t\tmenuPortalTarget={document.body}\n\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\tmenuPortal: base => ({ ...base, zIndex: 9999 })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tout[ 'filterMethod' ] = filterMethodStrings;\n\t\t\t\tout[ 'sortMethod' ] = generalComparer;\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t});\n\treturn columns;\n}\n\n\n// MAIN //\n\n/**\n* A component rendering data in a tabular display. Built on top of [react-table](https://react-table.js.org/).\n*\n* @property {(Object|Array)} data - A data object or array to be viewed. If it is an object, the keys correspond to column values while an array will expect an array of objects with a named field corresponding to each column\n* @property {Object} dataInfo - object with `info` string array describing the data set, the `name` of the dataset, an `object` of `variables` with keys corresponding to variable names and values to variable descriptions, an a `showOnStartup` boolean controlling whether to display the info modal on startup\n* @property {Array} editable - array of names for columns that shall be editable\n* @property {boolean} deletable - controls whether columns for which no `info` exist have a button which when clicked calls the `onColumnDelete` callback function\n* @property {Array<string>} undeletableVars - array of variable names of columns which may not be deleted\n* @property {boolean} filterable - controls whether columns are filterable\n* @property {boolean} showRemove - indicates whether to display checkboxes for rows to be removed\n* @property {boolean} disableDownload - whether to hide the button to download the data as a CSV or JSON file\n* @property {boolean} showIdColumn - controls whether to show an ID column\n* @property {string} className - class name\n* @property {Object} style - An object allowing for custom css styling. Defaults to an empty object\n* @property {Function} getTrProps - callback function executed for each row to customize its styling (passed table state, row info,\ncolumn, and the table instance)\n* @property {Array} filters - array of filters\n* @property {Function} onColumnNameChange - function invoked when a column has been renamed (called with the old name as first and new name as second argument)\n* @property {Function} onColumnDrag - function invoked when a column has been dragged to a different position\n* @property {Function} onClickRemove - function specifying an action to take for rows removed from the data (defaults to an empty function)\n* @property {Function} onColumnDelete - function invoked with the name of a column when the respective delete button for a column is clicked\n* @property {Function} onFilteredChange - function invoked with the current filters after data has been filtered by user\n* @property {Function} onEdit - function invoked with the updated data set after the value of a cell was changed by the user (only applies when table is `editable`)\n* @property {Function} onTutorialCompletion - function invoked when user has completed the data table tutorial\n*/\nclass DataTable extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tdebug( 'Constructor is invoked...' );\n\t\tthis.id = props.id || uid( props );\n\t\tconst dataInfo = props.dataInfo || {};\n\n\t\tthis.dragged = null;\n\t\tthis.reorder = [];\n\t\tthis.state = {\n\t\t\tshowInfo: !!dataInfo.showOnStartup,\n\t\t\tdataInfo: {\n\t\t\t\tinfo: dataInfo.info || [],\n\t\t\t\tname: dataInfo.name || '',\n\t\t\t\tvariables: dataInfo.variables || null,\n\t\t\t\tshowOnStartup: dataInfo.showOnStartup || null\n\t\t\t},\n\t\t\tshowSaveModal: false,\n\t\t\tid: this.id // eslint-disable-line react/no-unused-state\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps( nextProps, prevState ) {\n\t\tdebug( 'Generating derived state...' );\n\t\tlet newState = null;\n\t\tif ( nextProps.data !== prevState.data ) {\n\t\t\tdebug( 'Data is new...' );\n\t\t\tlet rows;\n\t\t\tlet keys;\n\t\t\tlet isArr = isArray( nextProps.data );\n\t\t\tif ( isArr || isObject( nextProps.data ) ) {\n\t\t\t\tif ( isArr ) {\n\t\t\t\t\t// Case: `data` is already an array of observations\n\t\t\t\t\trows = nextProps.data.slice();\n\t\t\t\t\tkeys = objectKeys( rows[ 0 ] );\n\t\t\t\t} else {\n\t\t\t\t\t// Case: `data` is an object with keys for the various variables\n\t\t\t\t\trows = createRows( nextProps.data );\n\t\t\t\t\tkeys = objectKeys( nextProps.data );\n\t\t\t\t}\n\t\t\t\tdebug( 'Created a `rows` array of length: '+rows.length );\n\t\t\t\tif ( contains( keys, 'id' ) ) {\n\t\t\t\t\t// Do not attach `id` column:\n\t\t\t\t\tfor ( let i = 0; i < rows.length; i++ ) {\n\t\t\t\t\t\tif ( nextProps.showRemove && !rows[ i ][ 'remove' ]) {\n\t\t\t\t\t\t\trows[ i ][ 'remove' ] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Attach `id` column:\n\t\t\t\t\tfor ( let i = 0; i < rows.length; i++ ) {\n\t\t\t\t\t\tif ( nextProps.showRemove && !rows[ i ][ 'remove' ]) {\n\t\t\t\t\t\t\trows[ i ][ 'remove' ] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\trows[ i ][ 'id' ] = i + 1;\n\t\t\t\t\t}\n\t\t\t\t\tkeys.push( 'id' );\n\t\t\t\t}\n\t\t\t\tnewState = {};\n\t\t\t\tnewState.rows = rows;\n\t\t\t\tnewState.keys = keys;\n\t\t\t\tnewState.filtered = nextProps.filters;\n\t\t\t\tnewState.showTooltip = false;\n\t\t\t\tnewState.data = nextProps.data;\n\t\t\t\tnewState.columns = createColumns( nextProps, newState );\n\t\t\t}\n\t\t}\n\t\tif (\n\t\t\tnextProps.dataInfo && prevState.dataInfo &&\n\t\t\tnextProps.dataInfo.name !== prevState.dataInfo.name\n\t\t) {\n\t\t\tdebug( 'Data information has changed...' );\n\t\t\tif ( !newState ) {\n\t\t\t\tnewState = {};\n\t\t\t}\n\t\t\tnewState.dataInfo = {\n\t\t\t\tinfo: nextProps.dataInfo.info || [],\n\t\t\t\tname: nextProps.dataInfo.name || '',\n\t\t\t\tvariables: nextProps.dataInfo.variables || null,\n\t\t\t\tshowOnStartup: nextProps.dataInfo.showOnStartup || null\n\t\t\t};\n\t\t}\n\t\treturn newState;\n\t}\n\n\tcomponentDidMount() {\n\t\tdebug( 'Component has mounted...' );\n\t\tif ( this.table ) {\n\t\t\tconst thead = findDOMNode( this.table ).getElementsByClassName( 'rt-thead' )[ 0 ];\n\t\t\tconst theadControls = findDOMNode( this.table ).getElementsByClassName( 'rt-thead' )[ 1 ];\n\t\t\tconst tbody = findDOMNode( this.table ).getElementsByClassName( 'rt-tbody' )[0];\n\t\t\ttbody.addEventListener( 'scroll', () => {\n\t\t\t\tthead.scrollLeft = tbody.scrollLeft;\n\t\t\t\ttheadControls.scrollLeft = tbody.scrollLeft;\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\tdebug( 'Component has updated...' );\n\t\tlet newState = {};\n\t\tif (\n\t\t\tthis.props.filters &&\n\t\t\t(\n\t\t\t\tthis.props.filters !== prevProps.filters ||\n\t\t\t\tthis.props.filters.length !== prevProps.filters.length\n\t\t\t)\n\t\t) {\n\t\t\tdebug( `Data table now has ${this.props.filters.length} filters...` );\n\t\t\tnewState.filtered = this.props.filters;\n\t\t}\n\t\tif (\n\t\t\tthis.props.data !== prevProps.data &&\n\t\t\tthis.state.keys.length !== prevState.keys.length\n\t\t) {\n\t\t\tconst thead = findDOMNode( this.table ).getElementsByClassName( 'rt-thead' )[ 0 ];\n\t\t\tconst theadControls = findDOMNode( this.table ).getElementsByClassName( 'rt-thead' )[ 1 ];\n\t\t\tconst tbody = findDOMNode( this.table ).getElementsByClassName( 'rt-tbody' )[0];\n\t\t\tthead.scrollLeft = thead.scrollWidth;\n\t\t\ttheadControls.scrollLeft = theadControls.scrollWidth;\n\t\t\ttbody.scrollLeft = tbody.scrollWidth;\n\t\t}\n\t\tif ( !isEmptyObject( newState ) ) {\n\t\t\tdebug( 'Trigger a state change after update...' );\n\t\t\tthis.setState( newState );\n\t\t}\n\t}\n\n\trenderEditable = ( cellInfo ) => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{ backgroundColor: '#fafafa' }}\n\t\t\t\tcontentEditable\n\t\t\t\tsuppressContentEditableWarning\n\t\t\t\tonBlur={e => {\n\t\t\t\t\tconst rows = [...this.state.rows ];\n\t\t\t\t\tconst val = e.target.innerHTML;\n\t\t\t\t\trows[ cellInfo.index ][ cellInfo.column.id ] = RE_NUMBER.test( val ) ? Number( val ) : val;\n\t\t\t\t\tthis.setState({ rows }, () => {\n\t\t\t\t\t\tthis.props.onEdit( rows );\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\t/* eslint-disable-next-line react/no-danger */\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: this.state.rows[ cellInfo.index ][ cellInfo.column.id ]\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\trenderCheckboxRemovable = ( cellInfo ) => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\tid=\"checkBox\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tkey={`${cellInfo.index}-${cellInfo.column.id}-${this.state.rows.length}`}\n\t\t\t\tonClick={e => {\n\t\t\t\t\tconst rows = [ ...this.state.rows ];\n\t\t\t\t\trows[ cellInfo.index ][ cellInfo.column.id ] = e.target.checked;\n\t\t\t\t\tthis.setState({ rows });\n\t\t\t\t\tthis.props.onClickRemove( rows );\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\thandleFilterChange = ( filtered, column ) => {\n\t\tconst tbody = findDOMNode( this.table ).getElementsByClassName( 'rt-tbody' )[0];\n\t\ttbody.scrollTop = 0;\n\t\tconst session = this.context;\n\t\tsession.log({\n\t\t\tid: this.id,\n\t\t\ttype: TABLE_FILTER,\n\t\t\tvalue: column.id\n\t\t});\n\t\tthis.setState({\n\t\t\tfiltered\n\t\t}, () => {\n\t\t\tthis.props.onFilteredChange( this.state.filtered.filter( x => !isNull( x.value ) ) );\n\t\t});\n\t};\n\n\thandleSortedChange = ( sorted, column ) => {\n\t\tconst session = this.context;\n\t\tsession.log({\n\t\t\tid: this.id,\n\t\t\ttype: TABLE_SORT,\n\t\t\tvalue: column.id\n\t\t});\n\t\tthis.setState({\n\t\t\tsorted\n\t\t});\n\t};\n\n\tshowDescriptions = () => {\n\t\tthis.setState({\n\t\t\tshowVarModal: true\n\t\t});\n\t};\n\n\treset = () => {\n\t\tconst session = this.context;\n\t\tsession.log({\n\t\t\tid: this.id,\n\t\t\ttype: TABLE_RESET,\n\t\t\tvalue: ''\n\t\t});\n\t\tthis.setState({\n\t\t\tfiltered: [],\n\t\t\tsorted: []\n\t\t}, () => {\n\t\t\tthis.props.onFilteredChange( this.state.filtered );\n\t\t});\n\t};\n\n\tshowInfo = () => {\n\t\tdebug( 'Show dataset information...' );\n\t\tthis.setState({\n\t\t\tshowInfo: true\n\t\t});\n\t};\n\n\ttoggleSaveModal = () => {\n\t\tthis.setState({\n\t\t\tshowSaveModal: !this.state.showSaveModal\n\t\t});\n\t};\n\n\tsaveJSON = () => {\n\t\tconst blob = new Blob([ JSON.stringify( this.state.data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst dataInfo = this.props.dataInfo;\n\t\tlet name;\n\t\tif ( !dataInfo || !dataInfo.name ) {\n\t\t\tname = 'dataset.json';\n\t\t} else {\n\t\t\tname = dataInfo.name;\n\t\t}\n\t\tsaveAs( blob, name );\n\t};\n\n\tsaveCSV = () => {\n\t\tconst session = this.context;\n\t\timport( 'csv-stringify' ).then( main => {\n\t\t\tconst stringify = main.default;\n\t\t\tstringify( this.state.rows, {\n\t\t\t\theader: true\n\t\t\t}, ( err, output ) => {\n\t\t\t\tif ( err ) {\n\t\t\t\t\treturn session.addNotification({\n\t\t\t\t\t\ttitle: this.props.t('error-encountered'),\n\t\t\t\t\t\tmessage: this.props.t('error-csv')+err.message,\n\t\t\t\t\t\tlevel: 'error',\n\t\t\t\t\t\tposition: 'tl'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\t\ttype: 'text/csv;charset=utf-8;'\n\t\t\t\t});\n\t\t\t\tconst dataInfo = this.props.dataInfo;\n\t\t\t\tlet name;\n\t\t\t\tif ( !dataInfo || !dataInfo.name ) {\n\t\t\t\t\tname = 'dataset.csv';\n\t\t\t\t} else {\n\t\t\t\t\tname = `${dataInfo.name}.csv`; // eslint-disable-line i18next/no-literal-string\n\t\t\t\t}\n\t\t\t\tsaveAs( blob, name );\n\t\t\t});\n\t\t});\n\t};\n\n\thandleSaveCSV = () => {\n\t\tthis.saveCSV();\n\t\tthis.toggleSaveModal();\n\t};\n\n\thandleSaveJSON = () => {\n\t\tthis.saveJSON();\n\t\tthis.toggleSaveModal();\n\t};\n\n\thideVarModal = () =>{\n\t\tthis.setState({ showVarModal: false });\n\t};\n\n\thideInfoModal = () => {\n\t\tthis.setState({\n\t\t\tshowInfo: false\n\t\t});\n\t};\n\n\thandleTableProps = () => {\n\t\treturn {\n\t\t\tonScroll: e => {\n\t\t\t\tlet left = e.target.scrollLeft > 0 ? e.target.scrollLeft : 0;\n\t\t\t\tfor ( let i = 0; i < this.frozenElems.length; i++ ) {\n\t\t\t\t\tthis.frozenElems[ i ].style.left = `${left}px`; // eslint-disable-line i18next/no-literal-string\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\thandleTrProps = ( state, rowInfo, column, table ) => {\n\t\tlet out;\n\t\tif ( this.props.getTrProps ) {\n\t\t\tout = this.props.getTrProps( state, rowInfo, column, table );\n\t\t} else {\n\t\t\tout = {};\n\t\t}\n\t\tif ( !out.style ) {\n\t\t\tout.style = {};\n\t\t}\n\t\tout.style.width = 'max-content !important';\n\t\treturn out;\n\t};\n\n\trender() {\n\t\tdebug( 'Rendering component' );\n\t\tlet { rows, dataInfo } = this.state;\n\t\tif ( !rows ) {\n\t\t\treturn <Alert variant=\"danger\">{this.props.t('no-data')}</Alert>;\n\t\t}\n\t\tlet modal = null;\n\t\tif ( this.state.showVarModal ) {\n\t\t\tmodal = <Modal\n\t\t\t\tdialogClassName=\"modal-50w\"\n\t\t\t\tshow={this.state.showVarModal}\n\t\t\t\tonHide={this.hideVarModal}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t{this.props.t('variables')}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t{createDescriptions( dataInfo.variables, this.props.t )}\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>;\n\t\t} else if ( this.state.showInfo ) {\n\t\t\tdebug( 'Rendering dataset information modal...' );\n\t\t\tmodal = <Modal\n\t\t\t\tshow={this.state.showInfo}\n\t\t\t\tdialogClassName=\"modal-50w\"\n\t\t\t\tonHide={this.hideInfoModal}\n\t\t\t>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t{dataInfo.name} {this.props.t('description')}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body dangerouslySetInnerHTML={{ // eslint-disable-line react/no-danger\n\t\t\t\t\t__html: md.render( isArray( dataInfo.info ) ? dataInfo.info.join( '\\n' ) : dataInfo.info )\n\t\t\t\t}}>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>;\n\t\t}\n\t\tlet cols;\n\t\tif ( this.props.editable.length > 0 ) {\n\t\t\tcols = this.state.columns.map( x => {\n\t\t\t\tif ( contains( this.props.editable, x.id ) ) {\n\t\t\t\t\tx.Cell = this.renderEditable;\n\t\t\t\t}\n\t\t\t\treturn x;\n\t\t\t});\n\t\t} else {\n\t\t\tcols = this.state.columns.slice();\n\t\t}\n\n\t\t// Run re-order events:\n\t\tthis.reorder.forEach( o => {\n\t\t\tcols[ o.a ] = cols.splice( o.b, 1, cols[o.a] )[ 0 ];\n\t\t});\n\t\tcols = cols.map( ( col, i ) => {\n\t\t\tif ( col.Header === 'id' ) {\n\t\t\t\treturn col;\n\t\t\t}\n\t\t\treturn ({\n\t\t\t\t...col,\n\t\t\t\tHeader: <span\n\t\t\t\t\tclassName=\"draggable-header\" id={`header-${col.id}`}\n\t\t\t\t\tdraggable=\"true\"\n\t\t\t\t\tonDragStart={e => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.dataTransfer.setData( 'Text', i );\n\t\t\t\t\t\tthis.dragged = i;\n\t\t\t\t\t}}\n\t\t\t\t\tonDrag={e => e.stopPropagation}\n\t\t\t\t\tonDragEnd={e => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.dragged = null;\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t}}\n\t\t\t\t\tonDragOver={e => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.dataTransfer.dropEffect = 'move';\n\t\t\t\t\t}}\n\t\t\t\t\tonDrop={e => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tlet a = i;\n\t\t\t\t\t\tlet b = this.dragged;\n\t\t\t\t\t\tconst keys = this.state.columns.map( x => x.id );\n\t\t\t\t\t\tkeys.shift();\n\t\t\t\t\t\tconst tmp = keys[ a ];\n\t\t\t\t\t\tkeys[ a ] = keys[ b ];\n\t\t\t\t\t\tkeys[ b ] = tmp;\n\t\t\t\t\t\tthis.props.onColumnDrag( keys );\n\t\t\t\t\t\tthis.reorder.push({ a, b });\n\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t}}\n\t\t\t\t>{col.Header}</span>\n\t\t\t});\n\t\t});\n\t\tif ( this.props.showIdColumn ) {\n\t\t\tcols.unshift({\n\t\t\t\tHeader: 'id',\n\t\t\t\taccessor: 'id',\n\t\t\t\tclassName: 'frozen',\n\t\t\t\theaderClassName: 'frozen',\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\twidth: 50\n\t\t\t});\n\t\t}\n\t\tif ( this.props.showRemove ) {\n\t\t\tcols.push({\n\t\t\t\tHeader: this.props.t('remove'),\n\t\t\t\taccessor: 'remove',\n\t\t\t\tCell: this.renderCheckboxRemovable,\n\t\t\t\tfilterable: false\n\t\t\t});\n\t\t}\n\t\tcols.push({\n\t\t\tHeader: '',\n\t\t\tclassName: 'table_last_col',\n\t\t\tfilterable: false,\n\t\t\tsortable: false,\n\t\t\tresizable: false,\n\t\t\twidth: 30\n\t\t});\n\t\tconst saveButton = <Tooltip placement=\"bottom\" tooltip={this.props.disableDownload ? this.props.t('download-disabled') : this.props.t('download-data')} >\n\t\t\t<Button aria-label={this.props.t('download-data')} className=\"save-button\" variant=\"light\" onClick={this.toggleSaveModal} disabled={this.props.disableDownload} >\n\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t</Button>\n\t\t</Tooltip>;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"data-table-wrapper\" id={this.id} style={this.props.style} >\n\t\t\t\t\t<div className='data-table-header-wrapper'>\n\t\t\t\t\t\t<Tooltip placement=\"bottom\" tooltip={this.props.t('open-description')} show={dataInfo.info.length > 0} >\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\tdisabled={dataInfo.info.length === 0}\n\t\t\t\t\t\t\t\tonClick={this.showInfo}\n\t\t\t\t\t\t\t\tclassName='data-table-title-button'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcursor: dataInfo.info.length > 0 ? 'pointer' : 'inherit'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{dataInfo.name ? dataInfo.name : this.props.t('data')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t{saveButton}\n\t\t\t\t\t\t<TutorialButton\n\t\t\t\t\t\t\tid={this.id}\n\t\t\t\t\t\t\tsession={this.context}\n\t\t\t\t\t\t\tonTutorialCompletion={this.props.onTutorialCompletion}\n\t\t\t\t\t\t\tt={this.props.t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ReactTable\n\t\t\t\t\t\tid={this.id}\n\t\t\t\t\t\tdata={rows}\n\t\t\t\t\t\tcolumns={cols}\n\t\t\t\t\t\tshowPagination={true}\n\t\t\t\t\t\tsortable={true}\n\t\t\t\t\t\tresizable={true}\n\t\t\t\t\t\tfilterable={this.props.filterable}\n\t\t\t\t\t\tfiltered={this.state.filtered}\n\t\t\t\t\t\tsorted={this.state.sorted}\n\t\t\t\t\t\tshowPageSizeOptions={false}\n\t\t\t\t\t\tdefaultPageSize={50}\n\t\t\t\t\t\tonFilteredChange={this.handleFilterChange}\n\t\t\t\t\t\tonSortedChange={this.handleSortedChange}\n\t\t\t\t\t\tstyle={this.props.style}\n\t\t\t\t\t\tgetTableProps={this.handleTableProps}\n\t\t\t\t\t\tgetTrProps={this.handleTrProps}\n\t\t\t\t\t\tpreviousText={this.props.t('previous')}\n\t\t\t\t\t\tnextText={this.props.t('next')}\n\t\t\t\t\t\tloadingText={this.props.t('loading')}\n\t\t\t\t\t\tnoDataText={this.props.t('no-rows-found')}\n\t\t\t\t\t\tpageText={this.props.t('page')}\n\t\t\t\t\t\tofText={this.props.t('of')}\n\t\t\t\t\t\trowsText={this.props.t('rows')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{( state, makeTable, instance ) => {\n\t\t\t\t\t\t\tconst selectedRows = state.sortedData.length;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div ref={( table ) => {\n\t\t\t\t\t\t\t\t\tif ( table ) {\n\t\t\t\t\t\t\t\t\t\tthis.table = table;\n\t\t\t\t\t\t\t\t\t\tthis.frozenElems = findDOMNode( this.table ).getElementsByClassName( 'frozen' );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t\t<ButtonToolbar className=\"data-table-header-toolbar\">\n\t\t\t\t\t\t\t\t\t\t{ dataInfo.variables ? <Tooltip placement=\"right\" tooltip={this.props.t('variable-descriptions-tooltip')} ><Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.showDescriptions}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"variable-descriptions-button\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{this.props.t('variable-descriptions')}\n\t\t\t\t\t\t\t\t\t\t</Button></Tooltip> : null }\n\t\t\t\t\t\t\t\t\t\t{ ( selectedRows !== rows.length ) || ( this.state.sorted && this.state.sorted.length > 0 ) ?\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"left\" tooltip={this.props.t('reset-display-tooltip')} >\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.reset}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"reset-button\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.props.t('reset-display')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip> : null }\n\t\t\t\t\t\t\t\t\t</ButtonToolbar>\n\t\t\t\t\t\t\t\t\t{makeTable()}\n\t\t\t\t\t\t\t\t\t<label className=\"label-number-rows\">\n\t\t\t\t\t\t\t\t\t\t<i>{this.props.t('number-rows')}: {selectedRows} ({this.props.t('total')}: {rows.length})</i>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ReactTable>\n\t\t\t\t</div>\n\t\t\t\t{modal}\n\t\t\t\t{this.state.showSaveModal ?\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tshow={this.state.showSaveModal}\n\t\t\t\t\t\tonHide={this.toggleSaveModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t\t\t{this.props.t('download-data')}\n\t\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t{this.props.t('download-data-body')}\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t<Button onClick={this.handleSaveCSV} >\n\t\t\t\t\t\t\t\t{this.props.t('save-csv')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleSaveJSON} >\n\t\t\t\t\t\t\t\t{this.props.t('save-json')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal> : null }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nDataTable.defaultProps = {\n\tdataInfo: {\n\t\t'info': [],\n\t\t'name': '',\n\t\t'variables': null,\n\t\t'showOnStartup': false\n\t},\n\tdeletable: false,\n\tundeletableVars: [],\n\tfilterable: true,\n\teditable: [],\n\tgetTrProps: void 0,\n\tonColumnDrag() {},\n\tonColumnDelete() {},\n\tonColumnNameChange() {},\n\tonClickRemove() {},\n\tonEdit() {},\n\tonFilteredChange() {},\n\tonTutorialCompletion() {},\n\tfilters: [],\n\tshowRemove: false,\n\tshowIdColumn: true,\n\tdisableDownload: false,\n\tclassName: '',\n\tstyle: {}\n};\n\n/* eslint-disable react/no-unused-prop-types */\nDataTable.propTypes = {\n\tdata: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object\n\t]).isRequired,\n\tdataInfo: PropTypes.object,\n\tdeletable: PropTypes.bool,\n\tundeletableVars: PropTypes.arrayOf( PropTypes.string ),\n\tfilterable: PropTypes.bool,\n\teditable: PropTypes.array,\n\tgetTrProps: PropTypes.func,\n\tonColumnDrag: PropTypes.func,\n\tonColumnDelete: PropTypes.func,\n\tonColumnNameChange: PropTypes.func,\n\tonClickRemove: PropTypes.func,\n\tonEdit: PropTypes.func,\n\tonTutorialCompletion: PropTypes.func,\n\tfilters: PropTypes.array,\n\tonFilteredChange: PropTypes.func,\n\tshowRemove: PropTypes.bool,\n\tshowIdColumn: PropTypes.bool,\n\tdisableDownload: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tstyle: PropTypes.object\n};\n\nDataTable.contextType = SessionContext;\n\n\n// EXPORTS //\n\nexport default withTranslation( 'data-table' )( withPropCheck( DataTable ) );\n\n","// MODULES //\n\nimport PINF from '@stdlib/constants/float64/pinf';\nimport NINF from '@stdlib/constants/float64/ninf';\n\n\n// MAIN //\n\n/**\n * Creates a tooltip for a number input.\n *\n * @param {Object} options - function options\n * @param {number} options.min - minimum value\n * @param {number} options.max - maximum value\n * @param {number} options.step - step size\n * @param {Function} options.t - translation function\n * @returns {string} tooltip\n */\nfunction createTooltip({ min, max, step, t }) {\n\tlet tooltip = `${t('enter')} ${ step === 1 ? t('integer') : t('number')} `;\n\tif ( max !== PINF && min !== NINF ) {\n\t\ttooltip += `${t('between')} ${min} ${t('and')} ${max}`;\n\t} else if ( min !== NINF ) {\n\t\ttooltip += `${t('larger-or-equal-to')} ${min}`;\n\t} else if ( max !== PINF ) {\n\t\ttooltip += `${t('smaller-or-equal-to')} ${max}`;\n\t}\n\treturn tooltip;\n}\n\n\n// EXPORTS //\n\nexport default createTooltip;\n","// MODULES //\n\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { useTranslation } from 'react-i18next';\nimport contains from '@stdlib/assert/contains';\nimport isnan from '@stdlib/math/base/assert/is-nan';\nimport { isPrimitive as isString } from '@stdlib/assert/is-string';\nimport isNull from '@stdlib/assert/is-null';\nimport { isPrimitive as isNumber } from '@stdlib/assert/is-number';\nimport PINF from '@stdlib/constants/float64/pinf';\nimport NINF from '@stdlib/constants/float64/ninf';\nimport Tooltip from '@isle-project/components/tooltip';\nimport SessionContext from '@isle-project/session/context.js';\nimport generateUID from '@isle-project/utils/uid';\nimport createTooltip from './create_tooltip.js';\nimport './number.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:number-input' );\nconst uid = generateUID( 'number-input' );\n\n\n// MAIN //\n\n/**\n* A number input component. Can be used as part of an ISLE dashboard or standalone. In the latter case, you want to handle changes via the `onChange` attribute or bind the value to a global variable via the `bind` attribute.\n*\n* @property {string} bind - name of global variable for the number to be assigned to\n* @property {number} value - number value (for controlled component)\n* @property {number} defaultValue - value indicating the default value of the input at startup\n* @property {boolean} disabled - boolean indicating whether the input is active or not\n* @property {number} min - number indicating the smallest possible value that may be inserted\n* @property {number} max - number indicating the maximum value that may be inserted\n* @property {(number|string)} step - number indicating the incremental changes when using the increment arrows\n* @property {boolean} inline - indicates whether the input is displayed inline\n* @property {string} legend - string indicating the text displayed next to the number input\n* @property {boolean} numbersOnly - controls whether only numbers are accepted\n* @property {string} tooltip - tooltip string (if not set, the tooltip is automatically generated)\n* @property {string} tooltipPlacement - direction of the tooltip\n* @property {Object} style - CSS inline styles\n* @property {Object} inputStyle - CSS inline styles for input element\n* @property {Function} onBlur - callback function to be invoked when using a blur method\n* @property {Function} onChange - callback function to be invoked when number input is changed\n* @property {Function} onKeyPress - callback function to be invoked when any key is entered\n* @property {Function} onKeyDown - callback function to be invoked when any key is pressed down\n* @property {Function} onKeyUp - callback function to be invoked when key is released\n*/\nconst NumberInput = ( props ) => {\n\tconst id = useRef( props.id || uid( props ) );\n\tconst { bind, defaultValue, min, max, step, value: propValue, onBlur, onChange } = props;\n\tconst { t } = useTranslation( 'input' );\n\tconst session = useContext( SessionContext );\n\tconst [ value, setValue ] = useState(\n\t\tpropValue || ( bind && session.state ?\n\t\t\tsession.state[ bind ]:\n\t\t\tdefaultValue ),\n\t);\n\tuseEffect( () => {\n\t\tif ( bind ) {\n\t\t\tconst globalValue = global.lesson.state[ bind ];\n\t\t\tif ( globalValue !== value && isNumber( value ) ) {\n\t\t\t\tsetValue( globalValue );\n\t\t\t}\n\t\t}\n\t}, [ bind, value ] );\n\tuseEffect( () => {\n\t\tsetValue( defaultValue );\n\t}, [ defaultValue ] );\n\tuseEffect( () => {\n\t\tif ( bind ) {\n\t\t\tsetValue( global.lesson.state[ bind ] );\n\t\t}\n\t}, [ bind ] );\n\n\tconst handleChange = useCallback( ( event ) => {\n\t\tdebug( 'Handle change of input field...' );\n\t\tlet valid = event.target.validity.valid;\n\t\tlet newValue = event.target.value;\n\t\tsetValue( newValue );\n\t\tif ( propValue ||\n\t\t\t( valid && newValue !== '' &&\n\t\t\tnewValue !== '-' && newValue !== '.' && newValue !== '-.' )\n\t\t) {\n\t\t\tnewValue = parseFloat( newValue );\n\t\t\tif ( isnan( newValue ) ) {\n\t\t\t\tnewValue = '';\n\t\t\t}\n\t\t\tonChange( newValue );\n\t\t\tif ( bind ) {\n\t\t\t\tglobal.lesson.setState({\n\t\t\t\t\t[ bind ]: newValue\n\t\t\t\t});\n\t\t\t}\n\t\t} else if ( bind ) {\n\t\t\tglobal.lesson.setState({\n\t\t\t\t[ bind ]: newValue\n\t\t\t});\n\t\t}\n\t}, [ bind, propValue, onChange ] );\n\tconst finishChange = useCallback( ( event ) => {\n\t\tdebug( 'Finished change...' );\n\t\tlet newValue = event.target.value;\n\t\tif ( contains( newValue, '/' ) ) {\n\t\t\tdebug( 'Encountered a fraction...' );\n\t\t\tconst splitted = newValue.split( '/' );\n\t\t\tif ( splitted[ 0 ] !== '' && splitted[ 1 ] !== '' ) {\n\t\t\t\tnewValue = parseFloat( splitted[ 0 ]) / parseFloat( splitted[ 1 ]);\n\t\t\t}\n\t\t}\n\t\tif ( isnan( newValue ) ) {\n\t\t\tnewValue = '';\n\t\t}\n\t\telse if (\n\t\t\tnewValue !== '' && newValue !== '-' &&\n\t\t\tnewValue !== '.' && newValue !== '-.'\n\t\t) {\n\t\t\tnewValue = parseFloat( newValue );\n\t\t}\n\t\tif ( newValue > max ) {\n\t\t\tnewValue = max;\n\t\t}\n\t\telse if ( newValue < min ) {\n\t\t\tnewValue = min;\n\t\t}\n\t\telse if (\n\t\t\tstep === 1.0 && newValue !== '' &&\n\t\t\tnewValue !== '-' && newValue !== '.' && newValue !== '-.'\n\t\t) {\n\t\t\tnewValue = newValue - newValue % step;\n\t\t}\n\t\tonChange( newValue );\n\t\tonBlur( newValue );\n\t\tif ( newValue !== value ) {\n\t\t\tsetValue( newValue );\n\t\t\tif ( bind ) {\n\t\t\t\tglobal.lesson.setState({\n\t\t\t\t\t[ bind ]: newValue\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [ bind, min, max, step, value, onBlur, onChange ] );\n\tconst tooltip = isNull( props.tooltip ) ? createTooltip({\n\t\tmin, max, step, t\n\t}) : props.tooltip;\n\tif ( props.inline === true ) {\n\t\tconst input =\n\t\t\t<span className=\"input\" style={{ padding: '5px', ...props.style }}>\n\t\t\t\t{ props.legend ? <label htmlFor={id.current} > {props.legend} =  </label> : null }\n\t\t\t\t<input\n\t\t\t\t\tid={id.current}\n\t\t\t\t\ttype={props.numbersOnly ? 'number' : 'text'}\n\t\t\t\t\tname=\"input\"\n\t\t\t\t\tclassName=\"number-number-input\"\n\t\t\t\t\tdisabled={props.disabled}\n\t\t\t\t\tvalue={propValue !== null ? propValue : value}\n\t\t\t\t\tstep={props.step}\n\t\t\t\t\tmin={props.min}\n\t\t\t\t\tmax={props.max}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '80px',\n\t\t\t\t\t\tpaddingLeft: '6px',\n\t\t\t\t\t\tmarginLeft: '3px',\n\t\t\t\t\t\t...props.inputStyle\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tonBlur={finishChange}\n\t\t\t\t\tonKeyPress={props.onKeyPress}\n\t\t\t\t\tonKeyDown={props.onKeyDown}\n\t\t\t\t\tonKeyUp={props.onKeyUp}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t/>\n\t\t\t\t{ props.description ?\n\t\t\t\t\t<span>({props.description})</span> :\n\t\t\t\t\t<span />\n\t\t\t\t}\n\t\t\t</span>;\n\t\treturn props.disabled ?\n\t\t\tinput:\n\t\t\t<Tooltip id=\"number-input-tooltip-inline\" placement=\"top\" show={!props.disabled} tooltip={tooltip} >\n\t\t\t\t{input}\n\t\t\t</Tooltip>;\n\t}\n\tconst input = <input\n\t\tid={id.current}\n\t\ttype={props.numbersOnly ? 'number' : 'text'}\n\t\tname=\"input\"\n\t\tclassName=\"number-number-input\"\n\t\tdisabled={props.disabled}\n\t\tvalue={propValue !== null ? propValue : value}\n\t\tstep={props.step}\n\t\tmin={props.min}\n\t\tmax={props.max}\n\t\tstyle={{\n\t\t\twidth: '80px',\n\t\t\tmarginLeft: '24px',\n\t\t\t...props.inputStyle\n\t\t}}\n\t\tonChange={handleChange}\n\t\tonBlur={finishChange}\n\t\tonKeyPress={props.onKeyPress}\n\t\tonKeyDown={props.onKeyDown}\n\t\tonKeyUp={props.onKeyUp}\n\t\tautoComplete=\"off\"\n\t/>;\n\treturn ( <div className=\"input\" style={{\n\t\tmarginBottom: '4px',\n\t\tmarginTop: '4px',\n\t\t...props.style\n\t}}>\n\t\t{ props.legend ?\n\t\t\t<span>\n\t\t\t\t<label htmlFor={id.current} >\n\t\t\t\t\t{isString( props.legend ) ?\n\t\t\t\t\t\tprops.legend+':' :\n\t\t\t\t\t\tprops.legend\n\t\t\t\t\t}\n\t\t\t\t</label>\n\t\t\t\t{ props.description ?\n\t\t\t\t\t<span> {props.description}</span> :\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t</span> : null\n\t\t}\n\t\t<Tooltip\n\t\t\tid=\"number-input-tooltip\" placement={props.tooltipPlacement}\n\t\t\ttooltip={tooltip} show={!props.disabled}\n\t\t><span className=\"number-input-span\" >{input}</span></Tooltip>\n\t</div> );\n};\n\n\n// PROPERTIES //\n\nNumberInput.defaultProps = {\n\tbind: '',\n\tdisabled: false,\n\tlegend: null,\n\tmin: NINF,\n\tmax: PINF,\n\tstep: 1,\n\tdefaultValue: 0,\n\tonBlur() {},\n\tonChange() {},\n\tonKeyDown() {},\n\tonKeyPress() {},\n\tonKeyUp() {},\n\tinline: false,\n\tnumbersOnly: true,\n\tstyle: {},\n\tinputStyle: {},\n\tvalue: null,\n\ttooltip: null,\n\ttooltipPlacement: 'left'\n};\n\nNumberInput.propTypes = {\n\tbind: PropTypes.string,\n\tdefaultValue: PropTypes.number,\n\tdisabled: PropTypes.bool,\n\tinline: PropTypes.bool,\n\tlegend: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.node\n\t]),\n\tmax: PropTypes.number,\n\tmin: PropTypes.number,\n\tnumbersOnly: PropTypes.bool,\n\tonBlur: PropTypes.func,\n\tonChange: PropTypes.func,\n\tonKeyDown: PropTypes.func,\n\tonKeyPress: PropTypes.func,\n\tonKeyUp: PropTypes.func,\n\tstep: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string\n\t]),\n\tstyle: PropTypes.object,\n\tinputStyle: PropTypes.object,\n\tvalue: PropTypes.number,\n\ttooltip: PropTypes.string,\n\ttooltipPlacement: PropTypes.oneOf([ 'top', 'right', 'bottom', 'left' ])\n};\n\n\n// EXPORTS //\n\nexport default NumberInput;\n","// MODULES //\n\nimport NumberInput from './main';\nimport CreateTooltip from './create_tooltip.js';\n\n\n// EXPORTS //\n\nexport const createTooltip = CreateTooltip;\nexport default NumberInput;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst defaultProps = {\n  role: 'toolbar'\n};\nconst ButtonToolbar = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  ...props\n}, ref) => {\n  const prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'btn-toolbar');\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", { ...props,\n    ref: ref,\n    className: (0, _classnames.default)(className, prefix)\n  });\n});\nButtonToolbar.displayName = 'ButtonToolbar';\nButtonToolbar.defaultProps = defaultProps;\nvar _default = ButtonToolbar;\nexports.default = _default;\nmodule.exports = exports.default;"],"sourceRoot":""}