/*! For license information please see LogisticRegression.00e97c16.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[3488],{2583:function(t,e,r){r.r(e),r.d(e,{default:function(){return Ft}});var n=r(38603),s=r(91532),o=r.n(s),l=r(58651),i=r(79174),a=r(86635),c=r(31069),f=r(22720),u=r(93918),h=r(89506),g=r.n(h),m=r(75891),d=r.n(m),p=r(42415),w=r(80386),y=r.n(w),v=r(22949),E=r.n(v),M=r(34064),b=r.n(M),x=r(48207),Z=r.n(x),F=r(85115),A=r.n(F),k=r(21598),N=r.n(k),q=r(94123),V=r(5883),S=r(25461),R=r(53318),P=r(16684),T=r(76798),L=r(32921),U=r(11695),O=r(6050);class z{constructor(t){let e,r,n,s,o,l,i,a,c,f=(t=O.Z.checkMatrix(t)).clone(),u=f.rows,h=f.columns,g=new Float64Array(u),m=1;for(e=0;e<u;e++)g[e]=e;for(a=new Float64Array(u),r=0;r<h;r++){for(e=0;e<u;e++)a[e]=f.get(e,r);for(e=0;e<u;e++){for(c=Math.min(e,r),o=0,n=0;n<c;n++)o+=f.get(e,n)*a[n];a[e]-=o,f.set(e,r,a[e])}for(s=r,e=r+1;e<u;e++)Math.abs(a[e])>Math.abs(a[s])&&(s=e);if(s!==r){for(n=0;n<h;n++)l=f.get(s,n),f.set(s,n,f.get(r,n)),f.set(r,n,l);i=g[s],g[s]=g[r],g[r]=i,m=-m}if(r<u&&0!==f.get(r,r))for(e=r+1;e<u;e++)f.set(e,r,f.get(e,r)/f.get(r,r))}this.LU=f,this.pivotVector=g,this.pivotSign=m}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=U.Z.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,n,s,o=t.columns,l=t.subMatrixRow(this.pivotVector,0,o-1),i=e.columns;for(s=0;s<i;s++)for(r=s+1;r<i;r++)for(n=0;n<o;n++)l.set(r,n,l.get(r,n)-l.get(s,n)*e.get(r,s));for(s=i-1;s>=0;s--){for(n=0;n<o;n++)l.set(s,n,l.get(s,n)/e.get(s,s));for(r=0;r<s;r++)for(n=0;n<o;n++)l.set(r,n,l.get(r,n)-l.get(s,n)*e.get(r,s))}return l}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new U.Z(e,r);for(let s=0;s<e;s++)for(let e=0;e<r;e++)s>e?n.set(s,e,t.get(s,e)):s===e?n.set(s,e,1):n.set(s,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new U.Z(e,r);for(let s=0;s<e;s++)for(let e=0;e<r;e++)s<=e?n.set(s,e,t.get(s,e)):n.set(s,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}var C=r(51860);class G{constructor(t){let e,r,n,s,o=(t=O.Z.checkMatrix(t)).clone(),l=t.rows,i=t.columns,a=new Float64Array(i);for(n=0;n<i;n++){let t=0;for(e=n;e<l;e++)t=(0,C.G)(t,o.get(e,n));if(0!==t){for(o.get(n,n)<0&&(t=-t),e=n;e<l;e++)o.set(e,n,o.get(e,n)/t);for(o.set(n,n,o.get(n,n)+1),r=n+1;r<i;r++){for(s=0,e=n;e<l;e++)s+=o.get(e,n)*o.get(e,r);for(s=-s/o.get(n,n),e=n;e<l;e++)o.set(e,r,o.get(e,r)+s*o.get(e,n))}}a[n]=-t}this.QR=o,this.Rdiag=a}solve(t){t=U.Z.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n,s,o,l,i=t.columns,a=t.clone(),c=e.columns;for(o=0;o<c;o++)for(s=0;s<i;s++){for(l=0,n=o;n<r;n++)l+=e.get(n,o)*a.get(n,s);for(l=-l/e.get(o,o),n=o;n<r;n++)a.set(n,s,a.get(n,s)+l*e.get(n,o))}for(o=c-1;o>=0;o--){for(s=0;s<i;s++)a.set(o,s,a.get(o,s)/this.Rdiag[o]);for(n=0;n<o;n++)for(s=0;s<i;s++)a.set(n,s,a.get(n,s)-a.get(o,s)*e.get(n,o))}return a.subMatrix(0,c-1,0,i-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,s=new U.Z(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?s.set(t,e,r.get(t,e)):t===e?s.set(t,e,this.Rdiag[t]):s.set(t,e,0);return s}get orthogonalMatrix(){let t,e,r,n,s=this.QR,o=s.rows,l=s.columns,i=new U.Z(o,l);for(r=l-1;r>=0;r--){for(t=0;t<o;t++)i.set(t,r,0);for(i.set(r,r,1),e=r;e<l;e++)if(0!==s.get(r,r)){for(n=0,t=r;t<o;t++)n+=s.get(t,r)*i.get(t,e);for(n=-n/s.get(r,r),t=r;t<o;t++)i.set(t,e,i.get(t,e)+n*s.get(t,r))}}return i}}var _=r(89483);function I(t,e,r=!1){return t=O.Z.checkMatrix(t),e=O.Z.checkMatrix(e),r?new _.Z(t).solve(e):t.isSquare()?new z(t).solve(e):new G(t).solve(e)}var D=r(12083),Q=r.n(D),$=r(5377),j=r.n($),B=r(56488),X=r.n(B),W=r(23970),H=r.n(W),J=r(58951),K=r.n(J),Y=r(86082),tt=r.n(Y),et=r(83276),rt=r.n(et),nt=r(58997),st=r(81380);var ot=function(t,e){const[r,n]=t.shape,s=e.shape[1],o=U.Z.zeros(r,s),l=new Float64Array(n);for(let i=0;i<s;i++){for(let t=0;t<n;t++)l[t]=e.get(t,i);for(let e=0;e<r;e++){let r=0;for(let s=0;s<n;s++)r+=t.get(e,s)*l[s];o.set(e,i,r)}}return o};var lt=function(t,e){const[r,n]=t.shape,s=d()(new Float64Array(r*n),{shape:[r,n]});for(let o=0;o<r;o++)for(let r=0;r<n;r++)s.set(o,r,t.get(o,r)*e[o]);return s};var it=function(t,e){const r=t.length,n=new Array(r);for(let s=0;s<r;s++)n[s]=t[s]*e[s];return n};const at=t=>{let e=0;for(let r=0;r<t.length;r++)e+=t[r];return e},ct=t=>{const e=new Float64Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r]*(1-t[r]);return e},ft=t=>{const e=t.length,r=new Float64Array(e);for(let n=0;n<e;n++){const e=t[n];if(Z()(e)>30)r[n]=K();else{const t=X()(e);r[n]=t/(1+t)}}return r},ut=t=>{const e=t.length,r=new Float64Array(e);for(let n=0;n<e;n++){const e=t[n];Z()(e)>30?r[n]=K():r[n]=X()(e)/j()(1+X()(e),2)}return r},ht=(t,e,r)=>{let n=0;for(let s=0;s<t.length;s++)n+=Q()(tt()(t[s],e[s]));return-2*n+2*r},gt=(t,e,r)=>{const n=t.length,s=new Float64Array(n);for(let o=0;o<n;o++){const n=e[o],l=t[o];s[o]=2*r[o]*(H()(l,l/n)+H()(1-l,(1-l)/(1-n)))}return s},mt=(t,e,r)=>{const n=new Float64Array(t.length);for(let s=0;s<t.length;s++)n[s]=t[s]*(e[s]*e[s]/r[s]);return n},dt=(t,e,r,n)=>{const s=new Float64Array(e.length);for(let o=0;o<e.length;o++)s[o]=t[o]+(e[o]-r[o])/n[o];return s};function pt(t,e){const r=new Float64Array(e.length);for(let l=0;l<r.length;l++)r[l]=e[l]*(1-e[l]);const[n,s]=t.shape,o=new Float64Array(s);for(let l=0;l<o.length;l++){let e=0;for(let s=0;s<n;s++)e+=j()(t.get(s,l),2)*r[s];o[l]=rt()(1/e)}return o}var wt=function(t,e,r){const n=(0,st.Z)(t),s=new Array(r).fill(1),o=new Float64Array(s.length);for(let d=0;d<r;d++)o[d]=(s[d]*e[d]+.5)/(s[d]+1);let l,i,a=(t=>{const e=t.length,r=new Float64Array(e);for(let n=0;n<e;n++)r[n]=Q()(t[n]/(1-t[n]));return r})(o),c=ft(a),f=at(gt(e,c,s)),u=!1;for(i=0;i<25;i++){const r=ct(c),o=ut(a),i=dt(a,e,c,o),h=mt(s,o,r),g=it(h,i),m=lt(t,h),d=ot(n,m),p=(0,nt.Z)(n,g);l=I(d,U.Z.columnVector(p)),a=(0,nt.Z)(t,l.to1DArray()),c=ft(a);const w=at(gt(e,c,s));if(Z()(w-f)/(.1+Z()(w))<1e-8){u=!0;break}f=w}const h=l.to1DArray(),g=t=>function(t){const e=new Float64Array(t.length);for(let r=0;r<t.length;r++)e[r]=1/(1+X()(-t[r]));return e}((0,nt.Z)(t,h)),m=g(t);return{aic:ht(e,ft(a),h.length),stdErrors:pt(t,m),fitted:m,coefficients:h,iterations:i,converged:u,predict:g}};let yt=0;function vt(t){return b()(t)||y()(t)}function Et(t){return(0,p.isPrimitive)(t)&&!b()(t)}function Mt(t,e,r,n,s,o){const l=[],i={},a=r[t[0]].length;for(let f=0;f<t.length;f++){const e=r[t[f]];if(g()(n,t[f]))l.push(t[f]);else{const r=(0,R.Z)(e,t[f]);for(let e=s?1:0;e<r.length;e++)l.push(`${t[f]}_${r[e]}`);i[t[f]]=r}}const c=new Float64Array(a*(l.length+1));for(let f=0;f<a;f++){s&&(c[(l.length+1)*f]=1);let e=0;for(let o=0;o<t.length;o++){const a=r[t[o]];if(g()(n,t[o]))e+=1,c[(l.length+1)*f+e]=a[f];else{const r=i[t[o]],n=a[f];for(let t=s?1:0;t<r.length;t++)e+=1,c[(l.length+1)*f+e]=n===r[t]?1:0}}}return{matrix:d()(c,{shape:[a,l.length+1]}),predictors:l,yvalues:r[e].map((t=>t===o?1:0)),nobs:a}}function bt(t,e,r,n,s,o){const l=[],i={};for(let u=0;u<t.length;u++){const e=r[t[u]];if(g()(n,t[u]))l.push(t[u]);else{const r=(0,R.Z)(e,t[u]);for(let e=s?1:0;e<r.length;e++)l.push(`${t[u]}_${r[e]}`);i[t[u]]=r}}let a=[];const c=[];for(let u=0;u<r[t[0]].length;u++){let l=!1;const f=[];s&&f.push(1);for(let e=0;e<t.length;e++){const o=r[t[e]];if(g()(n,t[e]))Et(o[u])?f.push(o[u]):l=!0;else{const r=o[u];if(vt(r))l=!0;else{const n=i[t[e]];for(let t=s?1:0;t<n.length;t++)f.push(r===n[t]?1:0)}}}l||(a=a.concat(f),c.push(r[e][u]===o?1:0))}const f=c.length;return{matrix:d()(a,{shape:[f,l.length+1]}),predictors:l,yvalues:c,nobs:f}}const xt=({y:t,success:e,x:r,intercept:n,omitMissing:s,data:o,quantitative:l})=>{try{E()(r)||(r=[r]);const i=s?bt:Mt,{matrix:a,predictors:c,yvalues:f,nobs:u}=i(r,t,o,l,n,e);return{result:wt(a,f,u),predictors:c}}catch(i){return{}}};class Zt extends n.Component{constructor(t){var e,r,n;super(t),n=()=>{let{x:t,y:e,data:r,quantitative:n,intercept:s,success:o}=this.props;E()(t)||(t=[t]);const{matrix:l,yvalues:i}=Mt(t,e,r,n,s,o),a=this.state.result.predict(l),c=(0,P.Z)(a,i),f=a.map((t=>t>this.state.probabilityThreshold));this.props.onPredict(f,a,c,yt)},(r="handlePredict")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,yt+=1;let{y:s,success:o,x:l,intercept:i,omitMissing:a,data:c,quantitative:f}=t;const{result:u,predictors:h}=xt({y:s,success:o,x:l,intercept:i,omitMissing:a,data:c,quantitative:f});this.state={probabilityThreshold:.5,result:u,predictors:h,...t}}static getDerivedStateFromProps(t,e){if(t.data!==e.data||t.quantitative!==e.quantitative||t.x!==e.x||t.y!==e.y||t.success!==e.success||t.omitMissing!==e.omitMissing){const{y:e,success:r,x:n,intercept:s,omitMissing:o,data:l,quantitative:i}=t;return{...xt({y:e,success:r,x:n,intercept:s,omitMissing:o,data:l,quantitative:i}),...t}}return null}render(){const{result:t}=this.state,{t:e}=this.props;return t?n.createElement("div",{style:{overflowX:"auto",width:"100%"}},n.createElement("span",{className:"title"},e("logistic-title",{y:this.props.y,counter:yt})),((t,e,r,s)=>n.createElement(V.Z,{bordered:!0,size:"sm"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(q.Z,{placement:"right",tooltip:s("name-of-predictor")},n.createElement("th",null,s("predictor"))),n.createElement(q.Z,{placement:"right",tooltip:s("change-in-log")},n.createElement("th",null,s("coefficient"))),n.createElement(q.Z,{placement:"left",tooltip:s("standard-deviation-coefficient")},n.createElement("th",null,s("std-error"))),n.createElement(q.Z,{placement:"left",tooltip:n.createElement("span",null,s("test-statistic-coefficient-zero"),n.createElement(S.Z,{displayMode:!0,raw:"t = \\tfrac{\\text{Coefficient}}{\\text{Std. Error}}"}))},n.createElement("th",null,"t")),n.createElement(q.Z,{placement:"left",tooltip:n.createElement("span",null,s("p-value-coefficient-zero"),n.createElement(S.Z,{displayMode:!0,raw:"2 \\Phi( |t| )"}))},n.createElement("th",null,s("p-value"))))),n.createElement("tbody",null,e?n.createElement("tr",null,n.createElement("th",null,s("intercept")),n.createElement("td",null,r.coefficients[0].toFixed(6)),n.createElement("td",null,r.stdErrors[0].toFixed(4)),n.createElement("td",null,(r.coefficients[0]/r.stdErrors[0]).toFixed(4)),n.createElement("td",null,(2*A()(-Z()(r.coefficients[0]/r.stdErrors[0]),0,1)).toFixed(4))):null,t.map(((t,s)=>{s+=Number(e);const o=r.coefficients[s]/r.stdErrors[s],l=2*A()(-Z()(o),0,1);return n.createElement("tr",{key:s},n.createElement("th",null,t),n.createElement("td",null,r.coefficients[s].toFixed(6)),n.createElement("td",null,r.stdErrors[s].toFixed(4)),n.createElement("td",null,o.toFixed(4)),n.createElement("td",null,l.toFixed(4)))})))))(this.state.predictors,this.props.intercept,t,this.props.t),n.createElement("i",null,t.converged?e("fisher-scoring-converged",{n:t.iterations}):e("fisher-scoring-not-converged",{n:t.iterations})),n.createElement("p",null,e("aic"),": ",N()(t.aic,-3)),this.props.onPredict?n.createElement(a.Z,null,n.createElement(q.Z,{tooltip:e("use-model-to-predict-tooltip-logistic")},n.createElement(u.Z,{variant:"secondary",size:"sm",onClick:this.handlePredict},this.props.t("use-model-to-predict"))),n.createElement(c.Z,{size:"sm"},n.createElement(c.Z.Prepend,null,n.createElement(c.Z.Text,null,e("threshold"),":")),n.createElement(f.Z,{type:"number",min:0,max:1,defaultValue:.5,step:.01,onChange:t=>{this.setState({probabilityThreshold:t.target.value})}}))):null):n.createElement(i.Z,{variant:"danger"},e("missing-attributes"))}}Zt.defaultProps={omitMissing:!1,intercept:!0,onPredict:null},Zt.propTypes={data:o().object.isRequired,y:o().oneOfType([o().string,o().instanceOf(L.E)]).isRequired,success:o().any.isRequired,x:o().oneOfType([o().arrayOf(o().oneOfType([o().string,o().instanceOf(L.E)])),o().string,o().instanceOf(L.E)]).isRequired,quantitative:o().arrayOf(o().string).isRequired,omitMissing:o().bool,intercept:o().bool,onPredict:o().func};var Ft=(0,l.Z)("models")((0,T.W)(Zt))},58997:function(t,e){e.Z=function(t,e){const r=t.shape[0],n=t.shape[1];let s=new Float64Array(r);for(let o=0;o<r;o++){let r=0;for(let s=0;s<n;s++)r+=t.get(o,s)*e[s];s[o]=r}return s}},16684:function(t,e,r){var n=r(7474),s=r.n(n),o=r(42415);e.Z=function(t,e){const r=s()(e);if(!s()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!(0,o.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");const n=t.length,l=new Array(n);if(r){if(n!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(let r=0;r<n;r++)l[r]=t[r]-e[r]}else for(let s=0;s<n;s++)l[s]=t[s]-e;return l}},81380:function(t,e,r){var n=r(34564),s=r.n(n);e.Z=t=>{const e=[t.shape[1],t.shape[0]],r=[t.strides[1],t.strides[0]],n=t.offset,o=t.order;return s()("float64",t._buffer,e,r,n,o)}},23970:function(t,e,r){var n=r(52660);t.exports=n},52660:function(t,e,r){var n=r(4286),s=r(12083);t.exports=function(t,e){return 0!==t||n(e)?t*s(e):0}},29604:function(t,e,r){var n=r(90422),s=r(4286);t.exports=function(t){return s(t)||t<0||t>1?n(NaN):function(e){if(s(e))return NaN;if(0===e)return 1-t;if(1===e)return t;return 0}}},86082:function(t,e,r){var n=r(93165),s=r(49267);n(s,"factory",r(29604)),t.exports=s},49267:function(t,e,r){var n=r(4286);t.exports=function(t,e){return n(t)||n(e)||e<0||e>1?NaN:0===t?1-e:1===t?e:0}},89483:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(11695),s=r(6050),o=r(51860);class l{constructor(t,e={}){if((t=s.Z.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,l=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:a=!0,autoTranspose:c=!1}=e;let f,u=Boolean(i),h=Boolean(a),g=!1;if(r<l)if(c){f=t.transpose(),r=f.rows,l=f.columns,g=!0;let e=u;u=h,h=e}else f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else f=t.clone();let m=Math.min(r,l),d=Math.min(r+1,l),p=new Float64Array(d),w=new n.Z(r,m),y=new n.Z(l,l),v=new Float64Array(l),E=new Float64Array(r),M=new Float64Array(d);for(let n=0;n<d;n++)M[n]=n;let b=Math.min(r-1,l),x=Math.max(0,Math.min(l-2,r)),Z=Math.max(b,x);for(let n=0;n<Z;n++){if(n<b){p[n]=0;for(let t=n;t<r;t++)p[n]=(0,o.G)(p[n],f.get(t,n));if(0!==p[n]){f.get(n,n)<0&&(p[n]=-p[n]);for(let t=n;t<r;t++)f.set(t,n,f.get(t,n)/p[n]);f.set(n,n,f.get(n,n)+1)}p[n]=-p[n]}for(let t=n+1;t<l;t++){if(n<b&&0!==p[n]){let e=0;for(let s=n;s<r;s++)e+=f.get(s,n)*f.get(s,t);e=-e/f.get(n,n);for(let s=n;s<r;s++)f.set(s,t,f.get(s,t)+e*f.get(s,n))}v[t]=f.get(n,t)}if(u&&n<b)for(let t=n;t<r;t++)w.set(t,n,f.get(t,n));if(n<x){v[n]=0;for(let t=n+1;t<l;t++)v[n]=(0,o.G)(v[n],v[t]);if(0!==v[n]){v[n+1]<0&&(v[n]=0-v[n]);for(let t=n+1;t<l;t++)v[t]/=v[n];v[n+1]+=1}if(v[n]=-v[n],n+1<r&&0!==v[n]){for(let t=n+1;t<r;t++)E[t]=0;for(let t=n+1;t<r;t++)for(let e=n+1;e<l;e++)E[t]+=v[e]*f.get(t,e);for(let t=n+1;t<l;t++){let e=-v[t]/v[n+1];for(let s=n+1;s<r;s++)f.set(s,t,f.get(s,t)+e*E[s])}}if(h)for(let t=n+1;t<l;t++)y.set(t,n,v[t])}}let F=Math.min(l,r+1);if(b<l&&(p[b]=f.get(b,b)),r<F&&(p[F-1]=0),x+1<F&&(v[x]=f.get(x,F-1)),v[F-1]=0,u){for(let t=b;t<m;t++){for(let e=0;e<r;e++)w.set(e,t,0);w.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==p[t]){for(let e=t+1;e<m;e++){let n=0;for(let s=t;s<r;s++)n+=w.get(s,t)*w.get(s,e);n=-n/w.get(t,t);for(let s=t;s<r;s++)w.set(s,e,w.get(s,e)+n*w.get(s,t))}for(let e=t;e<r;e++)w.set(e,t,-w.get(e,t));w.set(t,t,1+w.get(t,t));for(let e=0;e<t-1;e++)w.set(e,t,0)}else{for(let e=0;e<r;e++)w.set(e,t,0);w.set(t,t,1)}}if(h)for(let n=l-1;n>=0;n--){if(n<x&&0!==v[n])for(let t=n+1;t<l;t++){let e=0;for(let r=n+1;r<l;r++)e+=y.get(r,n)*y.get(r,t);e=-e/y.get(n+1,n);for(let r=n+1;r<l;r++)y.set(r,t,y.get(r,t)+e*y.get(r,n))}for(let t=0;t<l;t++)y.set(t,n,0);y.set(n,n,1)}let A=F-1,k=0,N=Number.EPSILON;for(;F>0;){let t,e;for(t=F-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+N*Math.abs(p[t]+Math.abs(p[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===F-2)e=4;else{let r;for(r=F-1;r>=t&&r!==t;r--){let e=(r!==F?Math.abs(v[r]):0)+(r!==t+1?Math.abs(v[r-1]):0);if(Math.abs(p[r])<=N*e){p[r]=0;break}}r===t?e=3:r===F-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=v[F-2];v[F-2]=0;for(let r=F-2;r>=t;r--){let n=(0,o.G)(p[r],e),s=p[r]/n,i=e/n;if(p[r]=n,r!==t&&(e=-i*v[r-1],v[r-1]=s*v[r-1]),h)for(let t=0;t<l;t++)n=s*y.get(t,r)+i*y.get(t,F-1),y.set(t,F-1,-i*y.get(t,r)+s*y.get(t,F-1)),y.set(t,r,n)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let n=t;n<F;n++){let s=(0,o.G)(p[n],e),l=p[n]/s,i=e/s;if(p[n]=s,e=-i*v[n],v[n]=l*v[n],u)for(let e=0;e<r;e++)s=l*w.get(e,n)+i*w.get(e,t-1),w.set(e,t-1,-i*w.get(e,n)+l*w.get(e,t-1)),w.set(e,n,s)}break}case 3:{const e=Math.max(Math.abs(p[F-1]),Math.abs(p[F-2]),Math.abs(v[F-2]),Math.abs(p[t]),Math.abs(v[t])),n=p[F-1]/e,s=p[F-2]/e,i=v[F-2]/e,a=p[t]/e,c=v[t]/e,f=((s+n)*(s-n)+i*i)/2,g=n*i*(n*i);let m=0;0===f&&0===g||(m=f<0?0-Math.sqrt(f*f+g):Math.sqrt(f*f+g),m=g/(f+m));let d=(a+n)*(a-n)+m,E=a*c;for(let M=t;M<F-1;M++){let e=(0,o.G)(d,E);0===e&&(e=Number.MIN_VALUE);let n=d/e,s=E/e;if(M!==t&&(v[M-1]=e),d=n*p[M]+s*v[M],v[M]=n*v[M]-s*p[M],E=s*p[M+1],p[M+1]=n*p[M+1],h)for(let t=0;t<l;t++)e=n*y.get(t,M)+s*y.get(t,M+1),y.set(t,M+1,-s*y.get(t,M)+n*y.get(t,M+1)),y.set(t,M,e);if(e=(0,o.G)(d,E),0===e&&(e=Number.MIN_VALUE),n=d/e,s=E/e,p[M]=e,d=n*v[M]+s*p[M+1],p[M+1]=-s*v[M]+n*p[M+1],E=s*v[M+1],v[M+1]=n*v[M+1],u&&M<r-1)for(let t=0;t<r;t++)e=n*w.get(t,M)+s*w.get(t,M+1),w.set(t,M+1,-s*w.get(t,M)+n*w.get(t,M+1)),w.set(t,M,e)}v[F-2]=d,k+=1;break}case 4:if(p[t]<=0&&(p[t]=p[t]<0?-p[t]:0,h))for(let e=0;e<=A;e++)y.set(e,t,-y.get(e,t));for(;t<A&&!(p[t]>=p[t+1]);){let e=p[t];if(p[t]=p[t+1],p[t+1]=e,h&&t<l-1)for(let r=0;r<l;r++)e=y.get(r,t+1),y.set(r,t+1,y.get(r,t)),y.set(r,t,e);if(u&&t<r-1)for(let n=0;n<r;n++)e=w.get(n,t+1),w.set(n,t+1,w.get(n,t)),w.set(n,t,e);t++}k=0,F--}}if(g){let t=y;y=w,w=t}this.m=r,this.n=l,this.s=p,this.U=w,this.V=y}solve(t){let e=t,r=this.threshold,s=this.s.length,o=n.Z.zeros(s,s);for(let n=0;n<s;n++)Math.abs(this.s[n])<=r?o.set(n,n,0):o.set(n,n,1/this.s[n]);let l=this.U,i=this.rightSingularVectors,a=i.mmul(o),c=i.rows,f=l.rows,u=n.Z.zeros(c,f);for(let n=0;n<c;n++)for(let t=0;t<f;t++){let e=0;for(let r=0;r<s;r++)e+=a.get(n,r)*l.get(t,r);u.set(n,t,e)}return u.mmul(e)}solveForDiagonal(t){return this.solve(n.Z.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,s=t.columns,o=new n.Z(r,this.s.length);for(let n=0;n<r;n++)for(let r=0;r<s;r++)Math.abs(this.s[r])>e&&o.set(n,r,t.get(n,r)/this.s[r]);let l=this.U,i=l.rows,a=l.columns,c=new n.Z(r,i);for(let n=0;n<r;n++)for(let t=0;t<i;t++){let e=0;for(let r=0;r<a;r++)e+=o.get(n,r)*l.get(t,r);c.set(n,t,e)}return c}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,s=r.length;n<s;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return n.Z.diag(this.s)}}},51860:function(t,e,r){function n(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}r.d(e,{G:function(){return n}})},6050:function(t,e,r){r.d(e,{Z:function(){return s}});var n=r(11695);class s extends n.X{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}}}]);
//# sourceMappingURL=LogisticRegression.00e97c16.chunk.js.map