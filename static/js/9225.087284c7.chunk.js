"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[9225],{96128:function(e,t,a){a.d(t,{fH:function(){return g},Zl:function(){return b}});var n=a(87757),s=a.n(n),r=a(15861),o=a(41488),l=a(86072),i=a.n(l),c=a(98695),m=a(33837),u=a.n(m),p=a(63834),d=a(41985),h=a(33357);function f(e){return{type:h.eu,payload:{badges:e}}}var v=function(){var e=(0,r.Z)(s().mark((function e(t){var a,n,r,l,m,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get(p.ZP+"/get_user_badges");case 3:if(a=e.sent,n=a.data,r=n.badges,l=n.addedBadges,t(f(r)),l.length>0)for(m=0;m<r.length;m++)h=r[m],u()(l,h.name)&&(0,d.wN)(t,(v=void 0,g=void 0,E=void 0,b=void 0,v=(s=h).name,g=s.description,E=s.picture,b=p.ZP+"/badges/"+E,{children:o.createElement("div",null,o.createElement("h3",null,c.Z.t("common:received-badge"),v),o.createElement("div",null,o.createElement("div",null,o.createElement("div",{className:"received-badge-before"}),o.createElement("img",{className:"received-badge",src:b,alt:"Received Badge"})),o.createElement("p",{style:{marginTop:15}},c.Z.t("common:received-badge-for"),o.createElement("b",null,g)))),level:"info",position:"tc",dismissible:"button",autoDismiss:0}));e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,d.EG)(t,e.t0);case 12:case"end":return e.stop()}var s,v,g,E,b}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:case"end":return t.stop()}}),t)})))},E=function(){var e=(0,r.Z)(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get(p.ZP+"/get_available_badges");case 3:a=e.sent,t((n=a.data,{type:h.Z9,payload:{badges:n}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,d.EG)(t,e.t0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:case"end":return t.stop()}}),t)})))}},70384:function(e,t,a){a.d(t,{Z:function(){return Z}});var n=a(15671),s=a(43144),r=a(97326),o=a(60136),l=a(29388),i=a(4942),c=a(41488),m=a(25472),u=a(70048),p=a(66734),d=a(47701),h=a(85840),f=a(54012),v=a(75018),g=a(73230),E=a(63834),b=function(e){(0,o.Z)(a,e);var t=(0,l.Z)(a);function a(e){var s;return(0,n.Z)(this,a),s=t.call(this,e),(0,i.Z)((0,r.Z)(s),"handleResponseChange",(function(e){s.setState({response:e.target.value})})),(0,i.Z)((0,r.Z)(s),"handleResponseSubmit",(function(){s.props.submitTicketMessage({message:s.state.response,ticketID:s.props.ticket._id}),s.setState({response:""})})),(0,i.Z)((0,r.Z)(s),"toggleCompletion",(function(){s.props.ticket.done?s.props.openTicket(s.props.ticket._id):s.props.closeTicket(s.props.ticket._id)})),(0,i.Z)((0,r.Z)(s),"renderMessage",(function(e,t){var a=s.props.t,n=new Date(e.createdAt);return c.createElement("div",{className:"message-container",key:t},c.createElement("div",{className:"message-data"},c.createElement("div",{className:"message-profile-pic"},c.createElement("img",{src:"".concat(E.ZP,"/thumbnail/").concat(e.picture),alt:"User Profile Pic"})),c.createElement("div",{className:"message-author-line"},c.createElement("span",{className:"message-author"},e.author),"\xa0",a("common:wrote-on",{date:"".concat(n.toLocaleTimeString()," ").concat(n.toLocaleDateString())}))),c.createElement("div",{className:"message-body"},e.body))})),s.state={response:""},s}return(0,s.Z)(a,[{key:"render",value:function(){var e,t=this.props.t,a=this.props.ticket;return c.createElement(c.Fragment,null,c.createElement(h.Z,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"modal-60w"},c.createElement(h.Z.Header,null,c.createElement(h.Z.Title,{as:"h3",style:{width:"100%"}},t("common:title"),": ",a.title,c.createElement(p.Z,{placement:"right",overlay:(e=t("close-ticket-modal"),c.createElement(d.Z,{id:"tooltip"},e))},c.createElement(u.Z,{onClick:this.props.onHide,style:{float:"right"},variant:"outline-secondary","aria-label":t("close-ticket-modal"),className:"modal-close"},c.createElement("span",{"aria-hidden":"true"},"x"))))),c.createElement(h.Z.Body,{style:{height:"60vh",overflowY:"auto"}},c.createElement("span",{className:"title"},t("common:description"),":"),c.createElement("p",{style:{whiteSpace:"pre-wrap"}},a.description),c.createElement("hr",null),a.namespace.title?c.createElement(c.Fragment,null,c.createElement("span",{className:"title"},"".concat(t("common:course"),": ")),c.createElement("span",null,a.namespace.title)," | "):null,a.lesson?c.createElement(c.Fragment,null,c.createElement("span",{className:"title"},"".concat(t("common:lesson"),": ")),c.createElement("span",null,a.lesson.title)," | "):null,a.component?c.createElement(c.Fragment,null,c.createElement("span",{className:"title"},"".concat(t("common:component"),": ")),c.createElement("span",null,a.component)):null,a.attachments.length>0?c.createElement(c.Fragment,null,c.createElement("br",null),c.createElement("span",{className:"title"},"".concat(t("common:attachments"),": ")),a.attachments.map((function(e,a){return c.createElement("a",{"aria-label":t("common:attachments"),href:"".concat(E.ZP,"/attachments/").concat(e.filename),key:a,style:{marginLeft:6},target:"_blank",rel:"noopener noreferrer"},c.createElement("i",{className:"fas fa-link",style:{marginRight:2}}),e.title)}))):null,c.createElement("br",null),c.createElement("hr",null),c.createElement("span",{className:"title"},t("common:messages"),":"),a.messages.map(this.renderMessage),c.createElement("hr",null)),c.createElement(h.Z.Footer,{style:{background:"ghostwhite"}},c.createElement(g.Z,{controlId:"form-text",style:{width:"calc(100% - 200px)"}},c.createElement(f.Z,null,t("enter-response")),c.createElement(v.Z,{name:"body",type:"text",as:"textarea",rows:"5",value:this.state.response,placeholder:a.done?t("require-open-ticket"):t("response-comes-here"),onChange:this.handleResponseChange,disabled:a.done})),c.createElement("div",{style:{float:"right",width:"180px"}},c.createElement(u.Z,{block:!0,onClick:this.handleResponseSubmit,disabled:!this.state.response||a.done},t("submit-response")),c.createElement(u.Z,{block:!0,onClick:this.toggleCompletion},a.done?t("common:open-ticket"):t("common:close-ticket")),c.createElement(u.Z,{block:!0,onClick:this.props.onHide},t("common:hide"))))))}}]),a}(c.Component);b.defaultProps={};var Z=(0,m.Z)(["ticket_modal","common"])(b)},64614:function(e,t,a){a.r(t),a.d(t,{default:function(){return _t}});var n=a(41488),s=a(9251),r=a(59486),o=a(15671),l=a(43144),i=a(97326),c=a(60136),m=a(29388),u=a(4942),p=a(10077),d=a.n(p),h=a(25472),f=a(26881),v=a(90013),g=a(62410),E=a.n(g),b=a(87095),Z=a(70048),y=a(54012),k=a(73230),N=a(66734),w=a(47701),C=a(52785),x=a(33606),S=a.n(x),_=a(72488),M=a.n(_),A=a(80213),D=a.n(A),P=a(35683),T=a.n(P),F=a(33837),I=a.n(F),L=a(12699),z=a.n(L),H=a(6233),O=a.n(H),W=a(52428),B=a(98032),U=a(47355),V=a(42263),j=a(63834),K=a(83531),R=a(25991),G=a(37122),J=a(86037),q=(a(87815),["name","email","lesson","title","filename","type","createdAt","updatedAt"]),Y=d()("isle:files-page"),$=function(e){return e.substring(e.indexOf("/media/")+7)},Q=function(e){for(var t=0;t<e.length;t++){var a=T()(e[t],q);a.lesson=a.lesson.title,a.filename=j.ZP+"/"+a.filename,e[t]=a}return e},X=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var s;return(0,o.Z)(this,a),s=t.call(this,e),(0,u.Z)((0,i.Z)(s),"handleDelete",(function(){s.props.handleFileDeletion(s.state.deletionID,s.props.ownerFiles),s.toggleDeleteModal()})),(0,u.Z)((0,i.Z)(s),"toggleDeleteModal",(function(){s.setState({showDeleteModal:!s.state.showDeleteModal})})),(0,u.Z)((0,i.Z)(s),"createColumns",(function(){var e=s.props.t;return[(0,G.Z)({Header:e("common:filename"),accessor:"title",minWidth:250,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),{Header:e("common:open"),accessor:"path",Cell:function(t){return n.createElement(N.Z,{placement:"left",overlay:n.createElement(w.Z,{id:"external-link-tooltip"},e("open-file"))},n.createElement("a",{"aria-label":e("open-file"),href:j.ZP+"/"+$(t.value),target:"_blank",rel:"noopener noreferrer"},n.createElement(Z.Z,{"aria-label":e("open-file"),size:"sm",variant:"outline-secondary"},n.createElement("i",{className:"fa fa-external-link-alt"}))))},resizable:!1,filterable:!1,sortable:!1,width:45},{Header:e("common:copy"),id:"copy-path",accessor:"path",Cell:function(t){return n.createElement(N.Z,{placement:"right",overlay:n.createElement(w.Z,{id:"copy-clipboard-tooltip"},e("common:copy-link"))},n.createElement(Z.Z,{"aria-label":e("common:copy-link"),variant:"outline-secondary",size:"sm",onClick:function(){S()(j.ZP+"/"+$(t.value)),s.props.addNotification({title:"Copied",message:"Link copied to clipboard",level:"success",position:"tl"})}},n.createElement("i",{className:"fa fa-clipboard"})))},resizable:!1,filterable:!1,sortable:!1,width:45},(0,G.Z)({Header:e("common:lesson"),accessor:"lesson",maxWidth:160,Cell:function(t){return t.row.lesson?n.createElement(N.Z,{placement:"right",overlay:n.createElement(w.Z,{id:"open-lesson-tooltip"},e("open-lesson-new-tab"))},n.createElement("div",{style:{width:"100%",height:"100%"}},n.createElement("a",{"aria-label":e("open-lesson-new-tab"),href:t.row.lesson.url,target:"_blank",rel:"noopener noreferrer"},t.row.lesson.title))):n.createElement("span",null,e("no-lesson"))},filterMethod:function(e,t){return t[e.id].title.startsWith(e.value)}}),(0,G.Z)({Header:e("first-name"),id:"first_name",accessor:function(e){var t=O()(e.name).split(" ");return t.length>1?(t.pop(),t.join(" ")):t[0]},maxWidth:75,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:e("last-name"),id:"last_name",accessor:function(e){var t=O()(e.name).split(" ");return t.length>1?t[t.length-1]:""},maxWidth:75,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:e("common:email"),accessor:"email",maxWidth:160,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:e("type"),accessor:"type",filterMethod:function(e,t){return I()(t[e.id],e.value)}}),(0,J.Z)({Header:e("common:size"),accessor:"size",Cell:function(e){return e.value?"".concat(M()(e.value,-3),"mb"):"NA"},filterMethod:function(e,t){var a=t[e.pivotId||e.id];return a>=e.value.min&&a<=e.value.max},formatLabel:function(e){return M()(e,-2)},maxValue:D()(s.state.fileMaxSize)||1,minValue:0}),(0,R.Z)({Header:e("common:date"),accessor:"updatedAt",Cell:function(e){return e.value&&e.value.toLocaleDateString?e.value.toLocaleDateString("en-US"):""},maxWidth:120,t:e}),{Header:"Del",accessor:"_id",Cell:function(t){return n.createElement(N.Z,{placement:"left",overlay:n.createElement(w.Z,{id:"delete-file-tooltip"},e("delete-file-tooltip"))},n.createElement(Z.Z,{"aria-label":e("delete-file-tooltip"),size:"sm",variant:"outline-secondary",onClick:function(){s.setState({deletionID:t.value,showDeleteModal:!0})}},n.createElement("div",{className:"fa fa-trash-alt"})))},resizable:!1,filterable:!1,sortable:!1,width:45}]})),(0,u.Z)((0,i.Z)(s),"saveJSON",(function(){var e=s.dashboardTable.table.getResolvedState().sortedData,t=Q(e),a=new Blob([JSON.stringify(t)],{type:"application/json"}),n="files_".concat(s.props.namespace.title,".json");(0,K.Z)(a,n)})),(0,u.Z)((0,i.Z)(s),"saveCSV",(function(){var e=s.dashboardTable.table.getResolvedState().sortedData,t=Q(e);E()(t,{header:!0},(function(e,t){if(e)return s.props.addNotification({title:"Error encountered",message:"Encountered an error while creating CSV: "+e.message,level:"error",position:"tl"});var a=new Blob([t],{type:"text/plain"}),n="files_".concat(s.props.namespace.title,".csv");(0,K.Z)(a,n)}))})),(0,u.Z)((0,i.Z)(s),"toggleExplorer",(function(){s.setState({showExplorer:!s.state.showExplorer})})),s.state={showDeleteModal:!1,deletionID:null,fileMaxSize:0,fileInputKey:0,showExplorer:!1},s.columns=s.createColumns(),s}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){Y("Component did mount..."),this.props.getFiles({namespaceName:this.props.namespace.title})}},{key:"componentDidUpdate",value:function(e){if(e.files!==this.props.files){for(var t=this.props.files,a=0,n=0;n<t.length;n++){var s=t[n].size;s&&s>a&&(a=s)}this.setState({fileMaxSize:a,fileInputKey:this.state.fileInputKey+1})}}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.state.showExplorer){for(var a=this.props.files,s=[],r=0;r<a.length;r++){var o=a[r],l={};l.title=o.title,l.type=o.type,l.lesson=o.lesson?o.lesson.title:null,l.size=o.size?o.size:null,l.email=o.email,l.createdAt=o.createdAt,l.updatedAt=o.updatedAt,s.push(l)}s=(0,B.Z)(s);return n.createElement(W.Z,{title:t("explorer-files-title"),data:s,categorical:["title","type","lesson","email","createdAt","updatedAt"],quantitative:["size"],close:this.toggleExplorer})}return n.createElement("div",{className:"namespace-data-page"},n.createElement("div",{className:"namespace-data-buttons"},n.createElement(b.Z,{className:"files-export-button-group"},n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"csvTooltip"},t("save-as-csv"))},n.createElement(Z.Z,{size:"sm",variant:"secondary",onClick:this.saveCSV},n.createElement("i",{className:"fas fa-download"})," CSV")),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"jsonTooltip"},t("save-as-json"))},n.createElement(Z.Z,{size:"sm",variant:"secondary",onClick:this.saveJSON},n.createElement("i",{className:"fas fa-download"})," JSON"))),this.props.ownerFiles?n.createElement(k.Z,{className:"file-upload-button"},n.createElement(y.Z,{htmlFor:"fileUpload",style:{cursor:"pointer"}},n.createElement(C.Z,{id:"fileUploadBadge",variant:"success"},t("upload-file")),n.createElement("input",{id:"fileUpload",key:this.state.fileInputKey,type:"file",accept:".pdf,.html,.md,image/*,video/*,audio/*,.json,.csv",onChange:this.props.handleUpload,style:{display:"none"}}))):null),n.createElement(U.Z,{data:this.props.files,columns:this.columns,t:t,ref:function(t){e.dashboardTable=t},onButtonClick:this.toggleExplorer}),n.createElement(V.Z,{show:this.state.showDeleteModal,close:this.toggleDeleteModal,message:t("delete-file"),title:"".concat(t("common:delete"),"?"),onConfirm:this.handleDelete}))}}]),a}(n.Component);X.defaultProps={ownerFiles:!1};var ee=(0,h.Z)(["namespace_data","common"])(X),te=a(29530),ae=a(75018),ne=a(52787),se=(a(62173),function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"deleteSelectedMessage",(function(){var e=n.state.editItem,t=n.props.namespace.announcements[e];n.props.deleteAnnouncement(t.createdAt,e),n.clear(),n.closeDeleteModal()})),(0,u.Z)((0,i.Z)(n),"createMessage",(function(){var e=(new Date).getTime(),t={title:n.state.title,body:n.state.body,author:n.props.user.name,email:n.props.user.email,picture:n.props.user.picture};if(null===n.state.editItem)t.createdAt=e,n.props.addAnnouncement(t);else{var a=n.props.namespace.announcements[n.state.editItem];t.createdAt=a.createdAt,n.props.editAnnouncement(t)}n.clear()})),(0,u.Z)((0,i.Z)(n),"handleInputChange",(function(e){var t=e.target,a=t.name,s=t.value;n.setState((0,u.Z)({},a,s))})),(0,u.Z)((0,i.Z)(n),"clear",(function(){n.setState({title:"",body:"",mode:"new-announcement",editItem:null})})),(0,u.Z)((0,i.Z)(n),"closeDeleteModal",(function(){n.setState({editItem:null,showDeleteModal:!1})})),n.state={title:"",body:"",mode:"new-announcement",editItem:null,showDeleteModal:!1},n}return(0,l.Z)(a,[{key:"renderModals",value:function(){return null}},{key:"editMessage",value:function(e){var t=this.props.namespace.announcements[e];this.setState({mode:"edit-announcement",editItem:e,title:t.title,body:t.body})}},{key:"renderMessages",value:function(){var e=this,t=this.props.t;return n.createElement("div",null,this.props.namespace.announcements.map((function(a,s){var r=new Date(a.createdAt),o=r.toLocaleDateString()+"  -  "+r.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});return n.createElement("div",{key:s},n.createElement("div",{className:"message-container"},n.createElement("div",{className:"message-data"},n.createElement("div",{className:"message-profile-pic"},n.createElement("img",{src:a.picture,alt:"User Profile Pic"})),n.createElement("div",{className:"message-author-line"},n.createElement("span",{className:"message-author"},a.author),"\xa0",t("common:wrote-on",{date:o}))),n.createElement("div",{className:"message-title"},a.title),n.createElement("div",{className:"message-body"},a.body)),n.createElement("div",{className:"message-manip"},n.createElement("button",{onClick:function(){e.setState({editItem:s,showDeleteModal:!0})},className:"message-delete"},t("common:delete")),n.createElement("button",{onClick:function(){e.editMessage(s)},className:"message-edit"},t("common:edit"))))})))}},{key:"render",value:function(){var e=this.props.t,t=this.state.title.length<3||this.state.body.length<3,a=0===this.state.title.length&&0===this.state.body.length;return n.createElement("div",{className:"namespace-data-page"},n.createElement("div",{className:"messages"},this.renderMessages()),n.createElement("div",{className:"new_message"},n.createElement(te.Z,null,n.createElement(te.Z.Header,null,n.createElement(te.Z.Title,{as:"h3"},e(this.state.mode))),n.createElement(te.Z.Body,null,n.createElement(ne.Z,{style:{padding:"20px"}},n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"titleTooltip"},e("announcement-title"))},n.createElement(k.Z,{controlId:"form-title"},n.createElement(y.Z,null,e("common:title")),n.createElement(ae.Z,{name:"title",type:"text",value:this.state.title,onChange:this.handleInputChange}))),n.createElement(k.Z,{controlId:"form-text"},n.createElement(y.Z,null,e("announcement-text")),n.createElement(ae.Z,{name:"body",type:"text",as:"textarea",rows:"10",value:this.state.body,onChange:this.handleInputChange}))),n.createElement(b.Z,null,n.createElement(Z.Z,{type:"submit",disabled:t,onClick:this.createMessage},"new-announcement"===this.state.mode?e("common:create"):e("common:update")),n.createElement(Z.Z,{onClick:this.clear,disabled:a,variant:"danger"},e("common:clear")))))),n.createElement(V.Z,{show:this.state.showDeleteModal,close:this.closeDeleteModal,message:e("delete-announcement"),title:"".concat(e("common:delete"),"?"),onConfirm:this.deleteSelectedMessage}))}}]),a}(n.Component));se.defaultProps={};var re=(0,h.Z)(["namespace_data","common"])(se),oe=a(4846),le=a.n(oe),ie=a(92855),ce=a(36394),me=a(7131),ue=a.n(me),pe=a(74321),de=a.n(pe),he=a(70954),fe=a.n(he),ve=a(96967),ge=a.n(ve),Ee=a(66310),be=a(79693),Ze=a.n(be),ye=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"toggleEditing",(function(){n.setState({isEditing:!n.state.isEditing,newProgress:n.props.progress})})),(0,u.Z)((0,i.Z)(n),"handleChange",(function(e){n.setState({newProgress:Ze()(e.target.value,0,100),hasChanged:!0})})),(0,u.Z)((0,i.Z)(n),"handleSubmit",(function(){n.setState({isEditing:!1,hasChanged:!1}),n.props.onSubmit(n.state.newProgress)})),n.state={isEditing:!1,hasChanged:!1,newProgress:e.progress,originalProgress:e.progress},n}return(0,l.Z)(a,[{key:"render",value:function(){return this.state.isEditing?n.createElement(n.Fragment,null,n.createElement("input",{type:"number",value:this.state.newProgress,min:0,max:100,onChange:this.handleChange,className:"editable-progress-input"}),n.createElement("i",{role:"button",tabIndex:0,onClick:this.toggleEditing,onKeyPress:this.toggleEditing,className:"fas fa-window-close editable-progress-close"}),n.createElement("span",{className:"editable-progress-submit",style:{display:this.state.hasChanged?"inline":"none"}},n.createElement("i",{role:"button",tabIndex:0,onClick:this.handleSubmit,onKeyPress:this.handleSubmit,className:"fas fa-check-square"}))):n.createElement(Ee.Z,{"aria-label":"new-progress",style:{fontSize:"10px",height:"12px"},now:this.state.newProgress,label:"".concat(this.state.newProgress,"%"),onClick:this.toggleEditing})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.progress!==t.originalProgress?{newProgress:e.progress,originalProgress:e.progress}:null}}]),a}(n.Component),ke=a(75033),Ne=d()("isle:progress-page");function we(e,t){return function(a,n){var s=n[a.id][e[t]._id];if(ge()(s))return 0===a.value.min;var r=de()(ue()(100*s.progress),100);return r>=a.value.min&&r<=a.value.max}}function Ce(e,t){return function(a,n){return a=a[e[t]._id],n=n[e[t]._id],a||n?a&&!n?1:!a&&n?-1:a.progress>n.progress?1:a.progress<n.progress?-1:0:0}}function xe(e,t){if("all"===e.value)return!0;var a=e.pivotId||e.id;return void 0===t[a]||(fe()(e.value)?I()(e.value,String(t[a])):String(t[a])===e.value)}var Se=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var s;return(0,o.Z)(this,a),s=t.call(this,e),(0,u.Z)((0,i.Z)(s),"accessorFactory",(function(e,t){var a=s.props.t;return function(r){var o=r.original.lessonData,l=e[t]._id;if(o=o[l]){var i=de()(ue()(100*o.progress),100);return n.createElement("span",{style:{fontSize:"12px",fontWeight:800}},n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"durationTooltip"},a("hours-minutes-seconds"))},n.createElement("span",null,a("duration"),": ",(0,ke.Z)(o.spentTime))),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"startTooltip"},a("first-accessed"))},n.createElement("span",null," | ",new Date(o.createdAt).toLocaleString())),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"startTooltip"},a("last-accessed"))},n.createElement("span",null," - ",new Date(o.updatedAt).toLocaleString())),n.createElement("br",null),n.createElement(ye,{progress:i,email:r.original.email,lessonID:l,onSubmit:function(e){s.props.adjustProgress({email:r.original.email,lessonID:l,namespaceID:s.props.namespace._id,cohort:r.original.cohort,progress:e})}}))}return n.createElement("span",null)}})),(0,u.Z)((0,i.Z)(s),"saveJSON",(function(){var e=s.assembleData(),t=new Blob([JSON.stringify(e)],{type:"application/json"}),a="completion_".concat(s.props.namespace.title,".json");(0,K.Z)(t,a)})),(0,u.Z)((0,i.Z)(s),"saveCSV",(function(){var e=s.assembleData();E()(e,{header:!0},(function(e,t){if(e)return s.props.addNotification({title:"Error encountered",message:"Encountered an error while creating CSV: "+e.message,level:"error",position:"tl"});var a=new Blob([t],{type:"text/plain"}),n="completion_".concat(s.props.namespace.title,".csv");(0,K.Z)(a,n)}))})),(0,u.Z)((0,i.Z)(s),"toggleExplorer",(function(){s.setState({showExplorer:!s.state.showExplorer})})),s.columns=s.createColumns(e.lessons,e.cohorts),s.state={displayedMembers:[],lessonSortDirection:"ascending",lessonOrder:"createdAt",showExplorer:!1},s}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){this.createDisplayedMembers()}},{key:"componentDidUpdate",value:function(e){this.props.cohorts===e.cohorts&&this.props.lessons===e.lessons||(this.createDisplayedMembers(),this.columns=this.createColumns(this.props.lessons,this.props.cohorts))}},{key:"createDisplayedMembers",value:function(){for(var e=[],t=0;t<this.props.cohorts.length;t++){for(var a=this.props.cohorts[t].members,n=0;n<a.length;n++)a[n].cohort=this.props.cohorts[t].title,a[n].lessonData||(a[n].lessonData={});e=e.concat(this.props.cohorts[t].members)}for(var s=0;s<e.length;s++){var r=e[s],o=O()(r.name).split(" ");o.length>1?(r.lastName=o.pop(),r.firstName=o.join(" ")):(r.firstName=o[0],r.lastName="")}this.setState({displayedMembers:e})}},{key:"createColumns",value:function(e,t){for(var a=this,s=this.props.t,r=[{Header:"Pic",accessor:"picture",Cell:function(e){return n.createElement("img",{className:"table-pic",src:"".concat(j.ZP,"/thumbnail/").concat(e.original.picture),alt:"Profile Pic"})},maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1,style:{color:"darkslategrey"}},(0,G.Z)({Header:s("first-name"),id:"first_name",accessor:"firstName",maxWidth:75,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:s("last-name"),id:"last_name",accessor:"lastName",maxWidth:75,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:s("common:email"),accessor:"email",maxWidth:200,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),{Header:s("common:cohort"),accessor:"cohort",style:{marginTop:"8px",color:"darkslategrey"},filterMethod:xe,Filter:function(e){var a,s=e.filter,r=e.onChange,o=function(e){var t=e.target.value;r(t)};return a=s?fe()(s.value)?s.value.join(", "):s.value:"all",n.createElement("select",{onBlur:o,onChange:o,style:{width:"100%",backgroundColor:"ghostwhite"},value:a},n.createElement("option",{value:"all"},"Show All"),t.map((function(e,t){return n.createElement("option",{key:t,value:"".concat(e.title)},e.title)})))}}],o=function(t){var s="lesson_"+t;r.push({id:s,Header:n.createElement("span",{id:s},e[t].title),_lesson:e[t],Cell:a.accessorFactory(e,t),accessor:"lessonData",sortMethod:Ce(e,t),filterMethod:we(e,t),Filter:function(e){var t=e.filter,a=e.onChange;return n.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},n.createElement(le(),{ariaLabelledby:s,ariaControls:"dashboard-table",allowSameValues:!0,maxValue:100,minValue:0,value:t?t.value:{max:100,min:0},onChange:function(e){a(e)}}))}})},l=0;l<e.length;l++)o(l);return r}},{key:"assembleData",value:function(){for(var e=this.dashboardTable.table.getResolvedState().sortedData,t=e.length,a=new Array(t),n=this.props.lessons,s=0;s<t;s++){var r=e[s]._original;a[s]={name:r.name,firstName:r.firstName,lastName:r.lastName,email:r.email,cohort:r.cohort};for(var o=this.props.user.availableCustomFields,l=0;l<o.length;l++){var i=o[l].name;r.customFields?a[s][i]=r.customFields[i]:a[s][i]=null}for(var c=0;c<n.length;c++){var m=n[c]._id,u=r.lessonData;u&&u[m]?(u=u[m],a[s][n[c].title+"_question_progress"]=de()(ue()(100*u.progress),100),a[s][n[c].title+"_time"]=ue()(u.spentTime/6e4),a[s][n[c].title+"_first_accessed"]=new Date(u.createdAt).toLocaleString(),a[s][n[c].title+"_last_accessed"]=new Date(u.updatedAt).toLocaleString()):(a[s][n[c].title+"_question_progress"]=0,a[s][n[c].title+"_time"]=0,a[s][n[c].title+"_first_accessed"]="",a[s][n[c].title+"_last_accessed"]="")}}return a}},{key:"reorderColumns",value:function(e,t){return Ne("Sort columns by "+e+" in "+t+" order"),"ascending"===t?this.columns.slice().sort((function(t,a){return t._lesson&&a._lesson?"title"===e?t._lesson.title.localeCompare(a._lesson.title):t._lesson[e]>a._lesson[e]?1:-1:1})):this.columns.slice().sort((function(t,a){return t._lesson&&a._lesson?"title"===e?a._lesson.title.localeCompare(t._lesson.title):t._lesson[e]<a._lesson[e]?1:-1:1}))}},{key:"renderSortButton",value:function(){var e,t=this,a=this.props.t;switch(this.state.lessonOrder){case"title":e=a("common:sort-alphabetically");break;case"createdAt":e=a("common:sort-create-date");break;case"updatedAt":e=a("common:sort-update-date")}return n.createElement(b.Z,{className:"sort-button-group"},n.createElement(ie.Z,{size:"sm",variant:"secondary",onSelect:function(e){t.columns=t.reorderColumns(e,t.state.lessonSortDirection),t.setState({lessonOrder:e})},id:"dropdown",title:n.createElement("small",null,e)},n.createElement(ce.Z.Item,{eventKey:"title"},n.createElement("small",null,a("common:sort-alphabetically"))),n.createElement(ce.Z.Item,{eventKey:"createdAt"},n.createElement("small",null,a("common:sort-create-date"))),n.createElement(ce.Z.Item,{eventKey:"updatedAt"},n.createElement("small",null,a("common:sort-update-date")))),n.createElement(Z.Z,{size:"sm",variant:"secondary",style:{marginLeft:2},onClick:function(){"ascending"===t.state.lessonSortDirection?(t.columns=t.reorderColumns(t.state.lessonOrder,"descending"),t.setState({lessonSortDirection:"descending"})):(t.columns=t.reorderColumns(t.state.lessonOrder,"ascending"),t.setState({lessonSortDirection:"ascending"}))},"aria-label":"ascending"===this.state.lessonSortDirection?a("common:sort-descending"):a("common:sort-ascending")},"ascending"===this.state.lessonSortDirection?n.createElement("i",{className:"fas fa-arrow-right"}):n.createElement("i",{className:"fas fa-arrow-left"})))}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.state.showExplorer){var a=this.assembleData();a=(0,B.Z)(a);for(var s=[],r=["name","email","cohort"],o=0;o<this.props.lessons.length;o++){var l=this.props.lessons[o].title;s.push("".concat(l,"_question_progress")),s.push("".concat(l,"_time")),r.push("".concat(l,"_first_accessed")),r.push("".concat(l,"_last_accessed"))}for(var i=this.props.user.availableCustomFields,c=0;c<i.length;c++)r.push(i[c].name);return n.createElement(W.Z,{title:t("explorer-progress-title"),data:a,categorical:r,quantitative:s,close:this.toggleExplorer})}return n.createElement(n.Fragment,null,n.createElement("div",{className:"namespace-data-buttons"},this.renderSortButton(),n.createElement(b.Z,{className:"progress-button-group"},n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"csvTooltip"},t("save-as-csv"))},n.createElement(Z.Z,{size:"sm",variant:"secondary",onClick:this.saveCSV},n.createElement("i",{className:"fas fa-download"})," CSV")),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"jsonTooltip"},t("save-as-json"))},n.createElement(Z.Z,{size:"sm",variant:"secondary",onClick:this.saveJSON},n.createElement("i",{className:"fas fa-download"})," JSON")))),n.createElement("div",{className:"namespace-data-page"},n.createElement(U.Z,{className:"progress-table",data:this.state.displayedMembers,columns:this.columns,t:t,ref:function(t){e.dashboardTable=t},onButtonClick:this.toggleExplorer})))}}]),a}(n.Component);Se.defaultProps={};var _e=(0,h.Z)(["namespace_data","common"])(Se),Me=a(89308),Ae=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var n;(0,o.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"handleCohortChange",(function(e){var t=[];if(e)for(var a=0;a<e.length;a++)t=t.concat(e[a].data.members);n.setState({selectedCohorts:e,displayedMembers:t})})),(0,u.Z)((0,i.Z)(n),"showUser",(function(e){n.setState({actualMember:e})})),(0,u.Z)((0,i.Z)(n),"closeActualMember",(function(){n.setState({actualMember:null})}));for(var s=e.cohorts.map((function(e){return{label:e.title,value:e.title,data:e}})),r=[],l=0;l<e.cohorts.length;l++)r=r.concat(e.cohorts[l].members);return n.state={cohortOptions:s,selectedCohorts:s,displayedMembers:r,actualMember:null},n}return(0,l.Z)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.cohorts!==e.cohorts){for(var t=this.props.cohorts.map((function(e){return{label:e.title,value:e.title,data:e}})),a=[],n=0;n<this.props.cohorts.length;n++)a=a.concat(this.props.cohorts[n].members);this.setState({cohortOptions:t,selectedCohorts:t,displayedMembers:a,actualMember:null})}}},{key:"renderMember",value:function(e,t){var a=this,s="scale-up "+(.3+.05*t)+"s";return n.createElement(n.Fragment,{key:t},n.createElement("div",{className:"cohort-member",role:"button",onClick:function(){return a.showUser(e)},onKeyPress:function(){return a.showUser(e)},style:{animation:s},tabIndex:0},n.createElement("div",{className:"cohort-member-name"},e.name),n.createElement("img",{src:j.ZP+"/thumbnail/"+e.picture,alt:"Member Profile Pic"}),n.createElement("div",{className:"cohort-member-email"},n.createElement("a",{href:"mailto:"+e.email},e.email))))}},{key:"renderCohort",value:function(){for(var e=this.state.displayedMembers,t=[],a=0;a<e.length;a++)t.push(this.renderMember(e[a],a));return t}},{key:"renderMemberLessons",value:function(e){for(var t=this.props.lessons,a=[],s=0,r=0,o=0,l=0;l<t.length;l++){var i=t[l]._id;if(e.lessonData&&e.lessonData[i]){var c=e.lessonData[i];s=de()(ue()(100*c.progress),100),r=(0,ke.Z)(c.spentTime),o+=c.spentTime}else s=0,r=(0,ke.Z)(0);a.push(n.createElement("div",{key:l},n.createElement("div",{className:"cohort-actual-member-lesson-title"},t[l].title),n.createElement(Ee.Z,{"aria-label":"lesson-progress",className:"cohort-actual-member-lesson-progress",style:{float:"left",fontSize:"10px",height:"12px"},now:s,label:"".concat(s,"%")}),n.createElement("span",{className:"cohort-actual-member-lesson-time"},r)))}return o=(0,ke.Z)(o),n.createElement(n.Fragment,null,n.createElement("hr",null),n.createElement("div",{className:"cohort-actual-member-lesson-header"},"COURSE INFO"),n.createElement("div",{className:"cohort-actual-member-lesson-total"},"COURSE TOTAL TIME: ",o),n.createElement("div",{className:"lessons-area"},a))}},{key:"renderMemberBadges",value:function(e){for(var t=this.props.badges,a=(0,ke.Z)(e.spentTime),s=[],r=0;r<t.length;r++)I()(e.badges,t[r].name)&&s.push(n.createElement(n.Fragment,null,n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"isleTime"},t[r].description)},n.createElement("div",{className:"cohort-user-badge"},n.createElement("img",{src:j.ZP+"/badges/"+t[r].picture,alt:"User Badge"})))));return n.createElement(n.Fragment,null,n.createElement("div",null,"General User Info"),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"isleTime"},"the time the user spent with ISLE")},n.createElement("span",{className:"user-info-time"},"ISLE TIME: ",a)),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"isleTime"},"user score")},n.createElement("span",{className:"user-info-score"},"SCORE: ",e.score)),n.createElement("div",null),n.createElement("div",{className:"user-info-badges"},n.createElement("div",{className:"user-info-separator"},"Badges"),s))}},{key:"renderActualMember",value:function(){var e=this.state.actualMember,t=null;return e.createdAt&&(t=new Date(e.createdAt).toLocaleDateString()),n.createElement("div",{className:"cohort-actual-member"},n.createElement("button",{onClick:this.closeActualMember,className:"cohort-actual-member-exit empty-button"},"\u2715"),n.createElement("img",{className:"cohort-actual-member-portrait",src:j.ZP+"/avatar/"+e.picture,alt:"User Profile Pic"}),n.createElement("div",{className:"cohort-actual-member-portrait-shadow"}),t?n.createElement("div",{className:"cohort-actual-member-registered"},"registered since ",t):null,n.createElement("div",{className:"cohort-actual-member-name"},n.createElement("h3",null,e.name),n.createElement("div",null,e.email)),n.createElement("div",{className:"cohort-actual-member-info"},this.renderMemberLessons(e)),n.createElement("div",{className:"cohort-actual-member-badges"},this.renderMemberBadges(e)))}},{key:"render",value:function(){return n.createElement("div",{className:"namespace-data-page"},n.createElement("div",{style:{width:"100%",height:"40px"}},n.createElement(Me.ZP,{value:this.state.selectedCohorts,isMulti:!0,name:"cohorts","aria-label":"Select cohorts",placeholder:"Select cohorts to display",options:this.state.cohortOptions,onChange:this.handleCohortChange})),n.createElement("div",{className:"cohort-page"},this.renderCohort()),this.state.actualMember?this.renderActualMember():null)}}]),a}(n.Component);Ae.defaultProps={};var De=Ae,Pe=a(12087),Te=a.n(Pe),Fe=d()("isle:progress-page");function Ie(e,t){return function(a,n){var s=n[a.id][e[t]._id];if(ge()(s))return 0===a.value.min;var r=s._sumPoints;return r>=a.value.min&&r<=a.value.max}}function Le(e,t){if("all"===e.value)return!0;var a=e.pivotId||e.id;return void 0===t[a]||(fe()(e.value)?I()(e.value,String(t[a])):String(t[a])===e.value)}function ze(e,t){return function(a,n){return a=a[e[t]._id],n=n[e[t]._id],a||n?a&&!n?1:!a&&n?-1:a._sumPoints>n._sumPoints?1:a._sumPoints<n._sumPoints?-1:0:0}}var He=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var s;return(0,o.Z)(this,a),s=t.call(this,e),(0,u.Z)((0,i.Z)(s),"accessorFactory",(function(e,t){return function(a){var s=a.original.lessonGrades||{},r=e[t],o=r._id,l="";if(r.metadata&&r.metadata.grades&&(l+=" / ".concat(e[t].metadata.grades.maxPoints)),s=s[o]){var i=[];for(var c in s)Te()(s,c)&&"_sumPoints"!==c&&i.push(n.createElement("p",{style:{margin:0},key:c},c,": ",n.createElement("b",{style:{float:"right",marginLeft:12}},s[c])));return n.createElement(N.Z,{placement:"top",overlay:n.createElement(te.Z,{className:"tickets-description-overlay",body:!0,id:"description-tooltip"},i)},n.createElement("p",null,s._sumPoints,l))}return n.createElement("span",null)}})),(0,u.Z)((0,i.Z)(s),"saveJSON",(function(){var e=s.assembleData(),t=new Blob([JSON.stringify(e)],{type:"application/json"}),a="grades_".concat(s.props.namespace.title,".json");(0,K.Z)(t,a)})),(0,u.Z)((0,i.Z)(s),"saveCSV",(function(){var e=s.assembleData();E()(e,{header:!0},(function(e,t){if(e)return s.props.addNotification({title:"Error encountered",message:"Encountered an error while creating CSV: "+e.message,level:"error",position:"tl"});var a=new Blob([t],{type:"text/plain"}),n="grades_".concat(s.props.namespace.title,".csv");(0,K.Z)(a,n)}))})),(0,u.Z)((0,i.Z)(s),"toggleExplorer",(function(){s.setState({showExplorer:!s.state.showExplorer})})),s.columns=s.createColumns(e.lessons,e.cohorts),s.state={displayedMembers:[],lessonSortDirection:"ascending",lessonOrder:"createdAt",showExplorer:!1},s}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){this.createDisplayedMembers()}},{key:"componentDidUpdate",value:function(e){this.props.cohorts===e.cohorts&&this.props.lessons===e.lessons||(this.createDisplayedMembers(),this.columns=this.createColumns(this.props.lessons,this.props.cohorts))}},{key:"createDisplayedMembers",value:function(){for(var e=[],t=0;t<this.props.cohorts.length;t++){for(var a=this.props.cohorts[t].members,n=0;n<a.length;n++)a[n].cohort=this.props.cohorts[t].title,a[n].lessonGrades||(a[n].lessonGrades={});e=e.concat(this.props.cohorts[t].members)}for(var s=0;s<e.length;s++){var r=e[s],o=O()(r.name).split(" ");o.length>1?(r.lastName=o.pop(),r.firstName=o.join(" ")):(r.firstName=o[0],r.lastName="")}this.setState({displayedMembers:e})}},{key:"createColumns",value:function(e,t){for(var a=this,s=this.props.t,r=[{Header:"Pic",accessor:"picture",Cell:function(e){return n.createElement("img",{className:"table-pic",src:"".concat(j.ZP,"/thumbnail/").concat(e.original.picture),alt:"Profile Pic"})},maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1,style:{color:"darkslategrey"}},(0,G.Z)({Header:s("first-name"),id:"first_name",accessor:"firstName",maxWidth:75,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:s("last-name"),id:"last_name",accessor:"lastName",maxWidth:75,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),(0,G.Z)({Header:s("common:email"),accessor:"email",maxWidth:200,filterMethod:function(e,t){return I()(z()(t[e.id]),z()(e.value))}}),{Header:s("common:cohort"),accessor:"cohort",style:{marginTop:"8px",color:"darkslategrey"},filterMethod:Le,Filter:function(e){var a,s=e.filter,r=e.onChange,o=function(e){var t=e.target.value;r(t)};return a=s?fe()(s.value)?s.value.join(", "):s.value:"all",n.createElement("select",{onBlur:o,onChange:o,style:{width:"100%",backgroundColor:"ghostwhite"},value:a},n.createElement("option",{value:"all"},"Show All"),t.map((function(e,t){return n.createElement("option",{key:t,value:"".concat(e.title)},e.title)})))}}],o=function(t){var s="lesson_"+t;r.push({id:s,Header:n.createElement("span",{id:s},e[t].title),_lesson:e[t],Cell:a.accessorFactory(e,t),sortMethod:ze(e,t),filterMethod:Ie(e,t),Filter:function(a){var r=a.filter,o=a.onChange,l=0;e[t].metadata&&e[t].metadata.grades&&(l=e[t].metadata.grades.maxPoints);var i={max:l,min:0};return n.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},n.createElement(le(),{ariaLabelledby:s,ariaControls:"dashboard-table",allowSameValues:!0,maxValue:l,minValue:0,value:r?r.value:i,onChange:function(e){o(e)}}))},accessor:"lessonGrades"})},l=0;l<e.length;l++)o(l);return r}},{key:"reorderColumns",value:function(e,t){return Fe("Sort columns by "+e+" in "+t+" order"),"ascending"===t?this.columns.slice().sort((function(t,a){return t._lesson&&a._lesson?"title"===e?t._lesson.title.localeCompare(a._lesson.title):t._lesson[e]>a._lesson[e]?1:-1:1})):this.columns.slice().sort((function(t,a){return t._lesson&&a._lesson?"title"===e?a._lesson.title.localeCompare(t._lesson.title):t._lesson[e]<a._lesson[e]?1:-1:1}))}},{key:"assembleData",value:function(){for(var e=this.dashboardTable.table.getResolvedState().sortedData,t=e.length,a=new Array(t),n=this.props.lessons,s=0;s<t;s++){var r=e[s]._original;a[s]={name:r.name,firstName:r.firstName,lastName:r.lastName,email:r.email,cohort:r.cohort};for(var o=this.props.user.availableCustomFields,l=0;l<o.length;l++){var i=o[l].name;r.customFields?a[s][i]=r.customFields[i]:a[s][i]=null}for(var c=0;c<n.length;c++){var m=n[c]._id,u=r.lessonGrades;u&&u[m]?(u=u[m],a[s][n[c].title]=u._sumPoints):a[s][n[c].title]=""}}return a}},{key:"renderSortButton",value:function(){var e,t=this,a=this.props.t;switch(this.state.lessonOrder){case"title":e=a("common:sort-alphabetically");break;case"createdAt":e=a("common:sort-create-date");break;case"updatedAt":e=a("common:sort-update-date")}return n.createElement(b.Z,{className:"sort-button-group"},n.createElement(ie.Z,{size:"sm",variant:"secondary",onSelect:function(e){t.columns=t.reorderColumns(e,t.state.lessonSortDirection),t.setState({lessonOrder:e})},id:"dropdown",title:n.createElement("small",null,e)},n.createElement(ce.Z.Item,{eventKey:"title"},n.createElement("small",null,a("common:sort-alphabetically"))),n.createElement(ce.Z.Item,{eventKey:"createdAt"},n.createElement("small",null,a("common:sort-create-date"))),n.createElement(ce.Z.Item,{eventKey:"updatedAt"},n.createElement("small",null,a("common:sort-update-date")))),n.createElement(Z.Z,{size:"sm",variant:"secondary",style:{marginLeft:2},onClick:function(){"ascending"===t.state.lessonSortDirection?(t.columns=t.reorderColumns(t.state.lessonOrder,"descending"),t.setState({lessonSortDirection:"descending"})):(t.columns=t.reorderColumns(t.state.lessonOrder,"ascending"),t.setState({lessonSortDirection:"ascending"}))},"aria-label":"ascending"===this.state.lessonSortDirection?a("common:sort-descending"):a("common:sort-ascending")},"ascending"===this.state.lessonSortDirection?n.createElement("i",{className:"fas fa-arrow-right"}):n.createElement("i",{className:"fas fa-arrow-left"})))}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.state.showExplorer){var a=this.assembleData();a=(0,B.Z)(a);for(var s=[],r=["name","email","cohort"],o=0;o<this.props.lessons.length;o++)s.push(this.props.lessons[o].title);for(var l=this.props.user.availableCustomFields,i=0;i<l.length;i++)r.push(l[i].name);return n.createElement(W.Z,{title:t("explorer-grades-title"),data:a,categorical:r,quantitative:s,close:this.toggleExplorer})}return n.createElement(n.Fragment,null,n.createElement("div",{className:"namespace-data-buttons"},this.renderSortButton(),n.createElement(b.Z,{className:"progress-button-group"},n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"csvTooltip"},t("save-as-csv"))},n.createElement(Z.Z,{size:"sm",variant:"secondary",onClick:this.saveCSV},n.createElement("i",{className:"fas fa-download"})," CSV")),n.createElement(N.Z,{placement:"bottom",overlay:n.createElement(w.Z,{id:"jsonTooltip"},t("save-as-json"))},n.createElement(Z.Z,{size:"sm",variant:"secondary",onClick:this.saveJSON},n.createElement("i",{className:"fas fa-download"})," JSON")))),n.createElement("div",{className:"namespace-data-page"},n.createElement(U.Z,{className:"grades-table",data:this.state.displayedMembers,columns:this.columns,t:t,ref:function(t){e.dashboardTable=t},onButtonClick:this.toggleExplorer})))}}]),a}(n.Component);He.defaultProps={};var Oe=(0,h.Z)(["namespace_data","common"])(He),We=a(3817),Be=a(87888),Ue=d()("isle-dashboard:namespace-data:actions-page"),Ve=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var n;(0,o.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"retrieveActions",(function(){n.props.getNamespaceActions({namespaceID:n.props.namespace._id,namespaceTitle:n.props.namespace.title})})),(0,u.Z)((0,i.Z)(n),"handleRadioChange",(function(e){n.setState({anonymized:!n.state.anonymized})})),(0,u.Z)((0,i.Z)(n),"handleCohortChange",(function(e){for(var t=[],a=0;a<e.length;a++)t=t.concat(e[a].value.members);n.setState({selectedCohorts:e,displayedMembers:t},(function(){Ue("New number of displayed members: "+n.state.displayedMembers.length)}))})),(0,u.Z)((0,i.Z)(n),"hideLessonActions",(function(){n.setState({lessonActionsPage:!1})})),(0,u.Z)((0,i.Z)(n),"showLessonActions",(function(e){n.setState({lessonActionsPage:!0,actualLesson:e})}));for(var s=e.cohorts.map((function(e){return{label:e.title,value:e}})),r=[],l=0;l<e.cohorts.length;l++)r=r.concat(e.cohorts[l].members);return n.state={cohortOptions:s,selectedCohorts:s,displayedMembers:r,lessonActionsPage:!1,actualLesson:null,anonymized:!0},n}return(0,l.Z)(a,[{key:"renderCohorts",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"actions-page-cohorts"},n.createElement("div",{style:{width:"400px",height:"40px"}},n.createElement(Me.ZP,{value:this.state.selectedCohorts,isMulti:!0,name:"cohorts",options:this.state.cohortOptions,onChange:this.handleCohortChange}))))}},{key:"renderLessonActionsPage",value:function(){return n.createElement("div",{className:"actions-page-lesson-action-page"},n.createElement("div",{className:"lesson-action-page-resize"}," \ud83d\uddd6"),n.createElement("button",{onClick:this.hideLessonActions,className:"lesson-action-page-exit empty-button"},"\u2715"),n.createElement("div",{className:"lesson-action-page-title"},this.state.actualLesson.title),n.createElement("div",{className:"lesson-action-page-filter"},this.renderCohorts()))}},{key:"renderLessons",value:function(){for(var e=this,t=this.props.namespace.lessons,a=[],s=function(s){a.push(n.createElement("button",{key:s,onClick:function(){return e.showLessonActions(t[s])},className:"actions-page-lesson"},n.createElement("div",{className:"actions-page-lesson-title"},t[s].title)))},r=0;r<t.length;r++)s(r);return n.createElement("div",{className:"actions-page"},n.createElement("div",{className:"actions-page-export"},this.renderExportSection()),n.createElement("div",{className:"actions-page-lessons"},a))}},{key:"renderExportSection",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"actions-page-export-title"},"Export Actions"),n.createElement(We.Z,{name:"options",onChange:this.handleRadioChange,type:"radio",size:"small",value:this.state.anonymized},n.createElement(Be.Z,{size:"sm",variant:"light",value:!1,style:{fontSize:"12px",color:this.state.anonymized?"#A9A9A9":"black"}},"Original"),n.createElement(Be.Z,{size:"sm",variant:"light",value:!0,style:{fontSize:"12px",color:this.state.anonymized?"black":"#A9A9A9"}},"Anonymized")),n.createElement(Z.Z,{onClick:this.retrieveActions},"Save all namespace actions"))}},{key:"render",value:function(){return n.createElement("div",{className:"namespace-data-page"},this.renderLessons(),this.state.lessonActionsPage?this.renderLessonActionsPage():null)}}]),a}(n.Component);Ve.defaultProps={};var je=Ve,Ke=a(87757),Re=a.n(Ke),Ge=a(15861),Je=a(51527),qe=a.n(Je),Ye=a(14444),$e=a.n(Ye),Qe=a(91499),Xe=a.n(Qe),et=a(92637),tt=a(34570),at=a(96027),nt=a(70384),st=d()("isle:files-page"),rt=/ticket=([^&]*)/,ot=function(e){(0,c.Z)(s,e);var t,a=(0,m.Z)(s);function s(e){var t;return(0,o.Z)(this,s),t=a.call(this,e),(0,u.Z)((0,i.Z)(t),"toggleTicketModal",(function(){t.setState({showTicketModal:!t.state.showTicketModal})})),(0,u.Z)((0,i.Z)(t),"createColumns",(function(){for(var e=t.props.t,a=t.props.tickets||[],s=$e(),r=0,o=0;o<a.length;o++)a[o].createdAt>r&&(r=a[o].createdAt),a[o].updatedAt>r&&(r=a[o].updatedAt),a[o].createdAt<s&&(s=a[o].createdAt),a[o].updatedAt<s&&(s=a[o].updatedAt);return r=qe()(r),s=qe()(s),[{Header:"Pic",accessor:"user.picture",Cell:function(e){return n.createElement("img",{className:"table-pic",src:"".concat(j.ZP,"/thumbnail/").concat(e.value),alt:"Profile Pic"})},style:{marginTop:"8px",color:"darkslategrey"},maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1},(0,G.Z)({Header:e("common:name"),accessor:"user.name",style:{marginTop:"8px",color:"darkslategrey"}}),(0,G.Z)({Header:e("common:email"),accessor:"user.email",style:{marginTop:"8px",color:"darkslategrey"}}),(0,G.Z)({Header:e("common:title"),accessor:"title",minWidth:200}),{Header:e("common:description"),accessor:"description",Cell:function(e){return n.createElement(N.Z,{placement:"top",overlay:n.createElement(te.Z,{className:"tickets-description-overlay",body:!0,id:"description-tooltip"},e.value)},n.createElement("p",{className:"tickets-description"},e.value))},style:{marginTop:"8px",color:"darkslategrey"},minWidth:300},(0,G.Z)({Header:e("common:component"),accessor:"component"}),{Header:"Reply",accessor:"_id",Cell:function(a){return n.createElement(N.Z,{placement:"left",overlay:n.createElement(w.Z,{id:"open-ticket-tooltip"},e("common:open-ticket-tooltip"))},n.createElement(Z.Z,{size:"sm",variant:"outline-secondary",onClick:function(){t.setState({selectedTicket:a.original},t.toggleTicketModal)}},n.createElement("i",{className:"fas fa-reply"})))},resizable:!1,filterable:!1,sortable:!1,width:45},(0,tt.Z)({Header:e("common:priority"),accessor:"priority",labels:["Low","Middle","High"],maxWidth:200,Cell:function(e){if(!e.value)return null;var a,s,r;switch(e.value){case"Low":a="secondary",s="Middle";break;case"Middle":a="warning",s="High",r="Low";break;case"High":a="danger",r="Middle"}return n.createElement("div",null,n.createElement(C.Z,{variant:a,style:{marginRight:6,fontSize:"1em"}},e.value),n.createElement(Z.Z,{size:"sm",variant:"outline-secondary",onClick:function(){t.props.updatePriority(e.original._id,s)},disabled:!s},n.createElement("i",{className:"fas fa-arrow-up"})),n.createElement(Z.Z,{size:"sm",variant:"outline-secondary",onClick:function(){t.props.updatePriority(e.original._id,r)},disabled:!r},n.createElement("i",{className:"fas fa-arrow-down"})))}}),(0,G.Z)({Header:e("common:lesson"),accessor:"lesson.title",maxWidth:140,Cell:function(a){if(!a.value)return null;var s="".concat(j.ZP,"/").concat(t.props.namespace.title,"/").concat(a.value);return n.createElement(N.Z,{placement:"right",overlay:n.createElement(w.Z,{id:"open-lesson-tooltip"},e("namespace_data:open-lesson-new-tab"))},n.createElement(C.Z,{variant:"light",style:{fontSize:"1em"}},n.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},a.value)))}}),(0,at.Z)({Header:e("common:done"),accessor:"done",trueLabel:e("common:done"),falseLabel:e("common:not-done")}),{Header:e("common:platform"),accessor:"platform",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:function(e){if(e.value){var t=n.createElement(et.Z,{id:"popover-data",style:{maxWidth:500,maxHeight:"80vh",overflowY:"auto"},arrowProps:{display:"none"}},n.createElement(et.Z.Title,{as:"h3"},e.row._original.title),n.createElement(et.Z.Content,{style:{backgroundColor:"lightblue"}},n.createElement("pre",null,JSON.stringify(Xe()(e.value,["description"]),null,2))));return n.createElement(N.Z,{trigger:"click",placement:"left",overlay:t},n.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:75,resizable:!1,filterable:!1,sortable:!1},(0,R.Z)({Header:e("created-at"),accessor:"createdAt",startDate:s,endDate:r,t:e})]})),(0,u.Z)((0,i.Z)(t),"toggleExplorer",(function(){t.setState({showExplorer:!t.state.showExplorer})})),(0,u.Z)((0,i.Z)(t),"assembleExplorerData",(function(){for(var e=t.props.tickets,a=[],n=0;n<e.length;n++){var s=e[n],r={};r.component=s.component,r.title=s.title,r.description=s.description,r.lesson=s.lesson?s.lesson.title:null,r.messages=s.messages.length,r.attachments=s.attachments.length,r.user=s.user.email,r.done=s.done,r.priority=s.priority,r.browser="".concat(s.platform.name," ").concat(s.platform.version);var o=s.platform.os;r.os="".concat(o.family," ").concat(o.version?o.version:""," ").concat(o.architecture,"bit"),r.createdAt=s.createdAt,r.updatedAt=s.updatedAt,a.push(r)}return a=(0,B.Z)(a)})),t.state={showTicketModal:!1,selectedTicket:null,showExplorer:!1},t.columns=t.createColumns(),t}return(0,l.Z)(s,[{key:"componentDidMount",value:(t=(0,Ge.Z)(Re().mark((function e(){var t,a,n,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return st("Component did mount..."),e.next=3,this.props.getCourseTickets(this.props.namespace._id);case 3:if(!this.props.history.location.search){e.next=16;break}if(!(t=rt.exec(this.props.history.location.search))||!t[1]){e.next=16;break}a=this.props.tickets,n=0;case 8:if(!(n<a.length)){e.next=16;break}if((s=a[n])._id!==t[1]){e.next=13;break}return this.setState({selectedTicket:s,showTicketModal:!0}),e.abrupt("break",16);case 13:n++,e.next=8;break;case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.t;return this.state.showExplorer?n.createElement(W.Z,{title:e("explorer-tickets-title"),data:this.assembleExplorerData(),categorical:["component","lesson","done","createdAt","updatedAt","priority","browser","os"],quantitative:["messages","attachments"],close:this.toggleExplorer}):n.createElement("div",{className:"namespace-data-page"},n.createElement(U.Z,{data:this.props.tickets,columns:this.columns,t:e,onButtonClick:this.toggleExplorer}),this.state.showTicketModal?n.createElement(nt.Z,{show:this.state.showTicketModal,onHide:this.toggleTicketModal,ticket:this.state.selectedTicket,submitTicketMessage:this.props.submitTicketMessage,openTicket:this.props.openTicket,closeTicket:this.props.closeTicket}):null)}}]),s}(n.Component);ot.defaultProps={tickets:[]};var lt=(0,h.Z)(["namespace_data","common"])(ot),it=d()("isle-dashboard:namespace-data"),ct=function(e){(0,c.Z)(a,e);var t=(0,m.Z)(a);function a(e){var n,s;switch((0,o.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"handleUpload",(function(e){it("Uploading file...");var t=e.target.files[0],a=new FormData;a.append("file",t,t.name),a.append("namespaceName",n.props.namespace.title),a.append("owner","true"),n.props.uploadFile({formData:a,user:n.props.user})})),(0,u.Z)((0,i.Z)(n),"handleAnnouncementDeletion",(function(e,t){n.props.deleteAnnouncement({namespaceName:n.props.namespace.title,index:t,createdAt:e})})),(0,u.Z)((0,i.Z)(n),"handleAnnouncementEdit",(function(e){n.props.editAnnouncement({namespaceName:n.props.namespace.title,announcement:e})})),(0,u.Z)((0,i.Z)(n),"handleAnnouncementCreation",(function(e){n.props.addAnnouncement({namespaceName:n.props.namespace.title,announcement:e})})),(0,u.Z)((0,i.Z)(n),"handleFileDeletion",(function(e,t){n.props.deleteFile(e,n.props.namespace.title,t)})),(0,u.Z)((0,i.Z)(n),"submitTicketMessage",(function(e){var t=e.message,a=e.ticketID;n.props.sendTicketMessage({message:t,ticketID:a,user:n.props.user})})),(0,u.Z)((0,i.Z)(n),"handleSelect",(function(e){e=Number(e);var t=n.props.namespace.title;switch(e){case 1:n.props.history.replace("/namespace-data/".concat(t,"/announcements"));break;case 2:n.props.history.replace("/namespace-data/".concat(t,"/progress"));break;case 3:n.props.history.replace("/namespace-data/".concat(t,"/grades"));break;case 4:n.props.history.replace("/namespace-data/".concat(t,"/cohorts"));break;case 5:n.props.history.replace("/namespace-data/".concat(t,"/owner-files"));break;case 6:n.props.history.replace("/namespace-data/".concat(t,"/student-files"));break;case 7:n.props.history.replace("/namespace-data/".concat(t,"/tickets"));break;case 8:n.props.history.replace("/namespace-data/".concat(t,"/actions"))}n.setState({activePage:e})})),e.match.params.subpage){default:case"announcements":s=1;break;case"progress":s=2;break;case"grades":s=3;break;case"cohorts":s=4;break;case"owner-files":s=5;break;case"student-files":s=6;break;case"tickets":s=7;break;case"actions":s=8}return n.state={activePage:s},n}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){this.props.getBadges()}},{key:"renderPage",value:function(){switch(this.state.activePage){case 1:return n.createElement(re,{namespace:this.props.namespace,editAnnouncement:this.handleAnnouncementEdit,deleteAnnouncement:this.handleAnnouncementDeletion,addAnnouncement:this.handleAnnouncementCreation,user:this.props.user});case 2:return n.createElement(_e,{adjustProgress:this.props.adjustProgress,addNotification:this.props.addNotification,namespace:this.props.namespace,cohorts:this.props.namespace.cohorts,lessons:this.props.namespace.lessons,user:this.props.user});case 3:return n.createElement(Oe,{addNotification:this.props.addNotification,namespace:this.props.namespace,cohorts:this.props.namespace.cohorts,lessons:this.props.namespace.lessons,user:this.props.user});case 4:return n.createElement(De,{badges:this.props.badges,cohorts:this.props.namespace.cohorts,lessons:this.props.namespace.lessons});case 5:return n.createElement(ee,{ownerFiles:!0,files:this.props.namespace.ownerFiles,namespace:this.props.namespace,handleUpload:this.handleUpload,handleFileDeletion:this.handleFileDeletion,addNotification:this.props.addNotification,getFiles:this.props.getOwnerFiles});case 6:return n.createElement(ee,{files:this.props.namespace.files,namespace:this.props.namespace,handleUpload:this.handleUpload,handleFileDeletion:this.handleFileDeletion,addNotification:this.props.addNotification,getFiles:this.props.getFiles});case 7:return n.createElement(lt,{tickets:this.props.namespace.tickets,namespace:this.props.namespace,getCourseTickets:this.props.getCourseTickets,submitTicketMessage:this.submitTicketMessage,openTicket:this.props.openTicket,closeTicket:this.props.closeTicket,updatePriority:this.props.updatePriority,history:this.props.history});case 8:return n.createElement(je,{namespace:this.props.namespace,getNamespaceActions:this.props.getNamespaceActions,user:this.props.user,cohorts:this.props.namespace.cohorts})}}},{key:"render",value:function(){var e=this.props.t;if(!this.props.namespace._id)return n.createElement("div",{className:"namespace-data-div"},n.createElement(f.Z,{variant:"danger"},e("common:no-course-selected")));var t=this.renderPage();return n.createElement("div",{className:"namespace-data-div"},n.createElement("div",{className:"namespace-data-navbar"},n.createElement(v.Z,{variant:"pills",className:"namespace-data-navbar-pills",activeKey:this.state.activePage,onSelect:this.handleSelect},n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"1",title:"Announcements"},e("common:announcements"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"2",title:"Progress"},e("common:progress"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"3",title:"Grades"},e("grades"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"4",title:"Cohorts"},e("common:cohorts"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"5",title:"Owner Files"},e("owner-files"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"6",title:"Student Files"},e("student-files"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"7",title:"Tickets",disabled:!this.props.namespace.enableTicketing},e("common:tickets"))),n.createElement(v.Z.Item,null,n.createElement(v.Z.Link,{eventKey:"8",title:"Actions",disabled:!0},e("common:actions"))))),n.createElement("div",{className:"namespace-data-page-container",style:{overflowY:"auto"}},t))}}]),a}(n.Component);ct.defaultProps={badges:null};var mt=(0,h.Z)(["namespace_data","common"])(ct),ut=a(33357),pt=a(41985),dt=a(605);function ht(e,t){return{type:ut.wx,payload:{announcement:e,namespaceName:t}}}function ft(e,t){return{type:ut.H0,payload:{announcement:e,namespaceName:t}}}function vt(e,t){return{type:ut.wd,payload:{index:e,namespaceName:t}}}var gt=function(){var e=(0,Ge.Z)(Re().mark((function e(t,a){var n,s,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.namespaceName,s=a.announcement,e.prev=1,e.next=4,dt.eC.post(j.ZP+"/new_announcement",{namespaceName:n,announcement:s});case 4:r=e.sent,(0,pt.wN)(t,{message:r.data.message,level:"success"}),t(ft(s,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),(0,pt.EG)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Et=function(e){return function(){var t=(0,Ge.Z)(Re().mark((function t(a){var n,s;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.namespaceName,s=a.announcement,t.next=3,gt(e,{namespaceName:n,announcement:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},bt=function(){var e=(0,Ge.Z)(Re().mark((function e(t,a){var n,s,r,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.namespaceName,s=a.createdAt,r=a.index,e.prev=1,e.next=4,dt.eC.post(j.ZP+"/delete_announcement",{namespaceName:n,createdAt:s});case 4:o=e.sent,(0,pt.wN)(t,{message:o.data.message,level:"success"}),t(vt(r,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),(0,pt.EG)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Zt=function(e){return function(){var t=(0,Ge.Z)(Re().mark((function t(a){var n,s,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.namespaceName,s=a.createdAt,r=a.index,t.next=3,bt(e,{namespaceName:n,createdAt:s,index:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},yt=function(){var e=(0,Ge.Z)(Re().mark((function e(t,a){var n,s,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.namespaceName,s=a.announcement,e.prev=1,e.next=4,dt.eC.post(j.ZP+"/edit_announcement",{namespaceName:n,announcement:s});case 4:r=e.sent,(0,pt.wN)(t,{message:r.data.message,level:"success"}),t(ht(s,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),(0,pt.EG)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),kt=function(e){return function(){var t=(0,Ge.Z)(Re().mark((function t(a){var n,s;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.namespaceName,s=a.announcement,t.next=3,yt(e,{namespaceName:n,announcement:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Nt=a(96128),wt=a(1725),Ct=a(905),xt=a(82406);var St=(0,s.$j)((function(e){return{badges:e.badges,user:e.user,namespace:e.namespace}}),(function(e){return{adjustProgress:(0,Ct.Tm)(e),getBadges:(0,Nt.Zl)(e),getCourseTickets:(0,xt.P3)(e),getFiles:(0,wt.TK)(e),getOwnerFiles:(0,wt.Ru)(e),getNamespaceActions:(0,Ct.qw)(e),addNotification:(0,pt.pP)(e),deleteFile:(0,wt.ns)(e),deleteAnnouncement:Zt(e),editAnnouncement:kt(e),addAnnouncement:Et(e),sendTicketMessage:(0,xt.fG)(e),closeTicket:(0,xt.xG)(e),openTicket:(0,xt.mJ)(e),uploadFile:(0,wt.E8)(e),updatePriority:(0,xt.Cq)(e)}}))(mt),_t=(0,r.EN)(St)},86037:function(e,t,a){var n=a(41488),s=a(4846),r=a.n(s),o=a(50288),l=a.n(o),i=a(12699),c=a.n(i),m=a(72488),u=a.n(m),p=(a(87815),function(e,t){var a=t[e.pivotId||e.id];return a>=e.value.min&&a<=e.value.max}),d=function(e){return u()(e,-2)};t.Z=function(e){var t=e.Header,a=e.accessor,s=e.Cell,o=e.minValue,i=void 0===o?0:o,m=e.maxValue,h=void 0===m?1:m,f=e.maxWidth,v=void 0===f?150:f,g=e.filterMethod,E=e.formatLabel,b="header-".concat(c()(l()(t," ","-")));return{Header:n.createElement("span",{id:b},t),accessor:a,Cell:s||function(e){return e.value?"".concat(u()(e.value,-3)):"NA"},filterMethod:g||p,Filter:function(e){var t=e.filter,a=e.onChange;i===h&&(h=i+=1);var s={max:h,min:i};return n.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},n.createElement(r(),{ariaLabelledby:b,ariaControls:"dashboard-table",allowSameValues:!0,maxValue:h,minValue:i,step:.1,value:t?t.value:s,onChange:function(e){a(e)},formatLabel:E||d}))},maxWidth:v}}},75033:function(e,t,a){var n=a(42339),s=a.n(n);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hours:!0,minutes:!0,seconds:!0};e/=1e3;var a=s()(e/3600);e%=3600;var n=s()(e/60);n<10&&(n="0"+n),e%=60;var r=s()(e);r<10&&(r="0"+r);var o="";return t.hours&&(o+=a),t.minutes&&(o&&(o+=":"),o+=n),t.seconds&&(o&&(o+=":"),o+=r),o}},62173:function(){},87815:function(){}}]);
//# sourceMappingURL=9225.087284c7.chunk.js.map