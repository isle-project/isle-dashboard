"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[7979],{97979:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var s=n(38603),r=n(91532),l=n.n(r),a=n(58651),o=n(90192),i=n(79298),c=n(14704),m=n(12630),p=n(14224),u=n(32174),d=n.n(u),h=n(87324),g=n.n(h),E=n(38593),f=n(27316),y=n(47331),Z=n(87078),b=n(56233);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends s.Component{constructor(e){super(e),C(this,"handleChange",(e=>{const t=e.target,n=t.value,s=t.name;this.setState({[s]:n})})),C(this,"handleImport",(async()=>{await this.props.copyLesson({sourceName:this.props.lesson.title,source:this.props.lesson.namespace.title,target:this.props.targetNamespace,targetName:this.state.targetName}),this.props.onCreate()})),this.state={targetName:e.title}}render(){const{t:e}=this.props;return s.createElement(c.Z,{show:this.props.show,onHide:this.props.close,centered:!0},s.createElement(c.Z.Header,{closeButton:!0},s.createElement(c.Z.Title,null,e("create-from-template"),": ",s.createElement("br",null),s.createElement("span",{style:{color:"darkred"}},this.props.lesson.title))),s.createElement(c.Z.Body,null,s.createElement("p",null,s.createElement("b",null,`${e("common:description")}: `),this.props.lesson.description),s.createElement(b.Z,null,s.createElement(y.Z,null,e("common:name")),s.createElement(Z.Z,{name:"targetName",type:"text",value:this.state.targetName,onChange:this.handleChange,placeholder:e("common:enter-name")}))),s.createElement(c.Z.Footer,null,s.createElement(m.Z,{onClick:this.props.close},e("common:cancel")),s.createElement(m.Z,{variant:"success",onClick:this.handleImport},e("common:confirm"))))}}w.propTypes={close:l().func.isRequired,copyLesson:l().func.isRequired,lesson:l().object.isRequired,onCreate:l().func.isRequired,show:l().bool.isRequired,t:l().func.isRequired,targetNamespace:l().string.isRequired,title:l().string.isRequired};var v=w;function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=(0,o.WidthProvider)(o.Responsive),q={lg:1200,md:1e3,sm:700,xs:500},L={lg:16,md:12,sm:8,xs:4},k=[20,20],N=[10,10];class T extends s.Component{constructor(e){super(e),x(this,"handleCreateFactory",(e=>()=>{this.setState({confirmModal:this.props.user.templateLessons[e]})})),x(this,"closeCreateModal",(()=>{this.setState({confirmModal:null})})),this.state={confirmModal:null}}createLayout(e){let t=e.map(((e,t)=>({lg:{i:`cell-${t}`,x:4*t%16,y:6*g()(t/4),w:4,h:6},md:{i:`cell-${t}`,x:4*t%12,y:6*g()(t/3),w:4,h:6},sm:{i:`cell-${t}`,x:4*t%8,y:6*g()(t/2),w:4,h:6},xs:{i:`cell-${t}`,x:4*t%4,y:6*g()(t/1),w:4,h:6}})));return t={lg:d()(t,"lg"),md:d()(t,"md"),sm:d()(t,"sm"),xs:d()(t,"xs")},t}renderTemplates(){const e=[],t=this.props.user.templateLessons;if(t)for(let n=0;n<t.length;n++){const r=t[n];e.push(s.createElement("div",{key:`cell-${n}`},s.createElement(p.Z,{style:{width:"18rem",boxShadow:"0 0 3px darkslategray"}},s.createElement(p.Z.Img,{variant:"top",src:f}),s.createElement(p.Z.Body,null,s.createElement(p.Z.Title,null,r.title),s.createElement(p.Z.Text,null,r.description),s.createElement(m.Z,{variant:"primary",onClick:this.handleCreateFactory(n)},"Create")))))}return e}render(){const{user:e,t:t}=this.props;let n;if(e.templateLessons&&0!==e.templateLessons.length){const r=this.createLayout(e.templateLessons);n=s.createElement(E.Z,null,s.createElement(c.Z.Header,{closeButton:!0},s.createElement("h1",null,t("create-from-template"))),s.createElement(c.Z.Body,null,s.createElement(R,{margin:k,containerPadding:N,layouts:r,breakpoints:q,cols:L,isResizable:!1,isDraggable:!1,rowHeight:60},this.renderTemplates())))}else n=s.createElement(s.Fragment,null,s.createElement(c.Z.Header,{closeButton:!0},s.createElement("h1",null,t("create-from-template"))),s.createElement(c.Z.Body,null,s.createElement(i.Z,null,s.createElement("h1",{style:{textAlign:"center",marginTop:"12%"}},t("no-templates-created-yet")))));return s.createElement(s.Fragment,null,s.createElement(c.Z,{show:null===this.state.confirmModal,onHide:this.props.onHide,dialogClassName:"modal-75w"},n),null!==this.state.confirmModal?s.createElement(v,{show:!0,close:this.closeCreateModal,t:t,targetNamespace:this.props.namespace.title,lesson:this.state.confirmModal,copyLesson:this.props.copyLesson,onCreate:this.props.onCreate}):null)}}T.propTypes={copyLesson:l().func.isRequired,namespace:l().object.isRequired,onCreate:l().func.isRequired,onHide:l().func.isRequired,user:l().object.isRequired};var j=(0,a.Z)("lessons_page")(T)},38593:function(e,t,n){n.d(t,{Z:function(){return p}});var s=n(30322),r=n(38603),l=n(91532),a=n.n(l),o=n(58651),i=n(79298);class c extends r.Component{render(){const e=this.props.admin;return this.props.user.licensed||e.license&&e.license.valid?this.props.children:r.createElement(i.Z,{style:{width:"100%",height:"73.7%"}},r.createElement("h3",{style:{textAlign:"center",marginTop:"12%"}},this.props.t("not-available-in-community-edition")))}}c.propTypes={admin:a().object,user:a().object},c.defaultProps={admin:null,user:null};var m=(0,o.Z)("common")(c);var p=(0,s.$j)((function(e){return{admin:e.admin,user:e.user}}),(function(){return{}}))(m)}}]);
//# sourceMappingURL=7979.5d9e4210.chunk.js.map