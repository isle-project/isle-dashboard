{"version":3,"sources":["../node_modules/@stdlib/assert/is-empty-object/lib/index.js","../node_modules/@stdlib/assert/is-empty-object/lib/main.js","../node_modules/@stdlib/math/base/special/round/lib/index.js","../node_modules/@stdlib/math/base/special/round/lib/round.js","components/async/index.js","constants/colors.js","ev/components/lesson-creator/index.js","ev/containers/lesson-creator/index.js","components/lessons-page/details_modal.js","components/lessons-page/delete_modal.js","components/lessons-page/lesson.js","components/lessons-page/enrolled_lesson.js","components/lessons-page/no_course_banner.js","components/lessons-page/no_lesson_banner.js","components/lessons-page/index.js","containers/visible-lessons-page/index.js","utils/format_time.js","utils/is_owner.js","utils/sort_lessons.js","../node_modules/react-bootstrap/cjs/ButtonToolbar.js","../node_modules/react-datetime-picker/dist/DateTimePicker.js","../node_modules/react-datetime-picker/dist/entry.js"],"names":[],"mappings":"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","file":"static/js/662.18657ffb.chunk.js","sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an empty object.\n*\n* @module @stdlib/assert/is-empty-object\n*\n* @example\n* var isEmptyObject = require( '@stdlib/assert/is-empty-object' );\n*\n* var bool = isEmptyObject( {} );\n* // returns true\n*\n* bool = isEmptyObject( { 'beep': 'boop' } );\n* // returns false\n*\n* bool = isEmptyObject( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isEmptyObject = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isEmptyObject;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar objectKeys = require( '@stdlib/utils/keys' );\nvar isPlainObject = require( './../../is-plain-object' );\nvar hasSymbolSupport = require( './../../has-symbol-support' );\n\n\n// VARIABLES //\n\nvar FLG = hasSymbolSupport();\n\n\n// MAIN //\n\n/**\n* Tests if a value is an empty object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an empty object\n*\n* @example\n* var bool = isEmptyObject( {} );\n* // returns true\n*\n* @example\n* var bool = isEmptyObject( { 'beep': 'boop' } );\n* // returns false\n*\n* @example\n* var bool = isEmptyObject( [] );\n* // returns false\n*/\nfunction isEmptyObject( value ) {\n\tif ( !isPlainObject( value ) ) {\n\t\treturn false;\n\t}\n\tif ( objectKeys( value ).length > 0 ) {\n\t\treturn false;\n\t}\n\tif ( FLG && Object.getOwnPropertySymbols( value ).length > 0 ) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isEmptyObject;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: implementation\n\n/**\n* Round a numeric value to the nearest integer.\n*\n* @module @stdlib/math/base/special/round\n*\n* @example\n* var round = require( '@stdlib/math/base/special/round' );\n*\n* var v = round( -4.2 );\n* // returns -4.0\n*\n* v = round( -4.5 );\n* // returns -4.0\n*\n* v = round( -4.6 );\n* // returns -5.0\n*\n* v = round( 9.99999 );\n* // returns 10.0\n*\n* v = round( 9.5 );\n* // returns 10.0\n*\n* v = round( 9.2 );\n* // returns 9.0\n*\n* v = round( 0.0 );\n* // returns 0.0\n*\n* v = round( -0.0 );\n* // returns -0.0\n*\n* v = round( Infinity );\n* // returns Infinity\n*\n* v = round( -Infinity );\n* // returns -Infinity\n*\n* v = round( NaN );\n* // returns NaN\n*/\n\n// MODULES //\n\nvar round = require( './round.js' );\n\n\n// EXPORTS //\n\nmodule.exports = round;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: implementation\n\n/**\n* Rounds a numeric value to the nearest integer.\n*\n* @param {number} x - input value\n* @returns {number} function value\n*\n* @example\n* var v = round( -4.2 );\n* // returns -4.0\n*\n* @example\n* var v = round( -4.5 );\n* // returns -4.0\n*\n* @example\n* var v = round( -4.6 );\n* // returns -5.0\n*\n* @example\n* var v = round( 9.99999 );\n* // returns 10.0\n*\n* @example\n* var v = round( 9.5 );\n* // returns 10.0\n*\n* @example\n* var v = round( 9.2 );\n* // returns 9.0\n*\n* @example\n* var v = round( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = round( -0.0 );\n* // returns -0.0\n*\n* @example\n* var v = round( Infinity );\n* // returns Infinity\n*\n* @example\n* var v = round( -Infinity );\n* // returns -Infinity\n*\n* @example\n* var v = round( NaN );\n* // returns NaN\n*/\nvar round = Math.round; // eslint-disable-line stdlib/no-builtin-math\n\n\n// EXPORTS //\n\nmodule.exports = round;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport Spinner from 'components/spinner';\n\n\n// MAIN //\n\n/**\n * Adds a spinner to a component for asynchronous loading.\n *\n * @param {Component} importComponent - component to be wrapped\n * @returns {AsyncComponent} wrapped component\n */\nfunction asyncComponent( importComponent ) {\n\tclass AsyncComponent extends Component {\n\t\tconstructor( props ) {\n\t\t\tsuper( props );\n\n\t\t\tthis.state = {\n\t\t\t\tcomponent: null\n\t\t\t};\n\t\t}\n\n\t\tasync componentDidMount() {\n\t\t\tconst { default: component } = await importComponent();\n\t\t\tthis.setState({ // eslint-disable-line react/no-did-mount-set-state\n\t\t\t\tcomponent: component\n\t\t\t});\n\t\t}\n\n\t\trender() {\n\t\t\tconst C = this.state.component;\n\t\t\treturn C ? <C {...this.props} /> : <Spinner />;\n\t\t}\n\t}\n\treturn AsyncComponent;\n}\n\n\n// EXPORTS //\n\nexport default asyncComponent;\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MAIN //\r\n\r\nconst COLORS = [\r\n\t'#1f77b4',\r\n\t'#ff7f0e',\r\n\t'#2ca02c',\r\n\t'#d62728',\r\n\t'#9467bd',\r\n\t'#8c564b',\r\n\t'#c49c94',\r\n\t'#e377c2',\r\n\t'#17becf',\r\n\t'#aec7e8',\r\n\t'#ffbb78',\r\n\t'#ff9896',\r\n\t'#98df8a',\r\n\t'#7f7f7f',\r\n\t'#c5b0d5',\r\n\t'#f7b6d2',\r\n\t'#bcbd22',\r\n\t'#c7c7c7',\r\n\t'#dbdb8d',\r\n\t'#9edae5'\r\n];\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default COLORS;\r\n","// MODULES //\r\n\r\nimport asyncComponent from 'components/async';\r\n\r\n\r\n// MAIN //\r\n\r\nconst LessonCreator = asyncComponent( () => import( './main.js' ) );\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default LessonCreator;\r\n","// MODULES //\r\n\r\nimport { connect } from 'react-redux';\r\nimport LessonCreator from 'ev/components/lesson-creator';\r\nimport { copyLessonInjector } from 'actions/lesson';\r\n\r\n\r\n// FUNCTIONS //\r\n\r\nfunction mapStateToProps( state ) {\r\n\treturn {\r\n\t\tadmin: state.admin,\r\n\t\tuser: state.user\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps( dispatch ) {\r\n\treturn {\r\n\t\tcopyLesson: copyLessonInjector( dispatch )\r\n\t};\r\n}\r\n\r\n\r\n// MAIN //\r\n\r\nconst VisibleLessonCreator = connect( mapStateToProps, mapDispatchToProps )( LessonCreator );\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default VisibleLessonCreator;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport logger from 'debug';\r\nimport Button from 'react-bootstrap/Button';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport FormLabel from 'react-bootstrap/FormLabel';\r\nimport FormGroup from 'react-bootstrap/FormGroup';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport isEmptyObject from '@stdlib/assert/is-empty-object';\r\nimport SERVER from 'constants/server';\r\n\r\n\r\n// VARIABLES //\r\n\r\nconst debug = logger( 'isle-dashboard' );\r\n\r\n\r\n// FUNCTIONS //\r\n\r\nfunction preventPropagation( event ) {\r\n\tevent.stopPropagation();\r\n}\r\n\r\n\r\n// MAIN //\r\n\r\nclass DetailsModal extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tlet unlockLesson;\r\n\t\tlet lockLesson;\r\n\t\tlet lockUntil;\r\n\t\tlet lockAfter;\r\n\t\tif ( props.lockUntil ) {\r\n\t\t\tunlockLesson = true;\r\n\t\t\tlockUntil = props.lockUntil;\r\n\t\t} else {\r\n\t\t\tunlockLesson = false;\r\n\t\t\tlockUntil = new Date();\r\n\t\t}\r\n\t\tif ( props.lockAfter ) {\r\n\t\t\tlockLesson = true;\r\n\t\t\tlockAfter = props.lockAfter;\r\n\t\t} else {\r\n\t\t\tlockLesson = false;\r\n\t\t\tlockAfter = new Date();\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\ttitle: props.title,\r\n\t\t\tdescription: props.description,\r\n\t\t\tdisabled: false,\r\n\t\t\thideFromDashboard: props.hideFromDashboard,\r\n\t\t\ttemplate: props.template,\r\n\t\t\tchangedTemplate: false,\r\n\t\t\tunlockLesson,\r\n\t\t\tlockUntil,\r\n\t\t\tlockLesson,\r\n\t\t\tlockAfter\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate( prevProps ) {\r\n\t\tconst newState = {};\r\n\t\tif ( prevProps.title !== this.props.title ) {\r\n\t\t\tnewState.title = this.props.title;\r\n\t\t}\r\n\t\tif ( prevProps.description !== this.props.description ) {\r\n\t\t\tnewState.description = this.props.description;\r\n\t\t}\r\n\t\tif ( prevProps.template !== this.props.template ) {\r\n\t\t\tnewState.template = this.props.template;\r\n\t\t}\r\n\t\tif ( prevProps.lockUntil !== this.props.lockUntil ) {\r\n\t\t\tif ( this.props.lockUntil ) {\r\n\t\t\t\tnewState.unlockLesson = true;\r\n\t\t\t\tnewState.lockUntil = this.props.lockUntil;\r\n\t\t\t} else {\r\n\t\t\t\tnewState.unlockLesson = false;\r\n\t\t\t\tnewState.lockUntil = new Date();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( prevProps.lockAfter !== this.props.lockAfter ) {\r\n\t\t\tif ( this.props.lockAfter ) {\r\n\t\t\t\tnewState.lockLesson = true;\r\n\t\t\t\tnewState.lockAfter = this.props.lockAfter;\r\n\t\t\t} else {\r\n\t\t\t\tnewState.lockLesson = false;\r\n\t\t\t\tnewState.lockAfter = new Date();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( !isEmptyObject( newState ) ) {\r\n\t\t\tthis.setState( newState );\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange = ( event ) => {\r\n\t\tconst target = event.target;\r\n\t\tconst value = target.value;\r\n\t\tconst name = target.name;\r\n\t\tdebug( `Input field ${name} changed to ${value}` );\r\n\t\tthis.setState({\r\n\t\t\t[ name ]: value\r\n\t\t}, () => {\r\n\t\t\tif ( this.state.title.length >= 3 && this.state.description.length > 0 ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdisabled: false\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdisabled: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thandleUnlockChange = ( event ) => {\r\n\t\tthis.setState({\r\n\t\t\tunlockLesson: event.target.checked\r\n\t\t});\r\n\t};\r\n\r\n\thandleLockChange = ( event ) => {\r\n\t\tthis.setState({\r\n\t\t\tlockLesson: event.target.checked\r\n\t\t});\r\n\t};\r\n\r\n\thandleTimeUntilChange = ( value ) => {\r\n\t\tthis.setState({\r\n\t\t\tlockUntil: value\r\n\t\t});\r\n\t};\r\n\r\n\thandleTimeAfterChange = ( value ) => {\r\n\t\tthis.setState({\r\n\t\t\tlockAfter: value\r\n\t\t});\r\n\t};\r\n\r\n\thandleTemplateChange = ( event ) => {\r\n\t\tthis.setState({\r\n\t\t\ttemplate: event.target.checked,\r\n\t\t\tchangedTemplate: true\r\n\t\t});\r\n\t};\r\n\r\n\thideFromDashboardChange = ( event ) => {\r\n\t\tthis.setState({\r\n\t\t\thideFromDashboard: event.target.checked\r\n\t\t});\r\n\t};\r\n\r\n\tonSubmit = ( evt ) => {\r\n\t\tevt.preventDefault();\r\n\t\tconst details = {\r\n\t\t\tnewTitle: this.state.title,\r\n\t\t\tnewDescription: this.state.description\r\n\t\t};\r\n\t\tif ( this.state.unlockLesson ) {\r\n\t\t\tdetails.lockUntil = this.state.lockUntil;\r\n\t\t}\r\n\t\tif ( this.state.lockLesson ) {\r\n\t\t\tdetails.lockAfter = this.state.lockAfter;\r\n\t\t}\r\n\t\tif ( this.state.hideFromDashboard !== this.props.hideFromDashboard ) {\r\n\t\t\tdetails.hideFromDashboard = this.state.hideFromDashboard;\r\n\t\t}\r\n\t\tif ( this.state.changedTemplate ) {\r\n\t\t\tdetails.template = this.state.template;\r\n\t\t}\r\n\t\tthis.props.update( details );\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { t } = this.props;\r\n\t\treturn (\r\n\t\t\t<Modal show={this.props.show} onHide={this.props.close}>\r\n\t\t\t\t<Form action={SERVER} method=\"get\" onSubmit={this.onSubmit} onKeyDown={preventPropagation} >\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title as=\"h3\">{t('lesson-details')}</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className=\"d-grid gap-2\" >\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<FormLabel>{t('common:title')}</FormLabel>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\ttype=\"title\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.title}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<FormLabel>{t('common:description')}</FormLabel>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\ttype=\"description\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.description}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel={t('common:lock-until')}\r\n\t\t\t\t\t\t\t\tchecked={this.state.unlockLesson}\r\n\t\t\t\t\t\t\t\tonChange={this.handleUnlockChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.unlockLesson ? <DateTimePicker\r\n\t\t\t\t\t\t\t\t\tminDate={new Date()}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleTimeUntilChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.lockUntil}\r\n\t\t\t\t\t\t\t\t\tclearIcon={null}\r\n\t\t\t\t\t\t\t\t/> : null }\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel={t('common:lock-after')}\r\n\t\t\t\t\t\t\t\tchecked={this.state.lockLesson}\r\n\t\t\t\t\t\t\t\tonChange={this.handleLockChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.lockLesson ? <DateTimePicker\r\n\t\t\t\t\t\t\t\t\tminDate={new Date()}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleTimeAfterChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.lockAfter}\r\n\t\t\t\t\t\t\t\t\tclearIcon={null}\r\n\t\t\t\t\t\t\t\t/> : null }\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel={t('common:hide-from-dashboard')}\r\n\t\t\t\t\t\t\t\tchecked={this.state.hideFromDashboard}\r\n\t\t\t\t\t\t\t\tonChange={this.hideFromDashboardChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t{ this.props.user.administrator ? <FormGroup>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel={t('provide-as-template')}\r\n\t\t\t\t\t\t\t\tchecked={this.state.template}\r\n\t\t\t\t\t\t\t\tonChange={this.handleTemplateChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup> : null}\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Button onClick={this.props.close}>{t('common:cancel')}</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={this.state.disabled}\r\n\t\t\t\t\t\t>{t('common:save')}</Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n// PROPERTIES //\r\n\r\nDetailsModal.propTypes = {\r\n\tclose: PropTypes.func.isRequired,\r\n\tdescription: PropTypes.string.isRequired,\r\n\thideFromDashboard: PropTypes.bool,\r\n\tlockAfter: PropTypes.instanceOf( Date ),\r\n\tlockUntil: PropTypes.instanceOf( Date ),\r\n\tshow: PropTypes.bool.isRequired,\r\n\ttemplate: PropTypes.bool,\r\n\ttitle: PropTypes.string.isRequired,\r\n\tupdate: PropTypes.func.isRequired,\r\n\tuser: PropTypes.object.isRequired\r\n};\r\n\r\nDetailsModal.defaultProps = {\r\n\thideFromDashboard: false,\r\n\tlockAfter: null,\r\n\tlockUntil: null,\r\n\ttemplate: null\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default DetailsModal;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n * Delete modal component.\r\n *\r\n * @param {Object} props - component properties\r\n * @param {boolean} props.show - boolean indicating if the modal is visible\r\n * @param {Function} props.close - callback to invoke when the modal is closed\r\n * @param {Function} props.delete - callback to invoke when the delete button is clicked\r\n * @param {string} props.title - lesson title\r\n * @param {Function} props.t - i18n translate function\r\n * @returns {ReactElement} delete modal\r\n */\r\nconst DeleteModal = ( props ) => (\r\n\t<Modal show={props.show} onHide={props.close}>\r\n\t\t<Modal.Header>\r\n\t\t\t<Modal.Title>{props.t('common:delete')}?</Modal.Title>\r\n\t\t</Modal.Header>\r\n\t\t<Modal.Body>\r\n\t\t\t{props.t('delete-modal-body', { name: props.title })}\r\n\t\t</Modal.Body>\r\n\t\t<Modal.Footer>\r\n\t\t\t<Button onClick={props.close}>{props.t('common:cancel')}</Button>\r\n\t\t\t<Button variant=\"danger\" onClick={props.delete} >{props.t('common:delete')}</Button>\r\n\t\t</Modal.Footer>\r\n\t</Modal>\r\n);\r\n\r\n\r\n// PROPERTIES //\r\n\r\nDeleteModal.propTypes = {\r\n\tclose: PropTypes.func.isRequired,\r\n\tdelete: PropTypes.func.isRequired,\r\n\tshow: PropTypes.bool.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\ttitle: PropTypes.string.isRequired\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default DeleteModal;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport logger from 'debug';\r\nimport { withTranslation } from 'react-i18next';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\r\nimport Card from 'react-bootstrap/Card';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport copyToClipboard from 'clipboard-copy';\r\nimport DetailsModal from './details_modal.js';\r\nimport DeleteModal from './delete_modal.js';\r\nimport COLORS from 'constants/colors';\r\nimport background from './architecture.jpeg';\r\nimport upload from './upload.svg';\r\nimport './lesson.css';\r\n\r\n\r\n// VARIABLES //\r\n\r\nconst DEFAULT_DESCRIPTION = 'No description supplied.';\r\nconst debug = logger( 'isle:lessons-page:lesson' );\r\nconst IS_IOS = isIOS();\r\n\r\n\r\n// FUNCTIONS //\r\n\r\nfunction isIOS() {\r\n\treturn [\r\n\t\t'iPad Simulator',\r\n\t\t'iPhone Simulator',\r\n\t\t'iPod Simulator',\r\n\t\t'iPad',\r\n\t\t'iPhone',\r\n\t\t'iPod'\r\n\t].includes( navigator.platform ) ||\r\n\t(\r\n\t\tnavigator.userAgent.includes('Mac') &&\r\n\t\t'ontouchend' in document\r\n\t);\r\n}\r\n\r\n\r\n// MAIN //\r\n\r\nclass Lesson extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tthis.state = {\r\n\t\t\tshowDeleteModal: false,\r\n\t\t\tshowDetailsModal: false,\r\n\t\t\tisleFile: null\r\n\t\t};\r\n\t}\r\n\r\n\ttoggleLessonState = () => {\r\n\t\tconst query = {\r\n\t\t\tlessonName: this.props.title,\r\n\t\t\tnamespaceName: this.props.namespace\r\n\t\t};\r\n\t\tif ( this.props.active ) {\r\n\t\t\tthis.props.deactivateLesson( query );\r\n\t\t} else {\r\n\t\t\tthis.props.activateLesson( query );\r\n\t\t}\r\n\t};\r\n\r\n\ttoggleLessonVisibility = () => {\r\n\t\tconst query = {\r\n\t\t\tlessonName: this.props.title,\r\n\t\t\tnamespaceName: this.props.namespace\r\n\t\t};\r\n\t\tif ( this.props.public ) {\r\n\t\t\tthis.props.hideLessonInGallery( query );\r\n\t\t} else {\r\n\t\t\tthis.props.showLessonInGallery( query );\r\n\t\t}\r\n\t};\r\n\r\n\tdelete = () => {\r\n\t\tthis.props.deleteLesson({\r\n\t\t\tlessonName: this.props.title,\r\n\t\t\tnamespaceName: this.props.namespace\r\n\t\t});\r\n\t\tthis.closeDeleteModal();\r\n\t};\r\n\r\n\tupdate = async ({ newTitle, newDescription, lockAfter, lockUntil, hideFromDashboard, template }) => {\r\n\t\tconst bool = await this.props.updateLesson({\r\n\t\t\tlessonName: this.props.title,\r\n\t\t\tnamespaceName: this.props.namespace,\r\n\t\t\tnewTitle,\r\n\t\t\tnewDescription,\r\n\t\t\ttemplate,\r\n\t\t\tlockAfter: lockAfter ? lockAfter.getTime() : null,\r\n\t\t\tlockUntil: lockUntil ? lockUntil.getTime() : null,\r\n\t\t\thideFromDashboard\r\n\t\t});\r\n\t\tif ( bool ) {\r\n\t\t\tthis.closeDetailsModal();\r\n\t\t}\r\n\t};\r\n\r\n\tshowDeleteModal = () => {\r\n\t\tthis.setState({ showDeleteModal: true });\r\n\t};\r\n\r\n\tshowDetailsModal = () => {\r\n\t\tthis.setState({ showDetailsModal: true });\r\n\t};\r\n\r\n\tcloseDeleteModal = () => {\r\n\t\tthis.setState({ showDeleteModal: false });\r\n\t};\r\n\r\n\tcloseDetailsModal = () => {\r\n\t\tthis.setState({ showDetailsModal: false });\r\n\t};\r\n\r\n\tgetIsleFile = async () => {\r\n\t\tdebug( 'Request ISLE source code from server...' );\r\n\t\tif ( !this.state.isleFile ) {\r\n\t\t\tconst data = await this.props.getIsleFile({\r\n\t\t\t\tlessonName: this.props.title,\r\n\t\t\t\tnamespaceName: this.props.namespace\r\n\t\t\t});\r\n\t\t\tif ( data ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisleFile: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tcopyIsleFileToClipboard = () => {\r\n\t\tif ( !this.state.isleFile ) {\r\n\t\t\treturn this.props.addNotification({\r\n\t\t\t\tmessage: this.props.t('source-file-error'),\r\n\t\t\t\tlevel: 'error'\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst promise = copyToClipboard( this.state.isleFile );\r\n\t\tpromise.then( () => {\r\n\t\t\tthis.props.addNotification({\r\n\t\t\t\tmessage: this.props.t('source-file-copied'),\r\n\t\t\t\tlevel: 'success'\r\n\t\t\t});\r\n\t\t}).catch( err => {\r\n\t\t\tthis.props.addNotification({\r\n\t\t\t\tmessage: err.message,\r\n\t\t\t\tlevel: 'error'\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tcopyLinkToClipboard = () => {\r\n\t\tconst promise = copyToClipboard( this.props.url );\r\n\t\tpromise.then( () => {\r\n\t\t\tthis.props.addNotification({\r\n\t\t\t\tmessage: this.props.t('link-copied'),\r\n\t\t\t\tlevel: 'success'\r\n\t\t\t});\r\n\t\t}).catch( err => {\r\n\t\t\tthis.props.addNotification({\r\n\t\t\t\tmessage: err.message,\r\n\t\t\t\tlevel: 'error'\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tcopyNameToClipboard = ( event ) => {\r\n\t\tevent.stopPropagation();\r\n\t\tconst promise = copyToClipboard( this.props.title );\r\n\t\tpromise.then( () => {\r\n\t\t\tthis.props.addNotification({\r\n\t\t\t\tmessage: this.props.t('name-copied'),\r\n\t\t\t\tlevel: 'success'\r\n\t\t\t});\r\n\t\t}).catch( err => {\r\n\t\t\tthis.props.addNotification({\r\n\t\t\t\tmessage: err.message,\r\n\t\t\t\tlevel: 'error'\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\topenLesson = () => {\r\n\t\tif ( IS_IOS ) {\r\n\t\t\twindow.location = this.props.url;\r\n\t\t} else {\r\n\t\t\tconst win = window.open( this.props.url, '_blank' );\r\n\t\t\twin.focus();\r\n\t\t}\r\n\t};\r\n\r\n\trenderButtonToolbarDate() {\r\n\t\tconst { t } = this.props;\r\n\r\n\t\tlet updated = new Date( this.props.updatedAt );\r\n\t\tupdated = updated.toLocaleDateString();\r\n\r\n\t\tlet date = new Date( this.props.createdAt );\r\n\t\tdate = date.toLocaleDateString();\r\n\t\treturn (\r\n\t\t\t<span className=\"lessons-upload\">\r\n\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"toggle_visibility\">{t('created-at')}</Tooltip>}>\r\n\t\t\t\t<span className=\"lessons-uploaded-image\">\r\n\t\t\t\t\t<img alt=\"Upload Date Icon\" style={{ stroke: 'white', fill: 'red' }} src={upload} />\r\n\t\t\t\t</span>\r\n\t\t\t</OverlayTrigger>\r\n\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"toggle_visibility\">{t('last-updated')}{updated}</Tooltip>}>\r\n\t\t\t\t<span className=\"lessons-uploaded\">{date}</span>\r\n\t\t\t</OverlayTrigger>\r\n\t\t</span>\r\n\t\t);\r\n\t}\r\n\r\n\trenderActivateButton() {\r\n\t\tconst { lockUntil, t } = this.props;\r\n\t\tconst activeStyle = this.props.active === true ? 'success' : 'warning';\r\n\t\tif ( lockUntil ) {\r\n\t\t\treturn ( <OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"lockUntil_disabled\">\r\n\t\t\t\t{t('scheduled-at', { date: lockUntil.toLocaleString() })}\r\n\t\t\t</Tooltip>} >\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tclassName=\"lessons-status\"\r\n\t\t\t\t\tbg={activeStyle}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: 0.3\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.active ? t('active') : t('inactive')}\r\n\t\t\t\t</Badge>\r\n\t\t\t</OverlayTrigger> );\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"toggle_availability\">{this.props.active ? t('disable-lesson') : t('activate-lesson')}</Tooltip>}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tclassName=\"lessons-status\"\r\n\t\t\t\t\tonClick={this.toggleLessonState}\r\n\t\t\t\t\tbg={activeStyle}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.active ? t('active') : t('inactive')}\r\n\t\t\t\t</Badge>\r\n\t\t\t</OverlayTrigger>\r\n\t\t);\r\n\t}\r\n\r\n\trenderButtonToolbar() {\r\n\t\tconst { t } = this.props;\r\n\t\tconst publicStyle = this.props.public === true ? 'success' : 'warning';\r\n\t\treturn ( <ButtonToolbar className=\"lesson-button-toolbar\">\r\n\t\t\t<ButtonGroup style={{ marginRight: '2px' }} >\r\n\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"open_details\">{t('open-details')}</Tooltip>}>\r\n\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.showDetailsModal} aria-label={t('open-details')} >\r\n\t\t\t\t\t\t<i className=\"fa fa-cog\"></i>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"delete_lesson\">{t('delete-lesson')}</Tooltip>}>\r\n\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.showDeleteModal} aria-label={t('delete-lesson')} >\r\n\t\t\t\t\t\t<i className=\"fa fa-trash-alt\"></i>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"isle-file\">{t('copy-file')}</Tooltip>}>\r\n\t\t\t\t\t<Button variant=\"secondary\" size=\"sm\" onFocus={this.getIsleFile} onMouseEnter={this.getIsleFile}\r\n\t\t\t\t\t\tonClick={this.copyIsleFileToClipboard} style={{ float: 'right' }}\r\n\t\t\t\t\t\taria-label={t('copy-file')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fa fa-clipboard\"></i>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t</ButtonGroup>\r\n\t\t\t{this.renderActivateButton()}\r\n\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"toggle_visibility\">{this.props.public ? t('remove-from-gallery') : t('show-in-gallery') }</Tooltip>}>\r\n\t\t\t\t<Badge className=\"lessons-status\" onClick={this.toggleLessonVisibility} bg={publicStyle}>{this.props.public ? t(('public')) : t('private')}</Badge>\r\n\t\t\t</OverlayTrigger>\r\n\t\t\t{ this.renderButtonToolbarDate() }\r\n\t\t</ButtonToolbar> );\r\n\t}\r\n\r\n\trenderModals() {\r\n\t\treturn ( <Fragment>\r\n\t\t\t<DeleteModal {...this.props} show={this.state.showDeleteModal} close={this.closeDeleteModal} delete={this.delete} />\r\n\t\t\t{ this.state.showDetailsModal ?\r\n\t\t\t\t<DetailsModal {...this.props} show={this.state.showDetailsModal} close={this.closeDetailsModal} update={this.update} /> :\r\n\t\t\t\tnull\r\n\t\t\t}\r\n\t\t</Fragment> );\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t } = this.props;\r\n\t\treturn (\r\n\t\t\t<Card className=\"animated-lesson-card\">\r\n\t\t\t\t<Card.Body style={{ padding: 0, opacity: this.props.hideFromDashboard ? 0.6 : 1.0 }}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfilter: 'grayscale(30%)',\r\n\t\t\t\t\t\t\tbackground: COLORS[ this.props.colorIndex ]\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"hovereffect\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"img-responsive\"\r\n\t\t\t\t\t\t\tsrc={background}\r\n\t\t\t\t\t\t\tref={( div ) => {\r\n\t\t\t\t\t\t\t\tthis.img = div;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\talt=\"Tile background\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\theight: 180\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"overlay\"\r\n\t\t\t\t\t\t\tstyle={{ cursor: 'cell' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t\t\toverlay={<Tooltip id=\"copy_name\">\r\n\t\t\t\t\t\t\t\t\t\t{t('common:copy-name')\r\n\t\t\t\t\t\t\t\t\t}</Tooltip>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"lesson-title-button\"\r\n\t\t\t\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.copyNameToClipboard}\r\n\t\t\t\t\t\t\t\t\t\tonKeyPress={this.copyNameToClipboard}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.title}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t{this.props.description !== DEFAULT_DESCRIPTION ?\r\n\t\t\t\t\t\t\t\t<h3>{this.props.description}</h3> :\r\n\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tref={( link ) => {\r\n\t\t\t\t\t\t\t\t\tthis.link = link;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"info\"\r\n\t\t\t\t\t\t\t\tonClick={this.openLesson} onKeyPress={this.openLesson}\r\n\t\t\t\t\t\t\t\ttabIndex={0} role=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('open-lesson')}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"copy_link\">{t('common:copy-link')}</Tooltip>}>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\r\n\t\t\t\t\t\t\tclassName=\"lesson-link-icon fas fa-external-link-alt\"\r\n\t\t\t\t\t\t\tonClick={this.copyLinkToClipboard}\r\n\t\t\t\t\t\t\tonKeyPress={this.copyLinkToClipboard}\r\n\t\t\t\t\t\t\taria-label={t('common:copy-link')}\r\n\t\t\t\t\t\t></i>\r\n\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t{this.renderButtonToolbar()}\r\n\t\t\t\t\t{this.renderModals()}\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n// PROPERTIES //\r\n\r\nLesson.propTypes = {\r\n\tactivateLesson: PropTypes.func.isRequired,\r\n\tactive: PropTypes.bool.isRequired,\r\n\taddNotification: PropTypes.func.isRequired,\r\n\tcolorIndex: PropTypes.number.isRequired,\r\n\tcreatedAt: PropTypes.any.isRequired,\r\n\tdeactivateLesson: PropTypes.func.isRequired,\r\n\tdeleteLesson: PropTypes.func.isRequired,\r\n\tdescription: PropTypes.string.isRequired,\r\n\tgetIsleFile: PropTypes.func.isRequired,\r\n\tgetLessons: PropTypes.func.isRequired,\r\n\thideFromDashboard: PropTypes.bool,\r\n\thideLessonInGallery: PropTypes.func.isRequired,\r\n\tlockAfter: PropTypes.instanceOf( Date ),\r\n\tlockUntil: PropTypes.instanceOf( Date ),\r\n\tnamespace: PropTypes.string.isRequired,\r\n\tpublic: PropTypes.bool.isRequired,\r\n\tshowLessonInGallery: PropTypes.func.isRequired,\r\n\ttitle: PropTypes.string.isRequired,\r\n\tupdateLesson: PropTypes.func.isRequired,\r\n\tupdatedAt: PropTypes.any.isRequired,\r\n\turl: PropTypes.string.isRequired,\r\n\tuser: PropTypes.object.isRequired\r\n};\r\n\r\nLesson.defaultProps = {\r\n\thideFromDashboard: false,\r\n\tlockAfter: null,\r\n\tlockUntil: null\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default withTranslation( [ 'lesson', 'common' ] )( Lesson );\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\r\nimport ProgressBar from 'react-bootstrap/ProgressBar';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport copyToClipboard from 'clipboard-copy';\r\nimport round from '@stdlib/math/base/special/round';\r\nimport min from '@stdlib/math/base/special/min';\r\nimport COLORS from 'constants/colors';\r\nimport formatTime from 'utils/format_time.js';\r\nimport background from './architecture.jpeg';\r\nimport './lessons.css';\r\n\r\n\r\n// FUNCTIONS //\r\n\r\n/**\r\n * Adds a default background image to the card.\r\n *\r\n * @private\r\n * @param {Event} event - event object\r\n * @returns {void}\r\n */\r\nfunction addDefaultSrc( event ) {\r\n\tevent.target.src = background;\r\n}\r\n\r\n/**\r\n * Renders user progress.\r\n *\r\n * @private\r\n * @param {Object} props - component properties\r\n * @param {Object} props.user - user object\r\n * @param {string} props._id - id of the lesson\r\n * @param {Object} props.metadata - metadata associated with the lesson\r\n * @param {Function} props.t - i18n translation function\r\n * @returns {ReactElement} component\r\n */\r\nfunction LessonProgress( props ) {\r\n\tlet progress;\r\n\tif ( props.metadata && props.metadata.hideProgressBar === true ) {\r\n\t\treturn <div className=\"enrolled-lesson-progress\"></div>;\r\n\t}\r\n\tconst lessonData = props.user.lessonData;\r\n\tconst data = lessonData[ props._id ];\r\n\tif ( data ) {\r\n\t\tprogress = data.progress;\r\n\t\tprogress *= 100;\r\n\t\tprogress = min( round( progress ), 100.0 );\r\n\t} else {\r\n\t\tprogress = 0;\r\n\t}\r\n\tconst { t } = props;\r\n\treturn ( <div className=\"enrolled-lesson-progress\">\r\n\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"open_details\">{t('your-progress')}</Tooltip>}>\r\n\t\t\t<ProgressBar aria-label={t('your-progress')} variant='success' now={progress} label={`${progress}%`} />\r\n\t\t</OverlayTrigger>\r\n\t</div> );\r\n}\r\n\r\n/**\r\n * Renders user progress and information about the lesson.\r\n *\r\n * @private\r\n * @param {Object} props - component properties\r\n * @param {Object} props.user - user object\r\n * @param {string} props._id - id of the lesson\r\n * @param {Object} props.metadata - metadata associated with the lesson\r\n * @param {Function} props.t - i18n translation function\r\n * @returns {ReactElement} component\r\n */\r\nfunction LessonInfo( props ) {\r\n\tlet duration;\r\n\tconst lessonData = props.user.lessonData;\r\n\tconst data = lessonData[ props._id ];\r\n\tif ( data ) {\r\n\t\tduration = data.spentTime;\r\n\t} else {\r\n\t\tduration = 0;\r\n\t}\r\n\tconst { t } = props;\r\n\treturn (\r\n\t\t<ButtonToolbar style={{\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 180,\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '36px',\r\n\t\t\tbackground: 'rgba(0, 0, 0, 0.75)'\r\n\t\t}}>\r\n\t\t\t<LessonProgress {...props} t={t} />\r\n\t\t\t<div className=\"enrolled-lesson-time\" style={{ width: '35%', height: '100%' }} >\r\n\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"open_details\">{t('time-format')}</Tooltip>}>\r\n\t\t\t\t\t<span>{t('time-spent')}: {formatTime( duration )}</span>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t</div>\r\n\t\t</ButtonToolbar>\r\n\t);\r\n}\r\n\r\n\r\n// VARIABLES //\r\n\r\nconst DEFAULT_DESCRIPTION = 'No description supplied.';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n * A component which displays a lesson that the user has enrolled in.\r\n *\r\n * @param {Object} props - component properties\r\n * @param {string} props.title - title of the lesson\r\n * @param {string} props.description - description of the lesson\r\n * @param {string} props._id - id of the lesson\r\n * @param {string} props.url - URL of the lesson\r\n * @param {Object} props.metadata - metadata associated with the lesson\r\n * @param {number} props.colorIndex - color index associated with the lesson\r\n * @param {Object} props.user - user object\r\n * @param {Function} props.addNotification - function to add a notification\r\n * @returns {ReactElement} lesson component\r\n */\r\nconst EnrolledLesson = ( props ) => {\r\n\tconst { t } = useTranslation( [ 'lesson', 'common' ] );\r\n\tconst imgRef = useRef();\r\n\tconst openLesson = () => {\r\n\t\tconst win = window.open( props.url, '_blank' );\r\n\t\twin.focus();\r\n\t};\r\n\tconst showPreviewImage = () => {\r\n\t\timgRef.current.src = props.url+'/preview.jpg';\r\n\t};\r\n\tconst copyLinkToClipboard = () => {\r\n\t\tconst promise = copyToClipboard( props.url );\r\n\t\tpromise.then( () => {\r\n\t\t\tprops.addNotification({\r\n\t\t\t\tmessage: t('link-copied'),\r\n\t\t\t\tlevel: 'success'\r\n\t\t\t});\r\n\t\t}).catch( err => {\r\n\t\t\tprops.addNotification({\r\n\t\t\t\tmessage: err.message,\r\n\t\t\t\tlevel: 'error'\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Card className=\"animated-lesson-card\">\r\n\t\t\t<Card.Body style={{ padding: 0 }}>\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tfilter: 'grayscale(30%)',\r\n\t\t\t\t\tbackground: COLORS[ props.colorIndex ]\r\n\t\t\t\t}} onMouseOver={showPreviewImage} onFocus={showPreviewImage}\r\n\t\t\t\t\tclassName=\"hovereffect\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img-responsive\"\r\n\t\t\t\t\t\tsrc={background}\r\n\t\t\t\t\t\tref={imgRef}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 180\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonError={addDefaultSrc}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"overlay\" >\r\n\t\t\t\t\t\t<h2>{props.title}</h2>\r\n\t\t\t\t\t\t{props.description !== DEFAULT_DESCRIPTION ?\r\n\t\t\t\t\t\t\t<h3>{props.description}</h3> :\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"info\"\r\n\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\r\n\t\t\t\t\t\t\tonClick={openLesson} onKeyPress={openLesson}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('open-lesson')}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"copy_link\">{t('common:copy-link')}</Tooltip>}>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\r\n\t\t\t\t\t\tclassName=\"lesson-link-icon fas fa-external-link-alt\"\r\n\t\t\t\t\t\tonClick={copyLinkToClipboard}\r\n\t\t\t\t\t\tonKeyPress={copyLinkToClipboard}\r\n\t\t\t\t\t\taria-label={t('common:copy-link')}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t<LessonInfo {...props} t={t} />\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\n\r\n// PROPERTIES //\r\n\r\nEnrolledLesson.propTypes = {\r\n\t'_id': PropTypes.string.isRequired,\r\n\taddNotification: PropTypes.func.isRequired,\r\n\tcolorIndex: PropTypes.number.isRequired,\r\n\tdescription: PropTypes.string.isRequired,\r\n\tmetadata: PropTypes.object,\r\n\ttitle: PropTypes.string.isRequired,\r\n\turl: PropTypes.string.isRequired,\r\n\tuser: PropTypes.object.isRequired\r\n};\r\n\r\nEnrolledLesson.defaultProps = {\r\n\tmetadata: null\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default EnrolledLesson;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n * A component which displays a message to the user indicating that they have not selected a course.\r\n *\r\n * @param {Object} props - component properties\r\n * @param {Object} props.t - i18next translation function\r\n * @param {Object} props.user - user object\r\n * @returns {ReactElement} banner component\r\n */\r\nconst NoCourseBanner = ( props ) => {\r\n\tconst { user } = props;\r\n\tconst { t } = useTranslation( [ 'lessons_page', 'common' ] );\r\n\tlet appendix = null;\r\n\tif ( user.writeAccess ) {\r\n\t\tappendix = <span>{t('create-new-one')}<i className=\"fa fa-pencil-alt\"></i>.</span>;\r\n\t} else {\r\n\t\tappendix = ' .';\r\n\t}\r\n\treturn ( <div className=\"jumbotron lessons-jumbotron\" >\r\n\t\t<h1>{t('common:no-course-selected')}</h1>\r\n\t\t<p>{t('no-course-description')}<i className=\"fa fa-align-justify\"></i>{appendix}\r\n\t\t</p>\r\n\t</div> );\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default NoCourseBanner;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n * A banner displayed for a course that has no lessons.\r\n *\r\n * @param {Object} props - component props\r\n * @param {Object} props.user - user object\r\n * @returns {ReactElement} banner\r\n */\r\nconst NoLessonBanner = ({ user }) => {\r\n\tconst { t } = useTranslation( [ 'lessons_page', 'common' ] );\r\n\tlet description = t('no-lessons');\r\n\tif ( user.writeAccess ) {\r\n\t\tdescription += t('upload-from-editor');\r\n\t}\r\n\treturn ( <div className=\"jumbotron lessons-jumbotron\">\r\n\t\t<h1>{t('no-lessons-found')}</h1>\r\n\t\t<p>{description}</p>\r\n\t</div> );\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default NoLessonBanner;\r\n\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { Component, Fragment } from 'react';\r\nimport logger from 'debug';\r\nimport { withTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\nimport { Responsive, WidthProvider } from 'react-grid-layout';\r\nimport Button from 'react-bootstrap/Button';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport isArray from '@stdlib/assert/is-array';\r\nimport contains from '@stdlib/assert/contains';\r\nimport lowercase from '@stdlib/string/lowercase';\r\nimport pluck from '@stdlib/utils/pluck';\r\nimport floor from '@stdlib/math/base/special/floor';\r\nimport LessonCreator from 'ev/containers/lesson-creator';\r\nimport Lesson from './lesson.js';\r\nimport EnrolledLesson from './enrolled_lesson.js';\r\nimport NoCourseBanner from './no_course_banner.js';\r\nimport NoLessonBanner from './no_lesson_banner.js';\r\nimport sortLessons from 'utils/sort_lessons.js';\r\nimport isOwner from 'utils/is_owner.js';\r\nimport 'css/image.css';\r\nimport 'react-grid-layout/css/styles.css';\r\nimport 'react-resizable/css/styles.css';\r\nimport './lessons.css';\r\n\r\n\r\n// VARIABLES //\r\n\r\nconst debug = logger( 'isle-dashboard:lessons-page' );\r\nconst ResponsiveReactGridLayout = WidthProvider( Responsive );\r\n\r\n\r\n// FUNCTIONS //\r\n\r\nfunction searchLessons( lessons, phrase ) {\r\n\tif ( !phrase ) {\r\n\t\treturn lessons;\r\n\t}\r\n\tconst filteredLessons = [];\r\n\tif ( isArray( lessons ) ) {\r\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\r\n\t\t\tif (\r\n\t\t\t\tcontains( lowercase( lessons[ i ].title ), phrase ) ||\r\n\t\t\t\tcontains( lowercase( lessons[ i ].description ), phrase )\r\n\t\t\t) {\r\n\t\t\t\tfilteredLessons.push( lessons[ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn filteredLessons;\r\n}\r\n\r\nfunction createLayout( lessons ) {\r\n\tdebug( 'Create layout...' );\r\n\tconst elemH = 3.52;\r\n\tlet layouts = lessons.map( ( e, i ) => {\r\n\t\treturn {\r\n\t\t\tlg: { i: `cell-${e.title}-${i}`, x: i*4 % 24, y: floor( i / 6 ) * elemH, w: 4, h: elemH },\r\n\t\t\tmd: { i: `cell-${e.title}-${i}`, x: i*4 % 20, y: floor( i / 5 ) * elemH, w: 4, h: elemH },\r\n\t\t\tsm: { i: `cell-${e.title}-${i}`, x: i*4 % 16, y: floor( i / 4 ) * elemH, w: 4, h: elemH },\r\n\t\t\txs: { i: `cell-${e.title}-${i}`, x: i*4 % 12, y: floor( i / 3 ) * elemH, w: 4, h: elemH },\r\n\t\t\txxs: { i: `cell-${e.title}-${i}`, x: i*4 % 8, y: floor( i / 2 ) * elemH, w: 4, h: elemH },\r\n\t\t\ttiny: { i: `cell-${e.title}-${i}`, x: i*4 % 4, y: floor( i / 1 ) * elemH, w: 4, h: elemH }\r\n\t\t};\r\n\t});\r\n\tlayouts = {\r\n\t\tlg: pluck( layouts, 'lg' ),\r\n\t\tmd: pluck( layouts, 'md' ),\r\n\t\tsm: pluck( layouts, 'sm' ),\r\n\t\txs: pluck( layouts, 'xs' ),\r\n\t\txxs: pluck( layouts, 'xxs' ),\r\n\t\ttiny: pluck( layouts, 'tiny' )\r\n\t};\r\n\treturn layouts;\r\n}\r\n\r\n\r\n// MAIN //\r\n\r\nclass LessonsPage extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tlet lessons = props.namespace.lessons;\r\n\t\tif ( !isOwner( props.user, props.namespace ) ) {\r\n\t\t\tdebug( 'Filter out inactive or hidden lessons for enrolled students...' );\r\n\t\t\tlessons = lessons.filter( e => e.active === true && e.hideFromDashboard !== true );\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tfilteredLessons: searchLessons( lessons, props.search.phrase ),\r\n\t\t\tlayouts: createLayout( lessons ),\r\n\t\t\tunfilteredLessons: lessons,\r\n\t\t\tsearch: props.search,\r\n\t\t\tactiveElement: null,\r\n\t\t\tshowLessonCreator: false\r\n\t\t};\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps( nextProps, prevState ) {\r\n\t\tif (\r\n\t\t\tnextProps.namespace.lessons !== prevState.unfilteredLessons ||\r\n\t\t\tnextProps.search.phrase !== prevState.search.phrase ||\r\n\t\t\tnextProps.search.direction !== prevState.search.direction ||\r\n\t\t\tnextProps.search.type !== prevState.search.type\r\n\t\t) {\r\n\t\t\tdebug( 'Get derived state...' );\r\n\t\t\tlet lessons = nextProps.namespace.lessons || [];\r\n\t\t\tif ( !isOwner( nextProps.user, nextProps.namespace ) ) {\r\n\t\t\t\tdebug( 'Filter out inactive or hidden lessons for enrolled students...' );\r\n\t\t\t\tlessons = lessons.filter( e => e.active === true && e.hideFromDashboard !== true );\r\n\t\t\t}\r\n\t\t\tconst filteredLessons = searchLessons( lessons, nextProps.search.phrase );\r\n\t\t\tsortLessons( filteredLessons, nextProps.search );\r\n\t\t\tconst layouts = createLayout( filteredLessons );\r\n\t\t\treturn {\r\n\t\t\t\tfilteredLessons,\r\n\t\t\t\tlayouts,\r\n\t\t\t\tunfilteredLessons: nextProps.namespace.lessons,\r\n\t\t\t\tsearch: nextProps.search\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdebug( 'Component did mount...' );\r\n\t\tconst course = this.props.namespace;\r\n\t\tif ( course.title ) {\r\n\t\t\tdebug( 'Fetch lessons...' );\r\n\t\t\tthis.props.getLessons( course.title );\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate( nextProps, nextState ) {\r\n\t\tif (\r\n\t\t\tnextProps.search.direction !== this.props.search.direction ||\r\n\t\t\tnextProps.search.type !== this.props.search.type ||\r\n\t\t\tnextState.filteredLessons !== this.state.filteredLessons ||\r\n\t\t\tnextState.showLessonCreator !== this.state.showLessonCreator\r\n\t\t) {\r\n\t\t\tdebug( 'Should update page...' );\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpreventOpeningLink = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\trepositionLessons( idx, direction ) {\r\n\t\tconst unfilteredLessons = this.state.unfilteredLessons.slice();\r\n\t\tif ( direction === 'left' ) {\r\n\t\t\tif ( idx > 0 ) {\r\n\t\t\t\tconst lesson = unfilteredLessons[ idx ];\r\n\t\t\t\tconst left = unfilteredLessons[ idx - 1 ];\r\n\t\t\t\tconst tmp = left.pos;\r\n\t\t\t\tleft.pos = lesson.pos;\r\n\t\t\t\tlesson.pos = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( direction === 'right' ) {\r\n\t\t\tif ( idx < unfilteredLessons.length - 1 ) {\r\n\t\t\t\tconst lesson = unfilteredLessons[ idx ];\r\n\t\t\t\tconst right = unfilteredLessons[ idx + 1 ];\r\n\t\t\t\tconst tmp = right.pos;\r\n\t\t\t\tright.pos = lesson.pos;\r\n\t\t\t\tlesson.pos = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst filteredLessons = searchLessons( unfilteredLessons, this.props.search.phrase );\r\n\t\tsortLessons( filteredLessons, this.props.search );\r\n\t\tconst layouts = createLayout( filteredLessons );\r\n\t\tthis.setState({\r\n\t\t\tfilteredLessons,\r\n\t\t\tlayouts,\r\n\t\t\tunfilteredLessons\r\n\t\t}, this.forceUpdate );\r\n\t\tthis.props.setLessonOrder({\r\n\t\t\tid: this.props.namespace._id,\r\n\t\t\tlessons: unfilteredLessons.map( x => x._id )\r\n\t\t});\r\n\t}\r\n\r\n\thandlePositionChangeFactory = ( idx ) => {\r\n\t\treturn ( event ) => {\r\n\t\t\tlet bool = false;\r\n\t\t\tswitch ( event.code ) {\r\n\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\t\tbool = true;\r\n\t\t\t\t\tthis.repositionLessons( idx, 'left' );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\t\tbool = true;\r\n\t\t\t\t\tthis.repositionLessons( idx, 'right' );\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( bool ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\ttoggleCreator = () => {\r\n\t\tthis.props.getTemplateLessons();\r\n\t\tthis.setState({ showLessonCreator: !this.state.showLessonCreator });\r\n\t};\r\n\r\n\thandleCreate = () => {\r\n\t\tthis.setState({ showLessonCreator: false });\r\n\t\tconst course = this.props.namespace;\r\n\t\tif ( course.title ) {\r\n\t\t\tdebug( 'Fetch lessons...' );\r\n\t\t\tthis.props.getLessons( course.title );\r\n\t\t}\r\n\t};\r\n\r\n\trenderLessons() {\r\n\t\tlet lessons = this.state.filteredLessons;\r\n\t\tif ( !isOwner( this.props.user, this.props.namespace ) ) {\r\n\t\t\treturn lessons.map( ( e, i ) => {\r\n\t\t\t\treturn (<div className=\"lesson-grid-item\" key={`cell-${e.title}-${i}`}>\r\n\t\t\t\t\t<EnrolledLesson\r\n\t\t\t\t\t\t{...lessons[ i ]}\r\n\t\t\t\t\t\taddNotification={this.props.addNotification}\r\n\t\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn (\r\n\t\t\tlessons.map( ( e, i ) => {\r\n\t\t\t\tconst lesson = <Lesson\r\n\t\t\t\t\t{...lessons[ i ]}\r\n\t\t\t\t\taddNotification={this.props.addNotification}\r\n\t\t\t\t\tdeleteLesson={this.props.deleteLesson}\r\n\t\t\t\t\tupdateLesson={this.props.updateLesson}\r\n\t\t\t\t\tdeactivateLesson={this.props.deactivateLesson}\r\n\t\t\t\t\tactivateLesson={this.props.activateLesson}\r\n\t\t\t\t\tshowLessonInGallery={this.props.showLessonInGallery}\r\n\t\t\t\t\thideLessonInGallery={this.props.hideLessonInGallery}\r\n\t\t\t\t\tgetLessons={this.props.getLessons}\r\n\t\t\t\t\tgetIsleFile={this.props.getIsleFile}\r\n\t\t\t\t\tuser={this.props.user}\r\n\t\t\t\t/>;\r\n\t\t\t\tif ( this.props.search.type === 'sequentially' ) {\r\n\t\t\t\t\treturn ( <div\r\n\t\t\t\t\t\tclassName=\"lesson-grid-item\"\r\n\t\t\t\t\t\tkey={`cell-${e.title}-${i}`}\r\n\t\t\t\t\t\ttabIndex={0} role=\"button\"\r\n\t\t\t\t\t\tref={input => {\r\n\t\t\t\t\t\t\tif ( input && this.state.activeElement === e.title ) {\r\n\t\t\t\t\t\t\t\tinput.focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn input;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonKeyDown={this.handlePositionChangeFactory( i )}\r\n\t\t\t\t\t\tonFocus={() => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tactiveElement: e.title\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{lesson}\r\n\t\t\t\t\t</div> );\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"lesson-grid-item\" key={`cell-${e.title}-${i}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{lesson}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif ( !this.props.namespace.title ) {\r\n\t\t\treturn <NoCourseBanner user={this.props.user} />;\r\n\t\t}\r\n\t\tlet lessons = this.state.filteredLessons;\r\n\t\tif ( isArray( lessons ) ) {\r\n\t\t\tconst templateButton = <OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"create-from-template-tooltip\">{this.props.t('create-from-template')}</Tooltip>}>\r\n\t\t\t\t<Button aria-label={this.props.t('create-from-template')} className=\"create-from-template-button\" onClick={this.toggleCreator} >\r\n\t\t\t\t\t<i className=\"fas fa-plus\" />\r\n\t\t\t\t</Button>\r\n\t\t\t</OverlayTrigger>;\r\n\t\t\tif ( lessons.length === 0 ) {\r\n\t\t\t\treturn ( <Fragment>\r\n\t\t\t\t\t<NoLessonBanner user={this.props.user} />\r\n\t\t\t\t\t{templateButton}\r\n\t\t\t\t\t{this.state.showLessonCreator ? <LessonCreator\r\n\t\t\t\t\t\tonHide={this.toggleCreator}\r\n\t\t\t\t\t\tonCreate={this.handleCreate}\r\n\t\t\t\t\t\tnamespace={this.props.namespace}\r\n\t\t\t\t\t/> : null}\r\n\t\t\t\t</Fragment> );\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<div className=\"lessons-grid-container\">\r\n\t\t\t\t\t\t<ResponsiveReactGridLayout\r\n\t\t\t\t\t\t\tlayouts={this.state.layouts}\r\n\t\t\t\t\t\t\tbreakpoints={{ lg: 1800, md: 1550, sm: 1200, xs: 900, xxs: 400, tiny: 0 }}\r\n\t\t\t\t\t\t\tcols={{ lg: 24, md: 20, sm: 16, xs: 12, xxs: 8, tiny: 4 }}\r\n\t\t\t\t\t\t\tcontainerPadding={[10, 10]}\r\n\t\t\t\t\t\t\tisResizable={false}\r\n\t\t\t\t\t\t\tisBounded={true}\r\n\t\t\t\t\t\t\tisDraggable={false}\r\n\t\t\t\t\t\t\trowHeight={isOwner( this.props.user, this.props.namespace ) ? 54.5 : 55}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.renderLessons()}\r\n\t\t\t\t\t\t</ResponsiveReactGridLayout>\r\n\t\t\t\t\t\t{templateButton}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.showLessonCreator ? <LessonCreator\r\n\t\t\t\t\t\tonHide={this.toggleCreator}\r\n\t\t\t\t\t\tonCreate={this.handleCreate}\r\n\t\t\t\t\t\tnamespace={this.props.namespace}\r\n\t\t\t\t\t/> : null}\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n// PROPERTIES //\r\n\r\nLessonsPage.propTypes = {\r\n\tactivateLesson: PropTypes.func.isRequired,\r\n\taddNotification: PropTypes.func.isRequired,\r\n\tdeactivateLesson: PropTypes.func.isRequired,\r\n\tdeleteLesson: PropTypes.func.isRequired,\r\n\tgetIsleFile: PropTypes.func.isRequired,\r\n\tgetLessons: PropTypes.func.isRequired,\r\n\tgetTemplateLessons: PropTypes.func.isRequired,\r\n\thideLessonInGallery: PropTypes.func.isRequired,\r\n\tnamespace: PropTypes.object.isRequired,\r\n\tsearch: PropTypes.object.isRequired,\r\n\tsetLessonOrder: PropTypes.func.isRequired,\r\n\tshowLessonInGallery: PropTypes.func.isRequired,\r\n\tupdateLesson: PropTypes.func.isRequired,\r\n\turl: PropTypes.string,\r\n\tuser: PropTypes.object.isRequired\r\n};\r\n\r\nLessonsPage.defaultProps = {\r\n\turl: null\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default withTranslation( [ 'lessons_page', 'common' ] )( LessonsPage );\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport LessonsPage from 'components/lessons-page';\r\nimport { setLessonOrderInjector } from 'actions/namespace';\r\nimport { activateLessonInjector, deactivateLessonInjector, deleteLessonInjector, getIsleFileInjector, getLessonsInjector, getTemplateLessonsInjector,\r\n\tshowLessonInGalleryInjector, hideLessonInGalleryInjector, updateLessonInjector } from 'actions/lesson';\r\nimport { addNotificationInjector } from 'actions/notification';\r\n\r\n\r\n// EXPORTS //\r\n\r\nconst VisibleLessonsPage = connect( mapStateToProps, mapDispatchToProps )( LessonsPage );\r\n\r\nfunction mapStateToProps( state ) {\r\n\treturn {\r\n\t\tsearch: state.search,\r\n\t\tuser: state.user,\r\n\t\tnamespace: state.namespace\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps( dispatch ) {\r\n\treturn {\r\n\t\taddNotification: addNotificationInjector( dispatch ),\r\n\t\tshowLessonInGallery: showLessonInGalleryInjector( dispatch ),\r\n\t\thideLessonInGallery: hideLessonInGalleryInjector( dispatch ),\r\n\t\tactivateLesson: activateLessonInjector( dispatch ),\r\n\t\tdeactivateLesson: deactivateLessonInjector( dispatch ),\r\n\t\tupdateLesson: updateLessonInjector( dispatch ),\r\n\t\tdeleteLesson: deleteLessonInjector( dispatch ),\r\n\t\tgetLessons: getLessonsInjector( dispatch ),\r\n\t\tgetTemplateLessons: getTemplateLessonsInjector( dispatch ),\r\n\t\tgetIsleFile: getIsleFileInjector( dispatch ),\r\n\t\tsetLessonOrder: setLessonOrderInjector( dispatch )\r\n\t};\r\n}\r\n\r\nexport default VisibleLessonsPage;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport floor from '@stdlib/math/base/special/floor';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n* Formats a timestamp in a human readable format.\r\n*\r\n* @param {number} timestamp - timestamp\r\n* @param {Object} [opts] - options\r\n* @param {string} [opts.hours] - hours\r\n* @param {string} [opts.minutes] - minutes\r\n* @param {string} [opts.seconds] - seconds\r\n* @returns {string} formatted timestamp\r\n*/\r\nconst formatTime = ( time, opts = { hours: true, minutes: true, seconds: true }) => {\r\n\ttime = time / 1000;\r\n\tconst hours = floor( time / ( 60*60 ) );\r\n\ttime = time % ( 60*60 );\r\n\tlet minutes = floor( time / 60 );\r\n\tif ( minutes < 10 ) {\r\n\t\tminutes = '0'+minutes;\r\n\t}\r\n\ttime = time % 60;\r\n\tlet seconds = floor( time );\r\n\tif ( seconds < 10 ) {\r\n\t\tseconds = '0'+seconds;\r\n\t}\r\n\tlet out = '';\r\n\tif ( opts.hours ) {\r\n\t\tout += hours;\r\n\t}\r\n\tif ( opts.minutes ) {\r\n\t\tif ( out ) {\r\n\t\t\tout += ':';\r\n\t\t}\r\n\t\tout += minutes;\r\n\t}\r\n\tif ( opts.seconds ) {\r\n\t\tif ( out ) {\r\n\t\t\tout += ':';\r\n\t\t}\r\n\t\tout += seconds;\r\n\t}\r\n\treturn out;\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default formatTime;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport isObject from '@stdlib/assert/is-object';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n* Validates if a user is an owner of the specified namespace.\r\n*\r\n* @param {Object} user - user object\r\n* @param {Object} namespace - namespace object\r\n* @returns {boolean} boolean indicating if the user is an owner of the namespace\r\n*/\r\nfunction isOwner( user, namespace ) {\r\n\tlet bool = false;\r\n\tfor ( let i = 0; i < namespace.owners.length; i++ ) {\r\n\t\tconst owner = namespace.owners[ i ];\r\n\t\tif ( isObject( owner ) ) {\r\n\t\t\tif ( owner.email === user.email ) {\r\n\t\t\t\tbool = true;\r\n\t\t\t}\r\n\t\t} else if ( owner === user.id ) {\r\n\t\t\t// Case: Owners array is not yet populated but contains only string IDs:\r\n\t\t\tbool = true;\r\n\t\t}\r\n\t}\r\n\treturn bool;\r\n}\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default isOwner;\r\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// VARIABLES //\r\n\r\nconst OPTS = {\r\n\tnumeric: true // Use numeric collation such that \"1\" < \"2\" < \"10\"...\r\n};\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n* Sorts lessons according to the `search` object in place.\r\n*\r\n* @param {Array} lessons - a list of lessons\r\n* @param {Object} search - search object\r\n* @param {string} search.type - either `sequentially`, `alphabetically`, `created_at`, or `updated_at`\r\n* @param {string} search.direction - either `ascending` or `descending`\r\n*/\r\nfunction sortLessons( lessons, search ) {\r\n\tconst { type, direction } = search;\r\n\tif ( type === 'sequentially' ) {\r\n\t\tif ( direction === 'ascending' ) {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\treturn a.pos - b.pos;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\treturn b.pos - a.pos;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\telse if ( type === 'alphabetically' ) {\r\n\t\tif ( direction === 'ascending' ) {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\tconst x = a.namespace + a.title;\r\n\t\t\t\tconst y = b.namespace + b.title;\r\n\t\t\t\treturn x.localeCompare( y, void 0, OPTS );\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\tconst x = a.namespace + a.title;\r\n\t\t\t\tconst y = b.namespace + b.title;\r\n\t\t\t\treturn y.localeCompare( x, void 0, OPTS );\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\telse if ( type === 'created_at' ) {\r\n\t\tif ( direction === 'ascending' ) {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\treturn a.createdAt.localeCompare( b.createdAt, void 0, OPTS );\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\treturn b.createdAt.localeCompare( a.createdAt, void 0, OPTS );\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\telse if ( type === 'updated_at' ) {\r\n\t\tif ( direction === 'ascending' ) {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\treturn a.updatedAt.localeCompare( b.updatedAt, void 0, OPTS );\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlessons.sort( ( a, b ) => {\r\n\t\t\t\treturn b.updatedAt.localeCompare( a.updatedAt, void 0, OPTS );\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default sortLessons;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst defaultProps = {\n  role: 'toolbar'\n};\nconst ButtonToolbar = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  ...props\n}, ref) => {\n  const prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'btn-toolbar');\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", { ...props,\n    ref: ref,\n    className: (0, _classnames.default)(className, prefix)\n  });\n});\nButtonToolbar.displayName = 'ButtonToolbar';\nButtonToolbar.defaultProps = defaultProps;\nvar _default = ButtonToolbar;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _makeEventProps = _interopRequireDefault(require(\"make-event-props\"));\n\nvar _mergeClassNames = _interopRequireDefault(require(\"merge-class-names\"));\n\nvar _reactCalendar = _interopRequireDefault(require(\"react-calendar\"));\n\nvar _reactFit = _interopRequireDefault(require(\"react-fit\"));\n\nvar _reactClock = _interopRequireDefault(require(\"react-clock\"));\n\nvar _DateTimeInput = _interopRequireDefault(require(\"./DateTimeInput\"));\n\nvar _propTypes2 = require(\"./shared/propTypes\");\n\nvar _excluded = [\"calendarClassName\", \"className\", \"maxDetail\", \"onChange\", \"value\"],\n    _excluded2 = [\"clockClassName\", \"className\", \"maxDetail\", \"onChange\", \"value\"],\n    _excluded3 = [\"onChange\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar allViews = ['hour', 'minute', 'second'];\nvar baseClassName = 'react-datetime-picker';\nvar outsideActionEvents = ['mousedown', 'focusin', 'touchstart'];\n\nvar DateTimePicker = /*#__PURE__*/function (_PureComponent) {\n  _inherits(DateTimePicker, _PureComponent);\n\n  var _super = _createSuper(DateTimePicker);\n\n  function DateTimePicker() {\n    var _this;\n\n    _classCallCheck(this, DateTimePicker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onOutsideAction\", function (event) {\n      // Try event.composedPath first to handle clicks inside a Shadow DOM.\n      var target = 'composedPath' in event ? event.composedPath()[0] : event.target;\n\n      if (_this.wrapper && !_this.wrapper.contains(target)) {\n        _this.closeWidgets();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDateChange\", function (value, closeWidgets) {\n      var prevValue = _this.props.value;\n\n      if (prevValue) {\n        var valueWithHour = new Date(value);\n        valueWithHour.setHours(prevValue.getHours(), prevValue.getMinutes(), prevValue.getSeconds(), prevValue.getMilliseconds());\n\n        _this.onChange(valueWithHour, closeWidgets);\n      } else {\n        _this.onChange(value, closeWidgets);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (value) {\n      var closeWidgets = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.closeWidgets;\n      var onChange = _this.props.onChange;\n\n      if (closeWidgets) {\n        _this.closeWidgets();\n      }\n\n      if (onChange) {\n        onChange(value);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onFocus = _this$props.onFocus,\n          openWidgetsOnFocus = _this$props.openWidgetsOnFocus;\n\n      if (onFocus) {\n        onFocus(event);\n      } // Internet Explorer still fires onFocus on disabled elements\n\n\n      if (disabled) {\n        return;\n      }\n\n      if (openWidgetsOnFocus) {\n        if (event.target.getAttribute('data-select') === 'true') {\n          return;\n        }\n\n        switch (event.target.name) {\n          case 'day':\n          case 'month':\n          case 'year':\n            _this.openCalendar();\n\n            break;\n\n          case 'hour12':\n          case 'hour24':\n          case 'minute':\n          case 'second':\n            _this.openClock();\n\n            break;\n\n          default:\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      if (event.key === 'Escape') {\n        _this.closeWidgets();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openClock\", function () {\n      _this.setState({\n        isCalendarOpen: false,\n        isClockOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openCalendar\", function () {\n      _this.setState({\n        isCalendarOpen: true,\n        isClockOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleCalendar\", function () {\n      _this.setState(function (prevState) {\n        return {\n          isCalendarOpen: !prevState.isCalendarOpen,\n          isClockOpen: false\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeWidgets\", function () {\n      _this.setState(function (prevState) {\n        if (!prevState.isCalendarOpen && !prevState.isClockOpen) {\n          return null;\n        }\n\n        return {\n          isCalendarOpen: false,\n          isClockOpen: false\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopPropagation\", function (event) {\n      return event.stopPropagation();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clear\", function () {\n      return _this.onChange(null);\n    });\n\n    return _this;\n  }\n\n  _createClass(DateTimePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleOutsideActionListeners();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$state = this.state,\n          isCalendarOpen = _this$state.isCalendarOpen,\n          isClockOpen = _this$state.isClockOpen;\n      var _this$props2 = this.props,\n          onCalendarClose = _this$props2.onCalendarClose,\n          onCalendarOpen = _this$props2.onCalendarOpen,\n          onClockClose = _this$props2.onClockClose,\n          onClockOpen = _this$props2.onClockOpen;\n      var isWidgetOpen = isCalendarOpen || isClockOpen;\n      var prevIsWidgetOpen = prevState.isCalendarOpen || prevState.isClockOpen;\n\n      if (isWidgetOpen !== prevIsWidgetOpen) {\n        this.handleOutsideActionListeners();\n      }\n\n      if (isCalendarOpen !== prevState.isCalendarOpen) {\n        var callback = isCalendarOpen ? onCalendarOpen : onCalendarClose;\n        if (callback) callback();\n      }\n\n      if (isClockOpen !== prevState.isClockOpen) {\n        var _callback = isClockOpen ? onClockOpen : onClockClose;\n\n        if (_callback) _callback();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.handleOutsideActionListeners(false);\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      return (0, _makeEventProps[\"default\"])(this.props);\n    }\n  }, {\n    key: \"handleOutsideActionListeners\",\n    value: function handleOutsideActionListeners(shouldListen) {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          isCalendarOpen = _this$state2.isCalendarOpen,\n          isClockOpen = _this$state2.isClockOpen;\n      var isWidgetOpen = isCalendarOpen || isClockOpen;\n      var shouldListenWithFallback = typeof shouldListen !== 'undefined' ? shouldListen : isWidgetOpen;\n      var fnName = shouldListenWithFallback ? 'addEventListener' : 'removeEventListener';\n      outsideActionEvents.forEach(function (eventName) {\n        return document[fnName](eventName, _this2.onOutsideAction);\n      });\n      document[fnName]('keydown', this.onKeyDown);\n    }\n  }, {\n    key: \"renderInputs\",\n    value: function renderInputs() {\n      var _this$props3 = this.props,\n          amPmAriaLabel = _this$props3.amPmAriaLabel,\n          autoFocus = _this$props3.autoFocus,\n          calendarAriaLabel = _this$props3.calendarAriaLabel,\n          calendarIcon = _this$props3.calendarIcon,\n          clearAriaLabel = _this$props3.clearAriaLabel,\n          clearIcon = _this$props3.clearIcon,\n          dayAriaLabel = _this$props3.dayAriaLabel,\n          dayPlaceholder = _this$props3.dayPlaceholder,\n          disableCalendar = _this$props3.disableCalendar,\n          disabled = _this$props3.disabled,\n          format = _this$props3.format,\n          hourAriaLabel = _this$props3.hourAriaLabel,\n          hourPlaceholder = _this$props3.hourPlaceholder,\n          locale = _this$props3.locale,\n          maxDate = _this$props3.maxDate,\n          maxDetail = _this$props3.maxDetail,\n          minDate = _this$props3.minDate,\n          minuteAriaLabel = _this$props3.minuteAriaLabel,\n          minutePlaceholder = _this$props3.minutePlaceholder,\n          monthAriaLabel = _this$props3.monthAriaLabel,\n          monthPlaceholder = _this$props3.monthPlaceholder,\n          name = _this$props3.name,\n          nativeInputAriaLabel = _this$props3.nativeInputAriaLabel,\n          required = _this$props3.required,\n          secondAriaLabel = _this$props3.secondAriaLabel,\n          secondPlaceholder = _this$props3.secondPlaceholder,\n          showLeadingZeros = _this$props3.showLeadingZeros,\n          value = _this$props3.value,\n          yearAriaLabel = _this$props3.yearAriaLabel,\n          yearPlaceholder = _this$props3.yearPlaceholder;\n      var _this$state3 = this.state,\n          isCalendarOpen = _this$state3.isCalendarOpen,\n          isClockOpen = _this$state3.isClockOpen;\n\n      var _concat = [].concat(value),\n          _concat2 = _slicedToArray(_concat, 1),\n          valueFrom = _concat2[0];\n\n      var ariaLabelProps = {\n        amPmAriaLabel: amPmAriaLabel,\n        dayAriaLabel: dayAriaLabel,\n        hourAriaLabel: hourAriaLabel,\n        minuteAriaLabel: minuteAriaLabel,\n        monthAriaLabel: monthAriaLabel,\n        nativeInputAriaLabel: nativeInputAriaLabel,\n        secondAriaLabel: secondAriaLabel,\n        yearAriaLabel: yearAriaLabel\n      };\n      var placeholderProps = {\n        dayPlaceholder: dayPlaceholder,\n        hourPlaceholder: hourPlaceholder,\n        minutePlaceholder: minutePlaceholder,\n        monthPlaceholder: monthPlaceholder,\n        secondPlaceholder: secondPlaceholder,\n        yearPlaceholder: yearPlaceholder\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"__wrapper\")\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DateTimeInput[\"default\"], _extends({}, ariaLabelProps, placeholderProps, {\n        // eslint-disable-next-line jsx-a11y/no-autofocus\n        autoFocus: autoFocus,\n        className: \"\".concat(baseClassName, \"__inputGroup\"),\n        disabled: disabled,\n        format: format,\n        isWidgetOpen: isCalendarOpen || isClockOpen,\n        locale: locale,\n        maxDate: maxDate,\n        maxDetail: maxDetail,\n        minDate: minDate,\n        name: name,\n        onChange: this.onChange,\n        placeholder: this.placeholder,\n        required: required,\n        showLeadingZeros: showLeadingZeros,\n        value: valueFrom\n      })), clearIcon !== null && /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n        \"aria-label\": clearAriaLabel,\n        className: \"\".concat(baseClassName, \"__clear-button \").concat(baseClassName, \"__button\"),\n        disabled: disabled,\n        onClick: this.clear,\n        onFocus: this.stopPropagation,\n        type: \"button\"\n      }, clearIcon), calendarIcon !== null && !disableCalendar && /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n        \"aria-label\": calendarAriaLabel,\n        className: \"\".concat(baseClassName, \"__calendar-button \").concat(baseClassName, \"__button\"),\n        disabled: disabled,\n        onBlur: this.resetValue,\n        onClick: this.toggleCalendar,\n        onFocus: this.stopPropagation,\n        type: \"button\"\n      }, calendarIcon));\n    }\n  }, {\n    key: \"renderCalendar\",\n    value: function renderCalendar() {\n      var disableCalendar = this.props.disableCalendar;\n      var isCalendarOpen = this.state.isCalendarOpen;\n\n      if (isCalendarOpen === null || disableCalendar) {\n        return null;\n      }\n\n      var _this$props4 = this.props,\n          calendarClassName = _this$props4.calendarClassName,\n          dateTimePickerClassName = _this$props4.className,\n          dateTimePickerMaxDetail = _this$props4.maxDetail,\n          onChange = _this$props4.onChange,\n          value = _this$props4.value,\n          calendarProps = _objectWithoutProperties(_this$props4, _excluded);\n\n      var className = \"\".concat(baseClassName, \"__calendar\");\n      return /*#__PURE__*/_react[\"default\"].createElement(_reactFit[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: function ref(_ref) {\n          if (_ref && !isCalendarOpen) {\n            _ref.removeAttribute('style');\n          }\n        },\n        className: (0, _mergeClassNames[\"default\"])(className, \"\".concat(className, \"--\").concat(isCalendarOpen ? 'open' : 'closed'))\n      }, /*#__PURE__*/_react[\"default\"].createElement(_reactCalendar[\"default\"], _extends({\n        className: calendarClassName,\n        onChange: this.onDateChange,\n        value: value || null\n      }, calendarProps))));\n    }\n  }, {\n    key: \"renderClock\",\n    value: function renderClock() {\n      var disableClock = this.props.disableClock;\n      var isClockOpen = this.state.isClockOpen;\n\n      if (isClockOpen === null || disableClock) {\n        return null;\n      }\n\n      var _this$props5 = this.props,\n          clockClassName = _this$props5.clockClassName,\n          dateTimePickerClassName = _this$props5.className,\n          maxDetail = _this$props5.maxDetail,\n          onChange = _this$props5.onChange,\n          value = _this$props5.value,\n          clockProps = _objectWithoutProperties(_this$props5, _excluded2);\n\n      var className = \"\".concat(baseClassName, \"__clock\");\n\n      var _concat3 = [].concat(value),\n          _concat4 = _slicedToArray(_concat3, 1),\n          valueFrom = _concat4[0];\n\n      var maxDetailIndex = allViews.indexOf(maxDetail);\n      return /*#__PURE__*/_react[\"default\"].createElement(_reactFit[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: function ref(_ref2) {\n          if (_ref2 && !isClockOpen) {\n            _ref2.removeAttribute('style');\n          }\n        },\n        className: (0, _mergeClassNames[\"default\"])(className, \"\".concat(className, \"--\").concat(isClockOpen ? 'open' : 'closed'))\n      }, /*#__PURE__*/_react[\"default\"].createElement(_reactClock[\"default\"], _extends({\n        className: clockClassName,\n        renderMinuteHand: maxDetailIndex > 0,\n        renderSecondHand: maxDetailIndex > 1,\n        value: valueFrom\n      }, clockProps))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var eventProps = this.eventProps;\n      var _this$props6 = this.props,\n          className = _this$props6.className,\n          disabled = _this$props6.disabled;\n      var isOpen = this.state.isOpen;\n\n      var onChange = eventProps.onChange,\n          eventPropsWithoutOnChange = _objectWithoutProperties(eventProps, _excluded3);\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        className: (0, _mergeClassNames[\"default\"])(baseClassName, \"\".concat(baseClassName, \"--\").concat(isOpen ? 'open' : 'closed'), \"\".concat(baseClassName, \"--\").concat(disabled ? 'disabled' : 'enabled'), className)\n      }, eventPropsWithoutOnChange, {\n        onFocus: this.onFocus,\n        ref: function ref(_ref3) {\n          if (!_ref3) {\n            return;\n          }\n\n          _this3.wrapper = _ref3;\n        }\n      }), this.renderInputs(), this.renderCalendar(), this.renderClock());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var nextState = {};\n\n      if (nextProps.isCalendarOpen !== prevState.isCalendarOpenProps) {\n        nextState.isCalendarOpen = nextProps.isCalendarOpen;\n        nextState.isCalendarOpenProps = nextProps.isCalendarOpen;\n      }\n\n      if (nextProps.isClockOpen !== prevState.isClockOpenProps) {\n        nextState.isClockOpen = nextProps.isClockOpen;\n        nextState.isClockOpenProps = nextProps.isClockOpen;\n      }\n\n      return nextState;\n    }\n  }]);\n\n  return DateTimePicker;\n}(_react.PureComponent);\n\nexports[\"default\"] = DateTimePicker;\nvar iconProps = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 19,\n  height: 19,\n  viewBox: '0 0 19 19',\n  stroke: 'black',\n  strokeWidth: 2\n};\n\nvar CalendarIcon = /*#__PURE__*/_react[\"default\"].createElement(\"svg\", _extends({}, iconProps, {\n  className: \"\".concat(baseClassName, \"__calendar-button__icon \").concat(baseClassName, \"__button__icon\")\n}), /*#__PURE__*/_react[\"default\"].createElement(\"rect\", {\n  fill: \"none\",\n  height: \"15\",\n  width: \"15\",\n  x: \"2\",\n  y: \"2\"\n}), /*#__PURE__*/_react[\"default\"].createElement(\"line\", {\n  x1: \"6\",\n  x2: \"6\",\n  y1: \"0\",\n  y2: \"4\"\n}), /*#__PURE__*/_react[\"default\"].createElement(\"line\", {\n  x1: \"13\",\n  x2: \"13\",\n  y1: \"0\",\n  y2: \"4\"\n}));\n\nvar ClearIcon = /*#__PURE__*/_react[\"default\"].createElement(\"svg\", _extends({}, iconProps, {\n  className: \"\".concat(baseClassName, \"__clear-button__icon \").concat(baseClassName, \"__button__icon\")\n}), /*#__PURE__*/_react[\"default\"].createElement(\"line\", {\n  x1: \"4\",\n  x2: \"15\",\n  y1: \"4\",\n  y2: \"15\"\n}), /*#__PURE__*/_react[\"default\"].createElement(\"line\", {\n  x1: \"15\",\n  x2: \"4\",\n  y1: \"4\",\n  y2: \"15\"\n}));\n\nDateTimePicker.defaultProps = {\n  calendarIcon: CalendarIcon,\n  clearIcon: ClearIcon,\n  closeWidgets: true,\n  isCalendarOpen: null,\n  isClockOpen: null,\n  maxDetail: 'minute',\n  openWidgetsOnFocus: true\n};\n\nvar isValue = _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].instanceOf(Date)]);\n\nDateTimePicker.propTypes = {\n  amPmAriaLabel: _propTypes[\"default\"].string,\n  autoFocus: _propTypes[\"default\"].bool,\n  calendarAriaLabel: _propTypes[\"default\"].string,\n  calendarClassName: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string)]),\n  calendarIcon: _propTypes[\"default\"].node,\n  className: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string)]),\n  clearAriaLabel: _propTypes[\"default\"].string,\n  clearIcon: _propTypes[\"default\"].node,\n  clockClassName: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string)]),\n  closeWidgets: _propTypes[\"default\"].bool,\n  dayAriaLabel: _propTypes[\"default\"].string,\n  dayPlaceholder: _propTypes[\"default\"].string,\n  disableCalendar: _propTypes[\"default\"].bool,\n  disableClock: _propTypes[\"default\"].bool,\n  disabled: _propTypes[\"default\"].bool,\n  format: _propTypes[\"default\"].string,\n  hourAriaLabel: _propTypes[\"default\"].string,\n  hourPlaceholder: _propTypes[\"default\"].string,\n  isCalendarOpen: _propTypes[\"default\"].bool,\n  isClockOpen: _propTypes[\"default\"].bool,\n  locale: _propTypes[\"default\"].string,\n  maxDate: _propTypes2.isMaxDate,\n  maxDetail: _propTypes[\"default\"].oneOf(allViews),\n  minDate: _propTypes2.isMinDate,\n  minuteAriaLabel: _propTypes[\"default\"].string,\n  minutePlaceholder: _propTypes[\"default\"].string,\n  monthAriaLabel: _propTypes[\"default\"].string,\n  monthPlaceholder: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string,\n  nativeInputAriaLabel: _propTypes[\"default\"].string,\n  onCalendarClose: _propTypes[\"default\"].func,\n  onCalendarOpen: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func,\n  onClockClose: _propTypes[\"default\"].func,\n  onClockOpen: _propTypes[\"default\"].func,\n  onFocus: _propTypes[\"default\"].func,\n  openWidgetsOnFocus: _propTypes[\"default\"].bool,\n  required: _propTypes[\"default\"].bool,\n  secondAriaLabel: _propTypes[\"default\"].string,\n  secondPlaceholder: _propTypes[\"default\"].string,\n  showLeadingZeros: _propTypes[\"default\"].bool,\n  value: _propTypes[\"default\"].oneOfType([isValue, _propTypes[\"default\"].arrayOf(isValue)]),\n  yearAriaLabel: _propTypes[\"default\"].string,\n  yearPlaceholder: _propTypes[\"default\"].string\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"react-calendar/dist/Calendar.css\");\n\nrequire(\"react-clock/dist/Clock.css\");\n\nvar _DateTimePicker = _interopRequireDefault(require(\"./DateTimePicker\"));\n\nrequire(\"./DateTimePicker.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// File is created during build phase and placed in dist directory\n// eslint-disable-next-line import/no-unresolved\nvar _default = _DateTimePicker[\"default\"];\nexports[\"default\"] = _default;"],"sourceRoot":""}