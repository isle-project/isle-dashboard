/*! For license information please see 2472.7d332cda.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2472],{3883:function(e,t,a){a.r(t);var n=a(87757),r=a.n(n),o=a(15861),l=a(15671),s=a(43144),i=a(97326),c=a(60136),d=a(29388),u=a(4942),m=a(41488),p=a(25472),f=a(51527),h=a.n(f),v=a(70048),g=a(93391),Z=a(47701),D=a(14444),x=a.n(D),C=a(42263),y=a(47355),E=a(98032),b=a(52428),k=a(96027),w=a(86037),T=a(25991),N=a(37122),S=function(e){(0,c.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"createColumns",(function(){for(var e=n.props.t,t=0,a=n.props.admin.cohorts,r=x(),o=0,l=0;l<a.length;l++){var s=a[l].members.length;s&&s>t&&(t=s),a[l].startDate>o&&(o=a[l].startDate),a[l].endDate>o&&(o=a[l].endDate),a[l].startDate<r&&(r=a[l].startDate),a[l].endDate<r&&(r=a[l].endDate)}return o=h()(o),r=h()(r),[(0,N.Z)({Header:e("common:title"),id:"title",accessor:"title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,N.Z)({Header:e("common:course"),id:"namespace",accessor:"namespace.title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,N.Z)({Header:e("namespace:email-filter"),id:"emailFilter",accessor:"emailFilter",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,k.Z)({Header:e("enrollment"),accessor:"private",trueLabel:e("open-enrollment"),falseLabel:e("manual-enrollment"),printLabels:!0}),(0,T.Z)({Header:e("start-date"),accessor:"startDate",startDate:r,endDate:o,t:e}),(0,T.Z)({Header:e("end-date"),accessor:"endDate",startDate:r,endDate:o,t:e}),(0,w.Z)({Header:e("common:number-of-students"),accessor:"members.length",style:{marginTop:"2px",color:"darkslategrey"},maxWidth:150,minValue:0,maxValue:t}),{Header:e("common:actions"),Cell:function(t){return m.createElement("div",null,m.createElement(g.Z,{placement:"bottom",overlay:m.createElement(Z.Z,{id:"delete_cohort"},e("namespace:delete-cohort"))},m.createElement(v.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:n.askToDeleteSelectedCohortFactory(t.row._original),"aria-label":e("namespace:delete-cohort")},m.createElement("div",{className:"fa fa-trash-alt"}))))},resizable:!1,filterable:!1,sortable:!1}]})),(0,u.Z)((0,i.Z)(n),"askToDeleteSelectedCohortFactory",(function(e){return function(){n.setState({showDeleteModal:!n.state.showDeleteModal,selectedCohort:e})}})),(0,u.Z)((0,i.Z)(n),"deleteSelectedCohort",(function(){n.setState({showDeleteModal:!1},(0,o.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.deleteCohort(n.state.selectedCohort._id);case 2:n.props.getAllCohorts();case 3:case"end":return e.stop()}}),e)}))))})),(0,u.Z)((0,i.Z)(n),"toggleDeleteModal",(function(){n.setState({showDeleteModal:!n.state.showDeleteModal})})),(0,u.Z)((0,i.Z)(n),"toggleExplorer",(function(){n.setState({showExplorer:!n.state.showExplorer})})),n.state={selectedCohort:null,showDeleteModal:!1,columns:n.createColumns()},n}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.props.getAllCohorts()}},{key:"componentDidUpdate",value:function(e){e.admin.cohorts!==this.props.admin.cohorts&&this.setState({columns:this.createColumns()})}},{key:"render",value:function(){var e=this.props.t;if(this.state.showExplorer){for(var t=this.props.admin.cohorts,a=[],n=0;n<t.length;n++){var r=t[n],o={};o.title=r.title,o.members=r.members.length,o.namespace=r.namespace?r.namespace.title:null,o.private=r.private,o.emailFilter=r.emailFilter?r.emailFilter:null,o.startDate=r.startDate,o.endDate=r.endDate,a.push(o)}return a=(0,E.Z)(a),m.createElement(b.Z,{title:e("explorer-cohorts-title"),data:a,categorical:["title","namespace","private","startDate","endDate","emailFilter"],quantitative:["members"],close:this.toggleExplorer})}return m.createElement(m.Fragment,null,m.createElement(y.Z,{data:this.props.admin.cohorts,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:this.props.t}),this.state.showDeleteModal?m.createElement(C.Z,{title:e("namespace:delete-cohort"),message:m.createElement("span",null,e("namespace:delete-cohort-confirm"),m.createElement("span",{style:{color:"red"}},this.state.selectedCohort.title)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedCohort}):null)}}]),a}(m.Component);t.default=(0,p.Z)(["admin","namespace","common"])(S)},42263:function(e,t,a){var n=a(41488),r=a(25472),o=a(70048),l=a(3252),s=function(e){return n.createElement(l.Z,{show:e.show,onHide:e.close},n.createElement(l.Z.Header,null,n.createElement(l.Z.Title,{as:"h3"},e.title)),n.createElement(l.Z.Body,null,e.message),n.createElement(l.Z.Footer,null,n.createElement(o.Z,{onClick:e.close},e.t("cancel")),n.createElement(o.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};s.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,r.Z)(["common"])(s)},47355:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(87462),r=a(15671),o=a(43144),l=a(97326),s=a(60136),i=a(29388),c=a(4942),d=a(41488),u=a(75742),m=a(70048),p=a(87095),f=a(93391),h=a(47701),v=(a(36561),function(e){(0,s.Z)(a,e);var t=(0,i.Z)(a);function a(){var e;(0,r.Z)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,l.Z)(e),"getProps",(function(){return{id:e.props.id||"dashboard-table"}})),e}return(0,o.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.t;return d.createElement(d.Fragment,null,d.createElement(u.Z,(0,n.Z)({},this.props,{filterable:!0,className:"dashboard-table ".concat(this.props.className),data:this.props.data,columns:this.props.columns,previousText:t("common:previous"),nextText:t("common:next"),loadingText:t("common:loading"),noDataText:t("common:no-rows-found"),pageText:t("common:page"),ofText:t("common:of"),rowsText:t("common:rows"),ref:function(t){e.table=t},getProps:this.getProps})),this.props.onButtonClick?d.createElement(p.Z,{vertical:!0,style:{float:"right",marginRight:-9}},d.createElement(f.Z,{placement:"left",overlay:d.createElement(h.Z,{id:"explorer-tooltip"},t("common:data-explorer"))},d.createElement(m.Z,{"aria-label":t("common:data-explorer"),variant:"primary",style:{marginBottom:8},onClick:this.props.onButtonClick},d.createElement("i",{className:"fas fa-chart-bar"})))):null)}}]),a}(d.Component));v.defaultProps={className:"",t:function(){}};var g=v},52428:function(e,t,a){var n=(0,a(31835).Z)((function(){return Promise.all([a.e(7704),a.e(5999)]).then(a.bind(a,45369))}));t.Z=n},96027:function(e,t,a){var n=a(41488);t.Z=function(e){var t,a,r=e.Header,o=e.accessor,l=e.trueLabel,s=e.falseLabel,i=e.printLabels,c=void 0!==i&&i,d=e.maxWidth;return c?(t=function(e){return!0===e.value?l:!1===e.value?s:null},a={marginTop:"8px",color:"darkslategrey"}):(t=function(e){return e.value?n.createElement("i",{className:"far fa-check-square"}):null},a={marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center"}),{Header:r,accessor:o,style:a,Cell:t,filterMethod:function(e,t){if("all"===e.value)return!0;var a=e.pivotId||e.id;return void 0===t[a]||String(t[a])===e.value},Filter:function(e){var t,a=e.filter,r=e.onChange,o=function(e){var t=e.target.value;r(t)};return t=a?a.value:"all",n.createElement("select",{onBlur:o,onChange:o,style:{width:"100%",backgroundColor:"ghostwhite"},value:t},n.createElement("option",{value:"all"},"Show All"),n.createElement("option",{value:!0},l),n.createElement("option",{value:!1},s))},maxWidth:void 0===d?150:d}}},25991:function(e,t,a){var n=a(15671),r=a(43144),o=a(97326),l=a(60136),s=a(29388),i=a(4942),c=a(41488),d=a(34513),u=a(93391),m=a(9050),p=a(70048),f=(a(92545),function(e){(0,l.Z)(a,e);var t=(0,s.Z)(a);function a(e){var r;return(0,n.Z)(this,a),r=t.call(this,e),(0,i.Z)((0,o.Z)(r),"handleDatesChange",(function(e){var t=e.startDate,a=e.endDate;r.setState({startDate:t,endDate:a},(function(){r.props.onDatesChange(r.state)}))})),(0,i.Z)((0,o.Z)(r),"handleReset",(function(){r.setState({startDate:r.props.minDate,endDate:r.props.maxDate},(function(){r.props.onDatesChange(r.state)}))})),r.state={startDate:e.startDate,endDate:e.endDate},r}return(0,r.Z)(a,[{key:"componentDidUpdate",value:function(e){this.props.startDate===e.startDate&&this.props.endDate===e.endDate||this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}},{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(d.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,startDateId:"start_date_input",endDateId:"end_date_input",onDatesChange:this.handleDatesChange,focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},isOutsideRange:function(){return!1}}),c.createElement(p.Z,{"aria-label":this.props.t("common:close"),variant:"warning",onClick:this.handleReset,style:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,fontSize:20}},"x"))}}]),a}(c.Component)),h=function(e){return new Date(e.value).toLocaleString()};t.Z=function(e){var t=e.Header,a=e.accessor,n=e.Cell,r=e.style,o=e.startDate,l=e.endDate,s=e.t,i=e.maxWidth;return{Header:t,accessor:a,style:r,Cell:n||h,filterMethod:function(e,t){if(!e.value)return!0;var a=e.value,n=a.startDate,r=a.endDate,o=t[e.pivotId||e.id].getTime();return n&&r?o>=n.valueOf()&&o<=r.valueOf():n?o>=n.valueOf():!r||o<=r.valueOf()},Filter:function(e){var t=e.filter,a=e.onChange,n=t&&t.value||{},r=c.createElement(m.Z,{id:"popover-data",style:{maxWidth:400}},c.createElement(m.Z.Title,{as:"h3"},s("common:dates")),c.createElement(m.Z.Content,{style:{backgroundColor:"grey"}},c.createElement(f,{startDate:n.startDate||o,minDate:o,maxDate:l,endDate:n.endDate||l,onDatesChange:function(e){var t=e.startDate,n=e.endDate;a({startDate:t,endDate:n})},t:s})));return c.createElement(u.Z,{trigger:"click",placement:"right",overlay:r},c.createElement(p.Z,{"aria-label":s("common:toggle-calendar"),size:"sm",style:{float:"left",marginLeft:6},variant:"secondary"},c.createElement("i",{className:"far fa-calendar-alt"})))},maxWidth:void 0===i?150:i}}},86037:function(e,t,a){var n=a(41488),r=a(4846),o=a.n(r),l=a(50288),s=a.n(l),i=a(12699),c=a.n(i),d=a(72488),u=a.n(d),m=(a(87815),function(e,t){var a=t[e.pivotId||e.id];return a>=e.value.min&&a<=e.value.max}),p=function(e){return u()(e,-2)};t.Z=function(e){var t=e.Header,a=e.accessor,r=e.Cell,l=e.minValue,i=void 0===l?0:l,d=e.maxValue,f=void 0===d?1:d,h=e.maxWidth,v=void 0===h?150:h,g=e.filterMethod,Z=e.formatLabel,D="header-".concat(c()(s()(t," ","-")));return{Header:n.createElement("span",{id:D},t),accessor:a,Cell:r||function(e){return e.value?"".concat(u()(e.value,-3)):"NA"},filterMethod:g||m,Filter:function(e){var t=e.filter,a=e.onChange;i===f&&(f=i+=1);var r={max:f,min:i};return n.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},n.createElement(o(),{ariaLabelledby:D,ariaControls:"dashboard-table",allowSameValues:!0,maxValue:f,minValue:i,step:.1,value:t?t.value:r,onChange:function(e){a(e)},formatLabel:Z||p}))},maxWidth:v}}},37122:function(e,t,a){var n=a(41488),r=a(75018),o=a(76594);t.Z=function(e){var t=e.id,a=e.Header,l=e.Cell,s=e.accessor,i=e.maxWidth,c=void 0===i?150:i,d=e.minWidth,u=e.filterMethod;d>c&&(c=d);var m={id:t,Header:a,accessor:s,Cell:l,filterMethod:u||o.Z,Filter:function(e){e.filter;var t=e.onChange;return n.createElement(r.Z,{"aria-label":a,autoComplete:"none",onChange:function(e){t(e.target.value)}})}};return c&&(m.maxWidth=c),d&&(m.minWidth=d),m}},76594:function(e,t,a){var n=a(33837),r=a.n(n),o=a(12699),l=a.n(o);t.Z=function(e,t){var a=t[e.id]||"";return r()(l()(a),l()(e.value))}},63989:function(e){e.exports=9007199254740991},19758:function(e,t,a){var n=a(43022);e.exports=n},43022:function(e,t,a){var n=a(14444),r=a(27394);e.exports=function(e){return e===n||e===r}},28135:function(e,t,a){var n=a(16943);e.exports=n},16943:function(e){e.exports=function(e){return Math.abs(e)}},61422:function(e,t,a){var n=a(87462),r=a(63366),o=a(78265),l=a.n(o),s=a(41488),i=a(83603),c=a.n(i),d=["as","className","type","tooltip"],u={type:c().string,tooltip:c().bool,as:c().elementType},m=s.forwardRef((function(e,t){var a=e.as,o=void 0===a?"div":a,i=e.className,c=e.type,u=void 0===c?"valid":c,m=e.tooltip,p=void 0!==m&&m,f=(0,r.Z)(e,d);return s.createElement(o,(0,n.Z)({},f,{ref:t,className:l()(i,u+"-"+(p?"tooltip":"feedback"))}))}));m.displayName="Feedback",m.propTypes=u,t.Z=m},67064:function(e,t,a){var n=a(41488).createContext({controlId:void 0});t.Z=n},75018:function(e,t,a){var n=a(87462),r=a(63366),o=a(78265),l=a.n(o),s=(a(84910),a(41488)),i=(a(47815),a(61422)),c=a(67064),d=a(38674),u=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],m=s.forwardRef((function(e,t){var a,o,i=e.bsPrefix,m=e.bsCustomPrefix,p=e.type,f=e.size,h=e.htmlSize,v=e.id,g=e.className,Z=e.isValid,D=void 0!==Z&&Z,x=e.isInvalid,C=void 0!==x&&x,y=e.plaintext,E=e.readOnly,b=e.custom,k=e.as,w=void 0===k?"input":k,T=(0,r.Z)(e,u),N=(0,s.useContext)(c.Z).controlId,S=b?[m,"custom"]:[i,"form-control"],F=S[0],H=S[1];if(i=(0,d.vE)(F,H),y)(o={})[i+"-plaintext"]=!0,a=o;else if("file"===p){var M;(M={})[i+"-file"]=!0,a=M}else if("range"===p){var P;(P={})[i+"-range"]=!0,a=P}else if("select"===w&&b){var W;(W={})[i+"-select"]=!0,W[i+"-select-"+f]=f,a=W}else{var L;(L={})[i]=!0,L[i+"-"+f]=f,a=L}return s.createElement(w,(0,n.Z)({},T,{type:p,size:h,ref:t,readOnly:E,id:v||N,className:l()(g,a,D&&"is-valid",C&&"is-invalid")}))}));m.displayName="FormControl",t.Z=Object.assign(m,{Feedback:i.Z})},25237:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(87462),r=a(63366),o=a(78265),l=a.n(o),s=a(96358),i=a(41488),c=a(38674),d=["className","bsPrefix","as"];function u(e,t){var a,o=void 0===t?{}:t,u=o.displayName,m=void 0===u?(a=e)[0].toUpperCase()+(0,s.Z)(a).slice(1):u,p=o.Component,f=o.defaultProps,h=i.forwardRef((function(t,a){var o=t.className,s=t.bsPrefix,u=t.as,m=void 0===u?p||"div":u,f=(0,r.Z)(t,d),h=(0,c.vE)(s,e);return i.createElement(m,(0,n.Z)({ref:a,className:l()(o,h)},f))}));return h.defaultProps=f,h.displayName=m,h}},87815:function(){}}]);
//# sourceMappingURL=2472.7d332cda.chunk.js.map