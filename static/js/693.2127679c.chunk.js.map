{"version":3,"sources":["components/admin-settings/text_area.js","ev/components/admin-settings/saml/main.js","ev/components/barrier/index.js","ev/containers/visible-barrier/index.js"],"names":[],"mappings":"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","file":"static/js/693.2127679c.chunk.js","sourcesContent":["/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { Fragment, useCallback, useState } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n\r\n// MAIN //\r\n\r\nconst TextArea = ({ name, defaultValue, rows = 10, updateSettings, t }) => {\r\n\tconst [ value, setValue ] = useState( defaultValue );\r\n\tconst handleChange = useCallback( ( event ) => {\r\n\t\tconst target = event.target;\r\n\t\tsetValue( target.value );\r\n\t}, [] );\r\n\tconst handleReset = useCallback( () => {\r\n\t\tsetValue( defaultValue );\r\n\t}, [ defaultValue ] );\r\n\tconst handleConfirm = useCallback( () => {\r\n\t\tupdateSettings( name, value );\r\n\t}, [ updateSettings, name, value ] );\r\n\treturn (\r\n\t\t<Form.Group style={{ marginBottom: 0 }} >\r\n\t\t\t<Form.Control type=\"text\" as=\"textarea\" rows={rows} value={value} style={{ width: 'calc(100% - 78px)', float: 'left' }} onChange={handleChange} />\r\n\t\t\t{ value !== defaultValue ?\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\taria-label={t('common:confirm')}\r\n\t\t\t\t\t\tonClick={handleConfirm}\r\n\t\t\t\t\t\tvariant=\"success\" size=\"sm\" style={{ marginRight: 6, marginLeft: 8 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-check\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\taria-label={t('common:reset')}\r\n\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\tvariant=\"warning\" size=\"sm\" style={{ width: 32 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Fragment> : null\r\n\t\t\t}\r\n\t\t</Form.Group>\r\n\t);\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default TextArea;\r\n","// MODULES //\r\n\r\nimport React, { Fragment } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\nimport FormGroup from 'react-bootstrap/FormGroup';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport LicenseBarrier from 'ev/containers/visible-barrier';\r\nimport SelectInputField from 'components/admin-settings/select_input_field.js';\r\nimport TextSelectField from 'components/admin-settings/text_select_field.js';\r\nimport TextArea from 'components/admin-settings/text_area.js';\r\nimport CheckboxInputField from 'components/admin-settings/checkbox_input_field.js';\r\n\r\n\r\n// MAIN //\r\n\r\nconst AdminSettingsSaml = ({ admin, updateSettings }) => {\r\n\tconst { t } = useTranslation( 'admin_settings' );\r\n\tconst settings = admin.settings;\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<LicenseBarrier>\r\n\t\t\t\t<Container style={{ float: 'left' }} className=\"d-grid gap-3\" >\r\n\t\t\t\t\t<FormGroup as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={3} >\r\n\t\t\t\t\t\t\t{t('status')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={4} >\r\n\t\t\t\t\t\t\t<SelectInputField\r\n\t\t\t\t\t\t\t\tname=\"saml\"\r\n\t\t\t\t\t\t\t\tdefaultValue={settings.saml || 'disabled'}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"enabled\">{t('enabled')}</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"disabled\">{t('disabled')}</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"passive\">{t('passive')}</option>\r\n\t\t\t\t\t\t\t</SelectInputField>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<Form.Text muted >\r\n\t\t\t\t\t\t\t\t{t('saml-status-description')}\r\n\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={3} >\r\n\t\t\t\t\t\t\t{t('saml-email-domains')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={4} >\r\n\t\t\t\t\t\t\t<TextSelectField\r\n\t\t\t\t\t\t\t\tname=\"samlEmailDomains\"\r\n\t\t\t\t\t\t\t\tkey={admin.settings.samlEmailDomains}\r\n\t\t\t\t\t\t\t\tplaceholder={t('saml-email-domains-placeholder')}\r\n\t\t\t\t\t\t\t\tdefaultValue={admin.settings.samlEmailDomains}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<Form.Text muted >\r\n\t\t\t\t\t\t\t\t{t('saml-email-domains-description')}\r\n\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<Form.Group as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={4} >\r\n\t\t\t\t\t\t\t{t('saml-show-choices')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={8} >\r\n\t\t\t\t\t\t\t<CheckboxInputField\r\n\t\t\t\t\t\t\t\tname=\"samlShowLoginChoices\"\r\n\t\t\t\t\t\t\t\tlabel={t('saml-show-choices-description')}\r\n\t\t\t\t\t\t\t\tdefaultValue={admin.settings.samlShowLoginChoices}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={2} >\r\n\t\t\t\t\t\t\t{t('saml-choice-header')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\t\t\tname=\"samlChoiceHeader\"\r\n\t\t\t\t\t\t\t\tkey={admin.settings.samlChoiceHeader}\r\n\t\t\t\t\t\t\t\tdefaultValue={admin.settings.samlChoiceHeader}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<Form.Text muted >\r\n\t\t\t\t\t\t\t\t{t('saml-choice-header-description')}\r\n\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={2} >\r\n\t\t\t\t\t\t\t{t('saml-choice-extra-styles')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\t\t\tname=\"samlExtraStyles\"\r\n\t\t\t\t\t\t\t\tkey={admin.settings.samlExtraStyles}\r\n\t\t\t\t\t\t\t\tdefaultValue={admin.settings.samlExtraStyles}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<Form.Text muted >\r\n\t\t\t\t\t\t\t\t{t('saml-choice-extra-styles-description')}\r\n\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={4} >\r\n\t\t\t\t\t\t\t{t('saml-authentication-barrier')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={8} >\r\n\t\t\t\t\t\t\t<CheckboxInputField\r\n\t\t\t\t\t\t\t\tname=\"samlDisableAuthenticationBarrier\"\r\n\t\t\t\t\t\t\t\tlabel={t('saml-authentication-barrier-description')}\r\n\t\t\t\t\t\t\t\tdefaultValue={admin.settings.samlDisableAuthenticationBarrier}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<FormGroup as={Row} >\r\n\t\t\t\t\t\t<Form.Label column sm={3} >\r\n\t\t\t\t\t\t\t{t('saml-exempt-patterns')}\r\n\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t<Col sm={4} >\r\n\t\t\t\t\t\t\t<TextSelectField\r\n\t\t\t\t\t\t\t\tname=\"samlExemptPatterns\"\r\n\t\t\t\t\t\t\t\tkey={admin.settings.samlExemptPatterns}\r\n\t\t\t\t\t\t\t\tplaceholder={t('saml-exempt-patterns-placeholder')}\r\n\t\t\t\t\t\t\t\tdefaultValue={admin.settings.samlExemptPatterns}\r\n\t\t\t\t\t\t\t\tupdateSettings={updateSettings}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col sm={5} >\r\n\t\t\t\t\t\t\t<Form.Text muted >\r\n\t\t\t\t\t\t\t\t{t('saml-exempt-patterns-description')}\r\n\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t</Container>\r\n\t\t\t</LicenseBarrier>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\n\r\n// PROPERTIES //\r\n\r\nAdminSettingsSaml.propTypes = {\r\n\tadmin: PropTypes.object.isRequired,\r\n\tupdateSettings: PropTypes.func.isRequired\r\n};\r\n\r\nAdminSettingsSaml.defaultProps = {\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default AdminSettingsSaml;\r\n","// MODULES //\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n* A component which renders a barrier if no ISLE license is available.\r\n*\r\n* @property {Object} props - component properties\r\n* @property {string} props.admin - admin settings\r\n* @property {string} props.user - user settings\r\n* @returns {ReactElement} license barrier\r\n*/\r\nconst LicenseBarrier = ({ admin, user, children }) => {\r\n\tconst { t } = useTranslation( 'common' );\r\n\tif ( !user.licensed && ( !admin.license || !admin.license.valid ) ) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"jumbotron\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\theight: '73.7%'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<h3 style={{ textAlign: 'center', marginTop: '12%' }}>\r\n\t\t\t\t\t{t('not-available-in-community-edition')}\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn children;\r\n};\r\n\r\n\r\n// PROPERTIES //\r\n\r\nLicenseBarrier.propTypes = {\r\n\tadmin: PropTypes.object,\r\n\tuser: PropTypes.object\r\n};\r\n\r\nLicenseBarrier.defaultProps = {\r\n\tadmin: null,\r\n\tuser: null\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default LicenseBarrier;\r\n","// MODULES //\r\n\r\nimport { connect } from 'react-redux';\r\nimport LicenseBarrier from 'ev/components/barrier';\r\n\r\n\r\n// FUNCTIONS //\r\n\r\nfunction mapStateToProps( state ) {\r\n\treturn {\r\n\t\tadmin: state.admin,\r\n\t\tuser: state.user\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps() {\r\n\treturn {};\r\n}\r\n\r\n\r\n// MAIN //\r\n\r\nconst VisibleLicenseBarrier = connect( mapStateToProps, mapDispatchToProps )( LicenseBarrier );\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default VisibleLicenseBarrier;\r\n"],"sourceRoot":""}