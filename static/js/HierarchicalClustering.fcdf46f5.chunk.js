/*! For license information please see HierarchicalClustering.fcdf46f5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[898],{35816:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var r=n(38603),a=n(91532),i=n.n(a),s=n(58651),o=n(79174),l=n(70658),u=n.n(l),c=n(22168),h=n(22949),m=n.n(h),f=n(89506),d=n.n(f);function g(e){if(!e)return"";e.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.setAttribute("style","background: white;");!function(e,t){const n=document.createElement("style");if(n.setAttribute("type","text/css"),n.innerHTML=e,m()(t.children)){const e=t.children[0]||null;t.insertBefore(n,e)}}(function(e){const t=[];if(t.push("#"+e.id),m()(e.classList))for(let i=0;i<e.classList.length;i++)d()(t,"."+e.classList[i])||t.push("."+e.classList[i]);const n=e.getElementsByTagName("*");for(let i=0;i<n.length;i++){const e=n[i].id;d()(t,"#"+e)||t.push("#"+e);const r=n[i].classList;if(m()(r))for(let n=0;n<r.length;n++)d()(t,"."+r[n])||t.push("."+r[n])}let r="";for(let i=0;i<document.styleSheets.length;i++){const e=document.styleSheets[i];try{if(!e.cssRules)continue}catch(a){if("SecurityError"!==a.name)throw a;continue}const n=e.cssRules;for(let a=0;a<n.length;a++)d()(t,n[a].selectorText)&&(r+=n[a].cssText)}return r}(e),e);let t=(new XMLSerializer).serializeToString(e);return t=t.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),t=t.replace(/NS\d+:href/g,"xlink:href"),t}var p=n(47337),w=n(63766),y=n(79351);var v,b=(v=(e,t,n)=>{const r=y.Ys(e.current),{width:a,height:i,data:s}=t,o=40,l=40,u=a-l-0,c=i-o-0,h=t.fontSize||16;!function(e){const n=(e=>{const t=y.bT9(e);return t.dx=15,t.dy=u/(t.height+1),y.ki8().size([c,u/1.35])(t)})(e);let a=1/0,i=-a;n.each((e=>{e.x>i&&(i=e.x),e.x<a&&(a=e.x)})),n.children.forEach((function e(n){n.children&&(n._children=n.children,n._children.forEach(e),n.value<t.cutoff&&(n.children=null))}));const s=n.dy/6+l,m=n.dx-a+o,f=r.append("g").attr("font-family","sans-serif").attr("font-size",h).attr("transform",`translate(${s},${m})`);f.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1).selectAll("path").data(n.links()).join("path").attr("d",(e=>`\n\t\t\t\tM${e.target.y},${e.target.x}\n\t\t\t\tC${e.source.y+n.dy/2},${e.target.x}\n\t\t\t\t ${e.source.y+n.dy/2},${e.source.x}\n\t\t\t\t ${e.source.y},${e.source.x}\n\t\t\t`));const d=f.append("g").attr("stroke-linejoin","round").attr("stroke-width",.1875*h).selectAll("g").data(n.descendants().reverse()).join("g").attr("transform",(e=>`translate(${e.y},${e.x})`));d.append("circle").attr("fill",(e=>e.children?"#555":"#999")).attr("r",.15*h).on("click",(e=>{e.children=e.children?null:e._children})),d.append("text").attr("dy","0.1em").attr("x",(e=>e.children?-6:6)).attr("font-size",h).text((e=>e.data.name)).filter((e=>e.children)).attr("text-anchor","end").clone(!0).lower().attr("stroke","white")}(s)},class extends r.Component{constructor(...e){var t,n,a;super(...e),t=this,n="anchor",a=r.createRef(),n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){v(this.anchor,this.props,this.state)}componentDidUpdate(){v(this.anchor,this.props,this.state)}render(){const{x:e,y:t}=this.props,n=this.props.component||"g";return r.createElement(n,{transform:`translate(${e}, ${t})`,ref:this.anchor})}}),x=n(93918),E=n(72744),k=n(94123);class T extends r.Component{constructor(){var e,t,n;super(),n=()=>{this.setState({fullscreen:!this.state.fullscreen})},(t="toggleFullscreen")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.state={fullscreen:!1}}render(){const{t:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(k.Z,{id:"fullscreen_tooltip",placement:"bottom",tooltip:e("toggle-fullscreen")},r.createElement(x.Z,{variant:"outline-danger",size:"sm",onClick:this.toggleFullscreen,style:{position:"absolute",top:"10px",right:"32px"}},r.createElement("div",{className:"fa fa-window-maximize"}))),r.createElement(E.Z,{show:this.state.fullscreen,onHide:this.toggleFullscreen,dialogClassName:"modal-100w"},r.createElement(E.Z.Header,{closeButton:!0},r.createElement(E.Z.Title,{as:"h1"},e("hierarchical-clustering"))),r.createElement(E.Z.Body,{style:{height:.75*window.innerHeight,width:"100%",fontSize:32,overflow:"scroll"}},this.props.dendrogram),r.createElement(E.Z.Footer,null,r.createElement(x.Z,{onClick:this.toggleFullscreen},e("close")))))}}T.propTypes={dendrogram:i().node.isRequired};var S=T,V=n(61092),q=n(15370),A=n.n(q),$=n(27326),_=n.n($),C=n(96615),Z=n.n(C),R=n(10746),z=n.n(R),F=n(86544),O=n.n(F),M=n(40773),j=n.n(M),L=n(74802),D=n.n(L),I=n(14478),N=n.n(I),B=n(11120),H=n.n(B),P=n(2785),K=n.n(P),U=n(17218),W=n.n(U),G=n(40994),X=n.n(G),Y=n(2078),J=n.n(Y);function Q(e){if(!m()(e))throw new TypeError("invalid argument. values must be an Array. Option: `"+e+"`.");const t=e;if(this._queue=[],t)for(let n=0;n<t.length;n++)this.insert(t[n])}Q.prototype.insert=function(e){const t=this.search(e);this._queue.splice(t,0,e)},Q.prototype.max=function(){return this._queue[this._queue.length-1]},Q.prototype.delMax=function(){return this._queue.pop()},Q.prototype.delete=function(e){for(let t=0;t<this.size();t++)if(this._queue[t]===e){this._queue.splice(t,1);break}},Q.prototype.reset=function(){this._queue=[]},Q.prototype.size=function(){return this._queue.length},Q.prototype.search=function(e){let t=0,n=this._queue.length;for(;t!==n;){const r=n+t>>>1;this._queue[r].sim-e.sim<=0?t=r+1:n=r}return t};var ee=Q;function te(e){return t=>t===e}function ne(e,t,n){const r=e,a=r.length,i=[],s=[],o=function(e,t){const n=[];for(let r=0;r<e;r++)n[r]=new Array(t);return n}(a,a);for(let c=0;c<a;c++){for(let e=0;e<a;e++)o[c][e]={sim:1/(1+n(r[c],r[e])),index:e};s[c]=1,i[c]=new ee(o[c]),i[c].delete(o[c][c])}const l=[];function u(e,t){return 1===s[t]?e.max().sim:0}for(let c=0;c<a-1;c++){const e=A()(i.map(u))[0],n=i[e].max().index;l.push([e,n]),s[n]=0,i[e].reset();for(let r=0;r<s.length;r++)1===s[r]&&r!==e&&(i[r].delete(o[r][e]),i[r].delete(o[r][n]),o[r][e].sim=t(r,e,n,o),i[r].insert(o[r][e]),o[e][r].sim=t(r,e,n,o),i[e].insert(o[e][r]))}return l}var re=function(e,t){let n,r,a,i,s;if(!H()(e))throw new TypeError("invalid input argument. Data must be passed as an array of arrays. Value: `"+e+"`.");if(arguments.length>1){if(!N()(t))throw new TypeError("invalid input argument. Options argument must be an object. Value: `"+t+"`.");if(D()(t,"linkage")&&(s=t.linkage,"single"!==s&&"complete"!==s))throw new TypeError('invalid option. Linkage option must be either "single" or "complete". Option: `'+s+"`.");if(D()(t,"distance")&&(i=t.distance,n=["chebyshev","cosine","euclidean","hamming","manhattan"],!n.some(te(i))))throw new TypeError('invalid option. Distance option must be "chebyshev", "cosine", "euclidean", "hamming" or "manhattan". Option: `'+i+"`.")}if("single"===s)a=function(e,t,n,r){return X()(r[e][t].sim,r[e][n].sim)};else a=function(e,t,n,r){return J()(r[e][t].sim,r[e][n].sim)};switch(i){case"chebyshev":r=_();break;case"cosine":r=Z();break;case"hamming":r=O();break;case"manhattan":r=j();break;default:r=z()}const o=ne(e,a,r);function l(t){if(!K()(t))throw new TypeError("invalid argument. The number of desired clusters must be an integer. Option: `"+t+"`.");const n=[];for(let i=0;i<e.length;i++){const e=[i];n.push(e)}let r=n.length,a=0;for(;r>t;){const e=n[o[a][0]].concat(n[o[a][1]]);n[o[a][0]]=e,n[o[a][1]]=null,r--,a++}return n.filter((e=>!W()(e)))}function u(t){const n=l(t),r=new Array(e.length);for(let e=0;e<n.length;e++){const t=n[e];for(let n=0;n<t.length;n++){r[t[n]]=`${V.a.t("StatisticalModels:cluster")} ${e+1}`}}return r}function c(){const t=[];for(let r=0;r<e.length;r++){const n={};n.name=e[r].join(", "),n.value=1,t.push(n)}let n=0;for(;n<o.length;){const e={children:[t[o[n][0]],t[o[n][1]]],value:t[o[n][0]].value+t[o[n][1]].value,name:t[o[n][0]].value+t[o[n][1]].value};t[o[n][0]]=e,t[o[n][1]]=null,n++}return t[0]}return{getClusterAssignments:u,getClusters:l,getTree:c}},ae=n(76798);const ie=({data:e,variables:t,linkage:n,distance:r})=>{try{const a=[],i=e[t[0]].length;for(let n=0;n<i;n++){const r=[];for(let a=0;a<t.length;a++)r[a]=e[t[a]][n];a.push(r)}const s=re(a,{linkage:n,distance:r}),o=s.getTree();return{matrix:a,result:s,tree:o}}catch(a){return{}}};class se extends r.Component{constructor(e){super(e);const{data:t,variables:n,linkage:r,distance:a}=e;this.state={...ie({data:t,variables:n,linkage:r,distance:a}),...e},e.onResult(this.state.result)}static getDerivedStateFromProps(e,t){if(e.data!==t.data||e.variables!==t.variables||e.linkage!==t.linkage||e.distance!==t.distance){const{data:t,variables:n,linkage:r,distance:a}=e,i={...ie({data:t,variables:n,linkage:r,distance:a}),...e};return e.onResult(i.result),i}return null}render(){const{result:e}=this.state,{t:t}=this.props;return e?r.createElement("div",{style:{overflowX:"auto",width:"100%"}},r.createElement("span",{className:"title"},t("hierarchical-clustering-summary")),r.createElement("button",{className:"hierarchical-clustering-draggable-bar",draggable:"true",onDragStart:e=>{e.dataTransfer.setData("text/html",this.plotValue),e.dataTransfer.setData("text/plain",this.plotKey)},onClick:()=>{(0,p.Z)(this.plotValue)}},t("drag-plot")),r.createElement(S,{variant:"outline-danger",size:"sm",onClick:()=>{this.setState({fullscreen:!this.state.fullscreen})},dendrogram:r.createElement("svg",{width:window.innerWidth,height:window.innerHeight},r.createElement(b,{x:0,y:0,width:window.innerWidth,height:window.innerHeight-25,data:this.state.tree,cutoff:u()(this.state.matrix.length/20),fontSize:24}),";"),t:t},r.createElement("div",{className:"fa fa-times"})),r.createElement("div",null,r.createElement("svg",{width:650,height:375,ref:e=>{if(!this.svg){this.svg=e;const t=650,n=375;!function(e,t,n,r){const a="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),i=document.createElement("canvas"),s=i.getContext("2d");i.width=t,i.height=n;const o=new Image;o.onload=function(){s.clearRect(0,0,t,n),s.drawImage(o,0,0,t,n),i.toBlob((function(e){const t=u()(e.length/1024)+" KB";if(r)return r(e,t)}))},o.src=a}(g(this.svg),2*t,2*n,(e=>{(0,w.Z)(e).then((e=>{const t=`<img src="${e}" style="display: block; margin: 0 auto; max-width: 100%; max-height: 100%" />`;this.plotKey=`\x3c!--IMAGE_LOG:${(0,c.Z)(6)}_${(0,c.Z)(6)}--\x3e`,this.plotValue=t}))}))}}},r.createElement(b,{x:0,y:0,width:650,height:350,data:this.state.tree,cutoff:u()(this.state.matrix.length/20)}),";"))):r.createElement(o.Z,{variant:"danger"},t("missing-attributes"))}}se.defaultProps={linkage:"complete",distance:"euclidean",onResult(){}},se.propTypes={data:i().object.isRequired,variables:i().arrayOf(i().string).isRequired,linkage:i().oneOf(["complete","single"]),distance:i().oneOf(["euclidean","chebyshev","cosine","hamming","manhattan"]),onResult:i().func};var oe=(0,s.Z)("models")((0,ae.W)(se))},63766:function(e,t){t.Z=e=>{const{FileReader:t}=window,n=new t;return n.readAsDataURL(e),new Promise((e=>{n.onloadend=()=>{e(n.result)}}))}},11120:function(e,t,n){var r=n(45042);e.exports=r},45042:function(e,t,n){var r=n(73830)(n(22949));e.exports=r},15370:function(e){e.exports=function(e){if(!Array.isArray(e))throw new TypeError("argmax()::invalid input argument. Must provide an array.");for(var t,n=e.length,r=e[0],a=[0],i=1;i<n;i++)(t=e[i])>r?(r=t,a.length=0,a.push(i)):t===r&&a.push(i);return a}},27326:function(e,t,n){var r=n(41355),a=n(37582);e.exports=function(e,t,n){var i,s,o,l;if(!r(e))throw new TypeError("chebyshev()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("chebyshev()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("chebyshev()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((i=e.length)!==t.length)throw new Error("chebyshev()::invalid input arguments. Input arrays must have the same length.");if(!i)return null;if(n)for(s=(o=n(e[0],0,0)-n(t[0],0,1))<0?-o:o,l=1;l<i;l++)(o=n(e[l],l,0)-n(t[l],l,1))<0&&(o=-o),o>s&&(s=o);else for(s=(o=e[0]-t[0])<0?-o:o,l=1;l<i;l++)(o=e[l]-t[l])<0&&(o=-o),o>s&&(s=o);return s}},96615:function(e,t,n){var r=n(26681);e.exports=function(e,t,n){var a;return null!==(a=arguments.length>2?r(e,t,n):r(e,t))?1-a:a}},26681:function(e,t,n){var r=n(336),a=n(9093),i=n(41355),s=n(37582);function o(e,t){return function(n,r){return e(n,r,t)}}e.exports=function(e,t,n){var l,u,c;if(!i(e))throw new TypeError("cosine-similarity()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!i(t))throw new TypeError("cosine-similarity()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!s(n))throw new TypeError("cosine-similarity()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if(e.length!==t.length)throw new Error("cosine-similarity()::invalid input argument. Input arrays must have the same length.");return e.length?(n?(l=r(e,t,n),u=a(e,o(n,0)),c=a(t,o(n,1))):(l=r(e,t),u=a(e),c=a(t)),l/(u*c)):null}},336:function(e,t,n){var r=n(41355),a=n(37582);e.exports=function(e,t,n){if(!r(e))throw new TypeError("dot()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("dot()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("dot()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");var i,s=e.length,o=0;if(s!==t.length)throw new Error("dot()::invalid input argument. Arrays must be of equal length.");if(!s)return null;if(n)for(i=0;i<s;i++)o+=n(e[i],i,0)*n(t[i],i,1);else for(i=0;i<s;i++)o+=e[i]*t[i];return o}},10746:function(e,t,n){var r=n(41355),a=n(37582);e.exports=function(e,t,n){var i,s,o,l,u,c,h;if(!r(e))throw new TypeError("euclidean()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("euclidean()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("euclidean()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((i=e.length)!==t.length)throw new Error("euclidean()::invalid input arguments. Input arrays must have the same length.");if(!i)return null;if(l=0,u=1,n)for(h=0;h<i;h++)(o=(s=n(e[h],h,0)-n(t[h],h,1))<0?-s:s)>0&&(o>l?(u=1+u*(c=l/s)*c,l=o):u+=(c=s/l)*c);else for(h=0;h<i;h++)(o=(s=e[h]-t[h])<0?-s:s)>0&&(o>l?(u=1+u*(c=l/s)*c,l=o):u+=(c=s/l)*c);return l*Math.sqrt(u)}},86544:function(e,t,n){var r=n(41355),a=n(25324),i=n(37582);e.exports=function(e,t,n){var s,o,l,u=a(e),c=a(t);if(!r(e)&&!u)throw new TypeError("hamming()::invalid input argument. Sequence must be either an array or a string. Value: `"+e+"`.");if(!r(t)&&!c)throw new TypeError("hamming()::invalid input argument. Sequence must be either an array or a string. Value: `"+t+"`.");if(u!==c)throw new TypeError("hamming()::invalid input arguments. Sequences must be the same type; i.e., both strings or both arrays.");if(arguments.length>2&&!i(n))throw new TypeError("hamming()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((s=e.length)!==t.length)throw new Error("hamming()::invalid input arguments. Sequences must be the same length.");if(o=0,n)for(l=0;l<s;l++)n(e[l],l,0)!==n(t[l],l,1)&&(o+=1);else for(l=0;l<s;l++)e[l]!==t[l]&&(o+=1);return o}},9093:function(e,t,n){var r=n(41355),a=n(37582);e.exports=function(e,t){if(!r(e))throw new TypeError("l2norm()::invalid input argument. Must provide an array.  Value: `"+e+"`.");if(arguments.length>1&&!a(t))throw new TypeError("l2norm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.");var n,i,s,o,l=e.length,u=0,c=1;if(!l)return null;if(t)for(o=0;o<l;o++)(s=(i=t(e[o],o))<0?-i:i)>0&&(s>u?(c=1+c*(n=u/i)*n,u=s):c+=(n=i/u)*n);else for(o=0;o<l;o++)(s=(i=e[o])<0?-i:i)>0&&(s>u?(c=1+c*(n=u/i)*n,u=s):c+=(n=i/u)*n);return u*Math.sqrt(c)}},40773:function(e,t,n){var r=n(41355),a=n(37582);e.exports=function(e,t,n){var i,s,o,l;if(!r(e))throw new TypeError("manhattan()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("manhattan()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!a(n))throw new TypeError("manhattan()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if((i=e.length)!==t.length)throw new Error("manhattan()::invalid input arguments. Input arrays must have the same length.");if(!i)return null;if(s=0,n)for(l=0;l<i;l++)s+=(o=n(e[l],l,0)-n(t[l],l,1))<0?-o:o;else for(l=0;l<i;l++)s+=(o=e[l]-t[l])<0?-o:o;return s}},37582:function(e){e.exports=function(e){return"function"===typeof e}},25324:function(e){e.exports=function(e){return"string"===typeof e||"[object String]"===Object.prototype.toString.call(e)}}}]);
//# sourceMappingURL=HierarchicalClustering.fcdf46f5.chunk.js.map