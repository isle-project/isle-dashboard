{"version":3,"sources":["components/admin/logs/access/index.js"],"names":[],"mappings":"2gBAiEA,OA7BkB,CAAC,CAAE,IAAK,IAAM,CAC/B,MAAM,IAAM,oBAAoB,sBAAa,CAAE,IAAK,KAAK,KAAM,CAAC,IAC1D,CAAE,CAAE,G,EAAI,aAAgB,CAAE,QAAS,QAAS,CAAE,EACpD,OACC,oBAAC,eAAQ,KACR,oBAAC,KAAE,KAAM,IAAK,OAAO,SAAS,SAAQ,GAAC,IAAI,uBAC1C,oBAAC,iBAAM,CAAC,QAAQ,UAAU,UAAU,8BAA+B,EAAE,kBAAkB,CAAE,CAC1F,EACA,oBAAC,OAAI,UAAU,sBACd,oBAAC,mBAAY,CACZ,eAAgB,GAChB,OAAQ,CAAC,CAAE,OAAQ,QAAS,IAC3B,oBAAC,cAAO,CACP,aAAY,GACZ,IACA,OAAM,GAAC,OAAgB,SACvB,gBAAe,GACf,KAAM,EAAE,YAAY,EACrB,EAEF,CACD,CACD,CAEF,C","file":"static/js/2769.eb502725.chunk.js","sourcesContent":["/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { Fragment } from 'react';\r\nimport { LazyLog, ScrollFollow } from 'react-lazylog';\r\nimport { useTranslation } from 'react-i18next';\r\nimport qs from 'querystring';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './access_log.css';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n* A component that displays the access log.\r\n*\r\n* @param {Object} props - component properties\r\n* @param {Object} props.user - user object\r\n* @returns {ReactElement} access log\r\n*/\r\nconst AccessLog = ({ user }) => {\r\n\tconst url = `/logs/access.log?${qs.stringify({ jwt: user.token })}`;\r\n\tconst { t } = useTranslation( [ 'admin', 'common' ] );\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<a href={url} target=\"_blank\" download rel=\"noopener noreferrer\" >\r\n\t\t\t\t<Button variant=\"success\" className=\"admin-page-log-side-button\" >{t('common:save-file')}</Button>\r\n\t\t\t</a>\r\n\t\t\t<div className=\"access-log-wrapper\" >\r\n\t\t\t\t<ScrollFollow\r\n\t\t\t\t\tstartFollowing={true}\r\n\t\t\t\t\trender={({ follow, onScroll }) => (\r\n\t\t\t\t\t\t<LazyLog\r\n\t\t\t\t\t\t\tenableSearch\r\n\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\tstream follow={follow} onScroll={onScroll}\r\n\t\t\t\t\t\t\tselectableLines\r\n\t\t\t\t\t\t\ttext={t('access-log')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default AccessLog;\r\n"],"sourceRoot":""}