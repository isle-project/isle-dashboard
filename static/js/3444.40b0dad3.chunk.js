"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[3444],{70744:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a=n(29236),r=n(87757),o=n.n(r),s=n(15861),l=n(15671),i=n(43144),c=n(97326),u=n(60136),d=n(29388),m=n(4942),p=n(41488),f=n(25472),h=n(70048),v=n(29530),g=n(72945),Z=n(23596),E=n(54012),w=n(75018),b=n(73230),y=n(36659),N=n(3252),C=n(85802),x=n(9050),k=n(93391),P=n(47701),S=n(59486),R=n(8682),F=n(86072),I=n.n(F),T=n(63834),A=(n(27184),function(e){return p.createElement(P.Z,{id:"tooltip"},e)}),H=function(e){return p.createElement(N.Z,{show:e.show,onHide:e.close},p.createElement(N.Z.Header,null,p.createElement(N.Z.Title,null,"Registration Completion")),p.createElement(N.Z.Body,null,e.message),p.createElement(N.Z.Footer,null,p.createElement(h.Z,{onClick:e.close},e.t("common:close"))))},M=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(e){var a;return(0,l.Z)(this,n),a=t.call(this,e),(0,m.Z)((0,c.Z)(a),"handleSubmit",function(){var e=(0,s.Z)(o().mark((function e(t){var n,r,s,l,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.getPasswordValidationState()||!a.getNameValidationState()){e.next=18;break}return e.prev=2,n=window.location.hash.substring(24),r=R.parse(n),s=r.token,e.next=8,I().post(T.ZP+"/complete_registration",{id:s,newName:a.state.name,newPassword:a.state.password});case 8:l=e.sent,a.setState({message:l.data.message,showModal:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),e.t0.response?(i="Server response: "+e.t0.response.status+".\n",i+=e.t0.response.data):i=e.t0.message,a.setState({message:i,showModal:!0});case 16:e.next=19;break;case 18:a.setState({showSubmitOverlay:!0,overlayTarget:t.target},(function(){setTimeout((function(){a.setState({showSubmitOverlay:!1})}),4e3)}));case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()),(0,m.Z)((0,c.Z)(a),"handleInputChange",(function(e){var t=e.target,n=t.value,r=t.name;a.setState((0,m.Z)({},r,n))})),(0,m.Z)((0,c.Z)(a),"getPasswordValidationState",(function(){var e=a.state,t=e.password,n=e.passwordRepeat;return!(t.length<6||0===n.length)&&t===n})),(0,m.Z)((0,c.Z)(a),"close",(function(){a.props.history.replace("/")})),(0,m.Z)((0,c.Z)(a),"getNameValidationState",(function(){return a.state.name.length>3})),a.state={name:"",password:"",passwordRepeat:"",showModal:!1},a}return(0,i.Z)(n,[{key:"renderName",value:function(){var e=this.props.t;return p.createElement(k.Z,{placement:"right",overlay:A(e("signup:name-tooltip"))},p.createElement(b.Z,{controlId:"form-name"},p.createElement(Z.Z,null,p.createElement(g.Z,{sm:3},p.createElement(E.Z,null,e("common:name"))),p.createElement(g.Z,{sm:9},p.createElement(w.Z,{name:"name",type:"text",placeholder:e("enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),p.createElement(y.Z.Control.Feedback,{type:"invalid"},e("signup:invalid-name"))))))}},{key:"renderPassword",value:function(){var e=this.state.password||this.state.passwordRepeat,t=this.getPasswordValidationState();return p.createElement(p.Fragment,null,p.createElement(k.Z,{placement:"right",overlay:A("Please enter a new password with at least six characters")},p.createElement(b.Z,{controlId:"form-password"},p.createElement(Z.Z,null,p.createElement(g.Z,{sm:3},p.createElement(E.Z,null,this.props.t("common:password"))),p.createElement(g.Z,{sm:9},p.createElement(w.Z,{name:"password",type:"password",placeholder:this.props.t("common:choose-new-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,autoComplete:"new-password",isInvalid:e&&!t}),p.createElement(w.Z.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))))),p.createElement(b.Z,{controlId:"form-password-confirmation"},p.createElement(Z.Z,null,p.createElement(g.Z,{sm:{span:9,offset:3}},p.createElement(w.Z,{name:"passwordRepeat",type:"password",placeholder:this.props.t("signup:confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,autoComplete:"new-password",isInvalid:e&&!t}),p.createElement(w.Z.Feedback,{type:"invalid"},this.props.t("signup:invalid-password"))))))}},{key:"render",value:function(){var e=this.props.settings;return p.createElement("div",null,p.createElement("div",{className:"login"},p.createElement(v.Z,{style:{opacity:.9}},p.createElement(v.Z.Header,null,p.createElement(v.Z.Title,{as:"h1"},p.createElement("small",null,"Complete Registration"))),p.createElement(v.Z.Body,null,p.createElement(y.Z,null,this.renderName(),this.renderPassword(),p.createElement(b.Z,null,p.createElement(h.Z,{variant:"primary",type:"submit",onClick:this.handleSubmit,className:"centered",disabled:!this.getNameValidationState()||!this.getPasswordValidationState()},"Confirm")))))),this.state.showModal?p.createElement(H,{show:this.state.showModal,close:this.close,message:this.state.message,t:this.props.t}):null,p.createElement(C.Z,{show:this.state.showSubmitOverlay,target:this.state.overlayTarget,placement:"bottom",containerPadding:20},p.createElement(x.Z,{id:"popover-contained",title:"Input fields are not valid"},"Please make sure that the passwords are valid and match each other before submitting.")),e.brandingLogo?p.createElement("img",{className:"login-branding-logo",src:e.brandingLogo,alt:"Branded Logo"}):null)}}]),n}(p.Component);M.defaultProps={settings:{}};var O=(0,S.EN)((0,f.Z)(["common","signup"])(M));var _=(0,a.$j)((function(e){return{settings:e.settings}}),(function(){return{}}))(O)},44503:function(e,t,n){n.d(t,{Z:function(){return r}});var a=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(e,t){return a(e.querySelectorAll(t))}},84910:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function a(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}})),r}return(0,o.default)(a)};var a,r=n(76905),o=(a=r)&&a.__esModule?a:{default:a};e.exports=t.default},76905:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,a,r,o,s){var l=r||"<<anonymous>>",i=s||a;if(null==n[a])return t?new Error("Required "+o+" `"+i+"` was not specified in `"+l+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,a,l,o,i].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},77096:function(e,t,n){var a=n(87462),r=n(63366),o=n(83603),s=n.n(o),l=n(41488),i=n(78265),c=n.n(i),u=["label","onClick","className"],d={label:s().string.isRequired,onClick:s().func},m=l.forwardRef((function(e,t){var n=e.label,o=e.onClick,s=e.className,i=(0,r.Z)(e,u);return l.createElement("button",(0,a.Z)({ref:t,type:"button",className:c()("close",s),onClick:o},i),l.createElement("span",{"aria-hidden":"true"},"\xd7"),l.createElement("span",{className:"sr-only"},n))}));m.displayName="CloseButton",m.propTypes=d,m.defaultProps={label:"Close"},t.Z=m},3252:function(e,t,n){n.d(t,{Z:function(){return U}});var a=n(63366),r=n(87462),o=n(78265),s=n.n(o),l=n(35291),i=n(60580),c=n(28340),u=n(80084),d=n(88703),m=n(28973),p=n(71605),f=n(35264),h=n(15223),v=n(41488),g=n(37636),Z=(n(47815),n(94578)),E=n(76943),w=n(44503),b=n(82853),y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",N=".sticky-top",C=".navbar-toggler",x=function(e){function t(){return e.apply(this,arguments)||this}(0,Z.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var a,r=t.style[e];t.dataset[e]=r,(0,E.Z)(t,((a={})[e]=parseFloat((0,E.Z)(t,e))+n+"px",a))},n.restore=function(e,t){var n,a=t.dataset[e];void 0!==a&&(delete t.dataset[e],(0,E.Z)(t,((n={})[e]=a,n)))},n.setContainerStyle=function(t,n){var a=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var r=(0,d.Z)();(0,w.Z)(n,y).forEach((function(e){return a.adjustAndStore("paddingRight",e,r)})),(0,w.Z)(n,N).forEach((function(e){return a.adjustAndStore("marginRight",e,-r)})),(0,w.Z)(n,C).forEach((function(e){return a.adjustAndStore("marginRight",e,r)}))}},n.removeContainerStyle=function(t,n){var a=this;e.prototype.removeContainerStyle.call(this,t,n),(0,w.Z)(n,y).forEach((function(e){return a.restore("paddingRight",e)})),(0,w.Z)(n,N).forEach((function(e){return a.restore("marginRight",e)})),(0,w.Z)(n,C).forEach((function(e){return a.restore("marginRight",e)}))},t}(b.Z),k=n(54087),P=n(25237),S=(0,P.Z)("modal-body"),R=v.createContext({onHide:function(){}}),F=n(38674),I=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],T=v.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.contentClassName,i=e.centered,c=e.size,u=e.children,d=e.scrollable,m=(0,a.Z)(e,I),p=(n=(0,F.vE)(n,"modal"))+"-dialog";return v.createElement("div",(0,r.Z)({},m,{ref:t,className:s()(p,o,c&&n+"-"+c,i&&p+"-centered",d&&p+"-scrollable")}),v.createElement("div",{className:s()(n+"-content",l)},u))}));T.displayName="ModalDialog";var A=T,H=(0,P.Z)("modal-footer"),M=n(77096),O=["bsPrefix","closeLabel","closeButton","onHide","className","children"],_=v.forwardRef((function(e,t){var n=e.bsPrefix,o=e.closeLabel,l=e.closeButton,i=e.onHide,c=e.className,u=e.children,d=(0,a.Z)(e,O);n=(0,F.vE)(n,"modal-header");var m=(0,v.useContext)(R),f=(0,p.Z)((function(){m&&m.onHide(),i&&i()}));return v.createElement("div",(0,r.Z)({ref:t},d,{className:s()(c,n)}),u,l&&v.createElement(M.Z,{label:o,onClick:f}))}));_.displayName="ModalHeader",_.defaultProps={closeLabel:"Close",closeButton:!1};var D,L=_,B=(0,n(90855).Z)("h4"),j=(0,P.Z)("modal-title",{Component:B}),V=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],z={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:A};function q(e){return v.createElement(k.Z,(0,r.Z)({},e,{timeout:null}))}function K(e){return v.createElement(k.Z,(0,r.Z)({},e,{timeout:null}))}var G=v.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,Z=e.style,E=e.dialogClassName,w=e.contentClassName,b=e.children,y=e.dialogAs,N=e["aria-labelledby"],C=e.show,k=e.animation,P=e.backdrop,S=e.keyboard,I=e.onEscapeKeyDown,T=e.onShow,A=e.onHide,H=e.container,M=e.autoFocus,O=e.enforceFocus,_=e.restoreFocus,L=e.restoreFocusOptions,B=e.onEntered,j=e.onExit,z=e.onExiting,G=e.onEnter,U=e.onEntering,$=e.onExited,J=e.backdropClassName,Q=e.manager,W=(0,a.Z)(e,V),X=(0,v.useState)({}),Y=X[0],ee=X[1],te=(0,v.useState)(!1),ne=te[0],ae=te[1],re=(0,v.useRef)(!1),oe=(0,v.useRef)(!1),se=(0,v.useRef)(null),le=(0,m.Z)(),ie=le[0],ce=le[1],ue=(0,p.Z)(A);n=(0,F.vE)(n,"modal"),(0,v.useImperativeHandle)(t,(function(){return{get _modal(){return ie}}}),[ie]);var de=(0,v.useMemo)((function(){return{onHide:ue}}),[ue]);function me(){return Q||(D||(D=new x),D)}function pe(e){if(i.Z){var t=me().isContainerOverflowing(ie),n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;ee({paddingRight:t&&!n?(0,d.Z)():void 0,paddingLeft:!t&&n?(0,d.Z)():void 0})}}var fe=(0,p.Z)((function(){ie&&pe(ie.dialog)}));(0,f.Z)((function(){(0,u.Z)(window,"resize",fe),se.current&&se.current()}));var he=function(){re.current=!0},ve=function(e){re.current&&ie&&e.target===ie.dialog&&(oe.current=!0),re.current=!1},ge=function(){ae(!0),se.current=(0,h.Z)(ie.dialog,(function(){ae(!1)}))},Ze=function(e){"static"!==P?oe.current||e.target!==e.currentTarget?oe.current=!1:null==A||A():function(e){e.target===e.currentTarget&&ge()}(e)},Ee=(0,v.useCallback)((function(e){return v.createElement("div",(0,r.Z)({},e,{className:s()(n+"-backdrop",J,!k&&"show")}))}),[k,J,n]),we=(0,r.Z)({},Z,Y);k||(we.display="block");return v.createElement(R.Provider,{value:de},v.createElement(g.Z,{show:C,ref:ce,backdrop:P,container:H,keyboard:!0,autoFocus:M,enforceFocus:O,restoreFocus:_,restoreFocusOptions:L,onEscapeKeyDown:function(e){S||"static"!==P?S&&I&&I(e):(e.preventDefault(),ge())},onShow:T,onHide:A,onEnter:function(e,t){e&&(e.style.display="block",pe(e)),null==G||G(e,t)},onEntering:function(e,t){null==U||U(e,t),(0,l.ZP)(window,"resize",fe)},onEntered:B,onExit:function(e){null==se.current||se.current(),null==j||j(e)},onExiting:z,onExited:function(e){e&&(e.style.display=""),null==$||$(e),(0,u.Z)(window,"resize",fe)},manager:me(),containerClassName:n+"-open",transition:k?q:void 0,backdropTransition:k?K:void 0,renderBackdrop:Ee,renderDialog:function(e){return v.createElement("div",(0,r.Z)({role:"dialog"},e,{style:we,className:s()(o,n,ne&&n+"-static"),onClick:P?Ze:void 0,onMouseUp:ve,"aria-labelledby":N}),v.createElement(y,(0,r.Z)({},W,{onMouseDown:he,className:E,contentClassName:w}),b))}}))}));G.displayName="Modal",G.defaultProps=z,G.Body=S,G.Header=L,G.Title=j,G.Footer=H,G.Dialog=A,G.TRANSITION_DURATION=300,G.BACKDROP_TRANSITION_DURATION=150;var U=G},9050:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(87462),r=n(63366),o=n(78265),s=n.n(o),l=n(41488),i=(n(90427),n(38674)),c=["as","bsPrefix","className","children"],u=l.forwardRef((function(e,t){var n=e.as,o=void 0===n?"div":n,u=e.bsPrefix,d=e.className,m=e.children,p=(0,r.Z)(e,c);return u=(0,i.vE)(u,"popover-header"),l.createElement(o,(0,a.Z)({ref:t},p,{className:s()(u,d)}),m)})),d=["as","bsPrefix","className","children"],m=l.forwardRef((function(e,t){var n=e.as,o=void 0===n?"div":n,c=e.bsPrefix,u=e.className,m=e.children,p=(0,r.Z)(e,d);return c=(0,i.vE)(c,"popover-body"),l.createElement(o,(0,a.Z)({ref:t},p,{className:s()(u,c)}),m)})),p=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],f=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.placement,c=e.className,u=e.style,d=e.children,f=e.content,h=e.arrowProps,v=(e.popper,e.show,(0,r.Z)(e,p)),g=(0,i.vE)(n,"popover"),Z=((null==o?void 0:o.split("-"))||[])[0];return l.createElement("div",(0,a.Z)({ref:t,role:"tooltip",style:u,"x-placement":Z,className:s()(c,g,Z&&"bs-popover-"+Z)},v),l.createElement("div",(0,a.Z)({className:"arrow"},h)),f?l.createElement(m,null,d):d)}));f.defaultProps={placement:"right"},f.Title=u,f.Content=m;var h=f},23596:function(e,t,n){var a=n(87462),r=n(63366),o=n(78265),s=n.n(o),l=n(41488),i=n(38674),c=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],d=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,d=e.noGutters,m=e.as,p=void 0===m?"div":m,f=(0,r.Z)(e,c),h=(0,i.vE)(n,"row"),v=h+"-cols",g=[];return u.forEach((function(e){var t,n=f[e];delete f[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&g.push(""+v+a+"-"+t)})),l.createElement(p,(0,a.Z)({ref:t},f,{className:s().apply(void 0,[o,h,d&&"no-gutters"].concat(g))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.Z=d},27184:function(){}}]);
//# sourceMappingURL=3444.40b0dad3.chunk.js.map