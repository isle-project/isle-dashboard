"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[483,459],{68463:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),react_select__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87583),react_bootstrap_FormLabel__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(11202),react_bootstrap_FormLabel__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_bootstrap_FormLabel__WEBPACK_IMPORTED_MODULE_13__),react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(11733),react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_12__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(30276),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_14__),react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(84420),react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_9__),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(94968),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10__),react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(25270),_isle_project_components_input_checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18946),_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57082),_isle_project_components_input_select_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26443),_isle_project_utils_randomstring_alphanumeric__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68681),_isle_project_components_plots_barchart__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49293),_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(67033),_question_button_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84112),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));const STATS=["Mean","Median","Min","Max","Sum"],MODES=["Counts of distinct values","Function evaluated for a variable"],Option=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_select__WEBPACK_IMPORTED_MODULE_7__.wx.Option,__spreadValues({},props),props.data.label,react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{style:{fontVariant:"small-caps"}},props.data.description)),ORDER_OPTIONS=[{label:"Total",value:"total",description:"by total count of each category"},{label:"Alphabetically",value:"category",description:"by category name"},{label:"Min",value:"min",description:"by minimum count inside each category"},{label:"Max",value:"max",description:"by maximum count inside each category"},{label:"Mean",value:"mean",description:"by mean count inside each category"},{label:"Median",value:"median",description:"by median count inside each category"}],BarchartMenu=props=>{const{groupingVariables,variables,defaultValue,quantitative,t}=props,[variable,setVariable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue||variables[0]),[yvar,setYVar]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(quantitative[0]),[direction,setDirection]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("ascending"),[summary,setSummary]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(STATS[0]),[group,setGroup]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[horizontal,setHorizontal]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[mode,setMode]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(MODES[0]),[relative,setRelative]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[stackBars,setStackBars]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[totalPercent,setTotalPercent]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[xOrder,setXOrder]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),generateBarchart=()=>{const plotId=(0,_isle_project_utils_randomstring_alphanumeric__WEBPACK_IMPORTED_MODULE_4__.Z)(6),action={variable,group,relative,totalPercent,xOrder,direction,stackBars,plotId};mode===MODES[1]&&(action.summary=summary,action.yvar=yvar);const onShare=()=>{props.session.addNotification({title:props.t("plot-shared"),message:props.t("plot-shared-message"),level:"success",position:"tr"}),props.logAction(_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_8__.zH,action)};let output;mode===MODES[1]?output=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_plots_barchart__WEBPACK_IMPORTED_MODULE_5__.Z,__spreadProps(__spreadValues({},props),{variable,group,horizontal,relative,totalPercent,xOrder,direction,summary,yvar,stackBars,id:plotId,action,onShare})):output=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_plots_barchart__WEBPACK_IMPORTED_MODULE_5__.Z,__spreadProps(__spreadValues({},props),{variable,group,horizontal,relative,totalPercent,xOrder,direction,stackBars,id:plotId,action,onShare})),props.logAction(_isle_project_constants_actions_js__WEBPACK_IMPORTED_MODULE_8__.iT,action),props.onCreated(output)},hideRelativeFrequencies=!group||totalPercent||mode===MODES[1];return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_9___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_9___default().Header,{as:"h4"},t("Bar Chart"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_question_button_js__WEBPACK_IMPORTED_MODULE_6__.Z,{title:t("Bar Chart"),content:t("Bar Chart-description")})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_9___default().Body,{className:"d-grid gap-3"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__.Z,{legend:t("bars-represent"),defaultValue:mode,options:MODES,onChange:setMode}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__.Z,{legend:t("variable"),defaultValue:variable,options:variables,onChange:setVariable}),mode===MODES[1]?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__.Z,{legend:t("y-axis"),defaultValue:yvar,options:props.quantitative,onChange:setYVar})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__.Z,{legend:t("summary-function"),defaultValue:summary,options:STATS,onChange:setSummary}))):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__.Z,{legend:t("group-by"),clearable:!0,defaultValue:group,options:groupingVariables,menuPlacement:"top",onChange:setGroup}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_FormGroup__WEBPACK_IMPORTED_MODULE_12___default(),{controlId:"barchart-order-select"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_FormLabel__WEBPACK_IMPORTED_MODULE_13___default(),null,t(group?"order-outer-groups":"order-x-axis"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_select__WEBPACK_IMPORTED_MODULE_7__.ZP,{defaultValue:xOrder,options:ORDER_OPTIONS,components:{Option},isClearable:!0,menuPlacement:"top",onChange:elem=>{setXOrder(elem?elem.value:null)},styles:_isle_project_components_input_select_styles__WEBPACK_IMPORTED_MODULE_3__.Z}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_select__WEBPACK_IMPORTED_MODULE_2__.Z,{legend:t("order-direction"),defaultValue:direction,options:["ascending","descending"],menuPlacement:"top",onChange:setDirection,style:{display:xOrder?"inherit":"none"}}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,mode===MODES[0]?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_checkbox__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("total-percentages"),defaultValue:totalPercent,onChange:setTotalPercent,disabled:relative,style:{opacity:relative?.2:1}}):null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_checkbox__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("flip-coordinates"),defaultValue:horizontal,onChange:setHorizontal}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10___default(),null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_checkbox__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("stack-bars"),defaultValue:stackBars,onChange:setStackBars,disabled:!group,style:{opacity:group?1:.2}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11__.default,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_isle_project_components_input_checkbox__WEBPACK_IMPORTED_MODULE_1__.Z,{legend:t("relative-frequencies-inside-each-group"),defaultValue:relative,disabled:hideRelativeFrequencies,onChange:setRelative,style:{opacity:hideRelativeFrequencies?.2:1}}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_14___default(),{variant:"primary",onClick:generateBarchart,disabled:!variable},t("generate"))))};BarchartMenu.defaultProps={defaultValue:null,groupingVariables:null,logAction(){},onCreated(){},onSelected(){}},BarchartMenu.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object.isRequired,defaultValue:prop_types__WEBPACK_IMPORTED_MODULE_15___default().string,groupingVariables:prop_types__WEBPACK_IMPORTED_MODULE_15___default().array,logAction:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,onCreated:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,onSelected:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,session:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object.isRequired,variables:prop_types__WEBPACK_IMPORTED_MODULE_15___default().array.isRequired},__webpack_exports__.default=BarchartMenu},84112:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(30276),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67883),react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1__),react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4635),react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(65498),react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3__),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7848),react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4__);const QuestionButton=props=>{const popover=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Popover__WEBPACK_IMPORTED_MODULE_1___default(),{id:"popover-positioned-right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_PopoverHeader__WEBPACK_IMPORTED_MODULE_2___default(),null,props.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_PopoverBody__WEBPACK_IMPORTED_MODULE_3___default(),null,props.content));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_OverlayTrigger__WEBPACK_IMPORTED_MODULE_4___default(),{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:popover},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_5___default(),{"aria-label":props.title,size:"sm",variant:"outline-secondary",className:"question-button"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"fa fa-question"})))};QuestionButton.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().node]).isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string.isRequired},__webpack_exports__.Z=QuestionButton},18946:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return input_checkbox}});var react=__webpack_require__(67294),prop_types=__webpack_require__(45697),prop_types_default=__webpack_require__.n(prop_types),lib=__webpack_require__(45503),lib_default=__webpack_require__.n(lib),tooltip=__webpack_require__(77287),context=__webpack_require__(32283),uid=__webpack_require__(6756),__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};const main_uid=(0,uid.Z)("checkbox-input"),CheckboxInput=props=>{const{bind,defaultValue,disabled,onChange}=props,id=(0,react.useRef)(props.id||main_uid(props)),session=(0,react.useContext)(context.Z),[value,setValue]=(0,react.useState)(bind&&session.state?session.state[bind]:defaultValue);(0,react.useEffect)(()=>{setValue(defaultValue)},[defaultValue]),(0,react.useEffect)(()=>{bind&&setValue(__webpack_require__.g.lesson.state[bind])},[bind]),(0,react.useEffect)(()=>{if(bind){let globalValue=__webpack_require__.g.lesson.state[bind];globalValue!==value&&setValue(globalValue)}},[bind,value]);const updateValue=(0,react.useCallback)(newValue=>{setValue(newValue),bind&&__webpack_require__.g.lesson.setState({[bind]:newValue})},[bind]),handleChange=(0,react.useCallback)(event=>{const newValue=event.target.checked;onChange(newValue),updateValue(newValue)},[onChange,updateValue]),handleKeyPress=(0,react.useCallback)(event=>{event.which===13&&(onChange(!value),updateValue(!value))},[onChange,updateValue,value]),handleSpanChange=()=>{const newValue=props.value!==null?!props.value:!value;onChange(newValue),updateValue(newValue)},input=react.createElement("input",{className:"checkbox-input",type:"checkbox",checked:props.value!==null?props.value:value,value:"checkbox",onChange:handleChange,onKeyPress:handleKeyPress,disabled,"aria-label":props.legend});if(props.inline===!0)return react.createElement(tooltip.Z,{tooltip:props.tooltip,placement:props.tooltipPlacement},react.createElement("span",{id:id.current,style:__spreadValues({marginLeft:"8px"},props.style)},input,react.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:disabled?"darkgray":null},onClick:handleSpanChange,onKeyPress:handleSpanChange},props.legend)));const onSpanChange=disabled?lib_default():handleSpanChange;return disabled?react.createElement(tooltip.Z,{tooltip:props.tooltip,placement:props.tooltipPlacement},react.createElement("div",{id:id.current,className:"input checkbox-input-div",style:props.style},input,react.createElement("span",{className:"checkbox-legend",style:{color:"darkgray"}},props.legend))):react.createElement(tooltip.Z,{tooltip:props.tooltip,placement:props.tooltipPlacement},react.createElement("div",{id:id.current,className:"input checkbox-input-div",style:props.style},input,react.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",onClick:onSpanChange,onKeyPress:onSpanChange},props.legend)))};CheckboxInput.defaultProps={bind:"",onChange(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}},CheckboxInput.propTypes={bind:prop_types_default().string,defaultValue:prop_types_default().bool,value:prop_types_default().bool,disabled:prop_types_default().bool,inline:prop_types_default().bool,onChange:prop_types_default().func,legend:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node]),tooltip:prop_types_default().string,tooltipPlacement:prop_types_default().oneOf(["left","top","right","bottom"]),style:prop_types_default().object};var main=CheckboxInput,input_checkbox=main}}]);

//# sourceMappingURL=BarchartMenu.b9e4c4af.chunk.js.map