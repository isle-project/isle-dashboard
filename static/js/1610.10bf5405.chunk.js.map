{"version":3,"file":"static/js/1610.10bf5405.chunk.js","mappings":"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","sources":["../node_modules/html-to-image/es/util.js","../node_modules/html-to-image/es/getBlobFromURL.js","../node_modules/html-to-image/es/clonePseudoElements.js","../node_modules/html-to-image/es/cloneNode.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/html-to-image/es/embedResources.js","../node_modules/html-to-image/es/embedImages.js","../node_modules/html-to-image/es/embedWebFonts.js","../node_modules/html-to-image/es/createSvgDataURL.js","../node_modules/html-to-image/es/applyStyleWithOptions.js","../node_modules/html-to-image/es/index.js","../node_modules/@isle-project/components/models/decision-tree/fullscreen_button.js","../node_modules/@isle-project/components/models/decision-tree/tree_plot.js","../node_modules/@isle-project/components/models/decision-tree/split.js","../node_modules/@isle-project/components/models/decision-tree/tree.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/@babel/runtime/helpers/esm/readOnlyError.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../javascript/esm|/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"],"sourcesContent":["import _regeneratorRuntime from \"/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar WOFF = 'application/font-woff';\nvar JPEG = 'image/jpeg';\nvar mimes = {\n  woff: WOFF,\n  woff2: WOFF,\n  ttf: 'application/font-truetype',\n  eot: 'application/vnd.ms-fontobject',\n  png: 'image/png',\n  jpg: JPEG,\n  jpeg: JPEG,\n  gif: 'image/gif',\n  tiff: 'image/tiff',\n  svg: 'image/svg+xml'\n};\nexport var uuid = function uuid() {\n  // generate uuid for className of pseudo elements.\n  // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n  var counter = 0; // ref: http://stackoverflow.com/a/6248722/2519373\n\n  var random = function random() {\n    return \"0000\".concat((Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n  };\n\n  return function () {\n    counter += 1;\n    return \"u\".concat(random()).concat(counter);\n  };\n}();\nexport function getExtension(url) {\n  var match = /\\.([^./]*?)$/g.exec(url);\n  return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n  var ext = getExtension(url).toLowerCase();\n  return mimes[ext] || '';\n}\nexport function delay(ms) {\n  return function (args) {\n    return new Promise(function (resolve) {\n      setTimeout(function () {\n        resolve(args);\n      }, ms);\n    });\n  };\n}\nexport function isDataUrl(url) {\n  return url.search(/^(data:)/) !== -1;\n}\nexport function toDataURL(content, mimeType) {\n  return \"data:\".concat(mimeType, \";base64,\").concat(content);\n}\nexport function getDataURLContent(dataURL) {\n  return dataURL.split(/,/)[1];\n}\n\nfunction toBlob(canvas) {\n  return new Promise(function (resolve) {\n    var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n    var len = binaryString.length;\n    var binaryArray = new Uint8Array(len);\n\n    for (var i = 0; i < len; i += 1) {\n      binaryArray[i] = binaryString.charCodeAt(i);\n    }\n\n    resolve(new Blob([binaryArray], {\n      type: 'image/png'\n    }));\n  });\n}\n\nexport function canvasToBlob(canvas) {\n  if (canvas.toBlob) {\n    return new Promise(function (resolve) {\n      return canvas.toBlob(resolve);\n    });\n  }\n\n  return toBlob(canvas);\n}\nexport function toArray(arrayLike) {\n  var result = [];\n\n  for (var i = 0, l = arrayLike.length; i < l; i += 1) {\n    result.push(arrayLike[i]);\n  }\n\n  return result;\n}\n\nfunction px(node, styleProperty) {\n  var val = window.getComputedStyle(node).getPropertyValue(styleProperty);\n  return parseFloat(val.replace('px', ''));\n}\n\nexport function getNodeWidth(node) {\n  var leftBorder = px(node, 'border-left-width');\n  var rightBorder = px(node, 'border-right-width');\n  return node.clientWidth + leftBorder + rightBorder;\n}\nexport function getNodeHeight(node) {\n  var topBorder = px(node, 'border-top-width');\n  var bottomBorder = px(node, 'border-bottom-width');\n  return node.clientHeight + topBorder + bottomBorder;\n}\nexport function getPixelRatio() {\n  var ratio;\n  var FINAL_PROCESS;\n\n  try {\n    FINAL_PROCESS = process;\n  } catch (e) {}\n\n  var val = FINAL_PROCESS && FINAL_PROCESS.env ? FINAL_PROCESS.env.devicePixelRatio : null;\n\n  if (val) {\n    ratio = parseInt(val, 10);\n\n    if (isNaN(ratio)) {\n      ratio = 1;\n    }\n  }\n\n  return ratio || window.devicePixelRatio || 1;\n}\nexport function createImage(url) {\n  return new Promise(function (resolve, reject) {\n    var image = new Image();\n\n    image.onload = function () {\n      return resolve(image);\n    };\n\n    image.onerror = reject;\n    image.crossOrigin = 'anonymous';\n    image.src = url;\n  });\n}\nexport function svgToDataURL(svg) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", Promise.resolve().then(function () {\n              return new XMLSerializer().serializeToString(svg);\n            }).then(encodeURIComponent).then(function (html) {\n              return \"data:image/svg+xml;charset=utf-8,\".concat(html);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\nexport function getBlobFromImageURL(url) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", createImage(url).then(function (image) {\n              var width = image.width,\n                  height = image.height;\n              var canvas = document.createElement('canvas');\n              var context = canvas.getContext('2d');\n              var ratio = getPixelRatio();\n              canvas.width = width * ratio;\n              canvas.height = height * ratio;\n              canvas.style.width = \"\".concat(width);\n              canvas.style.height = \"\".concat(height);\n              context.scale(ratio, ratio);\n              context.drawImage(image, 0, 0);\n              var dataURL = canvas.toDataURL(getMimeType(url));\n              return getDataURLContent(dataURL);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}","/* tslint:disable:max-line-length */\nimport { getDataURLContent } from './util'; // KNOWN ISSUE\n// -----------\n// Can not handle redirect-url, such as when access 'http://something.com/avatar.png'\n// will redirect to 'http://something.com/65fc2ffcc8aea7ba65a1d1feda173540'\n\nvar TIMEOUT = 30000;\nvar cache = {};\n\nfunction isFont(filename) {\n  return /ttf|otf|eot|woff2?/i.test(filename);\n}\n\nexport function getBlobFromURL(url, options) {\n  var href = url.replace(/\\?.*/, '');\n\n  if (isFont(href)) {\n    href = href.replace(/.*\\//, '');\n  }\n\n  if (cache[href]) {\n    return cache[href];\n  } // cache bypass so we dont have CORS issues with cached images\n  // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n\n\n  if (options.cacheBust) {\n    // tslint:disable-next-line\n    url += (/\\?/.test(url) ? '&' : '?') + new Date().getTime();\n  }\n\n  var failed = function failed(reason) {\n    var placeholder = '';\n\n    if (options.imagePlaceholder) {\n      var parts = options.imagePlaceholder.split(/,/);\n\n      if (parts && parts[1]) {\n        placeholder = parts[1];\n      }\n    }\n\n    var msg = \"Failed to fetch resource: \".concat(url);\n\n    if (reason) {\n      msg = typeof reason === 'string' ? reason : reason.message;\n    }\n\n    if (msg) {\n      console.error(msg);\n    }\n\n    return placeholder;\n  };\n\n  var deferred = window.fetch ? window.fetch(url).then(function (res) {\n    return res.blob().then(function (blob) {\n      return {\n        blob: blob,\n        contentType: res.headers.get('Content-Type') || ''\n      };\n    });\n  }).then(function (_ref) {\n    var blob = _ref.blob,\n        contentType = _ref.contentType;\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        return resolve({\n          contentType: contentType,\n          blob: reader.result\n        });\n      };\n\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n  }).then(function (_ref2) {\n    var blob = _ref2.blob,\n        contentType = _ref2.contentType;\n    return {\n      contentType: contentType,\n      blob: getDataURLContent(blob)\n    };\n  }) : new Promise(function (resolve, reject) {\n    var req = new XMLHttpRequest();\n\n    var timeout = function timeout() {\n      reject(new Error(\"Timeout of \".concat(TIMEOUT, \"ms occured while fetching resource: \").concat(url)));\n    };\n\n    var done = function done() {\n      if (req.readyState !== 4) {\n        return;\n      }\n\n      if (req.status !== 200) {\n        reject(new Error(\"Failed to fetch resource: \".concat(url, \", status: \").concat(req.status)));\n        return;\n      }\n\n      var encoder = new FileReader();\n\n      encoder.onloadend = function () {\n        resolve({\n          blob: getDataURLContent(encoder.result),\n          contentType: req.getResponseHeader('Content-Type') || ''\n        });\n      };\n\n      encoder.readAsDataURL(req.response);\n    };\n\n    req.onreadystatechange = done;\n    req.ontimeout = timeout;\n    req.responseType = 'blob';\n    req.timeout = TIMEOUT;\n    req.open('GET', url, true);\n    req.send();\n  });\n  var promise = deferred.catch(failed); // cache result\n\n  cache[href] = promise;\n  return promise;\n}","import { uuid, toArray } from './util';\nvar Pseudo;\n\n(function (Pseudo) {\n  function clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    var style = window.getComputedStyle(nativeNode, pseudo);\n    var content = style.getPropertyValue('content');\n\n    if (content === '' || content === 'none') {\n      return;\n    }\n\n    var className = uuid(); // fix: Cannot assign to read only property 'className' of object '#<…\n\n    try {\n      clonedNode.className = \"\".concat(clonedNode.className, \" \").concat(className);\n    } catch (err) {\n      return;\n    }\n\n    var styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.appendChild(styleElement);\n  }\n\n  Pseudo.clonePseudoElement = clonePseudoElement;\n\n  function getPseudoElementStyle(className, pseudo, style) {\n    var selector = \".\".concat(className, \":\").concat(pseudo);\n    var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n    return document.createTextNode(\"\".concat(selector, \"{\").concat(cssText, \"}\"));\n  }\n\n  function formatCssText(style) {\n    var content = style.getPropertyValue('content');\n    return \"\".concat(style.cssText, \" content: '\").concat(content.replace(/'|\"/g, ''), \"';\");\n  }\n\n  function formatCssProperties(style) {\n    return toArray(style).map(function (name) {\n      var value = style.getPropertyValue(name);\n      var priority = style.getPropertyPriority(name);\n      return \"\".concat(name, \": \").concat(value).concat(priority ? ' !important' : '', \";\");\n    }).join(' ');\n  }\n})(Pseudo || (Pseudo = {}));\n\nexport function clonePseudoElements(nativeNode, clonedNode) {\n  var pseudos = [':before', ':after'];\n  pseudos.forEach(function (pseudo) {\n    return Pseudo.clonePseudoElement(nativeNode, clonedNode, pseudo);\n  });\n}","import _regeneratorRuntime from \"/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { getBlobFromURL } from './getBlobFromURL';\nimport { clonePseudoElements } from './clonePseudoElements';\nimport { createImage, toArray, toDataURL, getMimeType } from './util';\n\nfunction cloneSingleNode(node, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var dataURL;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(node instanceof HTMLCanvasElement)) {\n              _context.next = 5;\n              break;\n            }\n\n            dataURL = node.toDataURL();\n\n            if (!(dataURL === 'data:,')) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve(node.cloneNode(false)));\n\n          case 4:\n            return _context.abrupt(\"return\", createImage(dataURL));\n\n          case 5:\n            if (!(node instanceof HTMLVideoElement && node.poster)) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve(node.poster).then(function (url) {\n              return getBlobFromURL(url, options);\n            }).then(function (data) {\n              return toDataURL(data.blob, getMimeType(node.poster) || data.contentType);\n            }).then(function (dataURL) {\n              return createImage(dataURL);\n            }));\n\n          case 7:\n            return _context.abrupt(\"return\", Promise.resolve(node.cloneNode(false)));\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nfunction cloneChildren(nativeNode, clonedNode, options) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var children;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            children = toArray(((_a = nativeNode.shadowRoot) !== null && _a !== void 0 ? _a : nativeNode).childNodes);\n\n            if (!(children.length === 0)) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Promise.resolve(clonedNode));\n\n          case 3:\n            return _context2.abrupt(\"return\", children.reduce(function (done, child) {\n              return done.then(function () {\n                return cloneNode(child, options);\n              }).then(function (clonedChild) {\n                if (clonedChild) {\n                  clonedNode.appendChild(clonedChild);\n                }\n              });\n            }, Promise.resolve()).then(function () {\n              return clonedNode;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\n\nfunction decorate(nativeNode, clonedNode) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (clonedNode instanceof Element) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", clonedNode);\n\n          case 2:\n            return _context3.abrupt(\"return\", Promise.resolve().then(function () {\n              return cloneCssStyle(nativeNode, clonedNode);\n            }).then(function () {\n              return clonePseudoElements(nativeNode, clonedNode);\n            }).then(function () {\n              return cloneInputValue(nativeNode, clonedNode);\n            }).then(function () {\n              return clonedNode;\n            }));\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}\n\nfunction cloneCssStyle(nativeNode, clonedNode) {\n  var source = window.getComputedStyle(nativeNode);\n  var target = clonedNode.style;\n\n  if (!target) {\n    return;\n  }\n\n  if (source.cssText) {\n    target.cssText = source.cssText;\n  } else {\n    toArray(source).forEach(function (name) {\n      target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n    });\n  }\n}\n\nfunction cloneInputValue(nativeNode, clonedNode) {\n  if (nativeNode instanceof HTMLTextAreaElement) {\n    clonedNode.innerHTML = nativeNode.value;\n  }\n\n  if (nativeNode instanceof HTMLInputElement) {\n    clonedNode.setAttribute('value', nativeNode.value);\n  }\n}\n\nexport function cloneNode(nativeNode, options, isRoot) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(!isRoot && options.filter && !options.filter(nativeNode))) {\n              _context4.next = 2;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", Promise.resolve(null));\n\n          case 2:\n            return _context4.abrupt(\"return\", Promise.resolve(nativeNode).then(function (clonedNode) {\n              return cloneSingleNode(clonedNode, options);\n            }).then(function (clonedNode) {\n              return cloneChildren(nativeNode, clonedNode, options);\n            }).then(function (clonedNode) {\n              return decorate(nativeNode, clonedNode);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _slicedToArray from \"/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { getBlobFromURL } from './getBlobFromURL';\nimport { isDataUrl, toDataURL, getMimeType } from './util';\nvar URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nvar URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"'])([^\"']+)\\1\\)/g;\nvar FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nexport function shouldEmbed(string) {\n  return string.search(URL_REGEX) !== -1;\n}\nexport function embedResources(cssString, baseUrl, options) {\n  if (!shouldEmbed(cssString)) {\n    return Promise.resolve(cssString);\n  }\n\n  var filteredCssString = filterPreferredFontFormat(cssString, options);\n  return Promise.resolve(filteredCssString).then(parseURLs).then(function (urls) {\n    return urls.reduce(function (done, url) {\n      return done.then(function (ret) {\n        return embed(ret, url, baseUrl, options);\n      });\n    }, Promise.resolve(filteredCssString));\n  });\n}\nexport function filterPreferredFontFormat(str, _ref) {\n  var preferredFontFormat = _ref.preferredFontFormat;\n  return !preferredFontFormat ? str : str.replace(FONT_SRC_REGEX, function (match) {\n    while (true) {\n      var _ref2 = URL_WITH_FORMAT_REGEX.exec(match) || [],\n          _ref3 = _slicedToArray(_ref2, 3),\n          src = _ref3[0],\n          format = _ref3[2];\n\n      if (!format) {\n        return '';\n      }\n\n      if (format === preferredFontFormat) {\n        return \"src: \".concat(src, \";\");\n      }\n    }\n  });\n}\nexport function parseURLs(str) {\n  var result = [];\n  str.replace(URL_REGEX, function (raw, quotation, url) {\n    result.push(url);\n    return raw;\n  });\n  return result.filter(function (url) {\n    return !isDataUrl(url);\n  });\n}\nexport function embed(cssString, resourceURL, baseURL, options, get) {\n  var resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n  return Promise.resolve(resolvedURL).then(function (url) {\n    return get ? get(url) : getBlobFromURL(url, options);\n  }).then(function (data) {\n    if (typeof data === 'string') {\n      return toDataURL(data, getMimeType(resourceURL));\n    }\n\n    return toDataURL(data.blob, getMimeType(resourceURL) || data.contentType);\n  }).then(function (dataURL) {\n    return cssString.replace(urlToRegex(resourceURL), \"$1\".concat(dataURL, \"$3\"));\n  }).then(function (content) {\n    return content;\n  }, function () {\n    return resolvedURL;\n  });\n}\n\nfunction resolveUrl(url, baseUrl) {\n  // url is absolute already\n  if (url.match(/^[a-z]+:\\/\\//i)) {\n    return url;\n  } // url is absolute already, without protocol\n\n\n  if (url.match(/^\\/\\//)) {\n    return window.location.protocol + url;\n  } // dataURI, mailto:, tel:, etc.\n\n\n  if (url.match(/^[a-z]+:/i)) {\n    return url;\n  }\n\n  var doc = document.implementation.createHTMLDocument();\n  var base = doc.createElement('base');\n  var a = doc.createElement('a');\n  doc.head.appendChild(base);\n  doc.body.appendChild(a);\n\n  if (baseUrl) {\n    base.href = baseUrl;\n  }\n\n  a.href = url;\n  return a.href;\n}\n\nfunction urlToRegex(url) {\n  return new RegExp(\"(url\\\\(['\\\"]?)(\".concat(escape(url), \")(['\\\"]?\\\\))\"), 'g');\n}\n\nfunction escape(url) {\n  return url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n}","import _regeneratorRuntime from \"/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { getBlobFromURL } from './getBlobFromURL';\nimport { embedResources } from './embedResources';\nimport { toArray, isDataUrl, toDataURL, getMimeType } from './util';\nexport function embedImages(clonedNode, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (clonedNode instanceof Element) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve(clonedNode));\n\n          case 2:\n            return _context.abrupt(\"return\", Promise.resolve(clonedNode).then(function (node) {\n              return embedBackground(node, options);\n            }).then(function (node) {\n              return embedImageNode(node, options);\n            }).then(function (node) {\n              return embedChildren(node, options);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nfunction embedBackground(clonedNode, options) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var background;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            background = (_a = clonedNode.style) === null || _a === void 0 ? void 0 : _a.getPropertyValue('background');\n\n            if (background) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Promise.resolve(clonedNode));\n\n          case 3:\n            return _context2.abrupt(\"return\", Promise.resolve(background).then(function (cssString) {\n              return embedResources(cssString, null, options);\n            }).then(function (cssString) {\n              clonedNode.style.setProperty('background', cssString, clonedNode.style.getPropertyPriority('background'));\n              return clonedNode;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\n\nfunction embedImageNode(clonedNode, options) {\n  if (!(clonedNode instanceof HTMLImageElement) || isDataUrl(clonedNode.src)) {\n    return Promise.resolve(clonedNode);\n  }\n\n  var src = clonedNode.src;\n  return Promise.resolve(src).then(function (url) {\n    return getBlobFromURL(url, options);\n  }).then(function (data) {\n    return toDataURL(data.blob, getMimeType(src) || data.contentType);\n  }).then(function (dataURL) {\n    return new Promise(function (resolve, reject) {\n      clonedNode.onload = resolve;\n      clonedNode.onerror = reject;\n      clonedNode.srcset = '';\n      clonedNode.src = dataURL;\n    });\n  }).then(function () {\n    return clonedNode;\n  }, function () {\n    return clonedNode;\n  });\n}\n\nfunction embedChildren(clonedNode, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var children, deferreds;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            children = toArray(clonedNode.childNodes);\n            deferreds = children.map(function (child) {\n              return embedImages(child, options);\n            });\n            return _context3.abrupt(\"return\", Promise.all(deferreds).then(function () {\n              return clonedNode;\n            }));\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}","import _regeneratorRuntime from \"/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { toArray } from './util';\nimport { shouldEmbed, embedResources } from './embedResources';\nvar cssFetchPromiseStore = {};\nexport function parseWebFontRules(clonedNode) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              if (!clonedNode.ownerDocument) {\n                reject(new Error('Provided element is not within a Document'));\n              }\n\n              resolve(toArray(clonedNode.ownerDocument.styleSheets));\n            }).then(function (styleSheets) {\n              return getCssRules(styleSheets);\n            }).then(getWebFontRules));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\nexport function embedWebFonts(clonedNode, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", (options.fontEmbedCss != null ? Promise.resolve(options.fontEmbedCss) : getWebFontCss(clonedNode, options)).then(function (cssString) {\n              var styleNode = document.createElement('style');\n              var sytleContent = document.createTextNode(cssString);\n              styleNode.appendChild(sytleContent);\n\n              if (clonedNode.firstChild) {\n                clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n              } else {\n                clonedNode.appendChild(styleNode);\n              }\n\n              return clonedNode;\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\nexport function getWebFontCss(node, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", parseWebFontRules(node).then(function (rules) {\n              return Promise.all(rules.map(function (rule) {\n                var baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n                return embedResources(rule.cssText, baseUrl, options);\n              }));\n            }).then(function (cssStrings) {\n              return cssStrings.join('\\n');\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}\nexport function getCssRules(styleSheets) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var ret, promises;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            ret = [];\n            promises = []; // First loop inlines imports\n\n            styleSheets.forEach(function (sheet) {\n              if ('cssRules' in sheet) {\n                try {\n                  toArray(sheet.cssRules).forEach(function (item, index) {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                      var importIndex = index + 1;\n                      promises.push(fetchCSS(item.href, sheet).then(embedFonts).then(function (cssText) {\n                        var parsed = parseCSS(cssText);\n                        parsed.forEach(function (rule) {\n                          try {\n                            sheet.insertRule(rule, rule.startsWith('@import') ? importIndex = importIndex + 1 : sheet.cssRules.length);\n                          } catch (error) {\n                            console.log('Error inserting rule from remote css', {\n                              rule: rule,\n                              error: error\n                            });\n                          }\n                        });\n                      }).catch(function (e) {\n                        console.log('Error loading remote css', e.toString());\n                      }));\n                    }\n                  });\n                } catch (e) {\n                  var inline = styleSheets.find(function (a) {\n                    return a.href === null;\n                  }) || document.styleSheets[0];\n\n                  if (sheet.href != null) {\n                    promises.push(fetchCSS(sheet.href, inline).then(embedFonts).then(function (cssText) {\n                      var parsed = parseCSS(cssText);\n                      parsed.forEach(function (rule) {\n                        inline.insertRule(rule, sheet.cssRules.length);\n                      });\n                    }).catch(function (e) {\n                      console.log('Error loading remote stylesheet', e.toString());\n                    }));\n                  }\n\n                  console.log('Error inlining remote css file', e.toString());\n                }\n              }\n            });\n            return _context4.abrupt(\"return\", Promise.all(promises).then(function () {\n              // Second loop parses rules\n              styleSheets.forEach(function (sheet) {\n                if ('cssRules' in sheet) {\n                  try {\n                    toArray(sheet.cssRules).forEach(function (item) {\n                      ret.push(item);\n                    });\n                  } catch (e) {\n                    console.log(\"Error while reading CSS rules from \".concat(sheet.href), e.toString());\n                  }\n                }\n              });\n              return ret;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n}\n\nfunction getWebFontRules(cssRules) {\n  return cssRules.filter(function (rule) {\n    return rule.type === CSSRule.FONT_FACE_RULE;\n  }).filter(function (rule) {\n    return shouldEmbed(rule.style.getPropertyValue('src'));\n  });\n}\n\nfunction parseCSS(source) {\n  if (source === undefined) {\n    return [];\n  }\n\n  var cssText = source;\n  var css = [];\n  var cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n  var combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' + '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; // to match css & media queries together\n\n  var cssCommentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n  var importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi; // strip out comments\n\n  cssText = cssText.replace(cssCommentsRegex, '');\n  var keyframesRegex = new RegExp(cssKeyframeRegex, 'gi');\n  var arr;\n\n  while (true) {\n    arr = keyframesRegex.exec(cssText);\n\n    if (arr === null) {\n      break;\n    }\n\n    css.push(arr[0]);\n  }\n\n  cssText = cssText.replace(keyframesRegex, ''); // unified regex\n\n  var unified = new RegExp(combinedCSSRegex, 'gi');\n\n  while (true) {\n    arr = importRegex.exec(cssText);\n\n    if (arr === null) {\n      arr = unified.exec(cssText);\n\n      if (arr === null) {\n        break;\n      } else {\n        importRegex.lastIndex = unified.lastIndex;\n      }\n    } else {\n      unified.lastIndex = importRegex.lastIndex;\n    }\n\n    css.push(arr[0]);\n  }\n\n  return css;\n}\n\nfunction fetchCSS(url, sheet) {\n  if (cssFetchPromiseStore[url]) {\n    return cssFetchPromiseStore[url];\n  }\n\n  var promise = fetch(url).then(function (res) {\n    return {\n      url: url,\n      cssText: res.text()\n    };\n  }, function (e) {\n    console.log('ERROR FETCHING CSS: ', e.toString());\n  });\n  cssFetchPromiseStore[url] = promise;\n  return promise;\n}\n\nfunction embedFonts(data) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", data.cssText.then(function (resolved) {\n              var cssText = resolved;\n              var regexUrlFind = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n              var fontLocations = cssText.match(/url\\([^)]+\\)/g) || [];\n              var fontLoadedPromises = fontLocations.map(function (location) {\n                var url = location.replace(regexUrlFind, '$1');\n\n                if (!url.startsWith('https://')) {\n                  var source = data.url;\n                  url = new URL(url, source).href;\n                }\n\n                return new Promise(function (resolve, reject) {\n                  fetch(url).then(function (res) {\n                    return res.blob();\n                  }).then(function (blob) {\n                    var reader = new FileReader();\n                    reader.addEventListener('load', function (res) {\n                      // Side Effect\n                      cssText = cssText.replace(location, \"url(\".concat(reader.result, \")\"));\n                      resolve([location, reader.result]);\n                    });\n                    reader.readAsDataURL(blob);\n                  }).catch(reject);\n                });\n              });\n              return Promise.all(fontLoadedPromises).then(function () {\n                return cssText;\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n}","import { svgToDataURL } from './util';\nexport function createSvgDataURL(clonedNode, width, height) {\n  var xmlns = 'http://www.w3.org/2000/svg';\n  var svg = document.createElementNS(xmlns, 'svg');\n  var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n  svg.setAttributeNS('', 'width', \"\".concat(width));\n  svg.setAttributeNS('', 'height', \"\".concat(height));\n  svg.setAttributeNS('', 'viewBox', \"0 0 \".concat(width, \" \").concat(height));\n  foreignObject.setAttributeNS('', 'width', '100%');\n  foreignObject.setAttributeNS('', 'height', '100%');\n  foreignObject.setAttributeNS('', 'x', '0');\n  foreignObject.setAttributeNS('', 'y', '0');\n  foreignObject.setAttributeNS('', 'externalResourcesRequired', 'true');\n  svg.appendChild(foreignObject);\n  foreignObject.appendChild(clonedNode);\n  return svgToDataURL(svg);\n}","export function applyStyleWithOptions(clonedNode, options) {\n  var style = clonedNode.style;\n\n  if (options.backgroundColor) {\n    style.backgroundColor = options.backgroundColor;\n  }\n\n  if (options.width) {\n    style.width = \"\".concat(options.width, \"px\");\n  }\n\n  if (options.height) {\n    style.height = \"\".concat(options.height, \"px\");\n  }\n\n  var manual = options.style;\n\n  if (manual != null) {\n    Object.keys(manual).forEach(function (key) {\n      // @ts-expect-error\n      style[key] = manual[key];\n    });\n  }\n\n  return clonedNode;\n}","import _regeneratorRuntime from \"/home/philipp/git/cmu-isle/isle-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { cloneNode } from './cloneNode';\nimport { embedImages } from './embedImages';\nimport { embedWebFonts, getWebFontCss } from './embedWebFonts';\nimport { createSvgDataURL } from './createSvgDataURL';\nimport { applyStyleWithOptions } from './applyStyleWithOptions';\nimport { delay, createImage, canvasToBlob, getNodeWidth, getNodeHeight, getPixelRatio } from './util';\n\nfunction getImageSize(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var width = options.width || getNodeWidth(domNode);\n  var height = options.height || getNodeHeight(domNode);\n  return {\n    width: width,\n    height: height\n  };\n}\n\nexport function toSvg(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _getImageSize, width, height;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _getImageSize = getImageSize(domNode, options), width = _getImageSize.width, height = _getImageSize.height;\n            return _context.abrupt(\"return\", cloneNode(domNode, options, true).then(function (clonedNode) {\n              return embedWebFonts(clonedNode, options);\n            }).then(function (clonedNode) {\n              return embedImages(clonedNode, options);\n            }).then(function (clonedNode) {\n              return applyStyleWithOptions(clonedNode, options);\n            }).then(function (clonedNode) {\n              return createSvgDataURL(clonedNode, width, height);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\nexport var toSvgDataURL = toSvg;\nexport function toCanvas(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", toSvg(domNode, options).then(createImage).then(delay(100)).then(function (image) {\n              var canvas = document.createElement('canvas');\n              var context = canvas.getContext('2d');\n              var ratio = options.pixelRatio || getPixelRatio();\n\n              var _getImageSize2 = getImageSize(domNode, options),\n                  width = _getImageSize2.width,\n                  height = _getImageSize2.height;\n\n              var canvasWidth = options.canvasWidth || width;\n              var canvasHeight = options.canvasHeight || height;\n              canvas.width = canvasWidth * ratio;\n              canvas.height = canvasHeight * ratio;\n              canvas.style.width = \"\".concat(canvasWidth);\n              canvas.style.height = \"\".concat(canvasHeight);\n\n              if (options.backgroundColor) {\n                context.fillStyle = options.backgroundColor;\n                context.fillRect(0, 0, canvas.width, canvas.height);\n              }\n\n              context.drawImage(image, 0, 0, canvas.width, canvas.height);\n              return canvas;\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\nexport function toPixelData(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var _getImageSize3, width, height;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _getImageSize3 = getImageSize(domNode, options), width = _getImageSize3.width, height = _getImageSize3.height;\n            return _context3.abrupt(\"return\", toCanvas(domNode, options).then(function (canvas) {\n              var ctx = canvas.getContext('2d');\n              return ctx.getImageData(0, 0, width, height).data;\n            }));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}\nexport function toPng(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", toCanvas(domNode, options).then(function (canvas) {\n              return canvas.toDataURL();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n}\nexport function toJpeg(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", toCanvas(domNode, options).then(function (canvas) {\n              return canvas.toDataURL('image/jpeg', options.quality || 1);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n}\nexport function toBlob(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt(\"return\", toCanvas(domNode, options).then(canvasToBlob));\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n}\nexport function getWebFontEmbedCss(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            return _context7.abrupt(\"return\", getWebFontCss(domNode, options));\n\n          case 1:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n}","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Tooltip from '@isle-project/components/tooltip';\n\n\n// MAIN //\n\nclass FullscreenButton extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tfullscreen: false\n\t\t};\n\t}\n\n\ttoggleFullscreen = () => {\n\t\tthis.setState({\n\t\t\tfullscreen: !this.state.fullscreen\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Tooltip\n\t\t\t\t\tid=\"fullscreen_tooltip\"\n\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\ttooltip={t('toggle-fullscreen')}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outline-danger\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={this.toggleFullscreen}\n\t\t\t\t\t\tstyle={{ position: 'absolute', top: '10px', right: '32px' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"fa fa-window-maximize\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Modal\n\t\t\t\t\tshow={this.state.fullscreen}\n\t\t\t\t\tonHide={this.toggleFullscreen}\n\t\t\t\t\tdialogClassName=\"modal-100w\"\n\t\t\t\t>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title as=\"h1\">\n\t\t\t\t\t\t\t{t('decision-tree')}\n\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: 0.75 * window.innerHeight,\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\tfontSize: 32,\n\t\t\t\t\t\t\toverflow: 'scroll'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"decision-tree decision-tree-fullscreen\">\n\t\t\t\t\t\t\t{this.props.tree}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button onClick={this.toggleFullscreen}>{t('close')}</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nFullscreenButton.propTypes = {\n\ttree: PropTypes.node.isRequired\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( 'models' )( FullscreenButton );\n","// MODULES //\n\nimport React, { Component } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { toJpeg } from 'html-to-image';\nimport { isPrimitive as isNumber } from '@stdlib/assert/is-number';\nimport isInteger from '@stdlib/assert/is-integer';\nimport randomstring from '@isle-project/utils/randomstring/alphanumeric';\nimport html2clipboard from '@isle-project/utils/html-to-clipboard';\nimport FullscreenButton from './fullscreen_button';\nimport './tree.css';\n\n\n// VARIABLES //\n\nconst RE_NUMBER = /^[+-]?[\\d.]+e?[+-]?\\d*$/;\n\n\n// FUNCTIONS //\n\nfunction treeToHtml( tree, t ) {\n\tif ( !tree ) {\n\t\treturn null;\n\t}\n\tif ( tree.category ) {\n\t\tlet value = tree.category;\n\t\tif ( isNumber( value ) || RE_NUMBER.test( value ) ) {\n\t\t\tvalue = Number( value );\n\t\t\tif ( !isInteger( value ) ) {\n\t\t\t\tvalue = value.toFixed( 6 );\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<ul>\n\t\t\t\t<li >\n\t\t\t\t\t<span className=\"decision-tree-leaf\" >{t('predict')}: {value} </span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t);\n\t}\n\treturn (\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<span><b> {tree.attribute} {tree.predicateName} {tree.pivot} ?</b></span>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span>{t('no')} ( {tree.notMatchedCount} {t('obs')}) </span>\n\t\t\t\t\t\t{treeToHtml( tree.notMatch, t )}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span>{t('yes')} ( {tree.matchedCount} {t('obs')}) </span>\n\t\t\t\t\t\t{treeToHtml( tree.match, t )}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t);\n}\n\n\n// MAIN //\n\nclass TreePlot extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tplotValue: null,\n\t\t\tplotKey: null,\n\t\t\tfullscreen: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( !this.tree ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.treeWrapper.scrollLeft = 0.4 * this.tree.clientWidth;\n\t\ttoJpeg( this.tree, {\n\t\t\tbackgroundColor: 'white',\n\t\t\tstyle: {\n\t\t\t\tfontSize: 22\n\t\t\t}\n\t\t}).then( ( data ) => {\n\t\t\tconst value = `<img src=\"${data}\" style=\"display: block; margin: 0 auto; max-width: 100%; max-height: 100%\" />`;\n\t\t\tthis.setState({\n\t\t\t\tplotKey: `<!--IMAGE_LOG:${randomstring( 6 )}_${randomstring( 6 )}-->`,\n\t\t\t\tplotValue: value\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst tree = treeToHtml( this.props.tree, t );\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"decision-tree-wrapper\"\n\t\t\t\tref={( div ) => {\n\t\t\t\t\tthis.treeWrapper = div;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"decision-tree-draggable-bar\"\n\t\t\t\t\tdraggable=\"true\"\n\t\t\t\t\tonDragStart={( ev ) => {\n\t\t\t\t\t\tev.dataTransfer.setData( 'text/html', this.state.plotValue );\n\t\t\t\t\t\tev.dataTransfer.setData( 'text/plain', this.state.plotKey );\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thtml2clipboard( this.state.plotValue );\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ float: 'left' }}\n\t\t\t\t>{t('drag-plot')}</button>\n\t\t\t\t<FullscreenButton\n\t\t\t\t\tvariant=\"outline-danger\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({ fullscreen: !this.state.fullscreen });\n\t\t\t\t\t}}\n\t\t\t\t\ttree={tree}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"fa fa-times\" />\n\t\t\t\t</FullscreenButton>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"decision-tree\"\n\t\t\t\t\tref={( div ) => {\n\t\t\t\t\t\tthis.tree = div;\n\t\t\t\t\t}}\n\t\t\t\t>{tree}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// EXPORTS //\n\nexport default withTranslation( 'models' )( TreePlot );\n","// MAIN //\n\n/**\n* Splitting observations using specific predicate and pivot.\n*/\nfunction split( data, indices, attr, predicate, pivot ) {\n\tconst match = [];\n\tconst notMatch = [];\n\tconst values = data[ attr ];\n\n\tfor ( let i = indices.length - 1; i >= 0; i-- ) {\n\t\tconst idx = indices[ i ];\n\t\tconst attrValue = values[ idx ];\n\t\tif ( predicate( attrValue, pivot ) ) {\n\t\t\tmatch.push( idx );\n\t\t} else {\n\t\t\tnotMatch.push( idx );\n\t\t}\n\t}\n\treturn {\n\t\tmatch: match,\n\t\tnotMatch: notMatch\n\t};\n}\n\n\n// EXPORTS //\n\nexport default split;\n","\n/**\n* Contains MIT-licensed code:\n*\n* The MIT License (MIT)\n*\n* Copyright (c) 2013 Yurii Lahodiuk\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy of\n* this software and associated documentation files (the \"Software\"), to deal in\n* the Software without restriction, including without limitation the rights to\n* use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n* the Software, and to permit persons to whom the Software is furnished to do so,\n* subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n* FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n* COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n* IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n// MODULES //\n\nimport sample from '@stdlib/random/sample';\nimport contains from '@stdlib/assert/contains';\nimport hasOwnProp from '@stdlib/assert/has-own-property';\nimport ln from '@stdlib/math/base/special/ln';\nimport round from '@stdlib/math/base/special/round';\nimport incrspace from '@stdlib/array/incrspace';\nimport Plot from './tree_plot.js';\nimport split from './split.js';\n\n\n// FUNCTIONS //\n\n/**\n* Calculating how many elements have the same\n* values\n*\n* @param values - array of values\n*/\nfunction countUniqueValues( values, indices ) {\n\tconst counter = {};\n\n\t// Detect different values of attribute:\n\tfor ( let i = indices.length - 1; i >= 0; i--) {\n\t\tconst idx = indices[ i ];\n\t\tcounter[ values[ idx ] ] = 0;\n\t}\n\n\t// Count number of occurrences of each of value:\n\tfor ( let i = indices.length - 1; i >= 0; i--) {\n\t\tconst idx = indices[ i ];\n\t\tcounter[ values[ idx ] ] += 1;\n\t}\n\treturn counter;\n}\n\n/**\n* Finding value which is most frequent in an array.\n*\n* @param values - array of values\n*/\nfunction mostFrequentValue( values, indices ) {\n\t// Counting number of occurrences:\n\tconst counter = countUniqueValues( values, indices );\n\n\tlet mostFrequentCount = 0;\n\tlet mostFrequentValue;\n\tfor ( let value in counter ) {\n\t\tif ( counter[ value ] > mostFrequentCount ) {\n\t\t\tmostFrequentCount = counter[ value ];\n\t\t\tmostFrequentValue = value;\n\t\t}\n\t}\n\treturn mostFrequentValue;\n}\n\nfunction gini( values, indices ) {\n\tconst counter = countUniqueValues( values, indices );\n\tlet out = 0;\n\tfor ( let i in counter ) {\n\t\tif ( hasOwnProp( counter, i ) ) {\n\t\t\tconst p = counter[i] / indices.length;\n\t\t\tout += p * (1-p);\n\t\t}\n\t}\n\treturn out;\n}\n\n/**\n* Calculating entropy of a variable.\n*\n* @param values - array of values\n*/\nfunction entropy( values, indices ) {\n\t// Count number of occurrences of each value:\n\tconst counter = countUniqueValues( values, indices );\n\tlet entropy = 0;\n\tfor ( let i in counter ) {\n\t\tif ( hasOwnProp( counter, i ) ) {\n\t\t\tconst p = counter[i] / indices.length;\n\t\t\tentropy += -p * ln(p);\n\t\t}\n\t}\n\treturn entropy;\n}\n\n/**\n* Calculates the variance of a variable.\n*\n* @param values - array of values\n*/\nfunction variance( values, indices ) {\n\tconst len = indices.length;\n\tlet delta = 0;\n\tlet mean = 0;\n\tlet M2 = 0;\n\tlet N = 0;\n\n\tif ( !len ) {\n\t\treturn null;\n\t}\n\tif ( len < 2 ) {\n\t\treturn 0;\n\t}\n\tfor ( let i = 0; i < len; i++ ) {\n\t\tconst idx = indices[ i ];\n\t\tconst x = values[ idx ];\n\t\tN += 1;\n\t\tdelta = x - mean;\n\t\tmean += delta / N;\n\t\tM2 += delta * ( x - mean );\n\t}\n\treturn M2 / ( N - 1 );\n}\n\n/**\n* Calculates the mean of a variable.\n*\n* @param values - array of values\n*/\nfunction mean( values, indices ) {\n\tconst len = indices.length;\n\tif ( !len ) {\n\t\treturn null;\n\t}\n\tlet mu = 0;\n\tfor ( let i = 0; i < len; i++ ) {\n\t\tconst idx = indices[ i ];\n\t\tconst delta = values[ idx ] - mu;\n\t\tmu += delta / (i+1);\n\t}\n\treturn mu;\n}\n\n// VARIABLES //\n\nconst predicates = {\n\t'==': ( a, b ) => a == b, // eslint-disable-line eqeqeq\n\t'>=': ( a, b ) => a >= b\n};\n\n\n// MAIN //\n\n/**\n* Creates an instance of a decision tree for classification problems.\n*\n* @constructor\n* @param opts - contains training set and some configuration parameters\n*/\nfunction ClassificationTreeConstructor( opts ) {\n\tconst nobs = opts.data[ opts.response ].length;\n\n\tthis.importances = {};\n\tfor ( let j = 0; j < opts.predictors.length; j++ ) {\n\t\tthis.importances[ opts.predictors[ j ] ] = 0;\n\t}\n\tthis.root = buildClassificationTree({\n\t\tdata: opts.data,\n\t\tresponse: opts.response,\n\t\tpredictors: opts.predictors,\n\t\tindices: opts.indices ? opts.indices : incrspace( 0, nobs, 1 ),\n\t\tminItemsCount: opts.minItemsCount || 50,\n\t\tminBucket: opts.minBucket || ( round( ( opts.minItemsCount || 50 ) / 3 )),\n\t\tscoreThreshold: opts.scoreThreshold || 0.01,\n\t\tmaxTreeDepth: opts.maxTreeDepth || 20,\n\t\tquantitative: opts.quantitative,\n\t\tcriterion: opts.criterion === 'gini' ? gini : entropy\n\t}, this.importances );\n\n\tthis.predict = ( data, idx ) => {\n\t\tif ( idx === void 0 ) {\n\t\t\tconst nobs = data[ opts.predictors[ 0 ] ].length;\n\t\t\tconst out = new Array( nobs );\n\t\t\tfor ( let i = 0; i < nobs; i++ ) {\n\t\t\t\tout[ i ] = predict( this.root, data, i );\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn predict( this.root, data, idx );\n\t};\n}\n\n/**\n * Creates an instance of DecisionTree\n *\n * @constructor\n * @param builder - contains training set and\n *                  some configuration parameters\n */\nfunction RegressionTreeConstructor( opts ) {\n\tconst nobs = opts.data[ opts.response ].length;\n\n\tthis.root = buildRegressionTree({\n\t\tdata: opts.data,\n\t\tresponse: opts.response,\n\t\tpredictors: opts.predictors,\n\t\tindices: opts.indices ? opts.indices : incrspace( 0, nobs, 1 ),\n\t\tminItemsCount: opts.minItemsCount || 50,\n\t\tminBucket: opts.minBucket || ( round( ( opts.minItemsCount || 50 ) / 3 )),\n\t\tscoreThreshold: opts.scoreThreshold || 0.01,\n\t\tmaxTreeDepth: opts.maxTreeDepth || 20,\n\t\tquantitative: opts.quantitative\n\t});\n\n\tthis.predict = ( data, idx ) => {\n\t\tif ( idx === void 0 ) {\n\t\t\tconst nobs = data[ opts.predictors[ 0 ] ].length;\n\t\t\tconst out = new Array( nobs );\n\t\t\tfor ( let i = 0; i < nobs; i++ ) {\n\t\t\t\tout[ i ] = Number( predict( this.root, data, i ) );\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn Number( predict( this.root, data, idx ) );\n\t};\n}\n\n/**\n* Creates an instance of RandomForest with specific number of trees.\n*\n* @constructor\n* @param opts - contains configuration parameters for building decision trees\n*/\nfunction RandomForestClassifierConstructor( opts ) {\n\tthis.trees = buildRandomForestClassifier( opts );\n\tthis.importances = {};\n\tfor ( let i = 0; i < opts.predictors.length; i++ ) {\n\t\tconst attr = opts.predictors[ i ];\n\t\tthis.importances[ attr ] = 0;\n\t\tfor ( let j = 0; j < this.trees.length; j++ ) {\n\t\t\tthis.importances[ attr ] += this.trees[ j ].importances[ attr ];\n\t\t}\n\t\tthis.importances[ attr ] /= this.trees.length;\n\t}\n\tthis.predict = ( data, idx ) => {\n\t\tif ( idx === void 0 ) {\n\t\t\tconst nobs = data[ opts.predictors[ 0 ] ].length;\n\t\t\tconst out = new Array( nobs );\n\t\t\tfor ( let i = 0; i < nobs; i++ ) {\n\t\t\t\tout[ i ] = predictRandomForest( this.trees, data, i );\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn predictRandomForest( this.trees, data, idx );\n\t};\n}\n\n/**\n* Function for building classification decision tree.\n*/\nfunction buildClassificationTree( opts, importances ) {\n\tconst {\n\t\tdata, predictors, indices, response,\n\t\tminItemsCount, scoreThreshold, maxTreeDepth,\n\t\tquantitative, criterion, minBucket, nTry\n\t} = opts;\n\tconst nobs = indices.length;\n\tif ( ( maxTreeDepth === 0 ) || ( nobs <= minItemsCount ) ) {\n\t\t// Restriction by maximal depth of tree or size of training set is to small so we have to terminate process of building tree...\n\t\treturn {\n\t\t\tcategory: mostFrequentValue( data[ response ], indices )\n\t\t};\n\t}\n\tconst initialScore = criterion( data[ response ], indices );\n\n\t// Used as hash-set for avoiding the checking of split by rules with the same 'attribute-predicate-pivot' more than once\n\tconst alreadyChecked = {};\n\n\tlet bestSplit = {\n\t\tgain: 0\n\t};\n\tif ( nTry ) {\n\t\tpredictors = sample( predictors, { size: nTry });\n\t}\n\tfor ( let i = nobs - 1; i >= 0; i-- ) {\n\t\tconst idx = indices[ i ];\n\t\tfor ( let j = 0; j < predictors.length; j++ ) {\n\t\t\tconst attr = predictors[ j ];\n\n\t\t\t// Let the value of current attribute be the pivot:\n\t\t\tconst pivot = data[ attr ][ idx ];\n\n\t\t\t// Pick the predicate depending on the type of the attribute value...\n\t\t\tlet predicateName;\n\t\t\tif ( contains( quantitative, attr ) ) {\n\t\t\t\tpredicateName = '>=';\n\t\t\t} else {\n\t\t\t\t// No sense to compare non-numeric attributes so we will check only equality of such attributes...\n\t\t\t\tpredicateName = '==';\n\t\t\t}\n\n\t\t\tconst attrPredPivot = attr + predicateName + pivot;\n\t\t\tif ( alreadyChecked[attrPredPivot] ) {\n\t\t\t\t// Skip such pairs of 'attribute-predicate-pivot' which have been already checked...\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\talreadyChecked[ attrPredPivot ] = true;\n\t\t\tconst predicate = predicates[ predicateName ];\n\n\t\t\t// Splitting training set by given 'attribute-predicate-value':\n\t\t\tconst currSplit = split( data, indices, attr, predicate, pivot );\n\n\t\t\t// Recursively calculating for subsets:\n\t\t\tconst matchEntropy = criterion( data[ response ], currSplit.match );\n\t\t\tconst notMatchEntropy = criterion( data[ response ], currSplit.notMatch );\n\n\t\t\t// Calculating gain:\n\t\t\tlet newScore = 0;\n\t\t\tnewScore += matchEntropy * currSplit.match.length;\n\t\t\tnewScore += notMatchEntropy * currSplit.notMatch.length;\n\t\t\tnewScore /= nobs;\n\t\t\tconst currGain = initialScore - newScore;\n\t\t\tif (\n\t\t\t\tcurrGain > bestSplit.gain &&\n\t\t\t\tcurrSplit.match.length > minBucket &&\n\t\t\t\tcurrSplit.notMatch.length > minBucket\n\t\t\t) {\n\t\t\t\t// Remember pairs 'attribute-predicate-value' which provide gain...\n\t\t\t\tbestSplit = currSplit;\n\t\t\t\tbestSplit.predicateName = predicateName;\n\t\t\t\tbestSplit.predicate = predicate;\n\t\t\t\tbestSplit.attribute = attr;\n\t\t\t\tbestSplit.pivot = pivot;\n\t\t\t\tbestSplit.gain = currGain;\n\t\t\t}\n\t\t}\n\t}\n\tif ( !bestSplit.gain || ( bestSplit.gain / initialScore ) < scoreThreshold ) {\n\t\treturn { category: mostFrequentValue( data[ response ], indices ) };\n\t}\n\t// Building sub-trees:\n\topts.maxTreeDepth = maxTreeDepth - 1;\n\n\timportances[ bestSplit.attribute ] += bestSplit.gain;\n\n\topts.indices = bestSplit.match;\n\tconst matchSubTree = buildClassificationTree( opts, importances );\n\n\topts.indices = bestSplit.notMatch;\n\tconst notMatchSubTree = buildClassificationTree( opts, importances );\n\n\treturn {\n\t\tattribute: bestSplit.attribute,\n\t\tpredicate: bestSplit.predicate,\n\t\tpredicateName: bestSplit.predicateName,\n\t\tpivot: bestSplit.pivot,\n\t\tmatch: matchSubTree,\n\t\tnotMatch: notMatchSubTree,\n\t\tmatchedCount: bestSplit.match.length,\n\t\tnotMatchedCount: bestSplit.notMatch.length\n\t};\n}\n\n/**\n* Function for building classification decision tree.\n*/\nfunction buildRegressionTree( opts ) {\n\tconst {\n\t\tdata, predictors, indices, response,\n\t\tminItemsCount, scoreThreshold, maxTreeDepth,\n\t\tquantitative, minBucket, nTry\n\t} = opts;\n\n\tconst nobs = indices.length;\n\tif ((maxTreeDepth === 0) || ( nobs <= minItemsCount)) {\n\t\t// restriction by maximal depth of tree\n\t\t// or size of training set is to small\n\t\t// so we have to terminate process of building tree\n\t\treturn {\n\t\t\tcategory: mean( data[ response ], indices )\n\t\t};\n\t}\n\n\tconst initialScore = variance( data[ response ], indices );\n\n\t// used as hash-set for avoiding the checking of split by rules\n\t// with the same 'attribute-predicate-pivot' more than once\n\tconst alreadyChecked = {};\n\n\t// this variable expected to contain rule, which splits training set\n\t// into subsets with smaller values of entropy (produces informational gain)\n\tlet bestSplit = {\n\t\tgain: 0\n\t};\n\n\tif ( nTry ) {\n\t\tpredictors = sample( predictors, { size: nTry });\n\t}\n\tfor ( let i = nobs - 1; i >= 0; i-- ) {\n\t\tconst idx = indices[ i ];\n\n\t\t// iterating over all attributes of item\n\t\tfor ( let j = 0; j < predictors.length; j++ ) {\n\t\t\tconst attr = predictors[ j ];\n\n\t\t\t// let the value of current attribute be the pivot\n\t\t\tconst pivot = data[ attr ][ idx ];\n\n\t\t\t// Pick the predicate depending on the type of the attribute value:\n\t\t\tlet predicateName;\n\t\t\tif ( contains( quantitative, attr ) ) {\n\t\t\t\tpredicateName = '>=';\n\t\t\t} else {\n\t\t\t\t// There is no sense to compare non-numeric attributes so we will check only equality of such attributes...\n\t\t\t\tpredicateName = '==';\n\t\t\t}\n\n\t\t\tconst attrPredPivot = attr + predicateName + pivot;\n\t\t\tif ( alreadyChecked[attrPredPivot] ) {\n\t\t\t\t// skip such pairs of 'attribute-predicate-pivot',\n\t\t\t\t// which been already checked\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\talreadyChecked[ attrPredPivot ] = true;\n\n\t\t\tconst predicate = predicates[ predicateName ];\n\n\t\t\t// splitting training set by given 'attribute-predicate-value'\n\t\t\tconst currSplit = split( data, indices, attr, predicate, pivot );\n\n\t\t\t// calculating for subsets:\n\t\t\tconst matchEntropy = variance( data[ response ], currSplit.match );\n\t\t\tconst notMatchEntropy = variance( data[ response ], currSplit.notMatch );\n\n\t\t\t// calculating informational gain\n\t\t\tlet newScore = 0;\n\t\t\tnewScore += matchEntropy * currSplit.match.length;\n\t\t\tnewScore += notMatchEntropy * currSplit.notMatch.length;\n\t\t\tnewScore /= nobs;\n\t\t\tconst currGain = initialScore - newScore;\n\t\t\tif (\n\t\t\t\tcurrGain > bestSplit.gain &&\n\t\t\t\tcurrSplit.match.length > minBucket &&\n\t\t\t\tcurrSplit.notMatch.length > minBucket\n\t\t\t) {\n\t\t\t\tbestSplit = currSplit;\n\t\t\t\tbestSplit.predicateName = predicateName;\n\t\t\t\tbestSplit.predicate = predicate;\n\t\t\t\tbestSplit.attribute = attr;\n\t\t\t\tbestSplit.pivot = pivot;\n\t\t\t\tbestSplit.gain = currGain;\n\t\t\t}\n\t\t}\n\t}\n\tif ( !bestSplit.gain || ( bestSplit.gain / initialScore ) < scoreThreshold ) {\n\t\treturn { category: mean( data[ response ], indices ) };\n\t}\n\n\t// Building sub-trees:\n\topts.maxTreeDepth = maxTreeDepth - 1;\n\n\topts.indices = bestSplit.match;\n\tconst matchSubTree = buildRegressionTree( opts );\n\n\topts.indices = bestSplit.notMatch;\n\tconst notMatchSubTree = buildRegressionTree( opts );\n\n\treturn {\n\t\tattribute: bestSplit.attribute,\n\t\tpredicate: bestSplit.predicate,\n\t\tpredicateName: bestSplit.predicateName,\n\t\tpivot: bestSplit.pivot,\n\t\tmatch: matchSubTree,\n\t\tnotMatch: notMatchSubTree,\n\t\tmatchedCount: bestSplit.match.length,\n\t\tnotMatchedCount: bestSplit.notMatch.length\n\t};\n}\n\n/**\n* Returns the predicted value for the i-th observation using the decision tree.\n*/\nfunction predict( tree, data, i ) {\n\t// Traversing tree from the root to leaf:\n\twhile ( true ) {\n\t\tif ( tree.category ) {\n\t\t\t// Only leafs contains predicted category...\n\t\t\treturn tree.category;\n\t\t}\n\t\tconst attr = tree.attribute;\n\t\tconst value = data[ attr ][ i ];\n\t\tconst predicate = tree.predicate;\n\t\tconst pivot = tree.pivot;\n\n\t\t// Move to one of the sub-trees:\n\t\tif ( predicate( value, pivot ) ) {\n\t\t\ttree = tree.match;\n\t\t} else {\n\t\t\ttree = tree.notMatch;\n\t\t}\n\t}\n}\n\n/**\n* Building array of decision trees.\n*/\nfunction buildRandomForestClassifier( opts ) {\n\t// Creating training sets for each tree:\n\tconst trainingSets = [];\n\tconst nobs = opts.data[ opts.response ].length;\n\tconst indices = incrspace( 0, nobs, 1 );\n\tfor ( let t = 0; t < opts.nTrees; t++ ) {\n\t\ttrainingSets[ t ] = sample( indices );\n\t}\n\tconst forest = [];\n\tfor ( let t = 0; t < opts.nTrees; t++ ) {\n\t\topts.indices = trainingSets[ t ];\n\t\tconst tree = new ClassificationTreeConstructor( opts );\n\t\tforest.push( tree );\n\t}\n\treturn forest;\n}\n\n/**\n* Returns the majority vote prediction for the chosen item.\n*/\nfunction predictRandomForest( forest, data, idx ) {\n\tconst result = {};\n\tfor ( let i = 0; i < forest.length; i++ ) {\n\t\tconst tree = forest[ i ];\n\t\tconst prediction = tree.predict( data, idx );\n\t\tresult[ prediction ] = result[ prediction ] ? result[ prediction ] + 1 : 1;\n\t}\n\tlet max = -1;\n\tlet out;\n\tfor ( let key in result ) {\n\t\tif ( hasOwnProp( result, key ) ) {\n\t\t\tif ( result[ key ] > max ) {\n\t\t\t\tmax = result[ key ];\n\t\t\t\tout = key;\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport const ClassificationTree = ClassificationTreeConstructor;\nexport const RegressionTree = RegressionTreeConstructor;\nexport const RandomForestClassifier = RandomForestClassifierConstructor;\nexport const TreePlot = Plot;\n","export default function _readOnlyError(name) {\n  throw new TypeError(\"\\\"\" + name + \"\\\" is read-only\");\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}"],"names":["counter","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","WOFF","JPEG","mimes","woff","woff2","ttf","eot","png","jpg","jpeg","gif","tiff","svg","uuid","concat","Math","random","pow","toString","slice","getMimeType","url","ext","match","exec","getExtension","toLowerCase","delay","ms","args","setTimeout","isDataUrl","search","toDataURL","content","mimeType","getDataURLContent","dataURL","split","toArray","arrayLike","i","l","length","push","px","node","styleProperty","val","window","getComputedStyle","getPropertyValue","parseFloat","replace","getNodeWidth","leftBorder","rightBorder","clientWidth","getNodeHeight","topBorder","bottomBorder","clientHeight","getPixelRatio","ratio","FINAL_PROCESS","process","env","devicePixelRatio","parseInt","isNaN","createImage","image","Image","onload","onerror","crossOrigin","src","Pseudo","cache","getBlobFromURL","options","href","test","cacheBust","Date","getTime","promise","fetch","res","blob","contentType","headers","get","_ref","reader","FileReader","onloadend","readAsDataURL","_ref2","req","XMLHttpRequest","onreadystatechange","readyState","status","encoder","getResponseHeader","response","Error","ontimeout","responseType","timeout","open","send","catch","reason","placeholder","imagePlaceholder","parts","msg","message","console","error","clonePseudoElements","nativeNode","clonedNode","forEach","pseudo","clonePseudoElement","style","className","err","styleElement","document","createElement","appendChild","selector","cssText","formatCssText","map","name","priority","getPropertyPriority","join","formatCssProperties","createTextNode","getPseudoElementStyle","cloneSingleNode","this","_callee","_context","prev","HTMLCanvasElement","abrupt","cloneNode","HTMLVideoElement","poster","data","stop","cloneChildren","_a","_callee2","children","_context2","shadowRoot","childNodes","reduce","child","clonedChild","decorate","_callee3","_context3","Element","cloneCssStyle","cloneInputValue","source","target","setProperty","HTMLTextAreaElement","innerHTML","HTMLInputElement","setAttribute","isRoot","_callee4","_context4","filter","_slicedToArray","arr","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","unsupportedIterableToArray","TypeError","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","shouldEmbed","string","embedResources","cssString","baseUrl","str","preferredFontFormat","filteredCssString","_ref3","format","parseURLs","urls","ret","resourceURL","baseURL","resolvedURL","location","protocol","doc","implementation","createHTMLDocument","base","a","head","body","resolveUrl","RegExp","urlToRegex","raw","quotation","embedImages","embedBackground","embedImageNode","embedChildren","background","HTMLImageElement","srcset","deferreds","all","cssFetchPromiseStore","parseWebFontRules","ownerDocument","styleSheets","getCssRules","getWebFontRules","embedWebFonts","fontEmbedCss","styleNode","sytleContent","firstChild","insertBefore","rules","rule","parentStyleSheet","cssStrings","promises","sheet","cssRules","item","index","type","CSSRule","IMPORT_RULE","importIndex","fetchCSS","embedFonts","parseCSS","insertRule","startsWith","log","inline","find","FONT_FACE_RULE","css","importRegex","keyframesRegex","unified","lastIndex","text","_callee5","_context5","resolved","regexUrlFind","fontLoadedPromises","URL","addEventListener","createSvgDataURL","width","height","xmlns","createElementNS","foreignObject","setAttributeNS","XMLSerializer","serializeToString","encodeURIComponent","html","svgToDataURL","applyStyleWithOptions","backgroundColor","manual","keys","key","getImageSize","domNode","arguments","toSvg","_getImageSize","toCanvas","canvas","context","getContext","pixelRatio","_getImageSize2","canvasWidth","canvasHeight","fillStyle","fillRect","drawImage","FullscreenButton","setState","fullscreen","state","t","props","Fragment","id","placement","tooltip","Button","variant","size","onClick","toggleFullscreen","position","top","right","Modal","show","onHide","dialogClassName","closeButton","as","innerHeight","fontSize","overflow","tree","Component","withTranslation","RE_NUMBER","treeToHtml","category","isNumber","Number","isInteger","toFixed","attribute","predicateName","pivot","notMatchedCount","notMatch","matchedCount","TreePlot","plotValue","plotKey","treeWrapper","scrollLeft","quality","toJpeg","randomstring","ref","div","draggable","onDragStart","ev","dataTransfer","setData","html2clipboard","float","indices","attr","predicate","values","idx","countUniqueValues","mostFrequentValue","mostFrequentCount","gini","out","hasOwnProp","p","entropy","ln","variance","len","delta","mean","M2","N","x","mu","predicates","b","ClassificationTreeConstructor","opts","nobs","importances","j","predictors","root","buildClassificationTree","incrspace","minItemsCount","minBucket","round","scoreThreshold","maxTreeDepth","quantitative","criterion","predict","nTry","initialScore","alreadyChecked","bestSplit","gain","sample","attrPredPivot","contains","currSplit","matchEntropy","notMatchEntropy","newScore","currGain","matchSubTree","notMatchSubTree","buildRegressionTree","predictRandomForest","forest","prediction","max","ClassificationTree","RegressionTree","RandomForestClassifier","trees","trainingSets","nTrees","buildRandomForestClassifier","Plot","_readOnlyError","_arrayLikeToArray","arr2","_unsupportedIterableToArray","o","minLen","n","prototype","call","constructor","from"],"sourceRoot":""}