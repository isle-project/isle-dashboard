{"version":3,"sources":["../node_modules/@stdlib/assert/is-undefined-or-null/lib/index.js","../node_modules/@stdlib/assert/is-undefined-or-null/lib/main.js","../node_modules/@stdlib/constants/float64/max-safe-integer/lib/index.js","../node_modules/@stdlib/math/base/assert/is-infinite/lib/index.js","../node_modules/@stdlib/math/base/assert/is-infinite/lib/main.js","../node_modules/@stdlib/math/base/special/abs/lib/index.js","../node_modules/@stdlib/math/base/special/abs/lib/main.js","../node_modules/@stdlib/math/base/special/ceil/lib/index.js","../node_modules/@stdlib/math/base/special/ceil/lib/main.js","../node_modules/@stdlib/math/base/special/clamp/lib/index.js","../node_modules/@stdlib/math/base/special/clamp/lib/main.js","../node_modules/@stdlib/utils/omit/lib/index.js","../node_modules/@stdlib/utils/omit/lib/omit.js","actions/namespace.js","components/namespace-data/files_page.js","components/namespace-data/announcements_page.js","components/namespace-data/editable_progress.js","components/namespace-data/progress_page.js","components/namespace-data/cohorts_page.js","components/namespace-data/grades_page.js","components/namespace-data/actions_page.js","components/namespace-data/tickets_page.js","components/namespace-data/index.js","actions/announcement.js","containers/visible-namespace-data/index.js","utils/create_categorical_column.js","utils/create_numeric_column.js","utils/file_saver.js","../node_modules/prop-types-extra/lib/all.js","../node_modules/prop-types-extra/lib/utils/createChainableTypeChecker.js","../node_modules/react-bootstrap/cjs/Alert.js","../node_modules/react-bootstrap/cjs/Nav.js","../node_modules/react-bootstrap/cjs/NavItem.js","../node_modules/react-bootstrap/cjs/NavLink.js","../node_modules/react-bootstrap/cjs/ToggleButton.js","../node_modules/react-bootstrap/cjs/ToggleButtonGroup.js","../node_modules/react-bootstrap/cjs/createChainedFunction.js"],"names":[],"mappings":"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","file":"static/js/8766.087bb21d.chunk.js","sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is `undefined` or `null`.\n*\n* @module @stdlib/assert/is-undefined-or-null\n*\n* @example\n* var isUndefinedOrNull = require( '@stdlib/assert/is-undefined-or-null' );\n*\n* var bool = isUndefinedOrNull( void 0 );\n* // returns true\n*\n* bool = isUndefinedOrNull( null );\n* // returns true\n*\n* bool = isUndefinedOrNull( false );\n* // returns false\n*/\n\n// MODULES //\n\nvar isUndefinedOrNull = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isUndefinedOrNull;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is `undefined` or `null`.\n*\n* ## Notes\n*\n* -   In older browsers, `undefined` is a global which can be overridden. `void`, however, is an operator which **cannot** be overridden. Consequently, better to use `void` to check for `undefined`. See [Stack Overflow][1].\n*\n* [1]: http://stackoverflow.com/a/19369078/2225624\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is undefined\n*\n* @example\n* var bool = isUndefinedOrNull( undefined );\n* // returns true\n*\n* bool = isUndefinedOrNull( null );\n* // returns true\n*\n* bool = isUndefinedOrNull( false );\n* // returns false\n*/\nfunction isUndefinedOrNull( value ) {\n\treturn ( value === void 0 || value === null );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isUndefinedOrNull;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum safe double-precision floating-point integer.\n*\n* @module @stdlib/constants/float64/max-safe-integer\n* @type {number}\n*\n* @example\n* var FLOAT64_MAX_SAFE_INTEGER = require( '@stdlib/constants/float64/max-safe-integer' );\n* // returns 9007199254740991\n*/\n\n\n// MAIN //\n\n/**\n* Maximum safe double-precision floating-point integer.\n*\n* ## Notes\n*\n* The integer has the value\n*\n* ```tex\n* 2^{53} - 1\n* ```\n*\n* @constant\n* @type {number}\n* @default 9007199254740991\n* @see [Safe Integers]{@link http://www.2ality.com/2013/10/safe-integers.html}\n* @see [IEEE 754]{@link https://en.wikipedia.org/wiki/IEEE_754-1985}\n*/\nvar FLOAT64_MAX_SAFE_INTEGER = 9007199254740991;\n\n\n// EXPORTS //\n\nmodule.exports = FLOAT64_MAX_SAFE_INTEGER;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a double-precision floating-point numeric value is infinite.\n*\n* @module @stdlib/math/base/assert/is-infinite\n*\n* @example\n* var isInfinite = require( '@stdlib/math/base/assert/is-infinite' );\n*\n* var bool = isInfinite( Infinity );\n* // returns true\n*\n* bool = isInfinite( -Infinity );\n* // returns true\n*\n* bool = isInfinite( 5.0 );\n* // returns false\n*\n* bool = isInfinite( NaN );\n* // returns false\n*/\n\n// MODULES //\n\nvar isInfinite = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isInfinite;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar PINF = require( '@stdlib/constants/float64/pinf' );\nvar NINF = require( '@stdlib/constants/float64/ninf' );\n\n\n// MAIN //\n\n/**\n* Tests if a double-precision floating-point numeric value is infinite.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is infinite\n*\n* @example\n* var bool = isInfinite( Infinity );\n* // returns true\n*\n* @example\n* var bool = isInfinite( -Infinity );\n* // returns true\n*\n* @example\n* var bool = isInfinite( 5.0 );\n* // returns false\n*\n* @example\n* var bool = isInfinite( NaN );\n* // returns false\n*/\nfunction isInfinite( x ) {\n\treturn (x === PINF || x === NINF);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInfinite;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Compute an absolute value of a double-precision floating-point number.\n*\n* @module @stdlib/math/base/special/abs\n*\n* @example\n* var abs = require( '@stdlib/math/base/special/abs' );\n*\n* var v = abs( -1.0 );\n* // returns 1.0\n*\n* v = abs( 2.0 );\n* // returns 2.0\n*\n* v = abs( 0.0 );\n* // returns 0.0\n*\n* v = abs( -0.0 );\n* // returns 0.0\n*\n* v = abs( NaN );\n* // returns NaN\n*/\n\n// MODULES //\n\nvar abs = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = abs;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Computes the absolute value of a double-precision floating-point number `x`.\n*\n* @param {number} x - input value\n* @returns {number} absolute value\n*\n* @example\n* var v = abs( -1.0 );\n* // returns 1.0\n*\n* @example\n* var v = abs( 2.0 );\n* // returns 2.0\n*\n* @example\n* var v = abs( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = abs( -0.0 );\n* // returns 0.0\n*\n* @example\n* var v = abs( NaN );\n* // returns NaN\n*/\nfunction abs( x ) {\n\treturn Math.abs( x ); // eslint-disable-line stdlib/no-builtin-math\n}\n\n\n// EXPORTS //\n\nmodule.exports = abs;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Round a double-precision floating-point number toward positive infinity.\n*\n* @module @stdlib/math/base/special/ceil\n*\n* @example\n* var ceil = require( '@stdlib/math/base/special/ceil' );\n*\n* var v = ceil( -4.2 );\n* // returns -4.0\n*\n* v = ceil( 9.99999 );\n* // returns 10.0\n*\n* v = ceil( 0.0 );\n* // returns 0.0\n*\n* v = ceil( NaN );\n* // returns NaN\n*/\n\n// MODULES //\n\nvar ceil = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = ceil;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: implementation (?)\n\n/**\n* Rounds a double-precision floating-point number toward positive infinity.\n*\n* @param {number} x - input value\n* @returns {number} rounded value\n*\n* @example\n* var v = ceil( -4.2 );\n* // returns -4.0\n*\n* @example\n* var v = ceil( 9.99999 );\n* // returns 10.0\n*\n* @example\n* var v = ceil( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = ceil( NaN );\n* // returns NaN\n*/\nvar ceil = Math.ceil; // eslint-disable-line stdlib/no-builtin-math\n\n\n// EXPORTS //\n\nmodule.exports = ceil;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Restrict a double-precision floating-point number to a specified range.\n*\n* @module @stdlib/math/base/special/clamp\n*\n* @example\n* var clamp = require( '@stdlib/math/base/special/clamp' );\n*\n* var v = clamp( 3.14, 0.0, 5.0 );\n* // returns 3.14\n*\n* v = clamp( -3.14, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 10.0, 0.0, 5.0 );\n* // returns 5.0\n*\n* v = clamp( -0.0, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 0.0, -0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( NaN, 0.0, 5.0 );\n* // returns NaN\n*\n* v = clamp( 0.0, NaN, 5.0 );\n* // returns NaN\n*\n* v = clamp( 3.14, 0.0, NaN );\n* // returns NaN\n*/\n\n// MODULES //\n\nvar clamp = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = clamp;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isnan = require( './../../../../base/assert/is-nan' );\nvar isNegativeZero = require( './../../../../base/assert/is-negative-zero' );\n\n\n// MAIN //\n\n/**\n* Restricts a double-precision floating-point number to a specified range.\n*\n* @param {number} v - input value\n* @param {number} min - minimum value\n* @param {number} max - maximum value\n* @returns {number} value restricted to a specified range\n*\n* @example\n* var v = clamp( 3.14, 0.0, 5.0 );\n* // returns 3.14\n*\n* v = clamp( -3.14, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 10.0, 0.0, 5.0 );\n* // returns 5.0\n*\n* v = clamp( -0.0, 0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( 0.0, -0.0, 5.0 );\n* // returns 0.0\n*\n* v = clamp( NaN, 0.0, 5.0 );\n* // returns NaN\n*\n* v = clamp( 0.0, NaN, 5.0 );\n* // returns NaN\n*\n* v = clamp( 3.14, 0.0, NaN );\n* // returns NaN\n*/\nfunction clamp( v, min, max ) {\n\tif (\n\t\tisnan( v ) ||\n\t\tisnan( min ) ||\n\t\tisnan( max )\n\t) {\n\t\treturn NaN;\n\t}\n\t// Simple cases...\n\tif ( v < min ) {\n\t\treturn min;\n\t}\n\tif ( v > max ) {\n\t\treturn max;\n\t}\n\t// Special cases for handling +-0.0...\n\tif ( min === 0.0 && isNegativeZero( v ) ) {\n\t\treturn min; // +-0.0\n\t}\n\tif ( v === 0.0 && isNegativeZero( max ) ) {\n\t\treturn max; // -0.0\n\t}\n\t// Case: min <= v <= max\n\treturn v;\n}\n\n\n// EXPORTS //\n\nmodule.exports = clamp;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return a partial object copy excluding specified keys.\n*\n* @module @stdlib/utils/omit\n*\n* @example\n* var omit = require( '@stdlib/utils/omit' );\n*\n* var obj1 = {\n*     'a': 1,\n*     'b': 2\n* };\n*\n* var obj2 = omit( obj1, 'b' );\n* // returns { 'a': 1 }\n*/\n\n// MODULES //\n\nvar omit = require( './omit.js' );\n\n\n// EXPORTS //\n\nmodule.exports = omit;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar objectKeys = require( './../../keys' );\nvar isString = require( '@stdlib/assert/is-string' ).isPrimitive;\nvar isStringArray = require( '@stdlib/assert/is-string-array' ).primitives;\nvar indexOf = require( './../../index-of' );\n\n\n// MAIN //\n\n/**\n* Returns a partial object copy excluding specified keys.\n*\n* @param {Object} obj - source object\n* @param {(string|StringArray)} keys - keys to exclude\n* @throws {TypeError} first argument must be an object\n* @throws {TypeError} second argument must be either a string or an array of strings\n* @returns {Object} new object\n*\n* @example\n* var obj1 = {\n*     'a': 1,\n*     'b': 2\n* };\n*\n* var obj2 = omit( obj1, 'b' );\n* // returns { 'a': 1 }\n*/\nfunction omit( obj, keys ) {\n\tvar ownKeys;\n\tvar out;\n\tvar key;\n\tvar i;\n\tif ( typeof obj !== 'object' || obj === null ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be an object. Value: `'+obj+'`.' );\n\t}\n\townKeys = objectKeys( obj );\n\tout = {};\n\tif ( isString( keys ) ) {\n\t\tfor ( i = 0; i < ownKeys.length; i++ ) {\n\t\t\tkey = ownKeys[ i ];\n\t\t\tif ( key !== keys ) {\n\t\t\t\tout[ key ] = obj[ key ];\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\tif ( isStringArray( keys ) ) {\n\t\tfor ( i = 0; i < ownKeys.length; i++ ) {\n\t\t\tkey = ownKeys[ i ];\n\t\t\tif ( indexOf( keys, key ) === -1 ) {\n\t\t\t\tout[ key ] = obj[ key ];\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\tthrow new TypeError( 'invalid argument. Second argument must be either a string primitive or an array of string primitives. Value: `'+keys+'`.' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = omit;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport axios from 'axios';\nimport qs from 'querystring';\nimport i18next from 'i18next';\nimport saveAs from 'utils/file_saver.js';\nimport server from 'constants/server';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { getCohorts } from 'actions/cohort';\nimport { APPEND_CREATED_NAMESPACE, CHANGED_NAMESPACE, DELETED_CURRENT_NAMESPACE, GET_ALL_NAMESPACES, UPDATED_OWNED_NAMESPACE, UPDATED_STUDENT_PROGRESS } from 'constants/action_types.js';\n\n\n// EXPORTS //\n\n/**\n * Returns an action object to be used in signalling that a namespace has been created.\n *\n * @param {Object} namespace - the created namespace\n * @returns {Object} the action object\n */\nexport function appendCreatedNamespace( namespace ) {\n\treturn {\n\t\ttype: APPEND_CREATED_NAMESPACE,\n\t\tpayload: {\n\t\t\tnamespace\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that a namespace has been changed.\n *\n * @param {Object} namespace - the changed namespace\n * @param {string} namespace.title - namespace title\n * @param {Array} namespace.owners - ids of owners\n * @param {Array} namespace.announcements - announcements\n * @param {Array} namespace.cohorts - cohorts\n * @param {string} namespace.description - namespace description\n * @param {boolean} namespace.enableTicketing - controls if ticketing is enabled for the namespace\n * @param {string} namespace._id - id of the namespace\n * @returns {Object} the action object\n */\nexport function changedNamespace({ title, owners, announcements = [], cohorts = [], description, enableTicketing, _id }) {\n\treturn {\n\t\ttype: CHANGED_NAMESPACE,\n\t\tpayload: {\n\t\t\ttitle,\n\t\t\tannouncements,\n\t\t\tcohorts,\n\t\t\tdescription,\n\t\t\tenableTicketing,\n\t\t\towners,\n\t\t\t_id\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that a namespace has been deleted.\n *\n * @param {string} id - the id of the namespace to be deleted\n * @returns {Object} the action object\n */\nexport function deletedCurrentNamespace( id ) {\n\treturn {\n\t\ttype: DELETED_CURRENT_NAMESPACE,\n\t\tpayload: {\n\t\t\tid\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that a student's progress has been updated.\n *\n * @param {Object} options - progress of the student\n * @param {string} options.email - email of the student\n * @param {string} options.lessonId - lesson id\n * @param {number} options.progress - progress of the student\n * @param {Object} options.cohort - cohort of the student\n */\nexport function updateStudentProgress({ email, lessonID, progress, cohort }) {\n\treturn {\n\t\ttype: UPDATED_STUDENT_PROGRESS,\n\t\tpayload: {\n\t\t\temail, lessonID, progress, cohort\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that an owned namespace has been updated.\n *\n * @param {Object} namespace - the updated namespace\n * @param {string} namespace.title - namespace title\n * @param {Array} namespace.owners - ids of owners\n * @param {Array} namespace.enableTicketing - controls if ticketing is enabled for the namespace\n * @param {string} namespace._id - id of the namespace\n * @returns {Object} the action object\n */\nexport function updatedOwnedNamespace({ title, owners, description, enableTicketing, _id }) {\n\treturn {\n\t\ttype: UPDATED_OWNED_NAMESPACE,\n\t\tpayload: {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\towners,\n\t\t\tenableTicketing,\n\t\t\t_id\n\t\t}\n\t};\n}\n\n/**\n * Makes a POST request to create a new namespace.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} namespace - the new namespace\n * @param {string} namespace.title - namespace title\n * @param {Array} namespace.description - namespace description\n * @param {Array} namespace.owners - ids of owners\n * @param {Object} namespace.props - properties of the invoking component\n */\nexport const createNamespace = async ( dispatch, { title, description, owners, props }) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/create_namespace', { title, description, owners });\n\t\tif ( !res.data.successful ) {\n\t\t\treturn addErrorNotification( dispatch, new Error( res.data.message ));\n\t\t}\n\t\tconst namespace = res.data.namespace;\n\t\tprops.onNamespace( namespace );\n\t\tdispatch( appendCreatedNamespace( namespace ) );\n\t\twindow.location.replace( '/dashboard/lessons' );\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: res.data.successful ? 'success' : 'error'\n\t\t});\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to create a new namespace.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the POST request to create a new namespace\n */\nexport const createNamespaceInjector = dispatch => {\n\treturn async ({ title, description, owners, props }) => {\n\t\tawait createNamespace( dispatch, { title, description, owners, props } );\n\t};\n};\n\n/**\n * Makes a POST request to delete a namespace.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} id - the id of the namespace to be deleted\n * @returns {void}\n */\nexport const deleteCurrentNamespace = async ( dispatch, id ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/delete_namespace', { id });\n\t\twindow.location.replace( '/dashboard/lessons' );\n\t\tdispatch( deletedCurrentNamespace( id ) );\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to delete a namespace.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the POST request to delete a namespace\n */\nexport const deleteCurrentNamespaceInjector = ( dispatch ) => {\n\treturn async ( id ) => {\n\t\tawait deleteCurrentNamespace( dispatch, id );\n\t};\n};\n\n/**\n * Makes a POST request to update a namespace.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} ns - the updated namespace\n */\nexport const updateCurrentNamespace = async ( dispatch, ns ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/update_namespace', { ns });\n\t\tdispatch( changedNamespace( res.data.namespace ) );\n\t\tdispatch( updatedOwnedNamespace( res.data.namespace ) );\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tgetCohorts( dispatch, {\n\t\t\tnamespaceID: ns._id\n\t\t});\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to update a namespace.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the POST request to update a namespace\n */\nexport const updateCurrentNamespaceInjector = ( dispatch ) => {\n\treturn async ( id, ns ) => {\n\t\tawait updateCurrentNamespace( dispatch, id, ns );\n\t};\n};\n\n/**\n * Makes a GET request to get a namespace's actions.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} options - request options\n * @param {string} options.namespaceID - id of the namespace\n * @param {string} options.namespaceTitle - title of the namespace\n * @returns {void}\n */\nexport const getNamespaceActions = async ( dispatch, { namespaceID, namespaceTitle } ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_namespace_actions?'+qs.stringify({ namespaceID }) );\n\t\tconst blob = new Blob([ res.data ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `actions_${namespaceTitle}.json`;\n\t\tsaveAs( blob, name );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to get a namespace's actions.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the GET request to get a namespace's actions\n */\nexport const getNamespaceActionsInjector = ( dispatch ) => {\n\treturn async ({ namespaceID, namespaceTitle }) => {\n\t\tawait getNamespaceActions( dispatch, { namespaceID, namespaceTitle });\n\t};\n};\n\n/**\n * Makes a POST request to update a user's lesson progress.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} options - request options\n * @param {string} options.namespaceID - id of the namespace\n * @param {string} options.lessonID - id of the lesson\n * @param {string} options.email - email of the user\n * @param {number} options.progress - progress of the user\n * @param {Object} options.cohort - cohort of the user\n */\nexport const adjustProgress = async ( dispatch, { email, lessonID, namespaceID, progress, cohort }) => {\n\tconst res = await axios.post( server+'/user_adjust_progress', {\n\t\temail, lessonID, namespaceID, progress\n\t});\n\taddNotification( dispatch, {\n\t\ttitle: i18next.t('common:updated'),\n\t\tmessage: res.data.message,\n\t\tlevel: 'success'\n\t});\n\tdispatch( updateStudentProgress({ email, lessonID, progress, cohort }) );\n};\n\n/**\n * Returns a function to make a POST request to update a user's lesson progress.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the POST request to update a user's lesson progress\n */\nexport const adjustProgressInjector = ( dispatch ) => {\n\treturn async ( { email, lessonID, namespaceID, progress, cohort } ) => {\n\t\tawait adjustProgress( dispatch, { email, lessonID, namespaceID, progress, cohort } );\n\t};\n};\n\n/**\n * Makes a GET request to get a all available namespaces.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {void}\n */\nexport const getAllNamespaces = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_all_namespaces' );\n\t\tdispatch({\n\t\t\ttype: GET_ALL_NAMESPACES,\n\t\t\tpayload: {\n\t\t\t\tnamespaces: res.data.namespaces\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to get a all available namespaces.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the GET request to get a all available namespaces\n */\nexport const getAllNamespacesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getAllNamespaces( dispatch );\n\t};\n};\n\n/**\n * Makes a POST request to set the order lessons appear on the dashboard.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} options - request options\n * @param {Array} options.lessons - lessons of the course in the order to be displayed on the dashboard\n * @param {string} options.id - id of the namespace\n * @returns {void}\n */\nexport const setLessonOrder = async ( dispatch, { lessons, id }) => {\n\ttry {\n\t\tawait axios.post( server+'/set_lesson_order', {\n\t\t\tlessons, id\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to set the order lessons appear on the dashboard.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make the POST request to set the order lessons appear on the dashboard\n */\nexport const setLessonOrderInjector = ( dispatch ) => {\n\treturn async ({ lessons, id }) => {\n\t\tawait setLessonOrder( dispatch, { lessons, id } );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport stringify from 'csv-stringify';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Badge from 'react-bootstrap/Badge';\nimport copyToClipboard from 'clipboard-copy';\nimport roundn from '@stdlib/math/base/special/roundn';\nimport ceil from '@stdlib/math/base/special/ceil';\nimport pick from '@stdlib/utils/pick';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport trim from '@stdlib/string/trim';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport DashboardTable from 'components/dashboard-table';\nimport ConfirmModal from 'components/confirm-modal';\nimport server from 'constants/server';\nimport saveAs from 'utils/file_saver.js';\nimport createDateColumn from 'utils/create_date_column.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport createNumericColumn from 'utils/create_numeric_column.js';\nimport 'css/input_range.css';\nimport './files_page.css';\n\n\n// VARIABLES //\n\nconst EXPORT_COLUMNS = [ 'name', 'email', 'lesson', 'title', 'filename', 'type', 'createdAt', 'updatedAt' ];\nconst debug = logger( 'isle:files-page' );\n\n\n// FUNCTIONS //\n\n/**\n * Keeps the part of the file path after `/media/`.\n *\n * @param {string} filepath - file path\n * @returns {string} part of the file path after `/media/`\n */\nconst getPartAfterMedia = ( filepath ) => {\n\treturn filepath.substring( filepath.indexOf( '/media/' ) + 7 );\n};\n\nconst prepareExportData = ( data ) => {\n\tfor ( let i = 0; i < data.length; i++ ) {\n\t\tconst row = pick( data[ i ], EXPORT_COLUMNS );\n\t\trow.lesson = row.lesson.title;\n\t\trow.filename = server+'/'+row.filename;\n\t\tdata[ i ] = row;\n\t}\n\treturn data;\n};\n\n\n// MAIN //\n\nclass FilesPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tshowDeleteModal: false,\n\t\t\tdeletionID: null,\n\t\t\tfileMaxSize: 0,\n\t\t\tfileInputKey: 0,\n\t\t\tshowExplorer: false\n\t\t};\n\t\tthis.columns = this.createColumns();\n\t}\n\n\tcomponentDidMount() {\n\t\tdebug( 'Component did mount...' );\n\t\tthis.props.getFiles({\n\t\t\tnamespaceName: this.props.namespace.title\n\t\t});\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( prevProps.files !== this.props.files ) {\n\t\t\tconst files = this.props.files;\n\t\t\tlet fileMaxSize = 0;\n\t\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\t\tconst size = files[ i ].size;\n\t\t\t\tif ( size && size > fileMaxSize ) {\n\t\t\t\t\tfileMaxSize = size;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tfileMaxSize,\n\t\t\t\tfileInputKey: this.state.fileInputKey + 1\n\t\t\t});\n\t\t}\n\t}\n\n\thandleDelete = () => {\n\t\tthis.props.handleFileDeletion( this.state.deletionID, this.props.ownerFiles );\n\t\tthis.toggleDeleteModal();\n\t};\n\n\ttoggleDeleteModal = () => {\n\t\tthis.setState({\n\t\t\tshowDeleteModal: !this.state.showDeleteModal\n\t\t});\n\t};\n\n\tcreateColumns = () => {\n\t\tconst { t } = this.props;\n\t\treturn [\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:filename'),\n\t\t\t\taccessor: 'title',\n\t\t\t\tminWidth: 250,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:open'),\n\t\t\t\taccessor: 'path',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"external-link-tooltip\">{t('open-file')}</Tooltip>}>\n\t\t\t\t\t\t\t<a aria-label={t('open-file')} href={server+'/'+getPartAfterMedia( row.value )} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t<Button aria-label={t('open-file')} size=\"sm\" variant=\"outline-secondary\">\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-external-link-alt\"></i>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</OverlayTrigger> );\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: t('common:copy'),\n\t\t\t\tid: 'copy-path',\n\t\t\t\taccessor: 'path',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"copy-clipboard-tooltip\">{t('common:copy-link')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button aria-label={t('common:copy-link')} variant=\"outline-secondary\" size=\"sm\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopyToClipboard( server+'/'+getPartAfterMedia( row.value ) );\n\t\t\t\t\t\t\t\t\tthis.props.addNotification({\n\t\t\t\t\t\t\t\t\t\ttitle: 'Copied',\n\t\t\t\t\t\t\t\t\t\tmessage: 'Link copied to clipboard',\n\t\t\t\t\t\t\t\t\t\tlevel: 'success',\n\t\t\t\t\t\t\t\t\t\tposition: 'tl'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fa fa-clipboard\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:lesson'),\n\t\t\t\taccessor: 'lesson',\n\t\t\t\tmaxWidth: 160,\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( !row.row.lesson ) {\n\t\t\t\t\t\treturn <span>{t('no-lesson')}</span>;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"open-lesson-tooltip\">{t('open-lesson-new-tab')}</Tooltip>}>\n\t\t\t\t\t\t\t<div style={{ width: '100%', height: '100%' }} >\n\t\t\t\t\t\t\t\t<a aria-label={t('open-lesson-new-tab')} href={row.row.lesson.url} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t{row.row.lesson.title}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn row[ filter.id ].title.startsWith( filter.value );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('first-name'),\n\t\t\t\tid: 'first_name',\n\t\t\t\taccessor: d => {\n\t\t\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\t\t\tif ( parts.length > 1 ) {\n\t\t\t\t\t\tparts.pop();\n\t\t\t\t\t\treturn parts.join( ' ' );\n\t\t\t\t\t}\n\t\t\t\t\treturn parts[ 0 ];\n\t\t\t\t},\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('last-name'),\n\t\t\t\tid: 'last_name',\n\t\t\t\taccessor: d => {\n\t\t\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\t\t\tif ( parts.length > 1 ) {\n\t\t\t\t\t\treturn parts[ parts.length - 1 ];\n\t\t\t\t\t}\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'email',\n\t\t\t\tmaxWidth: 160,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('type'),\n\t\t\t\taccessor: 'type',\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( row[ filter.id ], filter.value );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateNumericColumn({\n\t\t\t\tHeader: t('common:size'),\n\t\t\t\taccessor: 'size',\n\t\t\t\tCell: row => row.value ? `${roundn( row.value, -3 )}mb` : 'NA',\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\tconst id = filter.pivotId || filter.id;\n\t\t\t\t\tconst size = row[ id ];\n\t\t\t\t\treturn size >= filter.value.min && size <= filter.value.max;\n\t\t\t\t},\n\t\t\t\tformatLabel: value => roundn( value, -2 ),\n\t\t\t\tmaxValue: ceil( this.state.fileMaxSize ) || 1,\n\t\t\t\tminValue: 0\n\t\t\t}),\n\t\t\tcreateDateColumn({\n\t\t\t\tHeader: t('common:date'),\n\t\t\t\taccessor: 'updatedAt',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( row.value && row.value.toLocaleDateString ) {\n\t\t\t\t\t\treturn row.value.toLocaleDateString( 'en-US' );\n\t\t\t\t\t}\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tmaxWidth: 120,\n\t\t\t\tt: t\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: 'Del',\n\t\t\t\taccessor: '_id',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"delete-file-tooltip\">{t('delete-file-tooltip')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\taria-label={t('delete-file-tooltip')}\n\t\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tdeletionID: row.value,\n\t\t\t\t\t\t\t\t\tshowDeleteModal: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t<div className=\"fa fa-trash-alt\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t}\n\t\t];\n\t};\n\n\tsaveJSON = () => {\n\t\tconst currentFiles = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tlet data = prepareExportData( currentFiles );\n\t\tconst blob = new Blob([ JSON.stringify( data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `files_${this.props.namespace.title}.json`;\n\t\tsaveAs( blob, name );\n\t};\n\n\tsaveCSV = () => {\n\t\tconst currentFiles = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tlet data = prepareExportData( currentFiles );\n\t\tstringify( data, {\n\t\t\theader: true\n\t\t}, ( err, output ) => {\n\t\t\tif ( err ) {\n\t\t\t\treturn this.props.addNotification({\n\t\t\t\t\ttitle: 'Error encountered',\n\t\t\t\t\tmessage: 'Encountered an error while creating CSV: '+err.message,\n\t\t\t\t\tlevel: 'error',\n\t\t\t\t\tposition: 'tl'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\ttype: 'text/plain'\n\t\t\t});\n\t\t\tconst name = `files_${this.props.namespace.title}.csv`;\n\t\t\tsaveAs( blob, name );\n\t\t});\n\t};\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tconst files = this.props.files;\n\t\t\tlet data = [];\n\t\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\t\tconst file = files[ i ];\n\t\t\t\tconst replacement = {};\n\t\t\t\treplacement.title = file.title;\n\t\t\t\treplacement.type = file.type;\n\t\t\t\treplacement.lesson = file.lesson ? file.lesson.title : null;\n\t\t\t\treplacement.size = file.size ? file.size : null;\n\t\t\t\treplacement.email = file.email;\n\t\t\t\treplacement.createdAt = file.createdAt;\n\t\t\t\treplacement.updatedAt = file.updatedAt;\n\t\t\t\tdata.push( replacement );\n\t\t\t}\n\t\t\tdata = obsToVar( data );\n\t\t\tconst quantitative = [ 'size' ];\n\t\t\tconst categorical = [ 'title', 'type', 'lesson', 'email', 'createdAt', 'updatedAt' ];\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-files-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t<div className=\"namespace-data-buttons\">\n\t\t\t\t<ButtonGroup className=\"files-export-button-group\" >\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"csvTooltip\" >{t('save-as-csv')}</Tooltip>}>\n\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveCSV} ><i className=\"fas fa-download\"></i> CSV</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"jsonTooltip\">{t('save-as-json')}</Tooltip>}>\n\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveJSON} ><i className=\"fas fa-download\"></i> JSON</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{ this.props.ownerFiles ? <FormGroup className=\"file-upload-button\" >\n\t\t\t\t\t<FormLabel htmlFor=\"fileUpload\" style={{ cursor: 'pointer' }}>\n\t\t\t\t\t\t<Badge id=\"file-upload-badge\" bg=\"success\">{t('upload-file')}</Badge>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"fileUpload\"\n\t\t\t\t\t\t\tkey={this.state.fileInputKey}\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\taccept=\".pdf,.html,.md,image/*,video/*,audio/*,.json,.csv\"\n\t\t\t\t\t\t\tonChange={this.props.handleUpload}\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormLabel>\n\t\t\t\t</FormGroup> : null }\n\t\t\t</div>\n\t\t\t<DashboardTable\n\t\t\t\tdata={this.props.files}\n\t\t\t\tcolumns={this.columns}\n\t\t\t\tt={t}\n\t\t\t\tref={(r) => {\n\t\t\t\t\tthis.dashboardTable = r;\n\t\t\t\t}}\n\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t/>\n\t\t\t<ConfirmModal\n\t\t\t\tshow={this.state.showDeleteModal}\n\t\t\t\tclose={this.toggleDeleteModal}\n\t\t\t\tmessage={t('delete-file')}\n\t\t\t\ttitle={`${t('common:delete')}?`}\n\t\t\t\tonConfirm={this.handleDelete}\n\t\t\t/>\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nFilesPage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tfiles: PropTypes.array.isRequired,\n\tgetFiles: PropTypes.func.isRequired,\n\thandleFileDeletion: PropTypes.func.isRequired,\n\thandleUpload: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\townerFiles: PropTypes.bool\n};\n\nFilesPage.defaultProps = {\n\townerFiles: false\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( FilesPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Card from 'react-bootstrap/Card';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Form from 'react-bootstrap/Form';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport ConfirmModal from 'components/confirm-modal';\nimport '../profile-page/message-page.css';\nimport './message_admin_page.css';\n\n\n// MAIN //\n\nclass AnnouncementsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\ttitle: '',\n\t\t\tbody: '',\n\t\t\tmode: 'new-announcement',\n\t\t\teditItem: null,\n\t\t\tshowDeleteModal: false\n\t\t};\n\t}\n\n\trenderModals() {\n\t\treturn null;\n\t}\n\n\teditMessage( ndx ) {\n\t\tconst announcement = this.props.namespace.announcements[ ndx ];\n\t\tthis.setState({\n\t\t\tmode: 'edit-announcement',\n\t\t\teditItem: ndx,\n\t\t\ttitle: announcement.title,\n\t\t\tbody: announcement.body\n\t\t});\n\t}\n\n\tdeleteSelectedMessage = () => {\n\t\tconst ndx = this.state.editItem;\n\t\tconst announcement = this.props.namespace.announcements[ ndx ];\n\t\tthis.props.deleteAnnouncement( announcement.createdAt, ndx );\n\t\tthis.clear();\n\t\tthis.closeDeleteModal();\n\t};\n\n\trenderMessages() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.namespace.announcements.map( ( value, index ) => {\n\t\t\t\t\tconst date = new Date( value.createdAt );\n\t\t\t\t\tconst dateString = date.toLocaleDateString() + '  -  ' + date.toLocaleTimeString( navigator.language, {\n\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t});\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<div className=\"message-container\">\n\t\t\t\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t\t\t\t<img src={value.picture} alt=\"User Profile Pic\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t\t\t\t<span className=\"message-author\">{ value.author }</span>\n\t\t\t\t\t\t\t\t\t&nbsp;{t('common:wrote-on', { date: dateString })}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"message-title\">\n\t\t\t\t\t\t\t\t{ value.title }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t\t\t\t{ value.body }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"message-manip\">\n\t\t\t\t\t\t\t<button onClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\teditItem: index,\n\t\t\t\t\t\t\t\t\tshowDeleteModal: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} className=\"message-delete\">{t('common:delete')}</button>\n\t\t\t\t\t\t\t<button onClick={() => {\n\t\t\t\t\t\t\t\tthis.editMessage(index);\n\t\t\t\t\t\t\t}} className=\"message-edit\">{t('common:edit')}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcreateMessage = () => {\n\t\tconst now = new Date().getTime();\n\t\tconst message = {\n\t\t\ttitle: this.state.title,\n\t\t\tbody: this.state.body,\n\t\t\tauthor: this.props.user.name,\n\t\t\temail: this.props.user.email,\n\t\t\tpicture: this.props.user.picture\n\t\t};\n\t\tif ( this.state.editItem === null ) {\n\t\t\tmessage.createdAt = now;\n\t\t\tthis.props.addAnnouncement( message );\n\t\t}\n\t\telse {\n\t\t\tconst announcement = this.props.namespace.announcements[ this.state.editItem ];\n\t\t\tmessage.createdAt = announcement.createdAt;\n\t\t\tthis.props.editAnnouncement( message );\n\t\t}\n\t\tthis.clear();\n\t};\n\n\thandleInputChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\t\tlet value = target.value;\n\t\tthis.setState({\n\t\t\t[ name ]: value\n\t\t});\n\t};\n\n\tclear = () => {\n\t\tthis.setState({\n\t\t\ttitle: '',\n\t\t\tbody: '',\n\t\t\tmode: 'new-announcement',\n\t\t\teditItem: null\n\t\t});\n\t};\n\n\tcloseDeleteModal = () => {\n\t\tthis.setState({\n\t\t\teditItem: null,\n\t\t\tshowDeleteModal: false\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst isDisabled = this.state.title.length < 3 || this.state.body.length < 3;\n\t\tconst isEmpty = this.state.title.length === 0 && this.state.body.length === 0;\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t<div className=\"messages\">\n\t\t\t\t{ this.renderMessages() }\n\t\t\t</div>\n\t\t\t<div className=\"new_message\">\n\t\t\t\t<Card>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<Card.Title as=\"h3\">\n\t\t\t\t\t\t\t{t(this.state.mode)}\n\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Form style={{ padding: '20px' }}>\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"titleTooltip\">{t('announcement-title')}</Tooltip>}>\n\t\t\t\t\t\t\t\t<FormGroup controlId=\"form-title\" >\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:title')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t<FormGroup controlId=\"form-text\" >\n\t\t\t\t\t\t\t\t<FormLabel>{t('announcement-text')}</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\" rows=\"10\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.body}\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t<Button type=\"submit\" disabled={isDisabled} onClick={this.createMessage}>\n\t\t\t\t\t\t\t\t{ this.state.mode === 'new-announcement' ? t('common:create') : t('common:update') }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.clear} disabled={isEmpty} variant=\"danger\">{t('common:clear')}</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t\t<ConfirmModal\n\t\t\t\tshow={this.state.showDeleteModal}\n\t\t\t\tclose={this.closeDeleteModal}\n\t\t\t\tmessage={t('delete-announcement')}\n\t\t\t\ttitle={`${t('common:delete')}?`}\n\t\t\t\tonConfirm={this.deleteSelectedMessage}\n\t\t\t/>\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nAnnouncementsPage.propTypes = {\n\taddAnnouncement: PropTypes.func.isRequired,\n\tdeleteAnnouncement: PropTypes.func.isRequired,\n\teditAnnouncement: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nAnnouncementsPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( AnnouncementsPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport clamp from '@stdlib/math/base/special/clamp';\nimport './editable_progress.css';\n\n\n// MAIN //\n\nclass EditableProgress extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tisEditing: false,\n\t\t\thasChanged: false,\n\t\t\tnewProgress: props.progress,\n\t\t\toriginalProgress: props.progress\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps( nextProps, prevState ) {\n\t\tif ( nextProps.progress !== prevState.originalProgress ) {\n\t\t\treturn {\n\t\t\t\tnewProgress: nextProps.progress,\n\t\t\t\toriginalProgress: nextProps.progress\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\ttoggleEditing = () => {\n\t\tthis.setState({\n\t\t\tisEditing: !this.state.isEditing,\n\t\t\tnewProgress: this.props.progress\n\t\t});\n\t};\n\n\thandleChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tnewProgress: clamp( event.target.value, 0, 100 ),\n\t\t\thasChanged: true\n\t\t});\n\t};\n\n\thandleSubmit = () => {\n\t\tthis.setState({\n\t\t\tisEditing: false,\n\t\t\thasChanged: false\n\t\t});\n\t\tthis.props.onSubmit( this.state.newProgress );\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\tthis.state.isEditing ?\n\t\t\t<Fragment>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={this.state.newProgress}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tmax={100}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tclassName=\"editable-progress-input\"\n\t\t\t\t/>\n\t\t\t\t<i\n\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\tonClick={this.toggleEditing}\n\t\t\t\t\tonKeyPress={this.toggleEditing}\n\t\t\t\t\tclassName=\"fas fa-window-close editable-progress-close\"\n\t\t\t\t></i>\n\t\t\t\t<span className=\"editable-progress-submit\" style={{ display: this.state.hasChanged ? 'inline' : 'none' }}>\n\t\t\t\t\t<i\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\tonKeyPress={this.handleSubmit}\n\t\t\t\t\t\tclassName=\"fas fa-check-square\"\n\t\t\t\t\t></i>\n\t\t\t\t</span>\n\t\t\t</Fragment>: <ProgressBar\n\t\t\t\taria-label=\"new-progress\"\n\t\t\t\tstyle={{\n\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\theight: '12px'\n\t\t\t\t}}\n\t\t\t\tnow={this.state.newProgress}\n\t\t\t\tlabel={`${this.state.newProgress}%`}\n\t\t\t\tonClick={this.toggleEditing}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n\n// EXPORTS //\n\nexport default EditableProgress;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport stringify from 'csv-stringify';\nimport InputRange from 'react-input-range';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport round from '@stdlib/math/base/special/round';\nimport min from '@stdlib/math/base/special/min';\nimport isArray from '@stdlib/assert/is-array';\nimport isUndefinedOrNull from '@stdlib/assert/is-undefined-or-null';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport trim from '@stdlib/string/trim';\nimport DashboardTable from 'components/dashboard-table';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport server from 'constants/server';\nimport saveAs from 'utils/file_saver.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport EditableProgress from './editable_progress.js';\nimport formatTime from 'utils/format_time.js';\nimport './progress_page.css';\nimport 'css/input_range.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:progress-page' );\n\n\n// FUNCTIONS //\n\nfunction filterNumbersFactory( lessons, idx ) {\n\treturn ( filter, row ) => {\n\t\tconst data = row[ filter.id ];\n\t\tconst lessonData = data[ lessons[ idx ]._id ];\n\t\tif ( isUndefinedOrNull( lessonData ) ) {\n\t\t\treturn filter.value.min === 0;\n\t\t}\n\t\tconst progress = min( round( lessonData.progress*100 ), 100 );\n\t\treturn progress >= filter.value.min && progress <= filter.value.max;\n\t};\n}\n\nfunction sortFactory( lessons, idx ) {\n\treturn ( a, b ) => {\n\t\ta = a[ lessons[ idx ]._id ];\n\t\tb = b[ lessons[ idx ]._id ];\n\t\tif ( !a && !b ) {\n\t\t\treturn 0;\n\t\t}\n\t\tif ( a && !b ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( !a && b ) {\n\t\t\treturn -1;\n\t\t}\n\t\tif ( a.progress > b.progress ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( a.progress < b.progress ) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t};\n}\n\nfunction filterMethodCategories( filter, row ) {\n\tif ( filter.value === 'all' ) {\n\t\treturn true;\n\t}\n\tconst id = filter.pivotId || filter.id;\n\tif ( row[ id ] === void 0 ) {\n\t\treturn true;\n\t}\n\tif ( isArray( filter.value ) ) {\n\t\treturn contains( filter.value, String( row[ id ] ) );\n\t}\n\treturn String( row[ id ] ) === filter.value;\n}\n\n\n// MAIN //\n\nclass ProgressPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.columns = this.createColumns( props.lessons, props.cohorts );\n\t\tthis.state = {\n\t\t\tdisplayedMembers: [],\n\t\t\tlessonSortDirection: 'ascending',\n\t\t\tlessonOrder: 'createdAt',\n\t\t\tshowExplorer: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.createDisplayedMembers();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tthis.props.cohorts !== prevProps.cohorts ||\n\t\t\tthis.props.lessons !== prevProps.lessons\n\t\t) {\n\t\t\tthis.createDisplayedMembers();\n\t\t\tthis.columns = this.createColumns( this.props.lessons, this.props.cohorts );\n\t\t}\n\t}\n\n\tcreateDisplayedMembers() {\n\t\tlet members = [];\n\t\tfor ( let i = 0; i < this.props.cohorts.length; i++ ) {\n\t\t\tconst cohortMembers = this.props.cohorts[ i ].members;\n\t\t\tfor ( let j = 0; j < cohortMembers.length; j++ ) {\n\t\t\t\tcohortMembers[ j ].cohort = this.props.cohorts[ i ].title;\n\t\t\t\tif ( !cohortMembers[ j ].lessonData ) {\n\t\t\t\t\tcohortMembers[ j ].lessonData = {};\n\t\t\t\t}\n\t\t\t}\n\t\t\tmembers = members.concat( this.props.cohorts[ i ].members );\n\t\t}\n\t\tfor ( let i = 0; i < members.length; i++ ) {\n\t\t\tconst d = members[ i ];\n\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\tif ( parts.length > 1 ) {\n\t\t\t\td.lastName = parts.pop();\n\t\t\t\td.firstName = parts.join( ' ' );\n\t\t\t} else {\n\t\t\t\td.firstName = parts[ 0 ];\n\t\t\t\td.lastName = '';\n\t\t\t}\n\t\t}\n\t\tthis.setState({ // eslint-disable-line react/no-did-mount-set-state\n\t\t\tdisplayedMembers: members\n\t\t});\n\t}\n\n\tcreateColumns( lessons, cohorts ) {\n\t\tconst { t } = this.props;\n\t\tconst COLUMNS = [\n\t\t\t{\n\t\t\t\tHeader: 'Pic',\n\t\t\t\taccessor: 'picture',\n\t\t\t\tCell: row => (\n\t\t\t\t\t<img className=\"table-pic\" src={`${server}/thumbnail/${row.original.picture}`} alt=\"Profile Pic\" />\n\t\t\t\t),\n\t\t\t\tmaxWidth: 46,\n\t\t\t\tminWidth: 46,\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tsortable: false,\n\t\t\t\tstyle: { color: 'darkslategrey' }\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('first-name'),\n\t\t\t\tid: 'first_name',\n\t\t\t\taccessor: 'firstName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('last-name'),\n\t\t\t\tid: 'last_name',\n\t\t\t\taccessor: 'lastName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'email',\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:cohort'),\n\t\t\t\taccessor: 'cohort',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tfilterMethod: filterMethodCategories,\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tconst handleChange = ( event ) => {\n\t\t\t\t\t\tconst newValue = event.target.value;\n\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t};\n\t\t\t\t\tlet value;\n\t\t\t\t\tif ( !filter ) {\n\t\t\t\t\t\tvalue = 'all';\n\t\t\t\t\t} else if ( isArray( filter.value ) ) {\n\t\t\t\t\t\tvalue = filter.value.join( ', ' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = filter.value;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tonBlur={handleChange} onChange={handleChange}\n\t\t\t\t\t\t\tstyle={{ width: '100%', backgroundColor: 'ghostwhite' }}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"all\">Show All</option>\n\t\t\t\t\t\t\t{cohorts.map( ( v, key ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={`${v.title}`}\n\t\t\t\t\t\t\t\t\t>{v.title}</option>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst id = 'lesson_'+i;\n\t\t\tCOLUMNS.push({\n\t\t\t\tid,\n\t\t\t\tHeader: <span id={id} >{lessons[ i ].title}</span>,\n\t\t\t\t_lesson: lessons[ i ],\n\t\t\t\tCell: this.accessorFactory( lessons, i ),\n\t\t\t\taccessor: 'lessonData',\n\t\t\t\tsortMethod: sortFactory( lessons, i ),\n\t\t\t\tfilterMethod: filterNumbersFactory( lessons, i ),\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tconst defaultVal = {\n\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\tmin: 0\n\t\t\t\t\t};\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tpaddingLeft: '4px',\n\t\t\t\t\t\t\tpaddingRight: '4px',\n\t\t\t\t\t\t\tpaddingTop: '8px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<InputRange\n\t\t\t\t\t\t\t\tariaLabelledby={id}\n\t\t\t\t\t\t\t\tariaControls=\"dashboard-table\"\n\t\t\t\t\t\t\t\tallowSameValues\n\t\t\t\t\t\t\t\tmaxValue={100}\n\t\t\t\t\t\t\t\tminValue={0}\n\t\t\t\t\t\t\t\tvalue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\t\t\tonChange={( newValue ) => {\n\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn COLUMNS;\n\t}\n\n\taccessorFactory = ( lessons, idx ) => {\n\t\tconst { t } = this.props;\n\t\treturn d => {\n\t\t\tlet data = d.original.lessonData;\n\t\t\tconst lessonID = lessons[ idx ]._id;\n\t\t\tdata = data[ lessonID ];\n\t\t\tif ( data ) {\n\t\t\t\tconst progress = min( round( data.progress*100 ), 100 );\n\t\t\t\treturn (\n\t\t\t\t\t<span style={{ fontSize: '12px', fontWeight: 800 }}>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"durationTooltip\" >{t('hours-minutes-seconds')}</Tooltip>}>\n\t\t\t\t\t\t\t<span>{t('duration')}: {formatTime( data.spentTime )}</span>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"startTooltip\" >{t('first-accessed')}</Tooltip>}>\n\t\t\t\t\t\t\t<span> | {new Date( data.createdAt ).toLocaleString()}</span>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"startTooltip\" >{t('last-accessed')}</Tooltip>}>\n\t\t\t\t\t\t\t<span> - {new Date( data.updatedAt ).toLocaleString()}</span>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<EditableProgress\n\t\t\t\t\t\t\tprogress={progress}\n\t\t\t\t\t\t\temail={d.original.email}\n\t\t\t\t\t\t\tlessonID={lessonID}\n\t\t\t\t\t\t\tonSubmit={( newProgress ) => {\n\t\t\t\t\t\t\t\tthis.props.adjustProgress({\n\t\t\t\t\t\t\t\t\temail: d.original.email,\n\t\t\t\t\t\t\t\t\tlessonID: lessonID,\n\t\t\t\t\t\t\t\t\tnamespaceID: this.props.namespace._id,\n\t\t\t\t\t\t\t\t\tcohort: d.original.cohort,\n\t\t\t\t\t\t\t\t\tprogress: newProgress\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <span></span>;\n\t\t};\n\t};\n\n\tassembleData() {\n\t\tconst displayedMembers = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tconst len = displayedMembers.length;\n\t\tconst out = new Array( len );\n\t\tconst lessons = this.props.lessons;\n\t\tfor ( let i = 0; i < len; i++ ) {\n\t\t\tconst member = displayedMembers[ i ]._original;\n\t\t\tout[ i ] = {\n\t\t\t\tname: member.name,\n\t\t\t\tfirstName: member.firstName,\n\t\t\t\tlastName: member.lastName,\n\t\t\t\temail: member.email,\n\t\t\t\tcohort: member.cohort\n\t\t\t};\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let j = 0; j < availableCustomFields.length; j++ ) {\n\t\t\t\tconst fieldName = availableCustomFields[ j ].name;\n\t\t\t\tif ( member.customFields ) {\n\t\t\t\t\tout[ i ][ fieldName ] = member.customFields[ fieldName ];\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ fieldName ] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( let j = 0; j < lessons.length; j++ ) {\n\t\t\t\tconst lessonName = lessons[ j ]._id;\n\t\t\t\tlet data = member.lessonData;\n\t\t\t\tif ( data && data[ lessonName ] ) {\n\t\t\t\t\tdata = data[ lessonName ];\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_question_progress' ] = min( round( data.progress*100 ), 100 );\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_time' ] = round( data.spentTime / ( 1000*60 ) );\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_first_accessed' ] = new Date( data.createdAt ).toLocaleString();\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_last_accessed' ] = new Date( data.updatedAt ).toLocaleString();\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_question_progress' ] = 0;\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_time' ] = 0;\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_first_accessed' ] = '';\n\t\t\t\t\tout[ i ][ lessons[ j ].title+'_last_accessed' ] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\tsaveJSON = () => {\n\t\tconst data = this.assembleData();\n\t\tconst blob = new Blob([ JSON.stringify( data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `completion_${this.props.namespace.title}.json`;\n\t\tsaveAs( blob, name );\n\t};\n\n\tsaveCSV = () => {\n\t\tconst data = this.assembleData();\n\t\tstringify( data, {\n\t\t\theader: true\n\t\t}, ( err, output ) => {\n\t\t\tif ( err ) {\n\t\t\t\treturn this.props.addNotification({\n\t\t\t\t\ttitle: 'Error encountered',\n\t\t\t\t\tmessage: 'Encountered an error while creating CSV: '+err.message,\n\t\t\t\t\tlevel: 'error',\n\t\t\t\t\tposition: 'tl'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\ttype: 'text/plain'\n\t\t\t});\n\t\t\tconst name = `completion_${this.props.namespace.title}.csv`;\n\t\t\tsaveAs( blob, name );\n\t\t});\n\t};\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t};\n\n\treorderColumns( lessonOrder, lessonSortDirection ) {\n\t\tdebug( 'Sort columns by '+lessonOrder+' in '+lessonSortDirection+' order' );\n\t\tif ( lessonSortDirection === 'ascending' ) {\n\t\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\t\treturn a._lesson.title.localeCompare( b._lesson.title );\n\t\t\t\t}\n\t\t\t\treturn a._lesson[ lessonOrder ] > b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t\t});\n\t\t}\n\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\treturn b._lesson.title.localeCompare( a._lesson.title );\n\t\t\t}\n\t\t\treturn a._lesson[ lessonOrder ] < b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t});\n\t}\n\n\trenderSortButton() {\n\t\tconst { t } = this.props;\n\t\tlet title;\n\t\tswitch ( this.state.lessonOrder ) {\n\t\t\tcase 'title':\n\t\t\t\ttitle = t('common:sort-alphabetically');\n\t\t\t\tbreak;\n\t\t\tcase 'createdAt':\n\t\t\t\ttitle = t('common:sort-create-date');\n\t\t\t\tbreak;\n\t\t\tcase 'updatedAt':\n\t\t\t\ttitle = t('common:sort-update-date');\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<ButtonGroup className=\"sort-button-group\" >\n\t\t\t\t<DropdownButton size=\"sm\" variant=\"secondary\" onSelect={( newValue ) => {\n\t\t\t\t\tthis.columns = this.reorderColumns( newValue, this.state.lessonSortDirection );\n\t\t\t\t\tthis.setState({ lessonOrder: newValue });\n\t\t\t\t}} id=\"dropdown\" title={<small>{title}</small>} >\n\t\t\t\t\t<Dropdown.Item eventKey=\"title\" >\n\t\t\t\t\t\t<small>{t('common:sort-alphabetically')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"createdAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-create-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"updatedAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-update-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t<Button size=\"sm\" variant=\"secondary\" style={{ marginLeft: 2 }} onClick={() => {\n\t\t\t\t\tif ( this.state.lessonSortDirection === 'ascending' ) {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'descending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'descending' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'ascending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'ascending' });\n\t\t\t\t\t}\n\t\t\t\t}} aria-label={this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\tt('common:sort-descending') : t('common:sort-ascending')} >\n\t\t\t\t\t{ this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\t\t\t<i className=\"fas fa-arrow-right\" /> :\n\t\t\t\t\t\t<i className=\"fas fa-arrow-left\" />\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</ButtonGroup>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tlet data = this.assembleData();\n\t\t\tdata = obsToVar( data );\n\t\t\tconst quantitative = [];\n\t\t\tconst categorical = [ 'name', 'email', 'cohort' ];\n\t\t\tfor ( let i = 0; i < this.props.lessons.length; i++ ) {\n\t\t\t\tconst title = this.props.lessons[ i ].title;\n\t\t\t\tquantitative.push( `${title}_question_progress` );\n\t\t\t\tquantitative.push( `${title}_time` );\n\t\t\t\tcategorical.push( `${title}_first_accessed` );\n\t\t\t\tcategorical.push( `${title}_last_accessed` );\n\t\t\t}\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let i = 0; i < availableCustomFields.length; i++ ) {\n\t\t\t\tcategorical.push( availableCustomFields[ i ].name );\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-progress-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"namespace-data-buttons\" >\n\t\t\t\t\t{this.renderSortButton()}\n\t\t\t\t\t<ButtonGroup className=\"progress-button-group\" >\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"csvTooltip\" >{t('save-as-csv')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveCSV} ><i className=\"fas fa-download\"></i> CSV</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"jsonTooltip\">{t('save-as-json')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveJSON} ><i className=\"fas fa-download\"></i> JSON</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"namespace-data-page\">\n\t\t\t\t\t<DashboardTable\n\t\t\t\t\t\tclassName=\"progress-table\"\n\t\t\t\t\t\tdata={this.state.displayedMembers}\n\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tref={(r) => {\n\t\t\t\t\t\t\tthis.dashboardTable = r;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nProgressPage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tadjustProgress: PropTypes.func.isRequired,\n\tcohorts: PropTypes.array.isRequired,\n\tlessons: PropTypes.array.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nProgressPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( ProgressPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Select from 'react-select';\nimport round from '@stdlib/math/base/special/round';\nimport min from '@stdlib/math/base/special/min';\nimport contains from '@stdlib/assert/contains';\nimport server from 'constants/server';\nimport formatTime from 'utils/format_time.js';\nimport './cohorts.css';\n\n\n// MAIN //\n\nclass CohortsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst cohortOptions = props.cohorts.map( cohort => {\n\t\t\treturn { label: cohort.title, value: cohort.title, data: cohort };\n\t\t});\n\n\t\tlet displayedMembers = [];\n\t\tfor ( let i = 0; i < props.cohorts.length; i++ ) {\n\t\t\tdisplayedMembers = displayedMembers.concat( props.cohorts[i].members);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tcohortOptions: cohortOptions,\n\t\t\tselectedCohorts: cohortOptions,\n\t\t\tdisplayedMembers: displayedMembers,\n\t\t\tactualMember: null\n\t\t};\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.cohorts !== prevProps.cohorts ) {\n\t\t\tconst cohortOptions = this.props.cohorts.map( cohort => {\n\t\t\t\treturn { label: cohort.title, value: cohort.title, data: cohort };\n\t\t\t});\n\t\t\tlet displayedMembers = [];\n\t\t\tfor ( let i = 0; i < this.props.cohorts.length; i++ ) {\n\t\t\t\tdisplayedMembers = displayedMembers.concat( this.props.cohorts[i].members);\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tcohortOptions: cohortOptions,\n\t\t\t\tselectedCohorts: cohortOptions,\n\t\t\t\tdisplayedMembers: displayedMembers,\n\t\t\t\tactualMember: null\n\t\t\t});\n\t\t}\n\t}\n\n\thandleCohortChange = ( cohorts ) => {\n\t\tlet members = [];\n\t\tif ( cohorts ) {\n\t\t\tfor ( let i = 0; i < cohorts.length; i++ ) {\n\t\t\t\tmembers = members.concat( cohorts[ i ].data.members );\n\t\t\t}\n\t\t}\n\t\tthis.setState({\n\t\t\tselectedCohorts: cohorts,\n\t\t\tdisplayedMembers: members\n\t\t});\n\t};\n\n\tshowUser = (member) => {\n\t\tthis.setState({\n\t\t\tactualMember: member\n\t\t});\n\t};\n\n\trenderMember( member, key ) {\n\t\tlet phase = 0.3 + key*0.05;\n\t\tlet ani = 'scale-up ' + phase + 's';\n\t\treturn (\n\t\t\t<Fragment key={key}>\n\t\t\t\t<div className=\"cohort-member\" role=\"button\"\n\t\t\t\t\tonClick={() => this.showUser( member )}\n\t\t\t\t\tonKeyPress={() => this.showUser( member )}\n\t\t\t\t\tstyle={{ animation: ani }} tabIndex={0}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"cohort-member-name\">{member.name}</div>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={server + '/thumbnail/'+member.picture}\n\t\t\t\t\t\t\talt=\"Member Profile Pic\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"cohort-member-email\">\n\t\t\t\t\t\t\t<a href={'mailto:' + member.email}>{member.email}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderCohort() {\n\t\tconst members = this.state.displayedMembers;\n\t\tconst list = [];\n\t\tfor ( let i = 0; i < members.length; i++ ) {\n\t\t\tlist.push( this.renderMember( members[ i ], i ) );\n\t\t}\n\t\treturn list;\n\t}\n\n\trenderMemberLessons( member ) {\n\t\tconst lessons = this.props.lessons;\n\t\tconst list = [];\n\t\tlet progress = 0;\n\t\tlet spentTime = 0;\n\t\tlet totalTime = 0;\n\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tlet id = lessons[i]._id;\n\t\t\tif ( member.lessonData && member.lessonData[ id ] ) {\n\t\t\t\tconst data = member.lessonData[ id ];\n\t\t\t\tprogress = min( round( data.progress * 100 ), 100 );\n\t\t\t\tspentTime = formatTime( data.spentTime );\n\t\t\t\ttotalTime += data.spentTime;\n\t\t\t} else {\n\t\t\t\tprogress = 0;\n\t\t\t\tspentTime = formatTime( 0 );\n\t\t\t}\n\t\t\tlist.push(\n\t\t\t\t<div key={i} >\n\t\t\t\t\t<div className=\"cohort-actual-member-lesson-title\">{lessons[i].title}</div>\n\t\t\t\t\t<ProgressBar aria-label=\"lesson-progress\" className=\"cohort-actual-member-lesson-progress\" style={{ float: 'left', fontSize: '10px', height: '12px'\n\t\t\t\t\t}} now={progress} label={`${progress}%`} />\n\t\t\t\t\t<span className=\"cohort-actual-member-lesson-time\">{spentTime}</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\ttotalTime = formatTime( totalTime );\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"cohort-actual-member-lesson-header\">COURSE INFO</div>\n\t\t\t\t<div className=\"cohort-actual-member-lesson-total\">COURSE TOTAL TIME: {totalTime}</div>\n\t\t\t\t<div className=\"lessons-area\">\n\t\t\t\t\t{list}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\tcloseActualMember = () => {\n\t\tthis.setState({\n\t\t\tactualMember: null\n\t\t});\n\t};\n\n\trenderMemberBadges(member) {\n\t\tconst badges = this.props.badges;\n\t\tconst time = formatTime( member.spentTime );\n\t\tconst list = [];\n\t\tfor ( let i = 0; i < badges.length; i++ ) {\n\t\t\tif ( contains(member.badges, badges[i].name ) ) {\n\t\t\t\tlist.push(\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\toverlay={<Tooltip id=\"isleTime\">{badges[i].description}</Tooltip>}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"cohort-user-badge\" >\n\t\t\t\t\t\t\t\t<img src={server + '/badges/' + badges[i].picture} alt=\"User Badge\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst isleTime = 'the time the user spent with ISLE';\n\t\tconst scoreComment = 'user score';\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div>General User Info</div>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"isleTime\">{ isleTime }</Tooltip>}>\n\t\t\t\t\t<span className=\"user-info-time\">ISLE TIME: {time}</span>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"isleTime\">{ scoreComment }</Tooltip>}>\n\t\t\t\t\t<span className=\"user-info-score\">SCORE: {member.score}</span>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t<div></div>\n\t\t\t\t<div className=\"user-info-badges\">\n\t\t\t\t\t<div className=\"user-info-separator\">Badges</div>\n\t\t\t\t\t{list}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderActualMember() {\n\t\tconst member = this.state.actualMember;\n\t\tlet date = null;\n\t\tif ( member.createdAt ) {\n\t\t\tdate = new Date( member.createdAt ).toLocaleDateString();\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"cohort-actual-member\">\n\t\t\t\t<button onClick={this.closeActualMember} className=\"cohort-actual-member-exit empty-button\" >&#10005;</button>\n\t\t\t\t<img className=\"cohort-actual-member-portrait\" src={server + '/avatar/'+member.picture} alt=\"User Profile Pic\" />\n\t\t\t\t<div className=\"cohort-actual-member-portrait-shadow\" />\n\t\t\t\t{date ? <div className=\"cohort-actual-member-registered\">registered since {date}</div> : null}\n\t\t\t\t<div className=\"cohort-actual-member-name\">\n\t\t\t\t\t<h3>{member.name}</h3>\n\t\t\t\t\t<div>{member.email}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cohort-actual-member-info\">\n\t\t\t\t\t{ this.renderMemberLessons(member)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cohort-actual-member-badges\">\n\t\t\t\t\t{ this.renderMemberBadges(member) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"namespace-data-page\">\n\t\t\t\t<div style={{ width: '100%', height: '40px' }}>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={this.state.selectedCohorts}\n\t\t\t\t\t\tisMulti\n\t\t\t\t\t\tname=\"cohorts\"\n\t\t\t\t\t\taria-label=\"Select cohorts\"\n\t\t\t\t\t\tplaceholder=\"Select cohorts to display\"\n\t\t\t\t\t\toptions={this.state.cohortOptions}\n\t\t\t\t\t\tonChange={this.handleCohortChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cohort-page\">\n\t\t\t\t\t{this.renderCohort()}\n\t\t\t\t</div>\n\t\t\t\t{this.state.actualMember ? this.renderActualMember() : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCohortsPage.propTypes = {\n\tbadges: PropTypes.array.isRequired,\n\tcohorts: PropTypes.array.isRequired,\n\tlessons: PropTypes.array.isRequired\n};\n\nCohortsPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default CohortsPage;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport stringify from 'csv-stringify';\nimport { withTranslation } from 'react-i18next';\nimport InputRange from 'react-input-range';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Card from 'react-bootstrap/Card';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport isArray from '@stdlib/assert/is-array';\nimport isUndefinedOrNull from '@stdlib/assert/is-undefined-or-null';\nimport hasOwnProp from '@stdlib/assert/has-own-property';\nimport contains from '@stdlib/assert/contains';\nimport lowercase from '@stdlib/string/lowercase';\nimport trim from '@stdlib/string/trim';\nimport DashboardTable from 'components/dashboard-table';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport server from 'constants/server';\nimport saveAs from 'utils/file_saver.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport './progress_page.css';\nimport 'css/input_range.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:progress-page' );\n\n\n// FUNCTIONS //\n\nfunction filterNumbersFactory( lessons, idx ) {\n\treturn ( filter, row ) => {\n\t\tconst data = row[ filter.id ];\n\t\tconst grades = data[ lessons[ idx ]._id ];\n\t\tif ( isUndefinedOrNull( grades ) ) {\n\t\t\treturn filter.value.min === 0;\n\t\t}\n\t\tconst points = grades._sumPoints;\n\t\treturn points >= filter.value.min && points <= filter.value.max;\n\t};\n}\n\nfunction filterMethodCategories( filter, row ) {\n\tif ( filter.value === 'all' ) {\n\t\treturn true;\n\t}\n\tconst id = filter.pivotId || filter.id;\n\tif ( row[ id ] === void 0 ) {\n\t\treturn true;\n\t}\n\tif ( isArray( filter.value ) ) {\n\t\treturn contains( filter.value, String( row[ id ] ) );\n\t}\n\treturn String( row[ id ] ) === filter.value;\n}\n\nfunction sortFactory( lessons, idx ) {\n\treturn ( a, b ) => {\n\t\ta = a[ lessons[ idx ]._id ];\n\t\tb = b[ lessons[ idx ]._id ];\n\t\tif ( !a && !b ) {\n\t\t\treturn 0;\n\t\t}\n\t\tif ( a && !b ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( !a && b ) {\n\t\t\treturn -1;\n\t\t}\n\t\tif ( a._sumPoints > b._sumPoints ) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ( a._sumPoints < b._sumPoints ) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t};\n}\n\n\n// MAIN //\n\nclass GradesPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.columns = this.createColumns( props.lessons, props.cohorts );\n\t\tthis.state = {\n\t\t\tdisplayedMembers: [],\n\t\t\tlessonSortDirection: 'ascending',\n\t\t\tlessonOrder: 'createdAt',\n\t\t\tshowExplorer: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.createDisplayedMembers();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tthis.props.cohorts !== prevProps.cohorts ||\n\t\t\tthis.props.lessons !== prevProps.lessons\n\t\t) {\n\t\t\tthis.createDisplayedMembers();\n\t\t\tthis.columns = this.createColumns( this.props.lessons, this.props.cohorts );\n\t\t}\n\t}\n\n\tcreateDisplayedMembers() {\n\t\tlet members = [];\n\t\tfor ( let i = 0; i < this.props.cohorts.length; i++ ) {\n\t\t\tconst cohortMembers = this.props.cohorts[ i ].members;\n\t\t\tfor ( let j = 0; j < cohortMembers.length; j++ ) {\n\t\t\t\tcohortMembers[ j ].cohort = this.props.cohorts[ i ].title;\n\t\t\t\tif ( !cohortMembers[ j ].lessonGrades ) {\n\t\t\t\t\tcohortMembers[ j ].lessonGrades = {};\n\t\t\t\t}\n\t\t\t}\n\t\t\tmembers = members.concat( this.props.cohorts[ i ].members );\n\t\t}\n\t\tfor ( let i = 0; i < members.length; i++ ) {\n\t\t\tconst d = members[ i ];\n\t\t\tconst parts = trim( d.name ).split( ' ' );\n\t\t\tif ( parts.length > 1 ) {\n\t\t\t\td.lastName = parts.pop();\n\t\t\t\td.firstName = parts.join( ' ' );\n\t\t\t} else {\n\t\t\t\td.firstName = parts[ 0 ];\n\t\t\t\td.lastName = '';\n\t\t\t}\n\t\t}\n\t\tthis.setState({ // eslint-disable-line react/no-did-mount-set-state\n\t\t\tdisplayedMembers: members\n\t\t});\n\t}\n\n\tcreateColumns( lessons, cohorts ) {\n\t\tconst { t } = this.props;\n\t\tconst COLUMNS = [\n\t\t\t{\n\t\t\t\tHeader: 'Pic',\n\t\t\t\taccessor: 'picture',\n\t\t\t\tCell: row => (\n\t\t\t\t\t<img className=\"table-pic\" src={`${server}/thumbnail/${row.original.picture}`} alt=\"Profile Pic\" />\n\t\t\t\t),\n\t\t\t\tmaxWidth: 46,\n\t\t\t\tminWidth: 46,\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tsortable: false,\n\t\t\t\tstyle: { color: 'darkslategrey' }\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('first-name'),\n\t\t\t\tid: 'first_name',\n\t\t\t\taccessor: 'firstName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('last-name'),\n\t\t\t\tid: 'last_name',\n\t\t\t\taccessor: 'lastName',\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'email',\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tfilterMethod: ( filter, row ) => {\n\t\t\t\t\treturn contains( lowercase( row[ filter.id ] ), lowercase( filter.value ) );\n\t\t\t\t}\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:cohort'),\n\t\t\t\taccessor: 'cohort',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tfilterMethod: filterMethodCategories,\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tconst handleChange = ( event ) => {\n\t\t\t\t\t\tconst newValue = event.target.value;\n\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t};\n\t\t\t\t\tlet value;\n\t\t\t\t\tif ( !filter ) {\n\t\t\t\t\t\tvalue = 'all';\n\t\t\t\t\t} else if ( isArray( filter.value ) ) {\n\t\t\t\t\t\tvalue = filter.value.join( ', ' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = filter.value;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tonBlur={handleChange} onChange={handleChange}\n\t\t\t\t\t\t\tstyle={{ width: '100%', backgroundColor: 'ghostwhite' }}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"all\">Show All</option>\n\t\t\t\t\t\t\t{cohorts.map( ( v, key ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tvalue={`${v.title}`}\n\t\t\t\t\t\t\t\t\t>{v.title}</option>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst id = 'lesson_'+i;\n\t\t\tCOLUMNS.push({\n\t\t\t\tid,\n\t\t\t\tHeader: <span id={id} >{lessons[ i ].title}</span>,\n\t\t\t\t_lesson: lessons[ i ],\n\t\t\t\tCell: this.accessorFactory( lessons, i ),\n\t\t\t\tsortMethod: sortFactory( lessons, i ),\n\t\t\t\tfilterMethod: filterNumbersFactory( lessons, i ),\n\t\t\t\tFilter: ({ filter, onChange }) => {\n\t\t\t\t\tlet maxPoints = 0;\n\t\t\t\t\tif ( lessons[ i ].metadata && lessons[ i ].metadata.grades ) {\n\t\t\t\t\t\tmaxPoints = lessons[ i ].metadata.grades.maxPoints;\n\t\t\t\t\t}\n\t\t\t\t\tconst defaultVal = {\n\t\t\t\t\t\tmax: maxPoints,\n\t\t\t\t\t\tmin: 0\n\t\t\t\t\t};\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tpaddingLeft: '4px',\n\t\t\t\t\t\t\tpaddingRight: '4px',\n\t\t\t\t\t\t\tpaddingTop: '8px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<InputRange\n\t\t\t\t\t\t\t\tariaLabelledby={id}\n\t\t\t\t\t\t\t\tariaControls=\"dashboard-table\"\n\t\t\t\t\t\t\t\tallowSameValues\n\t\t\t\t\t\t\t\tmaxValue={maxPoints}\n\t\t\t\t\t\t\t\tminValue={0}\n\t\t\t\t\t\t\t\tvalue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\t\t\tonChange={( newValue ) => {\n\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\taccessor: 'lessonGrades'\n\t\t\t});\n\t\t}\n\t\treturn COLUMNS;\n\t}\n\n\taccessorFactory = ( lessons, idx ) => {\n\t\treturn d => {\n\t\t\tlet data = d.original.lessonGrades || {};\n\t\t\tconst lesson = lessons[ idx ];\n\t\t\tconst lessonID = lesson._id;\n\t\t\tlet maxPoints = '';\n\t\t\tif ( lesson.metadata && lesson.metadata.grades ) {\n\t\t\t\tmaxPoints += ` / ${lessons[ idx ].metadata.grades.maxPoints}`;\n\t\t\t}\n\t\t\tdata = data[ lessonID ];\n\t\t\tif ( data ) {\n\t\t\t\tlet tally = [];\n\t\t\t\tfor ( let key in data ) {\n\t\t\t\t\tif ( hasOwnProp( data, key ) && key !== '_sumPoints' ) {\n\t\t\t\t\t\ttally.push( <p style={{ margin: 0 }} key={key}>{key}: <b style={{ float: 'right', marginLeft: 12 }}>{data[ key ]}</b></p> );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn ( <OverlayTrigger placement=\"top\" overlay={<Card className=\"tickets-description-overlay\" body id=\"description-tooltip\">\n\t\t\t\t\t{tally}\n\t\t\t\t</Card>}>\n\t\t\t\t\t<p>{data._sumPoints}{maxPoints}</p>\n\t\t\t\t</OverlayTrigger> );\n\t\t\t}\n\t\t\treturn <span></span>;\n\t\t};\n\t};\n\n\treorderColumns( lessonOrder, lessonSortDirection ) {\n\t\tdebug( 'Sort columns by '+lessonOrder+' in '+lessonSortDirection+' order' );\n\t\tif ( lessonSortDirection === 'ascending' ) {\n\t\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\t\treturn a._lesson.title.localeCompare( b._lesson.title );\n\t\t\t\t}\n\t\t\t\treturn a._lesson[ lessonOrder ] > b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t\t});\n\t\t}\n\t\treturn this.columns.slice().sort( ( a, b ) => {\n\t\t\tif ( !a._lesson || !b._lesson ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( lessonOrder === 'title' ) {\n\t\t\t\treturn b._lesson.title.localeCompare( a._lesson.title );\n\t\t\t}\n\t\t\treturn a._lesson[ lessonOrder ] < b._lesson[ lessonOrder ] ? 1 : -1;\n\t\t});\n\t}\n\n\tassembleData() {\n\t\tconst displayedMembers = this.dashboardTable.table.getResolvedState().sortedData;\n\t\tconst len = displayedMembers.length;\n\t\tconst out = new Array( len );\n\t\tconst lessons = this.props.lessons;\n\t\tfor ( let i = 0; i < len; i++ ) {\n\t\t\tconst member = displayedMembers[ i ]._original;\n\t\t\tout[ i ] = {\n\t\t\t\tname: member.name,\n\t\t\t\tfirstName: member.firstName,\n\t\t\t\tlastName: member.lastName,\n\t\t\t\temail: member.email,\n\t\t\t\tcohort: member.cohort\n\t\t\t};\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let j = 0; j < availableCustomFields.length; j++ ) {\n\t\t\t\tconst fieldName = availableCustomFields[ j ].name;\n\t\t\t\tif ( member.customFields ) {\n\t\t\t\t\tout[ i ][ fieldName ] = member.customFields[ fieldName ];\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ fieldName ] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( let j = 0; j < lessons.length; j++ ) {\n\t\t\t\tconst lessonName = lessons[ j ]._id;\n\t\t\t\tlet data = member.lessonGrades;\n\t\t\t\tif ( data && data[ lessonName ] ) {\n\t\t\t\t\tdata = data[ lessonName ];\n\t\t\t\t\tout[ i ][ lessons[ j ].title ] = data._sumPoints;\n\t\t\t\t} else {\n\t\t\t\t\tout[ i ][ lessons[ j ].title ] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\tsaveJSON = () => {\n\t\tconst data = this.assembleData();\n\t\tconst blob = new Blob([ JSON.stringify( data ) ], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tconst name = `grades_${this.props.namespace.title}.json`;\n\t\tsaveAs( blob, name );\n\t};\n\n\tsaveCSV = () => {\n\t\tconst data = this.assembleData();\n\t\tstringify( data, {\n\t\t\theader: true\n\t\t}, ( err, output ) => {\n\t\t\tif ( err ) {\n\t\t\t\treturn this.props.addNotification({\n\t\t\t\t\ttitle: 'Error encountered',\n\t\t\t\t\tmessage: 'Encountered an error while creating CSV: '+err.message,\n\t\t\t\t\tlevel: 'error',\n\t\t\t\t\tposition: 'tl'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst blob = new Blob([ output ], {\n\t\t\t\ttype: 'text/plain'\n\t\t\t});\n\t\t\tconst name = `grades_${this.props.namespace.title}.csv`;\n\t\t\tsaveAs( blob, name );\n\t\t});\n\t};\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t};\n\n\trenderSortButton() {\n\t\tconst { t } = this.props;\n\t\tlet title;\n\t\tswitch ( this.state.lessonOrder ) {\n\t\t\tcase 'title':\n\t\t\t\ttitle = t('common:sort-alphabetically');\n\t\t\t\tbreak;\n\t\t\tcase 'createdAt':\n\t\t\t\ttitle = t('common:sort-create-date');\n\t\t\t\tbreak;\n\t\t\tcase 'updatedAt':\n\t\t\t\ttitle = t('common:sort-update-date');\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<ButtonGroup className=\"sort-button-group\" >\n\t\t\t\t<DropdownButton size=\"sm\" variant=\"secondary\" onSelect={( newValue ) => {\n\t\t\t\t\tthis.columns = this.reorderColumns( newValue, this.state.lessonSortDirection );\n\t\t\t\t\tthis.setState({ lessonOrder: newValue });\n\t\t\t\t}} id=\"dropdown\" title={<small>{title}</small>} >\n\t\t\t\t\t<Dropdown.Item eventKey=\"title\" >\n\t\t\t\t\t\t<small>{t('common:sort-alphabetically')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"createdAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-create-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"updatedAt\" >\n\t\t\t\t\t\t<small>{t('common:sort-update-date')}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t<Button size=\"sm\" variant=\"secondary\" style={{ marginLeft: 2 }} onClick={() => {\n\t\t\t\t\tif ( this.state.lessonSortDirection === 'ascending' ) {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'descending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'descending' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.columns = this.reorderColumns( this.state.lessonOrder, 'ascending' );\n\t\t\t\t\t\tthis.setState({ lessonSortDirection: 'ascending' });\n\t\t\t\t\t}\n\t\t\t\t}} aria-label={this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\tt('common:sort-descending') : t('common:sort-ascending')} >\n\t\t\t\t\t{ this.state.lessonSortDirection === 'ascending' ?\n\t\t\t\t\t\t<i className=\"fas fa-arrow-right\" /> :\n\t\t\t\t\t\t<i className=\"fas fa-arrow-left\" />\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</ButtonGroup>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tlet data = this.assembleData();\n\t\t\tdata = obsToVar( data );\n\t\t\tconst quantitative = [];\n\t\t\tconst categorical = [ 'name', 'email', 'cohort' ];\n\t\t\tfor ( let i = 0; i < this.props.lessons.length; i++ ) {\n\t\t\t\tquantitative.push( this.props.lessons[ i ].title );\n\t\t\t}\n\t\t\tconst availableCustomFields = this.props.user.availableCustomFields;\n\t\t\tfor ( let i = 0; i < availableCustomFields.length; i++ ) {\n\t\t\t\tcategorical.push( availableCustomFields[ i ].name );\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-grades-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={categorical}\n\t\t\t\t\tquantitative={quantitative}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"namespace-data-buttons\" >\n\t\t\t\t\t{this.renderSortButton()}\n\t\t\t\t\t<ButtonGroup className=\"progress-button-group\" >\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"csvTooltip\" >{t('save-as-csv')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveCSV} ><i className=\"fas fa-download\"></i> CSV</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"jsonTooltip\">{t('save-as-json')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"secondary\" onClick={this.saveJSON} ><i className=\"fas fa-download\"></i> JSON</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"namespace-data-page\">\n\t\t\t\t\t<DashboardTable\n\t\t\t\t\t\tclassName=\"grades-table\"\n\t\t\t\t\t\tdata={this.state.displayedMembers}\n\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tref={(r) => {\n\t\t\t\t\t\t\tthis.dashboardTable = r;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nGradesPage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tcohorts: PropTypes.array.isRequired,\n\tlessons: PropTypes.array.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nGradesPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( GradesPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport logger from 'debug';\nimport Select from 'react-select';\nimport './actions_page.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard:namespace-data:actions-page' );\n\n\n// MAIN //\n\nclass ActionsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst cohortOptions = props.cohorts.map( cohort => {\n\t\t\treturn { label: cohort.title, value: cohort };\n\t\t});\n\n\t\tlet displayedMembers = [];\n\t\tfor ( let i = 0; i < props.cohorts.length; i++ ) {\n\t\t\tdisplayedMembers = displayedMembers.concat( props.cohorts[i].members);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tcohortOptions: cohortOptions,\n\t\t\tselectedCohorts: cohortOptions,\n\t\t\tdisplayedMembers: displayedMembers,\n\t\t\tlessonActionsPage: false,\n\t\t\tactualLesson: null,\n\t\t\tanonymized: true\n\t\t};\n\t}\n\n\tretrieveActions = () => {\n\t\tthis.props.getNamespaceActions({\n\t\t\tnamespaceID: this.props.namespace._id,\n\t\t\tnamespaceTitle: this.props.namespace.title\n\t\t});\n\t};\n\n\thandleRadioChange = ( val ) => {\n\t\tthis.setState({\n\t\t\tanonymized: !this.state.anonymized\n\t\t});\n\t};\n\n\thandleCohortChange = ( cohorts ) => {\n\t\tlet members = [];\n\t\tfor ( let i = 0; i < cohorts.length; i++ ) {\n\t\t\tmembers = members.concat( cohorts[ i ].value.members );\n\t\t}\n\t\tthis.setState({\n\t\t\tselectedCohorts: cohorts,\n\t\t\tdisplayedMembers: members\n\t\t}, () => {\n\t\t\tdebug( 'New number of displayed members: '+this.state.displayedMembers.length );\n\t\t});\n\t};\n\n\trenderCohorts() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"actions-page-cohorts\">\n\t\t\t\t\t<div style={{ width: '400px', height: '40px' }}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={this.state.selectedCohorts}\n\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\tname=\"cohorts\"\n\t\t\t\t\t\t\toptions={this.state.cohortOptions}\n\t\t\t\t\t\t\tonChange={this.handleCohortChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderLessonActionsPage() {\n\t\treturn (\n\t\t\t<div className=\"actions-page-lesson-action-page\">\n\t\t\t\t<div className=\"lesson-action-page-resize\">\t&#x1f5d6;</div>\n\t\t\t\t<button onClick={this.hideLessonActions} className=\"lesson-action-page-exit empty-button\">&#10005;</button>\n\t\t\t\t<div className=\"lesson-action-page-title\">{ this.state.actualLesson.title}</div>\n\t\t\t\t<div className=\"lesson-action-page-filter\">\n\t\t\t\t\t{this.renderCohorts() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\thideLessonActions = () => {\n\t\tthis.setState({\n\t\t\tlessonActionsPage: false\n\t\t});\n\t};\n\n\tshowLessonActions = (lesson) => {\n\t\tthis.setState({\n\t\t\tlessonActionsPage: true,\n\t\t\tactualLesson: lesson\n\t\t});\n\t};\n\n\trenderLessons() {\n\t\tconst lessons = this.props.namespace.lessons;\n\t\tconst list = [];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tlist.push(\n\t\t\t\t<button key={i} onClick={()=> this.showLessonActions( lessons[i] )} className=\"actions-page-lesson\">\n\t\t\t\t\t<div className=\"actions-page-lesson-title\">{lessons[i].title}</div>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"actions-page\">\n\t\t\t\t<div className=\"actions-page-export\">\n\t\t\t\t{ this.renderExportSection() }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"actions-page-lessons\">\n\t\t\t\t\t{ list }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderExportSection() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"actions-page-export-title\">Export Actions</div>\n\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\tname=\"options\"\n\t\t\t\t\tonChange={this.handleRadioChange}\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={this.state.anonymized}\n\t\t\t\t>\n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\tvalue={false}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\t\t\tcolor: this.state.anonymized ? '#A9A9A9' : 'black'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Original</ToggleButton>\n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\tvalue={true}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\t\t\tcolor: this.state.anonymized ? 'black' : '#A9A9A9'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Anonymized</ToggleButton>\n\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t<Button onClick={this.retrieveActions}>\n\t\t\t\t\tSave all namespace actions\n\t\t\t\t</Button>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t{ this.renderLessons() }\n\t\t\t{ this.state.lessonActionsPage ? this.renderLessonActionsPage() : null }\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nActionsPage.propTypes = {\n\tcohorts: PropTypes.array.isRequired,\n\tgetNamespaceActions: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired\n};\n\nActionsPage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default ActionsPage;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport PINF from '@stdlib/constants/float64/pinf';\nimport omit from '@stdlib/utils/omit';\nimport Popover from 'react-bootstrap/Popover';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Badge from 'react-bootstrap/Badge';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport DashboardTable from 'components/dashboard-table';\nimport createCategoricalColumn from 'utils/create_categorical_column.js';\nimport createBooleanColumn from 'utils/create_boolean_column.js';\nimport createTextColumn from 'utils/create_text_column.js';\nimport createDateColumn from 'utils/create_date_column.js';\nimport TicketModal from 'components/ticket-modal';\nimport server from 'constants/server';\nimport 'css/input_range.css';\nimport './tickets_page.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:files-page' );\nconst RE_TICKET = /ticket=([^&]*)/;\n\n\n// MAIN //\n\nclass TicketsPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tshowTicketModal: false,\n\t\t\tselectedTicket: null,\n\t\t\tshowExplorer: false\n\t\t};\n\t\tthis.columns = this.createColumns();\n\t}\n\n\tasync componentDidMount() {\n\t\tdebug( 'Component did mount...' );\n\t\tawait this.props.getCourseTickets( this.props.namespace._id );\n\n\t\tif ( window.location.search ) {\n\t\t\tconst match = RE_TICKET.exec( window.location.search );\n\t\t\tif ( match && match[ 1 ] ) {\n\t\t\t\tconst tickets = this.props.tickets;\n\t\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\t\tif ( ticket._id === match[ 1 ] ) {\n\t\t\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tselectedTicket: ticket,\n\t\t\t\t\t\t\tshowTicketModal: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleTicketModal = () => {\n\t\tthis.setState({\n\t\t\tshowTicketModal: !this.state.showTicketModal\n\t\t});\n\t};\n\n\tcreateColumns = () => {\n\t\tconst { t } = this.props;\n\t\tconst tickets = this.props.tickets || [];\n\t\tlet minTime = PINF;\n\t\tlet maxTime = 0;\n\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\tif ( tickets[ i ].createdAt > maxTime ) {\n\t\t\t\tmaxTime = tickets[ i ].createdAt;\n\t\t\t}\n\t\t\tif ( tickets[ i ].updatedAt > maxTime ) {\n\t\t\t\tmaxTime = tickets[ i ].updatedAt;\n\t\t\t}\n\t\t\tif ( tickets[ i ].createdAt < minTime ) {\n\t\t\t\tminTime = tickets[ i ].createdAt;\n\t\t\t}\n\t\t\tif ( tickets[ i ].updatedAt < minTime ) {\n\t\t\t\tminTime = tickets[ i ].updatedAt;\n\t\t\t}\n\t\t}\n\t\tmaxTime = moment( maxTime );\n\t\tminTime = moment( minTime );\n\t\treturn [\n\t\t\t{\n\t\t\t\tHeader: 'Pic',\n\t\t\t\taccessor: 'user.picture',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn <img className=\"table-pic\" src={`${server}/thumbnail/${row.value}`} alt=\"Profile Pic\" />;\n\t\t\t\t},\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tmaxWidth: 46,\n\t\t\t\tminWidth: 46,\n\t\t\t\tfilterable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tsortable: false\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:name'),\n\t\t\t\taccessor: 'user.name',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' }\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:email'),\n\t\t\t\taccessor: 'user.email',\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' }\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:title'),\n\t\t\t\taccessor: 'title',\n\t\t\t\tminWidth: 200\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:description'),\n\t\t\t\taccessor: 'description',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn ( <OverlayTrigger placement=\"top\" overlay={<Card className=\"tickets-description-overlay\" body id=\"description-tooltip\">\n\t\t\t\t\t\t{row.value}\n\t\t\t\t\t</Card>}>\n\t\t\t\t\t\t<p className=\"tickets-description\" >{row.value}</p>\n\t\t\t\t\t</OverlayTrigger> );\n\t\t\t\t},\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tminWidth: 300\n\t\t\t},\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:component'),\n\t\t\t\taccessor: 'component'\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: 'Reply',\n\t\t\t\taccessor: '_id',\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"open-ticket-tooltip\">{t('common:open-ticket-tooltip')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tselectedTicket: row.original\n\t\t\t\t\t\t\t\t\t}, this.toggleTicketModal );\n\t\t\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t\t<i className=\"fas fa-reply\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 45\n\t\t\t},\n\t\t\tcreateCategoricalColumn({\n\t\t\t\tHeader: t('common:priority'),\n\t\t\t\taccessor: 'priority',\n\t\t\t\tlabels: [ 'Low', 'Middle', 'High' ],\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( !row.value ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tlet variant;\n\t\t\t\t\tlet higher;\n\t\t\t\t\tlet lower;\n\t\t\t\t\tswitch ( row.value ) {\n\t\t\t\t\t\tcase 'Low':\n\t\t\t\t\t\t\tvariant = 'secondary';\n\t\t\t\t\t\t\thigher = 'Middle';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Middle':\n\t\t\t\t\t\t\tvariant = 'warning';\n\t\t\t\t\t\t\thigher = 'High';\n\t\t\t\t\t\t\tlower = 'Low';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'High':\n\t\t\t\t\t\t\tvariant = 'danger';\n\t\t\t\t\t\t\tlower = 'Middle';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\treturn ( <div>\n\t\t\t\t\t\t<Badge bg={variant} style={{ marginRight: 6, fontSize: '1em' }} >\n\t\t\t\t\t\t\t{row.value}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\" bg=\"outline-secondary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.updatePriority( row.original._id, higher );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={!higher}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-arrow-up\"></i>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\" bg=\"outline-secondary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.updatePriority( row.original._id, lower );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={!lower}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-arrow-down\"></i>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div> );\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateTextColumn({\n\t\t\t\tHeader: t('common:lesson'),\n\t\t\t\taccessor: 'lesson.title',\n\t\t\t\tmaxWidth: 140,\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( !row.value ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tconst url = `${server}/${this.props.namespace.title}/${row.value}`;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"open-lesson-tooltip\">{t('namespace_data:open-lesson-new-tab')}</Tooltip>}>\n\t\t\t\t\t\t\t<Badge bg=\"light\" style={{ fontSize: '1em' }} >\n\t\t\t\t\t\t\t\t<a href={url} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t{row.value}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tcreateBooleanColumn({\n\t\t\t\tHeader: t('common:done'),\n\t\t\t\taccessor: 'done',\n\t\t\t\ttrueLabel: t('common:done'),\n\t\t\t\tfalseLabel: t('common:not-done')\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t( 'common:platform' ),\n\t\t\t\taccessor: 'platform',\n\t\t\t\tstyle: { marginTop: '2px', color: 'darkslategrey', fontSize: 24, textAlign: 'center', cursor: 'pointer' },\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\tif ( row.value ) {\n\t\t\t\t\t\tconst popover = <Popover\n\t\t\t\t\t\t\tid=\"popover-data\"\n\t\t\t\t\t\t\tstyle={{ maxWidth: 500, maxHeight: '80vh', overflowY: 'auto' }}\n\t\t\t\t\t\t\tarrowProps={{ display: 'none' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Popover.Header as=\"h3\">{row.row._original.title}</Popover.Header>\n\t\t\t\t\t\t\t<Popover.Body style={{ backgroundColor: 'lightblue' }} >\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t{JSON.stringify( omit( row.value, [ 'description' ] ), null, 2 )}\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Popover.Body>\n\t\t\t\t\t\t</Popover>;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}>\n\t\t\t\t\t\t\t\t<i className=\"data-icon fas fa-tablet-alt\"></i>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\t\t\tmaxWidth: 75,\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false\n\t\t\t},\n\t\t\tcreateDateColumn({\n\t\t\t\tHeader: t('created-at'),\n\t\t\t\taccessor: 'createdAt',\n\t\t\t\tstartDate: minTime,\n\t\t\t\tendDate: maxTime,\n\t\t\t\tt\n\t\t\t})\n\t\t];\n\t};\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t};\n\n\tassembleExplorerData = () => {\n\t\tlet tickets = this.props.tickets;\n\t\tlet data = [];\n\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\tconst ticket = tickets[ i ];\n\t\t\tconst replacement = {};\n\t\t\treplacement.component = ticket.component;\n\t\t\treplacement.title = ticket.title;\n\t\t\treplacement.description = ticket.description;\n\t\t\treplacement.lesson = ticket.lesson ? ticket.lesson.title : null;\n\t\t\treplacement.messages = ticket.messages.length;\n\t\t\treplacement.attachments = ticket.attachments.length;\n\t\t\treplacement.user = ticket.user.email;\n\t\t\treplacement.done = ticket.done;\n\t\t\treplacement.priority = ticket.priority;\n\t\t\treplacement.browser = `${ticket.platform.name} ${ticket.platform.version}`;\n\t\t\tconst os = ticket.platform.os;\n\t\t\treplacement.os = `${os.family} ${os.version ? os.version : ''} ${os.architecture}bit`;\n\t\t\treplacement.createdAt = ticket.createdAt;\n\t\t\treplacement.updatedAt = ticket.updatedAt;\n\t\t\tdata.push( replacement );\n\t\t}\n\t\tdata = obsToVar( data );\n\t\treturn data;\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-tickets-title')}\n\t\t\t\t\tdata={this.assembleExplorerData()}\n\t\t\t\t\tcategorical={[ 'component', 'lesson', 'done', 'createdAt', 'updatedAt', 'priority', 'browser', 'os' ]}\n\t\t\t\t\tquantitative={[ 'messages', 'attachments' ]}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn ( <div className=\"namespace-data-page\">\n\t\t\t<DashboardTable\n\t\t\t\tdata={this.props.tickets}\n\t\t\t\tcolumns={this.columns}\n\t\t\t\tt={t}\n\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t/>\n\t\t\t{ this.state.showTicketModal ? <TicketModal\n\t\t\t\tshow={this.state.showTicketModal}\n\t\t\t\tonHide={this.toggleTicketModal}\n\t\t\t\tticket={this.state.selectedTicket}\n\t\t\t\tsubmitTicketMessage={this.props.submitTicketMessage}\n\t\t\t\topenTicket={this.props.openTicket}\n\t\t\t\tcloseTicket={this.props.closeTicket}\n\t\t\t/> : null }\n\t\t</div> );\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketsPage.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tgetCourseTickets: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\ttickets: PropTypes.array,\n\tupdatePriority: PropTypes.func.isRequired\n};\n\nTicketsPage.defaultProps = {\n\ttickets: []\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'namespace_data', 'common' ] )( TicketsPage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate, Route, Routes } from 'react-router-dom';\nimport Alert from 'react-bootstrap/Alert';\nimport Nav from 'react-bootstrap/Nav';\nimport FilesPage from './files_page.js';\nimport AnnouncementsPage from './announcements_page.js';\nimport ProgressPage from './progress_page.js';\nimport CohortsPage from './cohorts_page.js';\nimport GradesPage from './grades_page.js';\nimport ActionsPage from './actions_page.js';\nimport TicketsPage from './tickets_page.js';\nimport './namespace_data.css';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard:namespace-data' );\n\n\n// MAIN //\n\nconst NamespaceData = ({\n\t\taddAnnouncement, deleteAnnouncement, editAnnouncement, badges, namespace, user,\n\t\tgetBadges, uploadFile, deleteFile, getFiles, sendTicketMessage, addNotification,\n\t\tadjustProgress, getCourseTickets, getNamespaceActions, openTicket, closeTicket,\n\t\tupdatePriority, getOwnerFiles\n}) => {\n\tlet pathname = window.location.pathname;\n\tconst [ activePage, setActivePage ] = useState( pathname.substring( pathname.lastIndexOf( '/' ) + 1 ) );\n\tconst { t } = useTranslation( [ 'namespace_data', 'common' ] );\n\tconst navigate = useNavigate();\n\tuseEffect( () => {\n\t\tdebug( 'Getting badges upon mounting...' );\n\t\tgetBadges();\n\t}, [ getBadges ] );\n\tif ( !namespace._id ) {\n\t\treturn ( <div className=\"namespace-data-div\">\n\t\t\t<Alert variant=\"danger\">{t('common:no-course-selected')}</Alert>\n\t\t</div> );\n\t}\n\tconst handleUpload = ( event ) => {\n\t\tdebug( 'Uploading file...' );\n\t\tconst file = event.target.files[ 0 ];\n\t\tconst formData = new FormData();\n\t\tformData.append( 'file', file, file.name );\n\t\tformData.append( 'namespaceName', namespace.title );\n\t\tformData.append( 'owner', 'true' );\n\t\tuploadFile({ formData, user });\n\t};\n\tconst handleAnnouncementDeletion = ( createdAt, index ) => {\n\t\tdeleteAnnouncement( {\n\t\t\tnamespaceName: namespace.title,\n\t\t\tindex,\n\t\t\tcreatedAt\n\t\t});\n\t};\n\tconst handleAnnouncementEdit = ( announcement ) => {\n\t\teditAnnouncement({\n\t\t\tnamespaceName: namespace.title,\n\t\t\tannouncement\n\t\t});\n\t};\n\tconst handleAnnouncementCreation = ( announcement ) => {\n\t\taddAnnouncement({\n\t\t\tnamespaceName: namespace.title,\n\t\t\tannouncement\n\t\t});\n\t};\n\tconst handleFileDeletion = ( _id, ownerFiles ) => {\n\t\tdeleteFile( _id, namespace.title, ownerFiles );\n\t};\n\tconst submitTicketMessage = ({ message, ticketID }) => {\n\t\tsendTicketMessage({ message, ticketID, user: user });\n\t};\n\tconst handleSelect = ( selectedKey ) => {\n\t\tconst title = namespace.title;\n\t\tnavigate( `/namespace-data/${title}/${selectedKey}` );\n\t\tsetActivePage( selectedKey );\n\t};\n\treturn (\n\t\t<div className=\"namespace-data-div\" >\n\t\t\t<div className=\"namespace-data-navbar\" >\n\t\t\t\t<Nav variant=\"pills\" className=\"namespace-data-navbar-pills\" activeKey={activePage} onSelect={handleSelect} >\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"announcements\" title=\"Announcements\" >{t('common:announcements')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"progress\" title=\"Progress\" >{t('common:progress')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"grades\" title=\"Grades\" >{t('grades')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"cohorts\" title=\"Cohorts\" >{t('common:cohorts')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"owner-files\" title=\"Owner Files\" >{t('owner-files')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"student-files\" title=\"Student Files\" >{t('student-files')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"tickets\" title=\"Tickets\" disabled={!namespace.enableTicketing} >{t('common:tickets')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"actions\" title=\"Actions\" disabled >{t('common:actions')}</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t</Nav>\n\t\t\t</div>\n\t\t\t<div className=\"namespace-data-page-container\" style={{ overflowY: 'auto' }}>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"announcements\" element={<AnnouncementsPage\n\t\t\t\t\t\tnamespace={namespace} editAnnouncement={handleAnnouncementEdit}\n\t\t\t\t\t\tdeleteAnnouncement={handleAnnouncementDeletion}\n\t\t\t\t\t\taddAnnouncement={handleAnnouncementCreation} user={user} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"progress\" element={<ProgressPage adjustProgress={adjustProgress} addNotification={addNotification}\n\t\t\t\t\t\tnamespace={namespace} cohorts={namespace.cohorts}\n\t\t\t\t\t\tlessons={namespace.lessons} user={user} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"grades\" element={<GradesPage addNotification={addNotification} namespace={namespace}\n\t\t\t\t\t\tcohorts={namespace.cohorts} lessons={namespace.lessons} user={user} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"cohorts\" element={<CohortsPage badges={badges} cohorts={namespace.cohorts}\n\t\t\t\t\t\tlessons={namespace.lessons} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"owner-files\" element={<FilesPage ownerFiles files={namespace.ownerFiles} namespace={namespace}\n\t\t\t\t\t\thandleUpload={handleUpload} handleFileDeletion={handleFileDeletion}\n\t\t\t\t\t\taddNotification={addNotification} getFiles={getOwnerFiles} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"student-files\" element={<FilesPage files={namespace.files} namespace={namespace} handleUpload={handleUpload}\n\t\t\t\t\t\thandleFileDeletion={handleFileDeletion} addNotification={addNotification} getFiles={getFiles} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"tickets\" element={<TicketsPage tickets={namespace.tickets} namespace={namespace}\n\t\t\t\t\t\tgetCourseTickets={getCourseTickets} submitTicketMessage={submitTicketMessage}\n\t\t\t\t\t\topenTicket={openTicket} closeTicket={closeTicket}\n\t\t\t\t\t\tupdatePriority={updatePriority} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"actions\" element={<ActionsPage namespace={namespace} getNamespaceActions={getNamespaceActions}\n\t\t\t\t\t\tuser={user} cohorts={namespace.cohorts} />}\n\t\t\t\t\t/>\n\t\t\t\t</Routes>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n\n// PROPERTIES //\n\nNamespaceData.propTypes = {\n\taddAnnouncement: PropTypes.func.isRequired,\n\taddNotification: PropTypes.func.isRequired,\n\tadjustProgress: PropTypes.func.isRequired,\n\tbadges: PropTypes.array,\n\tcloseTicket: PropTypes.func.isRequired,\n\tdeleteAnnouncement: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\teditAnnouncement: PropTypes.func.isRequired,\n\tgetBadges: PropTypes.func.isRequired,\n\tgetCourseTickets: PropTypes.func.isRequired,\n\tgetFiles: PropTypes.func.isRequired,\n\tgetNamespaceActions: PropTypes.func.isRequired,\n\tgetOwnerFiles: PropTypes.func.isRequired,\n\tnamespace: PropTypes.object.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tsendTicketMessage: PropTypes.func.isRequired,\n\tupdatePriority: PropTypes.func.isRequired,\n\tuploadFile: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nNamespaceData.defaultProps = {\n\tbadges: null\n};\n\n\n// EXPORTS //\n\nexport default NamespaceData;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport server from 'constants/server';\nimport { CREATED_ANNOUNCEMENT, EDITED_ANNOUNCEMENT, DELETED_ANNOUNCEMENT } from 'constants/action_types.js';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { namespaceAxios } from 'helpers/axios.js';\n\n\n// EXPORTS //\n\n/**\n * Returns an action object to be used in signalling that an announcement has been edited.\n *\n * @param {Object} announcement\n * @param {string} namespaceName\n * @returns {Object} an action object\n */\nexport function editedAnnouncement( announcement, namespaceName ) {\n\treturn {\n\t\ttype: EDITED_ANNOUNCEMENT,\n\t\tpayload: {\n\t\t\tannouncement,\n\t\t\tnamespaceName\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that an announcement has been created.\n *\n * @param {Object} announcement\n * @param {string} namespaceName\n * @returns {Object} an action object\n */\nexport function createdAnnouncement( announcement, namespaceName ) {\n\treturn {\n\t\ttype: CREATED_ANNOUNCEMENT,\n\t\tpayload: {\n\t\t\tannouncement,\n\t\t\tnamespaceName\n\t\t}\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that an announcement has been deleted.\n *\n * @param {number} index - index of the announcement\n * @param {string} namespaceName\n * @returns {Object} an action object\n */\nexport function deletedAnnouncement( index, namespaceName ) {\n\treturn {\n\t\ttype: DELETED_ANNOUNCEMENT,\n\t\tpayload: {\n\t\t\tindex,\n\t\t\tnamespaceName\n\t\t}\n\t};\n}\n\n/**\n * Makes a request to create an announcement.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - request options\n * @param {string} opts.namespaceName - namespace name\n * @param {Object} opts.announcement - announcement object\n */\nexport const addAnnouncement = async ( dispatch, { namespaceName, announcement }) => {\n\ttry {\n\t\tconst res = await namespaceAxios.post( server+'/new_announcement', {\n\t\t\tnamespaceName,\n\t\t\tannouncement\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch( createdAnnouncement( announcement, namespaceName ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function for making an request to create an announcement with a bound dispatch function\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} wrapped `addAnnouncement` function\n */\nexport const addAnnouncementInjector = dispatch => {\n\treturn async ( { namespaceName, announcement } ) => {\n\t\tawait addAnnouncement( dispatch, { namespaceName, announcement } );\n\t};\n};\n\n/**\n * Makes a request to delete an announcement.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - request options\n * @param {string} opts.namespaceName - namespace name\n * @param {number} opts.index - index of the announcement\n * @param {string} opts.createdAt - creation time of the announcement\n */\nexport const deleteAnnouncement = async ( dispatch, { namespaceName, createdAt, index }) => {\n\ttry {\n\t\tconst res = await namespaceAxios.post( server+'/delete_announcement', {\n\t\t\tnamespaceName,\n\t\t\tcreatedAt\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch( deletedAnnouncement( index, namespaceName ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function for making an request to delete an announcement with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} wrapped `deleteAnnouncement` function\n */\nexport const deleteAnnouncementInjector = dispatch => {\n\treturn async ( { namespaceName, createdAt, index } ) => {\n\t\tawait deleteAnnouncement( dispatch, { namespaceName, createdAt, index } );\n\t};\n};\n\n/**\n * Makes a request to edit an announcement.\n *\n * @param {Function} dispatch - dispatch function\n * @param {Object} opts - request options\n * @param {string} opts.namespaceName - namespace name\n * @param {Object} opts.announcement - announcement object\n */\nexport const editAnnouncement = async ( dispatch, { namespaceName, announcement }) => {\n\ttry {\n\t\tconst res = await namespaceAxios.post( server+'/edit_announcement', {\n\t\t\tnamespaceName,\n\t\t\tannouncement\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch( editedAnnouncement( announcement, namespaceName ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function for making an request to edit an announcement with a bound dispatch function.\n *\n* @param {Function} dispatch - dispatch function\n* @returns {Function} wrapped `editAnnouncement` function\n*/\nexport const editAnnouncementInjector = dispatch => {\n\treturn async ( { namespaceName, announcement } ) => {\n\t\tawait editAnnouncement( dispatch, { namespaceName, announcement } );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport NamespaceData from 'components/namespace-data';\nimport { addAnnouncementInjector, deleteAnnouncementInjector, editAnnouncementInjector } from 'actions/announcement';\nimport { getAvailableBadgesInjector } from 'actions/badge';\nimport { deleteFileInjector, getFilesInjector, getOwnerFilesInjector, uploadFileInjector } from 'actions/file';\nimport { addNotificationInjector } from 'actions/notification';\nimport { getNamespaceActionsInjector, adjustProgressInjector } from 'actions/namespace';\nimport { getCourseTicketsInjector, sendTicketMessageInjector,\n\tcloseTicketInjector, openTicketInjector, updatePriorityInjector } from 'actions/ticket';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tbadges: state.badges,\n\t\tuser: state.user,\n\t\tnamespace: state.namespace\n\t};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\tadjustProgress: adjustProgressInjector( dispatch ),\n\t\tgetBadges: getAvailableBadgesInjector( dispatch ),\n\t\tgetCourseTickets: getCourseTicketsInjector( dispatch ),\n\t\tgetFiles: getFilesInjector( dispatch ),\n\t\tgetOwnerFiles: getOwnerFilesInjector( dispatch ),\n\t\tgetNamespaceActions: getNamespaceActionsInjector( dispatch ),\n\t\taddNotification: addNotificationInjector( dispatch ),\n\t\tdeleteFile: deleteFileInjector( dispatch ),\n\t\tdeleteAnnouncement: deleteAnnouncementInjector( dispatch ),\n\t\teditAnnouncement: editAnnouncementInjector( dispatch ),\n\t\taddAnnouncement: addAnnouncementInjector( dispatch ),\n\t\tsendTicketMessage: sendTicketMessageInjector( dispatch ),\n\t\tcloseTicket: closeTicketInjector( dispatch ),\n\t\topenTicket: openTicketInjector( dispatch ),\n\t\tuploadFile: uploadFileInjector( dispatch ),\n\t\tupdatePriority: updatePriorityInjector( dispatch )\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleNamespaceData = connect( mapStateToProps, mapDispatchToProps )( NamespaceData );\n\n\n// EXPORTS //\n\nexport default VisibleNamespaceData;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\n\n\n// MAIN //\n\nfunction createCategoricalColumn({ Header, Cell, accessor, labels, maxWidth = 150, width }) {\n\tlet style;\n\treturn {\n\t\tHeader,\n\t\taccessor,\n\t\tstyle,\n\t\tCell,\n\t\tfilterMethod: ( filter, row ) => {\n\t\t\tif ( filter.value === 'all' ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst id = filter.pivotId || filter.id;\n\t\t\tif ( row[ id ] === void 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn String( row[ id ] ) === filter.value;\n\t\t},\n\t\tFilter: ({ filter, onChange }) => {\n\t\t\tconst handleChange = ( event ) => {\n\t\t\t\tconst newValue = event.target.value;\n\t\t\t\tonChange( newValue );\n\t\t\t};\n\t\t\tlet value;\n\t\t\tif ( !filter ) {\n\t\t\t\tvalue = 'all';\n\t\t\t} else {\n\t\t\t\tvalue = filter.value;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<select\n\t\t\t\t\tonBlur={handleChange} onChange={handleChange}\n\t\t\t\t\tstyle={{ width: '100%', backgroundColor: 'ghostwhite' }}\n\t\t\t\t\tvalue={value}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"all\">Show All</option>\n\t\t\t\t\t{labels.map( ( x, idx ) => <option value={x} key={idx} >{x}</option> )}\n\t\t\t\t</select>\n\t\t\t);\n\t\t},\n\t\tmaxWidth: maxWidth,\n\t\twidth: width\n\t};\n}\n\n\n// EXPORTS //\n\nexport default createCategoricalColumn;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport InputRange from 'react-input-range';\nimport replace from '@stdlib/string/replace';\nimport lowercase from '@stdlib/string/lowercase';\nimport roundn from '@stdlib/math/base/special/roundn';\nimport 'css/input_range.css';\n\n\n// FUNCTIONS //\n\nconst defaultFilterMethod = ( filter, row ) => {\n\tconst id = filter.pivotId || filter.id;\n\tconst val = row[ id ];\n\treturn val >= filter.value.min && val <= filter.value.max;\n};\n\nconst defaultFormatLabel = ( value ) => roundn( value, -2 );\n\n\n// MAIN //\n\nfunction createNumericColumn({ Header, accessor, Cell, minValue = 0, maxValue = 1, maxWidth = 150, filterMethod, formatLabel }) {\n\tconst id = `header-${lowercase( replace( Header, ' ', '-' ) )}`;\n\treturn {\n\t\tHeader: <span id={id} >{Header}</span>,\n\t\taccessor,\n\t\tCell: Cell ? Cell : ( row ) => row.value ? `${roundn( row.value, -3 )}` : 'NA',\n\t\tfilterMethod: filterMethod || defaultFilterMethod,\n\t\tFilter: ({ filter, onChange }) => {\n\t\t\tif ( minValue === maxValue ) {\n\t\t\t\tmaxValue = minValue += 1;\n\t\t\t}\n\t\t\tconst defaultVal = {\n\t\t\t\tmax: maxValue,\n\t\t\t\tmin: minValue\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<div style={{\n\t\t\t\t\tpaddingLeft: '4px',\n\t\t\t\t\tpaddingRight: '4px',\n\t\t\t\t\tpaddingTop: '8px'\n\t\t\t\t}}>\n\t\t\t\t\t<InputRange\n\t\t\t\t\t\tariaLabelledby={id}\n\t\t\t\t\t\tariaControls=\"dashboard-table\"\n\t\t\t\t\t\tallowSameValues\n\t\t\t\t\t\tmaxValue={maxValue}\n\t\t\t\t\t\tminValue={minValue}\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\tvalue={filter ? filter.value : defaultVal}\n\t\t\t\t\t\tonChange={( newValue ) => {\n\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tformatLabel={formatLabel || defaultFormatLabel}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tmaxWidth: maxWidth\n\t};\n}\n\n\n// EXPORTS //\n\nexport default createNumericColumn;\n","/*\n* Adapted from:\n*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n* 1.3.8\n* 2018-03-22 14:03:47\n*\n* By Eli Grey, https://eligrey.com\n* License: MIT\n*   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n*\n* @source http://purl.eligrey.com/github/FileSaver.js/blob/master/src/FileSaver.js\n*/\n\n// VARIABLES //\n\nconst RE_AUTO_BOM = /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i;\nconst ARBITRARY_REVOKE_TIMEOUT = 1000 * 40; // Time in ms\n\n\n// FUNCTIONS //\n\nfunction click(node) {\n\tconst event = new MouseEvent( 'click' );\n\tnode.dispatchEvent( event );\n}\n\nfunction throwOutside( ex ) {\n\tsetImmediate(function throwEx() {\n\t\tthrow ex;\n\t}, 0 );\n}\n\nfunction autoBOM( blob ) {\n\t// Prepend BOM for UTF-8 XML and text/* types (including HTML). Note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\tif ( RE_AUTO_BOM.test( blob.type ) ) {\n\t\treturn new Blob([ String.fromCharCode( 0xFEFF ), blob ], {\n\t\t\ttype: blob.type\n\t\t});\n\t}\n\treturn blob;\n}\n\nfunction dispatch( filesaver, eventTypes, event ) {\n\teventTypes = [].concat( eventTypes );\n\tlet i = eventTypes.length;\n\twhile ( i-- ) {\n\t\tlet listener = filesaver[ 'on' + eventTypes[i] ];\n\t\tif ( typeof listener === 'function' ) {\n\t\t\ttry {\n\t\t\t\tlistener.call( filesaver, event || filesaver );\n\t\t\t} catch ( ex ) {\n\t\t\t\tthrowOutside( ex );\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n// MAIN //\n\nfunction saveFactory( view ) {\n\tif (\n\t\ttypeof view === 'undefined' ||\n\t\ttypeof navigator !== 'undefined' &&\n\t\t/MSIE [1-9]\\./.test( navigator.userAgent )\n\t) {\n\t\treturn;\n\t}\n\tconst doc = view.document;\n\n\t// Only get URL when necessary in case Blob.js hasn't overridden it yet:\n\tfunction getURL() {\n\t\treturn view.URL || view.webkitURL || view;\n\t}\n\tfunction revoke( file ) {\n\t\tfunction revoker() {\n\t\t\tif ( typeof file === 'string' ) { // File is an object URL...\n\t\t\t\tgetURL().revokeObjectURL(file);\n\t\t\t} else { // File is a File...\n\t\t\t\tfile.remove();\n\t\t\t}\n\t\t}\n\t\tsetTimeout( revoker, ARBITRARY_REVOKE_TIMEOUT );\n\t}\n\n\tconst saveLink = doc.createElementNS( 'http://www.w3.org/1999/xhtml', 'a' );\n\tconst canUseSaveLink = 'download' in saveLink;\n\tconst isSafari = /constructor/i.test( view.HTMLElement ) || view.safari;\n\tconst isChromeIOS =/CriOS\\/[\\d]+/.test( navigator.userAgent );\n\tconst setImmediate = view.setImmediate || view.setTimeout;\n\tconst forceSavableType = 'application/octet-stream';\n\n\tfunction FileSaver(blob, name, noAutoBOM ) {\n\t\tif ( !noAutoBOM ) {\n\t\t\tblob = autoBOM(blob);\n\t\t}\n\t\t// First try a.download, then web filesystem, then object URLs\n\t\tconst self = this;\n\t\tconst type = blob.type;\n\t\tconst force = type === forceSavableType;\n\t\tlet objectURL;\n\t\tfunction dispatchAll() {\n\t\t\tdispatch( self, 'writestart progress write writeend'.split(' ') );\n\t\t}\n\t\t// On any filesystem errors, revert to saving with object URLs:\n\t\tfunction fsError() {\n\t\t\tif ((isChromeIOS || (force && isSafari)) && view.FileReader) {\n\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onloadend = function onLoadEnd() {\n\t\t\t\t\tlet url = isChromeIOS ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\tconst popup = view.open(url, '_blank');\n\t\t\t\t\tif ( !popup ) {\n\t\t\t\t\t\tview.location.href = url;\n\t\t\t\t\t}\n\t\t\t\t\turl = void 0; // Release reference before dispatching...\n\t\t\t\t\tself.readyState = self.DONE;\n\t\t\t\t\tdispatchAll();\n\t\t\t\t};\n\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\tself.readyState = self.INIT;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Don't create more object URLs than needed:\n\t\t\tif ( !objectURL ) {\n\t\t\t\tobjectURL = getURL().createObjectURL( blob );\n\t\t\t}\n\t\t\tif ( force ) {\n\t\t\t\tview.location.href = objectURL;\n\t\t\t} else {\n\t\t\t\tconst opened = view.open( objectURL, '_blank' );\n\t\t\t\tif ( !opened ) {\n\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\tview.location.href = objectURL;\n\t\t\t\t}\n\t\t\t}\n\t\t\tself.readyState = self.DONE;\n\t\t\tdispatchAll();\n\t\t\trevoke( objectURL );\n\t\t}\n\t\tself.readyState = self.INIT;\n\n\t\tif ( canUseSaveLink ) {\n\t\t\tobjectURL = getURL().createObjectURL(blob);\n\t\t\tsetImmediate(function save() {\n\t\t\t\tsaveLink.href = objectURL;\n\t\t\t\tsaveLink.download = name;\n\t\t\t\tclick( saveLink );\n\t\t\t\tdispatchAll();\n\t\t\t\trevoke( objectURL );\n\t\t\t\tself.readyState = self.DONE;\n\t\t\t}, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tfsError();\n\t}\n\tconst proto = FileSaver.prototype;\n\tfunction saveAs( blob, name, noAutoBOM ) {\n\t\treturn new FileSaver( blob, name || blob.name || 'download', noAutoBOM );\n\t}\n\n\t// IE 10+ (native saveAs)\n\tif ( typeof navigator !== 'undefined' && navigator.msSaveOrOpenBlob ) {\n\t\treturn function saveAs( blob, name, noAutoBOM ) {\n\t\t\tname = name || blob.name || 'download';\n\t\t\tif ( !noAutoBOM ) {\n\t\t\t\tblob = autoBOM( blob );\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tproto.abort = function abort() {};\n\tproto.readyState = proto.INIT = 0;\n\tproto.WRITING = 1;\n\tproto.DONE = 2;\n\n\tproto.error = null;\n\tproto.onwritestart = null;\n\tproto.onprogress = null;\n\tproto.onwrite = null;\n\tproto.onabort = null;\n\tproto.onerror = null;\n\tproto.onwriteend = null;\n\n\treturn saveAs;\n}\n\nconst saveAs = saveFactory(\n\ttypeof self !== 'undefined' && self ||\n\ttypeof window !== 'undefined' && window ||\n\tthis.content\n);\n\n\n// EXPORTS //\n\nexport default saveAs;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = all;\n\nvar _createChainableTypeChecker = require('./utils/createChainableTypeChecker');\n\nvar _createChainableTypeChecker2 = _interopRequireDefault(_createChainableTypeChecker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction all() {\n  for (var _len = arguments.length, validators = Array(_len), _key = 0; _key < _len; _key++) {\n    validators[_key] = arguments[_key];\n  }\n\n  function allPropTypes() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var error = null;\n\n    validators.forEach(function (validator) {\n      if (error != null) {\n        return;\n      }\n\n      var result = validator.apply(undefined, args);\n      if (result != null) {\n        error = result;\n      }\n    });\n\n    return error;\n  }\n\n  return (0, _createChainableTypeChecker2.default)(allPropTypes);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createChainableTypeChecker;\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// Mostly taken from ReactPropTypes.\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n\n    if (props[propName] == null) {\n      if (isRequired) {\n        return new Error('Required ' + location + ' `' + propFullNameSafe + '` was not specified ' + ('in `' + componentNameSafe + '`.'));\n      }\n\n      return null;\n    }\n\n    for (var _len = arguments.length, args = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      args[_key - 6] = arguments[_key];\n    }\n\n    return validate.apply(undefined, [props, propName, componentNameSafe, location, propFullNameSafe].concat(args));\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\n\nvar _Anchor = _interopRequireDefault(require(\"@restart/ui/Anchor\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _Fade = _interopRequireDefault(require(\"./Fade\"));\n\nvar _CloseButton = _interopRequireDefault(require(\"./CloseButton\"));\n\nvar _divWithClassName = _interopRequireDefault(require(\"./divWithClassName\"));\n\nvar _createWithBsPrefix = _interopRequireDefault(require(\"./createWithBsPrefix\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst DivStyledAsH4 = (0, _divWithClassName.default)('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = (0, _createWithBsPrefix.default)('alert-heading', {\n  Component: DivStyledAsH4\n});\nconst AlertLink = (0, _createWithBsPrefix.default)('alert-link', {\n  Component: _Anchor.default\n});\nconst defaultProps = {\n  variant: 'primary',\n  show: true,\n  transition: _Fade.default,\n  closeLabel: 'Close alert'\n};\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show,\n    closeLabel,\n    closeVariant,\n    className,\n    children,\n    variant,\n    onClose,\n    dismissible,\n    transition,\n    ...props\n  } = (0, _uncontrollable.useUncontrolled)(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'alert');\n  const handleClose = (0, _useEventCallback.default)(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? _Fade.default : transition;\n  const alert = /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: (0, _classnames.default)(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/(0, _jsxRuntime.jsx)(_CloseButton.default, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\n\nvar _default = Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _all = _interopRequireDefault(require(\"prop-types-extra/lib/all\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Nav = _interopRequireDefault(require(\"@restart/ui/Nav\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _NavbarContext = _interopRequireDefault(require(\"./NavbarContext\"));\n\nvar _CardHeaderContext = _interopRequireDefault(require(\"./CardHeaderContext\"));\n\nvar _NavItem = _interopRequireDefault(require(\"./NavItem\"));\n\nvar _NavLink = _interopRequireDefault(require(\"./NavLink\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst defaultProps = {\n  justify: false,\n  fill: false\n};\nconst Nav = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    as = 'div',\n    bsPrefix: initialBsPrefix,\n    variant,\n    fill,\n    justify,\n    navbar,\n    navbarScroll,\n    className,\n    activeKey,\n    ...props\n  } = (0, _uncontrollable.useUncontrolled)(uncontrolledProps, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = (0, _ThemeProvider.useBootstrapPrefix)(initialBsPrefix, 'nav');\n  let navbarBsPrefix;\n  let cardHeaderBsPrefix;\n  let isNavbar = false;\n  const navbarContext = (0, React.useContext)(_NavbarContext.default);\n  const cardHeaderContext = (0, React.useContext)(_CardHeaderContext.default);\n\n  if (navbarContext) {\n    navbarBsPrefix = navbarContext.bsPrefix;\n    isNavbar = navbar == null ? true : navbar;\n  } else if (cardHeaderContext) {\n    ({\n      cardHeaderBsPrefix\n    } = cardHeaderContext);\n  }\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Nav.default, {\n    as: as,\n    ref: ref,\n    activeKey: activeKey,\n    className: (0, _classnames.default)(className, {\n      [bsPrefix]: !isNavbar,\n      [`${navbarBsPrefix}-nav`]: isNavbar,\n      [`${navbarBsPrefix}-nav-scroll`]: isNavbar && navbarScroll,\n      [`${cardHeaderBsPrefix}-${variant}`]: !!cardHeaderBsPrefix,\n      [`${bsPrefix}-${variant}`]: !!variant,\n      [`${bsPrefix}-fill`]: fill,\n      [`${bsPrefix}-justified`]: justify\n    }),\n    ...props\n  });\n});\nNav.displayName = 'Nav';\nNav.defaultProps = defaultProps;\n\nvar _default = Object.assign(Nav, {\n  Item: _NavItem.default,\n  Link: _NavLink.default\n});\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _createWithBsPrefix = _interopRequireDefault(require(\"./createWithBsPrefix\"));\n\nvar _default = (0, _createWithBsPrefix.default)('nav-item');\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _Anchor = _interopRequireDefault(require(\"@restart/ui/Anchor\"));\n\nvar _NavItem = require(\"@restart/ui/NavItem\");\n\nvar _SelectableContext = require(\"@restart/ui/SelectableContext\");\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst defaultProps = {\n  disabled: false\n};\nconst NavLink = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  as: Component = _Anchor.default,\n  active,\n  eventKey,\n  ...props\n}, ref) => {\n  bsPrefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'nav-link');\n  const [navItemProps, meta] = (0, _NavItem.useNavItem)({\n    key: (0, _SelectableContext.makeEventKey)(eventKey, props.href),\n    active,\n    ...props\n  });\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(Component, { ...props,\n    ...navItemProps,\n    ref: ref,\n    className: (0, _classnames.default)(className, bsPrefix, props.disabled && 'disabled', meta.isActive && 'active')\n  });\n});\nNavLink.displayName = 'NavLink';\nNavLink.defaultProps = defaultProps;\nvar _default = NavLink;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar _Button = _interopRequireDefault(require(\"./Button\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst noop = () => undefined;\n\nconst ToggleButton = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  name,\n  className,\n  checked,\n  type,\n  onChange,\n  value,\n  disabled,\n  id,\n  inputRef,\n  ...props\n}, ref) => {\n  bsPrefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'btn-check');\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"input\", {\n      className: bsPrefix,\n      name: name,\n      type: type,\n      value: value,\n      ref: inputRef,\n      autoComplete: \"off\",\n      checked: !!checked,\n      disabled: !!disabled,\n      onChange: onChange || noop,\n      id: id\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.default, { ...props,\n      ref: ref,\n      className: (0, _classnames.default)(className, disabled && 'disabled'),\n      type: undefined,\n      as: \"label\",\n      htmlFor: id\n    })]\n  });\n});\nToggleButton.displayName = 'ToggleButton';\nvar _default = ToggleButton;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _createChainedFunction = _interopRequireDefault(require(\"./createChainedFunction\"));\n\nvar _ElementChildren = require(\"./ElementChildren\");\n\nvar _ButtonGroup = _interopRequireDefault(require(\"./ButtonGroup\"));\n\nvar _ToggleButton = _interopRequireDefault(require(\"./ToggleButton\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst defaultProps = {\n  type: 'radio',\n  vertical: false\n};\nconst ToggleButtonGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    children,\n    type,\n    name,\n    value,\n    onChange,\n    ...controlledProps\n  } = (0, _uncontrollable.useUncontrolled)(props, {\n    value: 'onChange'\n  });\n\n  const getValues = () => value == null ? [] : [].concat(value);\n\n  const handleToggle = (inputVal, event) => {\n    if (!onChange) {\n      return;\n    }\n\n    const values = getValues();\n    const isActive = values.indexOf(inputVal) !== -1;\n\n    if (type === 'radio') {\n      if (!isActive && onChange) onChange(inputVal, event);\n      return;\n    }\n\n    if (isActive) {\n      onChange(values.filter(n => n !== inputVal), event);\n    } else {\n      onChange([...values, inputVal], event);\n    }\n  };\n\n  !(type !== 'radio' || !!name) ? process.env.NODE_ENV !== \"production\" ? (0, _invariant.default)(false, 'A `name` is required to group the toggle buttons when the `type` ' + 'is set to \"radio\"') : invariant(false) : void 0;\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_ButtonGroup.default, { ...controlledProps,\n    ref: ref,\n    children: (0, _ElementChildren.map)(children, child => {\n      const values = getValues();\n      const {\n        value: childVal,\n        onChange: childOnChange\n      } = child.props;\n\n      const handler = e => handleToggle(childVal, e);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        type,\n        name: child.name || name,\n        checked: values.indexOf(childVal) !== -1,\n        onChange: (0, _createChainedFunction.default)(childOnChange, handler)\n      });\n    })\n  });\n});\nToggleButtonGroup.defaultProps = defaultProps;\n\nvar _default = Object.assign(ToggleButtonGroup, {\n  Button: _ToggleButton.default\n});\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\n/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nfunction createChainedFunction(...funcs) {\n  return funcs.filter(f => f != null).reduce((acc, f) => {\n    if (typeof f !== 'function') {\n      throw new Error('Invalid Argument Type, must only provide functions, undefined, or null.');\n    }\n\n    if (acc === null) return f;\n    return function chainedFunction(...args) {\n      // @ts-ignore\n      acc.apply(this, args); // @ts-ignore\n\n      f.apply(this, args);\n    };\n  }, null);\n}\n\nvar _default = createChainedFunction;\nexports.default = _default;\nmodule.exports = exports.default;"],"sourceRoot":""}