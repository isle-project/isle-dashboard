{"version":3,"file":"static/js/4866.f391d7c4.chunk.js","mappings":";2RAgCA,MAAMA,UAAuBC,EAAAA,UAC5BC,SACC,IAAMC,KAAKC,MAAMC,kBAChB,OAAO,KAER,MAAMC,EAAUH,KAAKC,MAAMC,kBAAkBC,QAC7C,IAAMC,GAAAA,CAASD,GACd,OAAO,KAER,MAAME,EAAOL,KAAKC,MAAMK,KAAKC,WAC7B,IAAIC,EAAY,GAChB,MAAMC,EAAQ,GACRC,EAAQ,GACd,IAAM,IAAIC,EAAI,EAAGA,EAAIR,EAAQS,OAAQD,IAAM,CAC1C,MAAME,EAASV,EAASQ,GACnBN,EAAMQ,EAAOC,OACjBN,EAAUO,KAAMV,EAAMQ,EAAOC,KAAME,WACnCP,EAAMM,KAAMF,EAAOI,OACnBP,EAAMK,KAAO,cAAaG,GAAAA,CAAmC,IAA5Bb,EAAMQ,EAAOC,KAAMK,eAGtD,IAAIC,EAAKC,GAAAA,CAAgBb,GACrBc,EAAMC,GAAAA,CAAUH,GACpBA,EAAKC,GAAAA,CAAgBb,GACrB,IAAIgB,EAAQC,GAAAA,CAAWL,GAWvB,OAVAZ,EAAYA,EAAUkB,KAAKC,GACnBA,EAAC,MAGHL,IACLA,EAAM,GAEDE,IACLA,EAAQ,GAGR,uBAAKI,MAAO,CAAEC,QAAS,MAAOC,SAAU,WACvC,wBAAMC,UAAU,SAAhB,wBACA,4BAAQ,KAAGC,EAAAA,EAAAA,GAAYV,MACvB,4BAAQ,UAAQU,EAAAA,EAAAA,GAAYR,OAC5B,gBAAC,IAAD,CACCnB,KAAM,CAAC,CACN4B,EAAGxB,EACHyB,EAAG1B,EACH2B,KAAMzB,EACN0B,KAAM,MACNC,OAAQ,CACPC,MAAO,UACPC,QAAS,GACTC,KAAM,CACLF,MAAO,gBACPG,MAAO,QAIVC,OAAQ,CACPC,gBAAgB,EAChBC,aAAa,GAEdC,OAAQ,CACPC,aAAc,kBACdC,cAAe,kBACfC,MAAO,CACN/B,MAAO,cACPgC,YAAY,GAEbC,MAAO,CACNjC,MAAO,gBACPgC,YAAY,GAEbE,UAAU,EACVC,OAAQ,CACPC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,KAGLC,kBAAkB,EAClB7B,MAAO,CACNa,MAAO,OACPiB,OAAQ,YAWd7D,EAAe8D,UAAY,CAC1BzD,kBAAmB0D,IAAAA,OACnBtD,KAAMsD,IAAAA,OAAAA,YAGP/D,EAAegE,aAAe,CAC7B3D,kBAAmB,MAMpB,mCC1EA,IAAIgB,EAAQ,EAAQ,OAGpB4C,EAAOC,QAAU7C,qBCKjB,IAAIA,EAAQ8C,KAAK9C,MAGjB4C,EAAOC,QAAU7C","sources":["components/profile-page/time_spent.js","../node_modules/@stdlib/math/base/special/round/lib/index.js","../node_modules/@stdlib/math/base/special/round/lib/round.js"],"sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Plotly from 'react-plotly.js';\nimport isArray from '@stdlib/assert/is-array';\nimport round from '@stdlib/math/base/special/round';\nimport iterMean from '@stdlib/stats/iter/mean';\nimport iterStdev from '@stdlib/stats/iter/stdev';\nimport array2iterator from '@stdlib/array/to-iterator';\nimport formatTime from 'utils/format_time.js';\n\n\n// MAIN //\n\nclass TimeSpentStats extends Component {\n\trender() {\n\t\tif ( !this.props.selectedNamespace ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst lessons = this.props.selectedNamespace.lessons;\n\t\tif ( !isArray( lessons ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst data = this.props.user.lessonData;\n\t\tlet durations = [];\n\t\tconst names = [];\n\t\tconst texts = [];\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst lesson = lessons[ i ];\n\t\t\tif ( data[ lesson._id ] ) {\n\t\t\t\tdurations.push( data[ lesson._id ].spentTime );\n\t\t\t\tnames.push( lesson.title );\n\t\t\t\ttexts.push( `Completed: ${round( data[ lesson._id ].progress*100.0 )}%` );\n\t\t\t}\n\t\t}\n\t\tlet it = array2iterator( durations );\n\t\tlet avg = iterMean( it );\n\t\tit = array2iterator( durations );\n\t\tlet stdev = iterStdev( it );\n\t\tdurations = durations.map( d => {\n\t\t\treturn d / ( 1000*60 );\n\t\t});\n\n\t\tif ( !avg ) {\n\t\t\tavg = 0;\n\t\t}\n\t\tif ( !stdev ) {\n\t\t\tstdev = 0;\n\t\t}\n\t\treturn (\n\t\t\t<div style={{ padding: '5px', overflow: 'hidden' }}>\n\t\t\t\t<span className=\"title\">Average time spent: </span>\n\t\t\t\t<span>{` ${formatTime( avg )}`}</span>\n\t\t\t\t<span>{` (SD: ${formatTime( stdev )})`}</span>\n\t\t\t\t<Plotly\n\t\t\t\t\tdata={[{\n\t\t\t\t\t\tx: names,\n\t\t\t\t\t\ty: durations,\n\t\t\t\t\t\ttext: texts,\n\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\tmarker: {\n\t\t\t\t\t\t\tcolor: '#0069d9',\n\t\t\t\t\t\t\topacity: 0.6,\n\t\t\t\t\t\t\tline: {\n\t\t\t\t\t\t\t\tcolor: 'rgb(8,48,107)',\n\t\t\t\t\t\t\t\twidth: 1.5\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]}\n\t\t\t\t\tconfig={{\n\t\t\t\t\t\tdisplayModeBar: false,\n\t\t\t\t\t\tdisplaylogo: false\n\t\t\t\t\t}}\n\t\t\t\t\tlayout={{\n\t\t\t\t\t\tplot_bgcolor: 'rgba(0,0,0,0.0)',\n\t\t\t\t\t\tpaper_bgcolor: 'rgba(0,0,0,0.0)',\n\t\t\t\t\t\txaxis: {\n\t\t\t\t\t\t\ttitle: 'Lesson Name',\n\t\t\t\t\t\t\tfixedrange: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyaxis: {\n\t\t\t\t\t\t\ttitle: 'Time (in min)',\n\t\t\t\t\t\t\tfixedrange: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tautosize: true,\n\t\t\t\t\t\tmargin: {\n\t\t\t\t\t\t\tl: 50,\n\t\t\t\t\t\t\tr: 50,\n\t\t\t\t\t\t\tb: 50,\n\t\t\t\t\t\t\tt: 50\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tuseResizeHandler={true}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '17vw'\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTimeSpentStats.propTypes = {\n\tselectedNamespace: PropTypes.object,\n\tuser: PropTypes.object.isRequired\n};\n\nTimeSpentStats.defaultProps = {\n\tselectedNamespace: null\n};\n\n\n// EXPORTS //\n\nexport default TimeSpentStats;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // TODO: implementation\n\n/**\n* Round a numeric value to the nearest integer.\n*\n* @module @stdlib/math/base/special/round\n*\n* @example\n* var round = require( '@stdlib/math/base/special/round' );\n*\n* var v = round( -4.2 );\n* // returns -4.0\n*\n* v = round( -4.5 );\n* // returns -4.0\n*\n* v = round( -4.6 );\n* // returns -5.0\n*\n* v = round( 9.99999 );\n* // returns 10.0\n*\n* v = round( 9.5 );\n* // returns 10.0\n*\n* v = round( 9.2 );\n* // returns 9.0\n*\n* v = round( 0.0 );\n* // returns 0.0\n*\n* v = round( -0.0 );\n* // returns -0.0\n*\n* v = round( Infinity );\n* // returns Infinity\n*\n* v = round( -Infinity );\n* // returns -Infinity\n*\n* v = round( NaN );\n* // returns NaN\n*/\n// MODULES //\n\nvar round = require('./round.js'); // EXPORTS //\n\n\nmodule.exports = round;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // TODO: implementation\n\n/**\n* Rounds a numeric value to the nearest integer.\n*\n* @param {number} x - input value\n* @returns {number} function value\n*\n* @example\n* var v = round( -4.2 );\n* // returns -4.0\n*\n* @example\n* var v = round( -4.5 );\n* // returns -4.0\n*\n* @example\n* var v = round( -4.6 );\n* // returns -5.0\n*\n* @example\n* var v = round( 9.99999 );\n* // returns 10.0\n*\n* @example\n* var v = round( 9.5 );\n* // returns 10.0\n*\n* @example\n* var v = round( 9.2 );\n* // returns 9.0\n*\n* @example\n* var v = round( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = round( -0.0 );\n* // returns -0.0\n*\n* @example\n* var v = round( Infinity );\n* // returns Infinity\n*\n* @example\n* var v = round( -Infinity );\n* // returns -Infinity\n*\n* @example\n* var v = round( NaN );\n* // returns NaN\n*/\n\nvar round = Math.round; // eslint-disable-line stdlib/no-builtin-math\n// EXPORTS //\n\nmodule.exports = round;"],"names":["TimeSpentStats","Component","render","this","props","selectedNamespace","lessons","isArray","data","user","lessonData","durations","names","texts","i","length","lesson","_id","push","spentTime","title","round","progress","it","array2iterator","avg","iterMean","stdev","iterStdev","map","d","style","padding","overflow","className","formatTime","x","y","text","type","marker","color","opacity","line","width","config","displayModeBar","displaylogo","layout","plot_bgcolor","paper_bgcolor","xaxis","fixedrange","yaxis","autosize","margin","l","r","b","t","useResizeHandler","height","propTypes","PropTypes","defaultProps","module","exports","Math"],"sourceRoot":""}