{"version":3,"sources":["../node_modules/@stdlib/string/trim/lib/index.js","../node_modules/@stdlib/string/trim/lib/trim.js","../node_modules/@isle-project/utils/obs-to-var/index.js","components/admin/program_table.js","components/confirm-modal/index.js","ev/components/data-explorer/index.js"],"names":[],"mappings":"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","file":"static/js/195.91fd4747.chunk.js","sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Trim whitespace characters from the beginning and end of a string.\n*\n* @module @stdlib/string/trim\n*\n* @example\n* var trim = require( '@stdlib/string/trim' );\n*\n* var out = trim( '   Whitespace   ' );\n* // returns 'Whitespace'\n*\n* out = trim( '\\t\\t\\tTabs\\t\\t\\t' );\n* // returns 'Tabs'\n*\n* out = trim( '\\n\\n\\nNew Lines\\n\\n\\n' );\n* // returns 'New Lines'\n*/\n\n// MODULES //\n\nvar trim = require( './trim.js' );\n\n\n// EXPORTS //\n\nmodule.exports = trim;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isString = require( '@stdlib/assert/is-string' ).isPrimitive;\nvar replace = require( './../../replace' );\nvar format = require( './../../format' );\n\n\n// VARIABLES //\n\n// The following regular expression should suffice to polyfill (most?) all environments.\nvar RE = /^[\\u0020\\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]*([\\S\\s]*?)[\\u0020\\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]*$/;\n\n\n// MAIN //\n\n/**\n* Trim whitespace characters from beginning and end of a string.\n*\n* @param {string} str - input string\n* @throws {TypeError} must provide a string primitive\n* @returns {string} trimmed string\n*\n* @example\n* var out = trim( '   Whitespace   ' );\n* // returns 'Whitespace'\n*\n* @example\n* var out = trim( '\\t\\t\\tTabs\\t\\t\\t' );\n* // returns 'Tabs'\n*\n* @example\n* var out = trim( '\\n\\n\\nNew Lines\\n\\n\\n' );\n* // returns 'New Lines'\n*/\nfunction trim( str ) {\n\tif ( !isString( str ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide a string. Value: `%s`.', str ) );\n\t}\n\treturn replace( str, RE, '$1' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = trim;\n","// MODULES //\n\nimport trim from '@stdlib/string/trim';\nimport objectKeys from '@stdlib/utils/keys';\n\n\n// VARIABLES //\n\nconst RE_NUMBER = /^\\s*[+-]?[\\d.]+e?[+-]?\\d*\\s*$/;\n\n\n// MAIN //\n\n/**\n* Returns a data object representation from an object array.\n*\n* ## Notes\n*\n* -   The function trims any whitespace from the variable names.\n*\n* @param {Array} arr - object array with each element corresponding to one observation\n* @returns {Object} object with each key corresponding to one variable containing all its values\n*/\nfunction obsToVar( arr ) {\n\tconst data = {};\n\tconst keymap = {};\n\tconst columnNames = objectKeys( arr[ 0 ] ).filter( x => x !== '' );\n\tfor ( let i = 0; i < columnNames.length; i++ ) {\n\t\tconst col = trim( columnNames[ i ] );\n\t\tkeymap[ columnNames[ i ] ] = col;\n\t\tdata[ col ] = new Array( arr.length );\n\t}\n\tfor ( let i = 0; i < arr.length; i++ ) {\n\t\tfor ( let j = 0; j < columnNames.length; j++ ) {\n\t\t\tconst col = columnNames[ j ];\n\t\t\tlet val = arr[ i ][ col ];\n\t\t\tif ( RE_NUMBER.test( val ) ) {\n\t\t\t\tval = Number( val );\n\t\t\t}\n\t\t\tdata[ keymap[ col ] ][ i ] = val;\n\t\t}\n\t}\n\treturn data;\n}\n\n\n// EXPORTS //\n\nexport default obsToVar;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport { withTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport PINF from '@stdlib/constants/float64/pinf';\nimport DashboardTable from 'components/dashboard-table';\nimport ConfirmModal from 'components/confirm-modal';\nimport obsToVar from '@isle-project/utils/obs-to-var';\nimport DashboardDataExplorer from 'ev/components/data-explorer';\nimport textFilter from 'utils/text_filter.js';\nimport createUsersColumn from 'utils/create_users_column.js';\nimport createNumericColumn from 'utils/create_numeric_column.js';\nimport createDateColumn from 'utils/create_date_column.js';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard:admin' );\n\n\n// MAIN //\n\nclass ProgramPage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tselectedProgram: null,\n\t\t\tshowProgramCreation: false,\n\t\t\tshowDeleteModal: false,\n\t\t\tcolumns: this.createColumns(),\n\t\t\tshowExplorer: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getAllPrograms();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( prevProps.admin.programs !== this.props.admin.programs ) {\n\t\t\tthis.setState({\n\t\t\t\tcolumns: this.createColumns()\n\t\t\t});\n\t\t}\n\t}\n\n\tcreateColumns = () => {\n\t\tconst { t } = this.props;\n\t\tconst programs = this.props.admin.programs || [];\n\t\tlet maxOwners = 0;\n\t\tlet minTime = PINF;\n\t\tlet maxTime = 0;\n\t\tfor ( let i = 0; i < programs.length; i++ ) {\n\t\t\tconst owners = programs[ i ].owners;\n\t\t\tconst nOwners = owners.length;\n\t\t\tif ( nOwners && nOwners > maxOwners ) {\n\t\t\t\tmaxOwners = nOwners;\n\t\t\t}\n\t\t\tif ( programs[ i ].createdAt > maxTime ) {\n\t\t\t\tmaxTime = programs[ i ].createdAt;\n\t\t\t}\n\t\t\tif ( programs[ i ].updatedAt > maxTime ) {\n\t\t\t\tmaxTime = programs[ i ].updatedAt;\n\t\t\t}\n\t\t\tif ( programs[ i ].createdAt < minTime ) {\n\t\t\t\tminTime = programs[ i ].createdAt;\n\t\t\t}\n\t\t\tif ( programs[ i ].updatedAt < minTime ) {\n\t\t\t\tminTime = programs[ i ].updatedAt;\n\t\t\t}\n\t\t}\n\t\tmaxTime = moment( maxTime );\n\t\tminTime = moment( minTime );\n\t\treturn [\n\t\t\t{\n\t\t\t\tHeader: t('common:title'),\n\t\t\t\tid: 'title',\n\t\t\t\taccessor: 'title',\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tstyle: { marginTop: '8px', color: 'darkslategrey' },\n\t\t\t\tfilterMethod: textFilter\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: t( 'common:description' ),\n\t\t\t\taccessor: 'description',\n\t\t\t\tstyle: { marginTop: '2px', color: 'darkslategrey' },\n\t\t\t\tmaxWidth: 200,\n\t\t\t\tfilterMethod: textFilter\n\t\t\t},\n\t\t\tcreateUsersColumn({\n\t\t\t\tHeader: t( 'common:owners' ),\n\t\t\t\taccessor: 'owners'\n\t\t\t}),\n\t\t\tcreateNumericColumn({\n\t\t\t\tHeader: `# ${t( 'common:owners' )}`,\n\t\t\t\taccessor: 'owners.length',\n\t\t\t\tmaxWidth: 120,\n\t\t\t\tstyle: { marginTop: '2px', color: 'darkslategrey' },\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: maxOwners\n\t\t\t}),\n\t\t\tcreateDateColumn({\n\t\t\t\tHeader: t('last-updated'),\n\t\t\t\taccessor: 'updatedAt',\n\t\t\t\tstartDate: minTime,\n\t\t\t\tendDate: maxTime,\n\t\t\t\tt\n\t\t\t}),\n\t\t\tcreateDateColumn({\n\t\t\t\tHeader: t('created-at'),\n\t\t\t\taccessor: 'createdAt',\n\t\t\t\tstartDate: minTime,\n\t\t\t\tendDate: maxTime,\n\t\t\t\tt\n\t\t\t}),\n\t\t\t{\n\t\t\t\tHeader: t('common:actions'),\n\t\t\t\tCell: ( row ) => {\n\t\t\t\t\treturn ( <div>\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"delete_course\">{t('program:delete-program')}</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: 8 }}\n\t\t\t\t\t\t\t\tonClick={this.askToDeleteSelectedProgramFactory( row.row._original )}\n\t\t\t\t\t\t\t\taria-label={t('program:delete-program')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"fa fa-trash-alt\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</div> );\n\t\t\t\t},\n\t\t\t\tresizable: false,\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: false\n\t\t\t}\n\t\t];\n\t};\n\n\taskToDeleteSelectedProgramFactory = ( program ) => {\n\t\treturn () => {\n\t\t\tthis.setState({\n\t\t\t\tshowDeleteModal: !this.state.showDeleteModal,\n\t\t\t\tselectedProgram: program\n\t\t\t});\n\t\t};\n\t};\n\n\tdeleteSelectedProgram = () => {\n\t\tdebug( `Delete program ${this.state.selectedProgram.title} with id ${this.state.selectedProgram._id}` );\n\t\tthis.setState({\n\t\t\tshowDeleteModal: false\n\t\t}, async () => {\n\t\t\tawait this.props.deleteProgram( this.state.selectedProgram._id );\n\t\t\tthis.props.getAllPrograms();\n\t\t});\n\t};\n\n\ttoggleDeleteModal = () => {\n\t\tthis.setState({\n\t\t\tshowDeleteModal: !this.state.showDeleteModal\n\t\t});\n\t};\n\n\ttoggleExplorer = () => {\n\t\tthis.setState({\n\t\t\tshowExplorer: !this.state.showExplorer\n\t\t});\n\t};\n\n\ttoggleProgramCreation = () => {\n\t\tthis.setState({\n\t\t\tshowProgramCreation: !this.state.showProgramCreation\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif ( this.state.showExplorer ) {\n\t\t\tconst programs = this.props.admin.programs || [];\n\t\t\tlet data = [];\n\t\t\tfor ( let i = 0; i < programs.length; i++ ) {\n\t\t\t\tconst program = programs[ i ];\n\t\t\t\tconst replacement = {};\n\t\t\t\treplacement.title = program.title;\n\t\t\t\treplacement.description = program.description;\n\t\t\t\treplacement.owners = program.owners.length;\n\t\t\t\treplacement.createdAt = program.createdAt;\n\t\t\t\treplacement.updatedAt = program.updatedAt;\n\t\t\t\tdata.push( replacement );\n\t\t\t}\n\t\t\tdata = obsToVar( data );\n\t\t\treturn (\n\t\t\t\t<DashboardDataExplorer\n\t\t\t\t\ttitle={t('explorer-programs-title')}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tcategorical={[ 'title', 'createdAt', 'updatedAt' ]}\n\t\t\t\t\tquantitative={[ 'owners' ]}\n\t\t\t\t\tclose={this.toggleExplorer}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<DashboardTable\n\t\t\t\t\tdata={this.props.admin.programs}\n\t\t\t\t\tcolumns={this.state.columns}\n\t\t\t\t\tonButtonClick={this.toggleExplorer}\n\t\t\t\t\tdisabled={!this.props.admin.programs || this.props.admin.programs.length === 0}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip>{t('create-new-program')}</Tooltip>} >\n\t\t\t\t\t<Button aria-label={t('create-new-program')} style={{ marginRight: -9, float: 'right' }} onClick={this.toggleProgramCreation} >\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t{ this.state.showDeleteModal ? <ConfirmModal\n\t\t\t\t\ttitle={t('program:delete-program')}\n\t\t\t\t\tmessage={<span>\n\t\t\t\t\t\t{t('program:delete-program-confirm')}\n\t\t\t\t\t\t<span style={{ color: 'red' }}>{this.state.selectedProgram.title}</span>\n\t\t\t\t\t</span>}\n\t\t\t\t\tclose={this.toggleDeleteModal}\n\t\t\t\t\tshow={this.state.showDeleteModal}\n\t\t\t\t\tonConfirm={this.deleteSelectedProgram}\n\t\t\t\t/> : null }\n\t\t\t\t\t{ this.state.showProgramCreation ?\n\t\t\t\t\t\t<div></div> : null\n\t\t\t\t}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nProgramPage.propTypes = {\n\tadmin: PropTypes.object.isRequired,\n\tdeleteProgram: PropTypes.func.isRequired,\n\tgetAllPrograms: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'admin', 'program', 'common' ] )( ProgramPage );\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\n// MAIN //\r\n\r\n/**\r\n * A confirmation modal component.\r\n *\r\n * @param {Object} props - component properties\r\n * @param {string} props.title - modal title\r\n * @param {string} props.message - modal message\r\n * @param {boolean} props.show - boolean indicating whether the modal is visible\r\n * @param {Function} props.close - callback to invoke upon hiding the modal\r\n * @param {Function} props.onConfirm - callback to invoke upon confirming the modal\r\n * @returns {ReactElement} modal component\r\n */\r\nconst ConfirmModal = ( props ) => (\r\n\t<Modal show={props.show} onHide={props.close} >\r\n\t\t<Modal.Header>\r\n\t\t\t<Modal.Title as=\"h3\">{props.title}</Modal.Title>\r\n\t\t</Modal.Header>\r\n\t\t<Modal.Body>\r\n\t\t\t{props.message}\r\n\t\t</Modal.Body>\r\n\t\t<Modal.Footer>\r\n\t\t\t<Button onClick={props.close}>\r\n\t\t\t\t{props.t('cancel')}\r\n\t\t\t</Button>\r\n\t\t\t<Button variant=\"danger\" onClick={props.onConfirm}>\r\n\t\t\t\t{props.t('confirm')}\r\n\t\t\t</Button>\r\n\t\t</Modal.Footer>\r\n\t</Modal>\r\n);\r\n\r\n\r\n// PROPERTIES //\r\n\r\nConfirmModal.propTypes = {\r\n\tclose: PropTypes.func,\r\n\tmessage: PropTypes.node,\r\n\tonConfirm: PropTypes.func,\r\n\tshow: PropTypes.bool,\r\n\ttitle: PropTypes.string\r\n};\r\n\r\nConfirmModal.defaultProps = {\r\n\tclose() {},\r\n\tmessage: '',\r\n\tonConfirm() {},\r\n\tshow: false,\r\n\ttitle: ''\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default withTranslation( [ 'common' ] )( ConfirmModal );\r\n","// MODULES //\r\n\r\nimport asyncComponent from 'components/async';\r\n\r\n\r\n// MAIN //\r\n\r\nconst DashboardDataExplorer = asyncComponent( () => import( './main.js' ) );\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default DashboardDataExplorer;\r\n"],"sourceRoot":""}