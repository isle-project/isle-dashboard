"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[3159],{28564:function(e,t,n){n.d(t,{Z:function(){return D}});var i=n(38603),s=n(91532),a=n.n(s),l=n(38564),o=n.n(l),r=n(52458),p=n(89506),u=n.n(p),h=n(4286),d=n.n(h),m=n(24500),c=n(17218),g=n.n(c),b=n(42415),f=n(88928),E=n.n(f),y=n(24469),S=n.n(y),w=n(94123),v=n(26516),P=n(61202);var O=function({min:e,max:t,step:n,t:i}){let s=`${i("enter")} ${i(1===n?"integer":"number")} `;return t!==E()&&e!==S()?s+=`${i("between")} ${e} ${i("and")} ${t}`:e!==S()?s+=`${i("larger-or-equal-to")} ${e}`:t!==E()&&(s+=`${i("smaller-or-equal-to")} ${t}`),s};const x=o()("isle:number-input"),C=(0,P.Z)("number-input"),T=e=>{const t=(0,i.useRef)(e.id||C(e)),{bind:s,defaultValue:a,min:l,max:o,step:p,value:h,onBlur:c,onChange:f}=e,{t:E}=(0,r.$)("input"),y=(0,i.useContext)(v.Z),[S,P]=(0,i.useState)(h||(s&&y.state?y.state[s]:a));(0,i.useEffect)((()=>{if(s){const e=n.g.lesson.state[s];e!==S&&(0,b.isPrimitive)(S)&&P(e)}}),[s,S]),(0,i.useEffect)((()=>{P(a)}),[a]),(0,i.useEffect)((()=>{s&&P(n.g.lesson.state[s])}),[s]);const T=(0,i.useCallback)((e=>{x("Handle change of input field...");let t=e.target.validity.valid,i=e.target.value;P(i),h||t&&""!==i&&"-"!==i&&"."!==i&&"-."!==i?(i=parseFloat(i),d()(i)&&(i=""),f(i),s&&n.g.lesson.setState({[s]:i})):s&&n.g.lesson.setState({[s]:i})}),[s,h,f]),D=(0,i.useCallback)((e=>{x("Finished change...");let t=e.target.value;if(u()(t,"/")){x("Encountered a fraction...");const e=t.split("/");""!==e[0]&&""!==e[1]&&(t=parseFloat(e[0])/parseFloat(e[1]))}d()(t)?t="":""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t=parseFloat(t)),t>o?t=o:t<l?t=l:1===p&&""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t-=t%p),f(t),c(t),t!==S&&(P(t),s&&n.g.lesson.setState({[s]:t}))}),[s,l,o,p,S,c,f]),H=g()(e.tooltip)?O({min:l,max:o,step:p,t:E}):e.tooltip;if(!0===e.inline){const n=i.createElement("span",{className:"input",style:{padding:"5px",...e.style}},e.legend?i.createElement("label",{htmlFor:t.current}," ",e.legend," =  "):null,i.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==h?h:S,step:e.step,min:e.min,max:e.max,style:{width:"80px",paddingLeft:"6px",marginLeft:"3px",...e.inputStyle},onChange:T,onBlur:D,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"}),e.description?i.createElement("span",null,"(",e.description,")"):i.createElement("span",null));return e.disabled?n:i.createElement(w.Z,{id:"number-input-tooltip-inline",placement:"top",show:!e.disabled,tooltip:H},n)}const Z=i.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==h?h:S,step:e.step,min:e.min,max:e.max,style:{width:"80px",marginLeft:"24px",...e.inputStyle},onChange:T,onBlur:D,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"});return i.createElement("div",{className:"input",style:{marginBottom:"4px",marginTop:"4px",...e.style}},e.legend?i.createElement("span",null,i.createElement("label",{htmlFor:t.current},(0,m.isPrimitive)(e.legend)?e.legend+":":e.legend),e.description?i.createElement("span",null," ",e.description):null):null,i.createElement(w.Z,{id:"number-input-tooltip",placement:e.tooltipPlacement,tooltip:H,show:!e.disabled},i.createElement("span",{className:"number-input-span"},Z)))};T.defaultProps={bind:"",disabled:!1,legend:null,min:S(),max:E(),step:1,defaultValue:0,onBlur(){},onChange(){},onKeyDown(){},onKeyPress(){},onKeyUp(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},T.propTypes={bind:a().string,defaultValue:a().number,disabled:a().bool,inline:a().bool,legend:a().oneOfType([a().string,a().node]),max:a().number,min:a().number,numbersOnly:a().bool,onBlur:a().func,onChange:a().func,onKeyDown:a().func,onKeyPress:a().func,onKeyUp:a().func,step:a().oneOfType([a().number,a().string]),style:a().object,inputStyle:a().object,value:a().number,tooltip:a().string,tooltipPlacement:a().oneOf(["top","right","bottom","left"])};var D=T},75049:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(38603),s=n(91532),a=n.n(s),l=n(83729),o=n(7846),r=n(89956),p=n(93918),u=n(72744),h=n(3021),d=n(28564),m=JSON.parse('{"LETTER":{"width":8.5,"height":11},"LEGAL":{"width":8.5,"height":14},"A4":{"width":8.3,"height":11.7},"B5":{"width":6.9,"height":9.8},"TABLOID":{"width":11,"height":17},"EXECUTIVE":{"width":7,"height":10},"POSTER":{"width":30,"height":42}}');function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g={openPDF:!1,pageSize:"LETTER",customSize:!0,showPageOptions:!1,pageOptionConfig:"Predefined",customWidth:612,customHeight:792,useString:!0,pageOrientation:"portrait",visibleWidth:8.5,visibleHeight:11};class b extends i.Component{constructor(e){super(e),c(this,"togglePDFMenu",(()=>{this.state.openPDF&&this.state.showPageOptions?this.setState({openPDF:!this.state.openPDF,showPageOptions:!this.state.showPageOptions}):this.setState({openPDF:!this.state.openPDF})})),c(this,"savePDF",(()=>{const e={},t={};this.state.useString&&(t.width=72*m[this.state.pageSize].width,t.height=72*m[this.state.pageSize].height),this.state.useString&&"POSTER"!==this.state.pageSize||("landscape"===this.state.pageOptionOrientation?(t.height=this.state.customWidth,t.width=this.state.customHeight):(t.height=this.state.customHeight,t.width=this.state.customWidth)),e.pageSize=t,e.pageOrientation=this.state.pageOrientation,this.props.exportPDF(e)})),c(this,"clickHide",(()=>{this.setState(g),this.props.onHide()})),this.state=g}render(){return i.createElement(u.Z,{onHide:this.clickHide,show:this.props.show,id:"save-modal"},i.createElement(u.Z.Header,{closeButton:!0},i.createElement(u.Z.Title,null,this.props.t("pdf-modal-title"))),i.createElement(u.Z.Body,null,i.createElement(r.Z,{border:"primary",id:"export-pdf-panel"},i.createElement(r.Z.Body,null,i.createElement(o.Z,{className:"predefined-letter-button"},i.createElement(h.Z,{legend:this.props.t("pick-predefined-value"),defaultValue:this.state.pageSize,options:["LETTER","LEGAL","A4","B5","TABLOID","EXECUTIVE","POSTER","CUSTOM"],onChange:e=>{"CUSTOM"!==e?this.setState({pageSize:e,useString:!0,visibleHeight:m[e].height,visibleWidth:m[e].width,customHeight:72*m[e].height,customWidth:72*m[e].width,pageOrientation:"portrait"}):this.setState({pageSize:e,useString:!1})}})),i.createElement(o.Z,{className:"dimension-select"},i.createElement(d.Z,{legend:this.props.t("pick-width"),defaultValue:this.state.visibleWidth,min:1,max:50,step:.5,onChange:e=>{this.setState({pageSize:"CUSTOM",customWidth:72*e,useString:!1,visibleWidth:e})}}),i.createElement(d.Z,{legend:this.props.t("pick-height"),defaultValue:this.state.visibleHeight,min:1,max:50,step:.5,onChange:e=>{this.setState({pageSize:"CUSTOM",customHeight:72*e,useString:!1,visibleHeight:e})}})),i.createElement(o.Z,{className:"showDimensions"},i.createElement(l.Z,{xs:6,md:6},i.createElement(h.Z,{legend:this.props.t("orientation"),defaultValue:this.state.pageOrientation,options:["portrait","landscape"],onChange:e=>{if(e!==this.state.pageOrientation){const t=this.state.visibleWidth,n=this.state.visibleHeight;this.setState({pageOrientation:e,visibleWidth:n,visibleHeight:t,customWidth:72*n,customHeight:72*t})}}}))),i.createElement(p.Z,{onClick:this.savePDF,block:!0},this.props.t("save"))))))}}b.propTypes={exportPDF:a().func,onHide:a().func,show:a().bool.isRequired},b.defaultProps={exportPDF(){},onHide(){}};var f=b}}]);
//# sourceMappingURL=EditorPDFModal.30801870.chunk.js.map