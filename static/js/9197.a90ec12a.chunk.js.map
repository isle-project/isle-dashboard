{"version":3,"file":"static/js/9197.a90ec12a.chunk.js","mappings":"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","sources":["components/text-select/index.js","ev/components/admin-settings/user-fields/create_field_modal.js","ev/components/admin-settings/user-fields/main.js","ev/components/barrier/index.js","ev/containers/visible-barrier/index.js"],"sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport copy from 'clipboard-copy';\nimport CreatableSelect from 'react-select/creatable';\nimport { components } from 'react-select';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport isObjectArray from '@stdlib/assert/is-object-array';\nimport contains from '@stdlib/assert/contains';\nimport isNull from '@stdlib/assert/is-null';\nimport trim from '@stdlib/string/trim';\nimport './text_select.css';\n\n\n// VARIABLES //\n\nconst customStyles = {\n\tclearIndicator: ( provided, state ) => ({\n\t\t...provided,\n\t\tcursor: 'pointer'\n\t}),\n\tmultiValueRemove: ( provided, state ) => ({\n\t\t...provided,\n\t\tcursor: 'pointer'\n\t}),\n\tvalueContainer: ( provided, state ) => ({\n\t\t...provided,\n\t\tcursor: 'text'\n\t})\n};\n\n\n// FUNCTIONS //\n\nconst createOption = ( label ) => ({\n\tlabel,\n\tvalue: label\n});\n\nconst toOptions = ( arr ) => {\n\tif ( isNull( arr ) ) {\n\t\treturn null;\n\t}\n\tif ( isObjectArray( arr ) && arr[ 0 ].label && arr[ 0 ].value ) {\n\t\treturn arr;\n\t}\n\treturn arr.map( createOption );\n};\n\n\n// MAIN //\n\nclass TextSelect extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t\tvalue: toOptions( props.defaultValue )\n\t\t};\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.defaultValue !== prevProps.defaultValue ) {\n\t\t\tthis.setState({\n\t\t\t\tvalue: toOptions( this.props.defaultValue )\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = ( value ) => {\n\t\tthis.setState({ value });\n\t\tthis.props.onChange( value );\n\t};\n\n\thandleInputChange = ( inputValue, action ) => {\n\t\tif ( action.action === 'menu-close' ) {\n\t\t\tthis.addInputValues();\n\t\t}\n\t\telse if ( action.action !== 'input-blur' ) {\n\t\t\tthis.setState({\n\t\t\t\tinputValue\n\t\t\t});\n\t\t}\n\t};\n\n\taddInputValues = () => {\n\t\tlet { inputValue, value } = this.state;\n\t\tif ( !inputValue ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( contains( inputValue, ',' ) ) {\n\t\t\tinputValue = inputValue.split( ',' ).map( x => trim( x ) );\n\t\t} else {\n\t\t\tinputValue = [ trim( inputValue ) ];\n\t\t}\n\t\tlet newValue;\n\t\tif ( value ) {\n\t\t\tnewValue = value.concat( inputValue.map( createOption ) );\n\t\t} else {\n\t\t\tnewValue = inputValue.map( createOption );\n\t\t}\n\t\tthis.setState({\n\t\t\tinputValue: '',\n\t\t\tvalue: newValue\n\t\t}, () => {\n\t\t\tthis.props.onChange( this.state.value );\n\t\t});\n\t};\n\n\thandleKeyDown = ( event ) => {\n\t\tswitch ( event.key ) {\n\t\t\tcase 'Enter':\n\t\t\tcase 'Tab': {\n\t\t\t\tthis.addInputValues();\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { inputValue, value } = this.state;\n\t\tconst isInvalid = this.props.isInvalid;\n\t\tconst control = ( provided, state ) => {\n\t\t\tconst out = {\n\t\t\t\t...provided\n\t\t\t};\n\t\t\tif ( state.isFocused && isInvalid ) {\n\t\t\t\tout.boxShadow = '0 0 0 0.2rem rgba(220,53,69,0.25)';\n\t\t\t}\n\t\t\tout.borderColor = isInvalid ? '#dc3545' : '#ddd';\n\t\t\tout[ '&:hover' ] = {\n\t\t\t\tborderColor: isInvalid ? '#dc3545' : '#ddd'\n\t\t\t};\n\t\t\treturn out;\n\t\t};\n\t\tconst customComponents = {\n\t\t\tDropdownIndicator: null,\n\t\t\tMultiValueLabel: props => {\n\t\t\t\tconst copyToClipboard = () => {\n\t\t\t\t\tcopy( props.data.label );\n\t\t\t\t};\n\t\t\t\treturn (\n\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\toverlay={<Tooltip id=\"copy_tooltip\">{this.props.t('copy-tooltip')}</Tooltip>}\n\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\t\tonClick={copyToClipboard} onKeyPress={copyToClipboard}\n\t\t\t\t\t\t\tclassName=\"text-select-copy\"\n\t\t\t\t\t\t\taria-label={this.props.t('copy-tooltip')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<components.MultiValueLabel {...props} />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<CreatableSelect\n\t\t\t\tinputId={this.props.id}\n\t\t\t\tcomponents={customComponents}\n\t\t\t\tinputValue={inputValue}\n\t\t\t\tisClearable={this.props.isClearable}\n\t\t\t\tisMulti\n\t\t\t\tmenuIsOpen={false}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tonInputChange={this.handleInputChange}\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\tvalue={value}\n\t\t\t\tstyles={{ ...customStyles, control: control, ...this.props.styles }}\n\t\t\t\tt={this.props.t}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTextSelect.propTypes = {\n\tdefaultValue: PropTypes.array,\n\tid: PropTypes.string,\n\tisClearable: PropTypes.bool,\n\tisInvalid: PropTypes.bool,\n\tonChange: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tstyles: PropTypes.object\n};\n\nTextSelect.defaultProps = {\n\tdefaultValue: [],\n\tid: null,\n\tisClearable: false,\n\tisInvalid: false,\n\tonChange() {},\n\tplaceholder: '',\n\tstyles: {}\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'text_select', 'common' ] )( TextSelect );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectInput from 'react-select';\nimport Button from 'react-bootstrap/Button';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormCheck from 'react-bootstrap/FormCheck';\nimport Modal from 'react-bootstrap/Modal';\nimport TextSelect from 'components/text-select';\n\n\n// VARIABLES //\n\nconst INPUT_TYPES = [\n\t{ value: 'text', label: 'Text' },\n\t{ value: 'dropdown', label: 'Dropdown' },\n\t{ value: 'checkbox', label: 'Checkbox' }\n];\n\n\n// MAIN //\n\nclass CreateFieldModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\tdescription: '',\n\t\t\ttype: INPUT_TYPES[ 0 ],\n\t\t\toptions: [],\n\t\t\tshowOnProfile: false,\n\t\t\teditableOnSignup: false,\n\t\t\teditableOnProfile: false\n\t\t};\n\t}\n\n\tcreateCustomField = () => {\n\t\tconst field = {\n\t\t\tname: this.state.name,\n\t\t\tdescription: this.state.description,\n\t\t\ttype: this.state.type.value,\n\t\t\tposition: this.props.customFields.length,\n\t\t\tshowOnProfile: this.state.showOnProfile,\n\t\t\teditableOnSignup: this.state.editableOnSignup,\n\t\t\teditableOnProfile: this.state.editableOnProfile\n\t\t};\n\t\tif ( field.type === 'dropdown' ) {\n\t\t\tfield.options = this.state.options.map( x => x.value );\n\t\t}\n\t\tthis.props.createCustomField( field );\n\t\tthis.props.onHide();\n\t};\n\n\thandleInputChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\t\tthis.setState({\n\t\t\t[ name ]: value\n\t\t});\n\t};\n\n\thandleCheckboxChangeFactory = ( name ) => {\n\t\treturn ( event ) => {\n\t\t\tthis.setState({\n\t\t\t\t[ name ]: event.target.checked\n\t\t\t});\n\t\t};\n\t};\n\n\trender() {\n\t\tconst t = this.props.t;\n\t\tconst { name, description } = this.state;\n\t\tconst validName = name.length >= 3;\n\t\tconst validDescription = description.length >= 3;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal show={this.props.show} onHide={this.props.onHide} >\n\t\t\t\t\t<Modal.Header closeButton >\n\t\t\t\t\t\t<Modal.Title as=\"h3\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t{t('admin_settings:create-user-field')}\n\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t<FormGroup controlId=\"formFieldName\" >\n\t\t\t\t\t\t\t<FormLabel>{t('field-name')}</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\ttype=\"text\" placeholder={t('enter-field-name')}\n\t\t\t\t\t\t\t\tdefaultValue={name}\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tisInvalid={!validName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormControl.Feedback type=\"invalid\" >\n\t\t\t\t\t\t\t\t{t('invalid-name')}\n\t\t\t\t\t\t\t</FormControl.Feedback>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup controlId=\"formFieldDescription\" >\n\t\t\t\t\t\t\t<FormLabel>{t('field-description')}</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\ttype=\"text\" placeholder={t('enter-field-description')}\n\t\t\t\t\t\t\t\tdefaultValue={description}\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tisInvalid={!validDescription}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormControl.Feedback type=\"invalid\" >\n\t\t\t\t\t\t\t\t{t('invalid-description')}\n\t\t\t\t\t\t\t</FormControl.Feedback>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup controlId=\"formFieldType\" >\n\t\t\t\t\t\t\t<FormLabel>{t('field-type')}</FormLabel>\n\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\toptions={INPUT_TYPES}\n\t\t\t\t\t\t\t\tdefaultValue={this.state.type}\n\t\t\t\t\t\t\t\tonChange={( elem ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\ttype: elem\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ this.state.type.value === 'dropdown' ?\n\t\t\t\t\t\t\t\t<TextSelect\n\t\t\t\t\t\t\t\t\tplaceholder={t('create-dropdown-options')}\n\t\t\t\t\t\t\t\t\toptions={this.state.options}\n\t\t\t\t\t\t\t\t\tonChange={( options ) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/> : null }\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<FormCheck\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tlabel={t('editable-on-signup')}\n\t\t\t\t\t\t\t\tdefaultChecked={false}\n\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\teditableOnSignup: !this.state.editableOnSignup\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<FormCheck\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tlabel={t('show-on-profile')}\n\t\t\t\t\t\t\t\tdefaultChecked={false}\n\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tshowOnProfile: !this.state.showOnProfile\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<FormCheck\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tlabel={t('editable-on-profile')}\n\t\t\t\t\t\t\t\tdefaultChecked={false}\n\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\teditableOnProfile: !this.state.editableOnProfile\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button onClick={this.props.onHide} >\n\t\t\t\t\t\t\t{t('common:cancel')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"success\" onClick={this.createCustomField}\n\t\t\t\t\t\t\tdisabled={!validName || !validDescription}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:create')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCreateFieldModal.propTypes = {\n\tcreateCustomField: PropTypes.func.isRequired,\n\tcustomFields: PropTypes.array,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tt: PropTypes.func.isRequired\n};\n\nCreateFieldModal.defaultProps = {\n\tcustomFields: []\n};\n\n\n// EXPORTS\n\nexport default CreateFieldModal;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport LicenseBarrier from 'ev/containers/visible-barrier';\nimport CreateFieldModal from './create_field_modal.js';\nimport './user_fields.css';\n\n\n// MAIN //\n\nclass AdminSettingsUserFields extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tshowCreateModal: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getCustomFields();\n\t}\n\n\ttoggleCreateModal = () => {\n\t\tthis.setState({\n\t\t\tshowCreateModal: !this.state.showCreateModal\n\t\t});\n\t};\n\n\thandleDeletionFactory = ( id ) => {\n\t\treturn () => {\n\t\t\tthis.props.deleteCustomField( id );\n\t\t};\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst availableCustomFields = this.props.user.availableCustomFields || [];\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"admin-settings-outer-container\" >\n\t\t\t\t\t<LicenseBarrier>\n\t\t\t\t\t\t<h1>{this.props.t('user-fields')}</h1>\n\t\t\t\t\t\t<p>{this.props.t('user-fields-description')}</p>\n\t\t\t\t\t\t{ availableCustomFields.length > 0 ? <ListGroup className=\"admin-settings-fields-list\" >\n\t\t\t\t\t\t\t{availableCustomFields.map( ( field, idx ) => {\n\t\t\t\t\t\t\t\tlet optionsStr;\n\t\t\t\t\t\t\t\tif ( field.type === 'dropdown' ) {\n\t\t\t\t\t\t\t\t\toptionsStr = `; options: ${field.options.join( ', ' )}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={idx} >\n\t\t\t\t\t\t\t\t\t\t<b>{field.name}</b>: {field.description} (type: {field.type}{optionsStr})\n\t\t\t\t\t\t\t\t\t\t{field.editableOnSignup ? ', editableOnSignup' : ''}\n\t\t\t\t\t\t\t\t\t\t{field.showOnProfile ? ', showOnProfile' : ''}\n\t\t\t\t\t\t\t\t\t\t{field.editableOnProfile ? ', editableOnProfile' : ''}\n\t\t\t\t\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"delete_field\">{t('delete-field')}</Tooltip>}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleDeletionFactory( field._id )}\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={t('delete-field')}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fa fa-trash-alt\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\taria-label={t('increment-position')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.incrementFieldPosition( field._id );\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={idx === availableCustomFields.length - 1}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-arrow-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\taria-label={t('decrement-position')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.decrementFieldPosition( field._id );\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={idx === 0}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-arrow-up\"></i>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ListGroup> : <Jumbotron className=\"admin-settings-fields-jumbotron\" >\n\t\t\t\t\t\t\t{t('no-custom-fields')}\n\t\t\t\t\t\t</Jumbotron> }\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.toggleCreateModal} >\n\t\t\t\t\t\t\t<i className=\"fas fa-plus\" style={{ marginRight: 8 }}></i>\n\t\t\t\t\t\t\t{this.props.t('add-user-field')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</LicenseBarrier>\n\t\t\t\t</div>\n\t\t\t\t{this.state.showCreateModal ? <CreateFieldModal\n\t\t\t\t\tshow={this.state.showCreateModal}\n\t\t\t\t\tonHide={this.toggleCreateModal}\n\t\t\t\t\tt={this.props.t}\n\t\t\t\t\tcreateCustomField={this.props.createCustomField}\n\t\t\t\t\tavailableCustomFields={this.props.user.availableCustomFields}\n\t\t\t\t/> : null}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nAdminSettingsUserFields.propTypes = {\n\tcreateCustomField: PropTypes.func.isRequired,\n\tdecrementFieldPosition: PropTypes.func.isRequired,\n\tdeleteCustomField: PropTypes.func.isRequired,\n\tgetCustomFields: PropTypes.func.isRequired,\n\tincrementFieldPosition: PropTypes.func.isRequired,\n\tuser: PropTypes.object\n};\n\nAdminSettingsUserFields.defaultProps = {\n\tuser: {}\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( 'admin_settings' )( AdminSettingsUserFields );\n","// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\n\n\n// MAIN //\n\nclass LicenseBarrier extends Component {\n\trender() {\n\t\tconst admin = this.props.admin;\n\t\tconst user = this.props.user;\n\t\tif ( !user.licensed && ( !admin.license || !admin.license.valid ) ) {\n\t\t\treturn (\n\t\t\t\t<Jumbotron\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '73.7%'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<h3 style={{ textAlign: 'center', marginTop: '12%' }}>\n\t\t\t\t\t\t{this.props.t('not-available-in-community-edition')}\n\t\t\t\t\t</h3>\n\t\t\t\t</Jumbotron>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\n\n// PROPERTIES //\n\nLicenseBarrier.propTypes = {\n\tadmin: PropTypes.object,\n\tuser: PropTypes.object\n};\n\nLicenseBarrier.defaultProps = {\n\tadmin: null,\n\tuser: null\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( 'common' )( LicenseBarrier );\n","// MODULES //\n\nimport { connect } from 'react-redux';\nimport LicenseBarrier from 'ev/components/barrier';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tadmin: state.admin,\n\t\tuser: state.user\n\t};\n}\n\nfunction mapDispatchToProps() {\n\treturn {};\n}\n\n\n// MAIN //\n\nconst VisibleLicenseBarrier = connect( mapStateToProps, mapDispatchToProps )( LicenseBarrier );\n\n\n// EXPORTS //\n\nexport default VisibleLicenseBarrier;\n"],"names":["customStyles","clearIndicator","provided","state","cursor","multiValueRemove","valueContainer","createOption","label","value","toOptions","arr","isNull","isObjectArray","map","TextSelect","Component","constructor","props","super","this","setState","onChange","inputValue","action","addInputValues","newValue","contains","split","x","trim","concat","event","key","defaultValue","componentDidUpdate","prevProps","render","isInvalid","customComponents","DropdownIndicator","MultiValueLabel","copyToClipboard","copy","data","OverlayTrigger","overlay","Tooltip","id","t","placement","role","tabIndex","onClick","onKeyPress","className","c","inputId","components","isClearable","isMulti","menuIsOpen","handleChange","onInputChange","handleInputChange","onKeyDown","handleKeyDown","placeholder","styles","control","out","isFocused","boxShadow","borderColor","propTypes","PropTypes","defaultProps","withTranslation","INPUT_TYPES","CreateFieldModal","field","name","description","type","position","customFields","length","showOnProfile","editableOnSignup","editableOnProfile","options","createCustomField","onHide","target","checked","validName","validDescription","Fragment","Modal","show","closeButton","as","style","width","FormGroup","controlId","FormLabel","FormControl","elem","FormCheck","defaultChecked","Button","variant","disabled","AdminSettingsUserFields","showCreateModal","deleteCustomField","componentDidMount","getCustomFields","availableCustomFields","user","ListGroup","idx","optionsStr","join","handleDeletionFactory","_id","incrementFieldPosition","decrementFieldPosition","Jumbotron","toggleCreateModal","marginRight","LicenseBarrier","admin","licensed","license","valid","children","height","textAlign","marginTop","connect"],"sourceRoot":""}