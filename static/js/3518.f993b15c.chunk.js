"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[3518],{37483:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(41488),a=n(29236),o=n(87757),l=n.n(o),s=n(15861),i=n(15671),c=n(43144),u=n(97326),f=n(60136),d=n(29388),m=n(4942),p=n(25472),v=n(70048),g=n(29530),h=n(72945),Z=n(23596),y=n(54012),E=n(75018),b=n(73230),w=n(36659),x=n(85802),C=n(9050),N=n(14657),I=(n(27184),function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,m.Z)((0,u.Z)(r),"handleSubmit",function(){var e=(0,s.Z)(l().mark((function e(t){var n,a,o,s,i,c,u,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n={password:r.state.password,email:r.state.email}).email){e.next=6;break}r.setState({showInputOverlay:!0,overlayTarget:r.emailInput,invalidInputMessage:"Enter your email address."}),e.next=31;break;case 6:if(""!==n.password){e.next=10;break}r.setState({showInputOverlay:!0,overlayTarget:r.passwordInput,invalidInputMessage:"Enter your password."}),e.next=31;break;case 10:return e.prev=10,e.next=13,r.props.handleLogin(n);case 13:if(a=e.sent,"finish-login-via-tfa"!==(o=a.data.message)){e.next=19;break}r.props.history.push("/login-tfa"),e.next=25;break;case 19:if("ok"!==o){e.next=25;break}return s=a.data,i=s.token,c=s.id,e.next=23,r.props.fetchCredentials({token:i,id:c});case 23:(u=e.sent)&&r.props.getEnrollableCohorts(u);case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(10),f=e.t0.response?e.t0.response.data:e.t0.message,r.setState({showInputOverlay:!0,overlayTarget:"Password is not correct."===f?r.passwordInput:r.emailInput,invalidInputMessage:f},(function(){setTimeout((function(){r.setState({showInputOverlay:!1})}),4e3)}));case 31:case"end":return e.stop()}}),e,null,[[10,27]])})));return function(t){return e.apply(this,arguments)}}()),(0,m.Z)((0,u.Z)(r),"handleInputChange",(function(e){var t=e.target,n=t.value,a=t.name;r.setState((0,m.Z)({},a,n))})),r.state={email:"",password:""},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.user;e&&e.loggedIn&&(this.props.restoreLogin(e),this.props.getEnrollableCohorts(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.settings;return r.createElement(r.Fragment,null,r.createElement("div",{className:"login"},r.createElement(g.Z,{className:"login-panel"},r.createElement(g.Z.Header,null,r.createElement(g.Z.Title,{as:"h1",style:{textAlign:"center"}},r.createElement("img",{alt:"ISLE Logo",className:"login-isle-logo",src:"img/isle_logo.svg"}),"ISLE ",r.createElement("small",null,a.siteTitle))),r.createElement(g.Z.Body,null,r.createElement(w.Z,null,r.createElement(b.Z,{controlId:"form-email"},r.createElement(Z.Z,null,r.createElement(h.Z,{sm:3},r.createElement(y.Z,null,n("common:email"))),r.createElement(h.Z,{sm:9},r.createElement(E.Z,{name:"email",type:"email",autoComplete:"isle-email",placeholder:n("common:email"),onChange:this.handleInputChange,ref:function(t){e.emailInput=t}})))),r.createElement(b.Z,{controlId:"form-password"},r.createElement(Z.Z,null,r.createElement(h.Z,{sm:3},r.createElement(y.Z,null,n("common:password"))),r.createElement(h.Z,{sm:9},r.createElement(E.Z,{name:"password",type:"password",autoComplete:"isle-password",placeholder:n("common:password"),onChange:this.handleInputChange,ref:function(t){e.passwordInput=t}})))),r.createElement(b.Z,null,r.createElement(v.Z,{className:"centered",variant:"primary",onClick:this.handleSubmit,type:"submit"},n("common:login"))))),r.createElement(g.Z.Footer,{style:{background:"rgba(255,255,255,0.6)",textAlign:"right"}},r.createElement(N.rU,{to:"/forgot-password"},n("common:forgot-password")),a.allowUserRegistrations?r.createElement(r.Fragment,null,r.createElement("span",null," | "),r.createElement(N.rU,{to:"/signup"},n("common:register"))):null)),a.brandingLogo?r.createElement("img",{className:"login-branding-logo",src:a.brandingLogo,alt:"Branded Logo"}):null),r.createElement(x.Z,{show:this.state.showInputOverlay,target:this.state.overlayTarget,placement:"right",containerPadding:20},r.createElement(C.Z,{id:"popover-contained",title:"Not valid"},this.state.invalidInputMessage)))}}]),n}(r.Component));I.defaultProps={settings:{}};var P=(0,p.Z)(["login","common"])(I),k=n(77703),R=n(58713),L=n(60299);var S=(0,a.$j)((function(e){return{user:e.user,settings:e.settings}}),(function(e){return{handleLogin:(0,L.IJ)(e),restoreLogin:(0,L.Dv)(e),fetchCredentials:(0,k.GI)(e),getEnrollableCohorts:(0,R.R9)(e)}}))(P)},96358:function(e,t,n){n.d(t,{Z:function(){return a}});var r=/-(.)/g;function a(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},84910:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}return(0,o.default)(r)};var r,a=n(76905),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},76905:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,o,l){var s=a||"<<anonymous>>",i=l||r;if(null==n[r])return t?new Error("Required "+o+" `"+i+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),f=6;f<c;f++)u[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,i].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},29530:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(87462),a=n(63366),o=n(78265),l=n.n(o),s=n(41488),i=n(38674),c=n(25237),u=n(90855),f=n(40539),d=["bsPrefix","className","variant","as"],m=s.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.variant,u=e.as,f=void 0===u?"img":u,m=(0,a.Z)(e,d),p=(0,i.vE)(n,"card-img");return s.createElement(f,(0,r.Z)({ref:t,className:l()(c?p+"-"+c:p,o)},m))}));m.displayName="CardImg",m.defaultProps={variant:null};var p=m,v=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,u.Z)("h5"),h=(0,u.Z)("h6"),Z=(0,c.Z)("card-body"),y=(0,c.Z)("card-title",{Component:g}),E=(0,c.Z)("card-subtitle",{Component:h}),b=(0,c.Z)("card-link",{Component:"a"}),w=(0,c.Z)("card-text",{Component:"p"}),x=(0,c.Z)("card-header"),C=(0,c.Z)("card-footer"),N=(0,c.Z)("card-img-overlay"),I=s.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.bg,u=e.text,d=e.border,m=e.body,p=e.children,g=e.as,h=void 0===g?"div":g,y=(0,a.Z)(e,v),E=(0,i.vE)(n,"card"),b=(0,s.useMemo)((function(){return{cardHeaderBsPrefix:E+"-header"}}),[E]);return s.createElement(f.Z.Provider,{value:b},s.createElement(h,(0,r.Z)({ref:t},y,{className:l()(o,E,c&&"bg-"+c,u&&"text-"+u,d&&"border-"+d)}),m?s.createElement(Z,null,p):p))}));I.displayName="Card",I.defaultProps={body:!1},I.Img=p,I.Title=y,I.Subtitle=E,I.Body=Z,I.Link=b,I.Text=w,I.Header=x,I.Footer=C,I.ImgOverlay=N;var P=I},40539:function(e,t,n){var r=n(41488).createContext(null);r.displayName="CardContext",t.Z=r},9050:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(87462),a=n(63366),o=n(78265),l=n.n(o),s=n(41488),i=(n(90427),n(38674)),c=["as","bsPrefix","className","children"],u=s.forwardRef((function(e,t){var n=e.as,o=void 0===n?"div":n,u=e.bsPrefix,f=e.className,d=e.children,m=(0,a.Z)(e,c);return u=(0,i.vE)(u,"popover-header"),s.createElement(o,(0,r.Z)({ref:t},m,{className:l()(u,f)}),d)})),f=["as","bsPrefix","className","children"],d=s.forwardRef((function(e,t){var n=e.as,o=void 0===n?"div":n,c=e.bsPrefix,u=e.className,d=e.children,m=(0,a.Z)(e,f);return c=(0,i.vE)(c,"popover-body"),s.createElement(o,(0,r.Z)({ref:t},m,{className:l()(u,c)}),d)})),m=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],p=s.forwardRef((function(e,t){var n=e.bsPrefix,o=e.placement,c=e.className,u=e.style,f=e.children,p=e.content,v=e.arrowProps,g=(e.popper,e.show,(0,a.Z)(e,m)),h=(0,i.vE)(n,"popover"),Z=((null==o?void 0:o.split("-"))||[])[0];return s.createElement("div",(0,r.Z)({ref:t,role:"tooltip",style:u,"x-placement":Z,className:l()(c,h,Z&&"bs-popover-"+Z)},g),s.createElement("div",(0,r.Z)({className:"arrow"},v)),p?s.createElement(d,null,f):f)}));p.defaultProps={placement:"right"},p.Title=u,p.Content=d;var v=p},23596:function(e,t,n){var r=n(87462),a=n(63366),o=n(78265),l=n.n(o),s=n(41488),i=n(38674),c=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],f=s.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,f=e.noGutters,d=e.as,m=void 0===d?"div":d,p=(0,a.Z)(e,c),v=(0,i.vE)(n,"row"),g=v+"-cols",h=[];return u.forEach((function(e){var t,n=p[e];delete p[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&h.push(""+g+r+"-"+t)})),s.createElement(m,(0,r.Z)({ref:t},p,{className:l().apply(void 0,[o,v,f&&"no-gutters"].concat(h))}))}));f.displayName="Row",f.defaultProps={noGutters:!1},t.Z=f},90855:function(e,t,n){var r=n(87462),a=n(41488),o=n(78265),l=n.n(o);t.Z=function(e){return a.forwardRef((function(t,n){return a.createElement("div",(0,r.Z)({},t,{ref:n,className:l()(t.className,e)}))}))}},14657:function(e,t,n){n.d(t,{rU:function(){return v}});var r=n(59486),a=n(94578),o=n(41488),l=n(86358),s=(n(83603),n(87462)),i=n(63366),c=n(83697);o.Component;o.Component;var u=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?(0,l.ob)(e,null,null,t):e},d=function(e){return e},m=o.forwardRef;"undefined"===typeof m&&(m=d);var p=m((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,l=(0,i.Z)(e,["innerRef","navigate","onClick"]),c=l.target,u=(0,s.Z)({},l,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=d!==m&&t||n,o.createElement("a",u)}));var v=m((function(e,t){var n=e.component,a=void 0===n?p:n,v=e.replace,g=e.to,h=e.innerRef,Z=(0,i.Z)(e,["component","replace","to","innerRef"]);return o.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=e.history,r=f(u(g,e.location),e.location),i=r?n.createHref(r):"",p=(0,s.Z)({},Z,{href:i,navigate:function(){var t=u(g,e.location),r=(0,l.Ep)(e.location)===(0,l.Ep)(f(t));(v||r?n.replace:n.push)(t)}});return d!==m?p.ref=t||h:p.innerRef=h,o.createElement(a,p)}))})),g=function(e){return e},h=o.forwardRef;"undefined"===typeof h&&(h=g);h((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,l=e.activeClassName,d=void 0===l?"active":l,m=e.activeStyle,p=e.className,Z=e.exact,y=e.isActive,E=e.location,b=e.sensitive,w=e.strict,x=e.style,C=e.to,N=e.innerRef,I=(0,i.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=E||e.location,l=f(u(C,n),n),i=l.pathname,P=i&&i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=P?(0,r.LX)(n.pathname,{path:P,exact:Z,sensitive:b,strict:w}):null,R=!!(y?y(k,n):k),L="function"===typeof p?p(R):p,S="function"===typeof x?x(R):x;R&&(L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(L,d),S=(0,s.Z)({},S,m));var T=(0,s.Z)({"aria-current":R&&a||null,className:L,style:S,to:l},I);return g!==h?T.ref=t||N:T.innerRef=N,o.createElement(v,T)}))}))},27184:function(){}}]);
//# sourceMappingURL=3518.f993b15c.chunk.js.map