/*! For license information please see RPlot.431eb069.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[8922],{17336:function(e,t,n){var r=n(38603),a=n(32906),i=n(91532),o=n.n(i),s=n(16231),l=n.n(s);class c extends r.Component{constructor(e){var t,n,r;super(e),r=()=>{const e=(0,a.findDOMNode)(this).getContext("2d");this.context=e;const t=new Date,n=this.props.lines,r=e.canvas.width,i=e.canvas.height;this.activeSpinner=window.setInterval((()=>{const a=(new Date-t)/1e3*n,o=parseInt(a,10)/n;e.save(),e.clearRect(0,0,r,i),e.translate(r/2,i/2),e.rotate(2*l()*o);for(let t=0;t<n;t++)e.beginPath(),e.rotate(2*l()/n),e.moveTo(r/10,0),e.lineTo(r/4,0),e.lineWidth=r/30,e.strokeStyle="rgba(0, 0, 0,"+t/n+")",e.stroke();e.restore()}),50)},(n="startSpinner")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidUpdate(){this.activeSpinner&&this.context.canvas&&(clearInterval(this.activeSpinner),this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height)),!0===this.props.running&&this.startSpinner()}render(){return r.createElement("canvas",{style:{width:this.props.width,height:this.props.height,display:this.props.running?this.props.display:"none",margin:"auto",...this.props.style}})}}c.defaultProps={display:"block",height:64,lines:16,style:{},width:128},c.propTypes={display:o().string,height:o().number,lines:o().number,running:o().bool.isRequired,style:o().object,width:o().number},t.Z=c},76287:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(38603),a=n(91532),i=n.n(a),o=n(52458),s=n(48583),l=n(8800),c=n.n(l),p=n(17218),d=n.n(p),u=n(86933),h=n(17336);var g=(0,n(29191).Z)((()=>Promise.all([n.e(9900),n.e(1686)]).then(n.bind(n,19900)))),b=n(26516),m=n(47337),f=n(76798);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function v({id:e,meta:t,plot:n}){let r;return t?(t=c()(t,((e,t)=>d()(t))),r=`<img src="${n}" style="display: block; margin: 0 auto;" data-plot-id="${e}" data-plot-meta="${t=s.dump(t)}"></img>`):r=`<img src="${n}" alt="R Plot" style="display: block; margin: 0 auto;" />`,r}const w=({code:e,className:t,draggable:n,id:a,libraries:i,prependCode:s,fileType:l,meta:c,onDone:p,...d})=>{const{t:f}=(0,o.$)("r"),[w,T]=(0,r.useState)(!1),[x,j]=(0,r.useState)({img:null,body:null}),k=(0,r.useContext)(b.Z);(0,r.useEffect)((()=>{T(!0);const t=(0,u.Z)(i,s,k)+e;k.getRPlot(t,l,((e,t,n)=>{e?p(e):(j({img:t,body:n}),T(!1),p(null,t,n))}))}),[e,l,i,s,k,p]);let E=null;return n&&(E=r.createElement("button",{className:"rplot-draggable-bar",draggable:!0,onDragStart:e=>{const t=v({id:a,meta:c,plot:x.body});e.dataTransfer.setData("text/html",t)},onClick:()=>{const e=v({id:a,meta:c,plot:x.body});(0,m.Z)(e)}},f("drag-plot"))),r.createElement("div",{className:`rplot ${t}`,style:{minHeight:128,cursor:"pointer"}},r.createElement(h.Z,{running:w,width:256,height:128}),w?r.createElement("span",null):r.createElement(r.Fragment,null,E,r.createElement(g,y({src:x.img,body:x.body,title:f("r-plot")},d))))};w.propTypes={code:i().string,width:i().oneOfType([i().number,i().string]),height:i().oneOfType([i().number,i().string]),draggable:i().bool,fileType:i().string,libraries:i().array,prependCode:i().oneOfType([i().string,i().array]),meta:i().object,className:i().string,onDone:i().func},w.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone(){}};var T=(0,f.W)(w)},86933:function(e,t,n){var r=n(22949),a=n.n(r);t.Z=function(e,t,n){const{rshell:r}=n.config;r&&r.libraries&&(e=e.concat(r.libraries));let i=(e=>e.map((e=>"library("+e+");")).join(" "))(e);return r&&r.global&&(i+=r.global+"\n"),t=a()(t)?t.join("\n"):t,i+=t+="\n",i}},8800:function(e,t,n){var r=n(9702);e.exports=r},9702:function(e,t,n){var r=n(45014),a=n(13578);e.exports=function(e,t){var n,i,o,s;if("object"!==typeof e||null===e)throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if(!a(t))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+t+"`.");for(i={},n=r(e),s=0;s<n.length;s++)t(o=n[s],e[o])||(i[o]=e[o]);return i}},48583:function(e,t,n){e.exports=n.p+"static/media/e0c62f0bb9e37747d591.mjs"}}]);
//# sourceMappingURL=RPlot.431eb069.chunk.js.map