{"version":3,"sources":["../node_modules/@stdlib/math/base/special/round/lib/index.js","../node_modules/@stdlib/math/base/special/round/lib/round.js","components/profile-page/time_spent.js"],"names":[],"mappings":"qKAkEA,GAAI,OAAQ,oBAAS,KAAa,EAKlC,OAAO,QAAU,K,yBCCjB,GAAI,OAAQ,KAAK,MAKjB,OAAO,QAAU,K,omDC7CjB,MAAM,sBAAuB,6CAAU,CACtC,QAAS,CACR,GAAK,CAAC,KAAK,MAAM,kBAChB,MAAO,MAER,KAAM,SAAU,KAAK,MAAM,kBAAkB,QAC7C,GAAK,CAAC,+DAAS,OAAQ,EACtB,MAAO,MAER,KAAM,MAAO,KAAK,MAAM,KAAK,WAC7B,GAAI,WAAY,CAAC,EACjB,KAAM,OAAQ,CAAC,EACT,MAAQ,CAAC,EACf,OAAU,GAAI,EAAG,EAAI,QAAQ,OAAQ,IAAM,CAC1C,KAAM,QAAS,QAAS,GACnB,KAAM,OAAO,MACjB,WAAU,KAAM,KAAM,OAAO,KAAM,SAAU,EAC7C,MAAM,KAAM,OAAO,KAAM,EACzB,MAAM,KAAM,cAAc,uEAAO,KAAM,OAAO,KAAM,SAAS,GAAM,IAAK,EAE1E,CACA,GAAI,IAAK,iEAAgB,SAAU,EAC/B,IAAM,+DAAU,EAAG,EACvB,GAAK,iEAAgB,SAAU,EAC/B,GAAI,OAAQ,gEAAW,EAAG,EAC1B,iBAAY,UAAU,IAAK,GACnB,EAAM,KAAK,GAClB,EAEK,KACL,KAAM,GAED,OACL,OAAQ,GAGR,iDAAC,OAAI,MAAO,CAAE,QAAS,MAAO,SAAU,QAAS,GAChD,iDAAC,QAAK,UAAU,SAAQ,sBAAoB,EAC5C,iDAAC,YAAM,IAAI,wDAAY,GAAI,GAAI,EAC/B,iDAAC,YAAM,SAAS,wDAAY,KAAM,IAAK,EACvC,iDAAC,+CAAM,CACN,KAAM,CAAC,CACN,EAAG,MACH,EAAG,UACH,KAAM,MACN,KAAM,MACN,OAAQ,CACP,MAAO,UACP,QAAS,GACT,KAAM,CACL,MAAO,gBACP,MAAO,GACR,CACD,CACD,CAAC,EACD,OAAQ,CACP,eAAgB,GAChB,YAAa,EACd,EACA,OAAQ,CACP,aAAc,kBACd,cAAe,kBACf,MAAO,CACN,MAAO,cACP,WAAY,EACb,EACA,MAAO,CACN,MAAO,gBACP,WAAY,EACb,EACA,SAAU,GACV,OAAQ,CACP,EAAG,GACH,EAAG,GACH,EAAG,GACH,EAAG,EACJ,CACD,EACA,iBAAkB,GAClB,MAAO,CACN,MAAO,OACP,OAAQ,MACT,EACD,CACD,CAEF,CACD,CAKA,eAAe,UAAY,CAC1B,kBAAmB,yDACnB,KAAM,mEACP,EAEA,eAAe,aAAe,CAC7B,kBAAmB,IACpB,EAKA,4BAAe,c","file":"static/js/1723.a75dce61.chunk.js","sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: implementation\n\n/**\n* Round a numeric value to the nearest integer.\n*\n* @module @stdlib/math/base/special/round\n*\n* @example\n* var round = require( '@stdlib/math/base/special/round' );\n*\n* var v = round( -4.2 );\n* // returns -4.0\n*\n* v = round( -4.5 );\n* // returns -4.0\n*\n* v = round( -4.6 );\n* // returns -5.0\n*\n* v = round( 9.99999 );\n* // returns 10.0\n*\n* v = round( 9.5 );\n* // returns 10.0\n*\n* v = round( 9.2 );\n* // returns 9.0\n*\n* v = round( 0.0 );\n* // returns 0.0\n*\n* v = round( -0.0 );\n* // returns -0.0\n*\n* v = round( Infinity );\n* // returns Infinity\n*\n* v = round( -Infinity );\n* // returns -Infinity\n*\n* v = round( NaN );\n* // returns NaN\n*/\n\n// MODULES //\n\nvar round = require( './round.js' );\n\n\n// EXPORTS //\n\nmodule.exports = round;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: implementation\n\n/**\n* Rounds a numeric value to the nearest integer.\n*\n* @param {number} x - input value\n* @returns {number} function value\n*\n* @example\n* var v = round( -4.2 );\n* // returns -4.0\n*\n* @example\n* var v = round( -4.5 );\n* // returns -4.0\n*\n* @example\n* var v = round( -4.6 );\n* // returns -5.0\n*\n* @example\n* var v = round( 9.99999 );\n* // returns 10.0\n*\n* @example\n* var v = round( 9.5 );\n* // returns 10.0\n*\n* @example\n* var v = round( 9.2 );\n* // returns 9.0\n*\n* @example\n* var v = round( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = round( -0.0 );\n* // returns -0.0\n*\n* @example\n* var v = round( Infinity );\n* // returns Infinity\n*\n* @example\n* var v = round( -Infinity );\n* // returns -Infinity\n*\n* @example\n* var v = round( NaN );\n* // returns NaN\n*/\nvar round = Math.round; // eslint-disable-line stdlib/no-builtin-math\n\n\n// EXPORTS //\n\nmodule.exports = round;\n","/**\r\n* Copyright (C) 2016-present The ISLE Authors\r\n*\r\n* The isle-dashboard program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU Affero General Public License as\r\n* published by the Free Software Foundation, either version 3 of the\r\n* License, or (at your option) any later version.\r\n*\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU Affero General Public License for more details.\r\n*\r\n* You should have received a copy of the GNU Affero General Public License\r\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\n// MODULES //\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Plotly from 'react-plotly.js';\r\nimport isArray from '@stdlib/assert/is-array';\r\nimport round from '@stdlib/math/base/special/round';\r\nimport iterMean from '@stdlib/stats/iter/mean';\r\nimport iterStdev from '@stdlib/stats/iter/stdev';\r\nimport array2iterator from '@stdlib/array/to-iterator';\r\nimport formatTime from 'utils/format_time.js';\r\n\r\n\r\n// MAIN //\r\n\r\nclass TimeSpentStats extends Component {\r\n\trender() {\r\n\t\tif ( !this.props.selectedNamespace ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst lessons = this.props.selectedNamespace.lessons;\r\n\t\tif ( !isArray( lessons ) ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst data = this.props.user.lessonData;\r\n\t\tlet durations = [];\r\n\t\tconst names = [];\r\n\t\tconst texts = [];\r\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\r\n\t\t\tconst lesson = lessons[ i ];\r\n\t\t\tif ( data[ lesson._id ] ) {\r\n\t\t\t\tdurations.push( data[ lesson._id ].spentTime );\r\n\t\t\t\tnames.push( lesson.title );\r\n\t\t\t\ttexts.push( `Completed: ${round( data[ lesson._id ].progress*100.0 )}%` );\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet it = array2iterator( durations );\r\n\t\tlet avg = iterMean( it );\r\n\t\tit = array2iterator( durations );\r\n\t\tlet stdev = iterStdev( it );\r\n\t\tdurations = durations.map( d => {\r\n\t\t\treturn d / ( 1000*60 );\r\n\t\t});\r\n\r\n\t\tif ( !avg ) {\r\n\t\t\tavg = 0;\r\n\t\t}\r\n\t\tif ( !stdev ) {\r\n\t\t\tstdev = 0;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div style={{ padding: '5px', overflow: 'hidden' }}>\r\n\t\t\t\t<span className=\"title\">Average time spent: </span>\r\n\t\t\t\t<span>{` ${formatTime( avg )}`}</span>\r\n\t\t\t\t<span>{` (SD: ${formatTime( stdev )})`}</span>\r\n\t\t\t\t<Plotly\r\n\t\t\t\t\tdata={[{\r\n\t\t\t\t\t\tx: names,\r\n\t\t\t\t\t\ty: durations,\r\n\t\t\t\t\t\ttext: texts,\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tmarker: {\r\n\t\t\t\t\t\t\tcolor: '#0069d9',\r\n\t\t\t\t\t\t\topacity: 0.6,\r\n\t\t\t\t\t\t\tline: {\r\n\t\t\t\t\t\t\t\tcolor: 'rgb(8,48,107)',\r\n\t\t\t\t\t\t\t\twidth: 1.5\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}]}\r\n\t\t\t\t\tconfig={{\r\n\t\t\t\t\t\tdisplayModeBar: false,\r\n\t\t\t\t\t\tdisplaylogo: false\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlayout={{\r\n\t\t\t\t\t\tplot_bgcolor: 'rgba(0,0,0,0.0)',\r\n\t\t\t\t\t\tpaper_bgcolor: 'rgba(0,0,0,0.0)',\r\n\t\t\t\t\t\txaxis: {\r\n\t\t\t\t\t\t\ttitle: 'Lesson Name',\r\n\t\t\t\t\t\t\tfixedrange: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tyaxis: {\r\n\t\t\t\t\t\t\ttitle: 'Time (in min)',\r\n\t\t\t\t\t\t\tfixedrange: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tautosize: true,\r\n\t\t\t\t\t\tmargin: {\r\n\t\t\t\t\t\t\tl: 50,\r\n\t\t\t\t\t\t\tr: 50,\r\n\t\t\t\t\t\t\tb: 50,\r\n\t\t\t\t\t\t\tt: 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tuseResizeHandler={true}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '17vw'\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n// PROPERTIES //\r\n\r\nTimeSpentStats.propTypes = {\r\n\tselectedNamespace: PropTypes.object,\r\n\tuser: PropTypes.object.isRequired\r\n};\r\n\r\nTimeSpentStats.defaultProps = {\r\n\tselectedNamespace: null\r\n};\r\n\r\n\r\n// EXPORTS //\r\n\r\nexport default TimeSpentStats;\r\n"],"sourceRoot":""}