"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2645],{42263:function(e,t,n){var a=n(41488),l=n(25472),r=n(70048),o=n(3252),s=function(e){return a.createElement(o.Z,{show:e.show,onHide:e.close},a.createElement(o.Z.Header,null,a.createElement(o.Z.Title,{as:"h3"},e.title)),a.createElement(o.Z.Body,null,e.message),a.createElement(o.Z.Footer,null,a.createElement(r.Z,{onClick:e.close},e.t("cancel")),a.createElement(r.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};s.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,l.Z)(["common"])(s)},70289:function(e,t,n){n.d(t,{ZP:function(){return H},O5:function(){return V},OT:function(){return x},uq:function(){return _}});var a=n(15671),l=n(43144),r=n(97326),o=n(60136),s=n(29388),i=n(4942),c=n(41488),u=n(25472),d=n(70048),m=n(29530),p=n(54012),h=n(75018),Z=n(73230),E=n(36659),f=n(93391),v=n(47701),C=n(10077),g=n.n(C),w=n(61562),y=n.n(w),b=n(6233),D=n.n(b),k=n(33837),I=n.n(k),S=n(43006),M=n(63834),T=n(3207),F=g()("isle-dashboard:create-namespace");function x(e){var t=!1;return 0===e.length?t=!0:e.forEach((function(e){y()(e)||(t=!0)})),!t}function _(e){return e.length>=3&&!I()(e," ")&&!(0,T.Z)(e)}function V(e){return e.length>=3}var N=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var l;return(0,a.Z)(this,n),l=t.call(this,e),(0,i.Z)((0,r.Z)(l),"handleInputChange",(function(e){var t=e.target,n=t.value,a=t.name;l.setState((0,i.Z)({},a,n))})),(0,i.Z)((0,r.Z)(l),"handleSubmit",(function(){l.props.createNamespace({title:l.state.title,description:l.state.description,owners:l.state.owners,props:l.props})})),(0,i.Z)((0,r.Z)(l),"handleOwnerChange",(function(e){if(!e)return l.setState({owners:[]});var t=e.map((function(e){return D()(e.value)}));l.setState({owners:t})})),l.state={title:"",description:"",owners:[l.props.user.email]},l}return(0,l.Z)(n,[{key:"render",value:function(){var e=_(this.state.title),t=(0,T.Z)(this.state.title),n=V(this.state.description),a=x(this.state.owners);F("Validation status of input fields: "),F("Title: ".concat(e)),F("Description: ".concat(n)),F("Owners: ".concat(a));var l=this.props.t;return c.createElement("div",{className:"create-namespace-container"},c.createElement(m.Z,{className:"create-namespace-card"},c.createElement(m.Z.Header,null,c.createElement(m.Z.Title,{as:"h2"},l("create-course"))),c.createElement(E.Z,{style:{padding:"20px"}},c.createElement(f.Z,{placement:"right",overlay:c.createElement(v.Z,{id:"ownerTooltip"},l("owner-tooltip"))},c.createElement(Z.Z,{controlId:"form-owners"},c.createElement(p.Z,null,l("common:owners")),c.createElement(S.Z,{id:"owners-text-select",onChange:this.handleOwnerChange,defaultValue:this.state.owners,isInvalid:!a,placeholder:l("enter-emails")}),c.createElement(h.Z.Feedback,{type:"invalid"},l("invalid-owners")))),c.createElement(f.Z,{placement:"right",overlay:c.createElement(v.Z,{id:"courseTooltip"},l("accessible-at"),c.createElement("code",null,M.ZP+"/<course>/<lesson>"))},c.createElement(Z.Z,{controlId:"form-course"},c.createElement(p.Z,null,l("common:course")),c.createElement(h.Z,{name:"title",type:"text",placeholder:l("course-placeholder"),onChange:this.handleInputChange,isInvalid:this.state.title&&!e}),c.createElement(h.Z.Feedback,{type:"invalid"},t?"Course identifier contains invalid character(s): "+t[0]:"Course identifier must be at least three characters long and should not contain any spaces."))),c.createElement(f.Z,{placement:"right",overlay:c.createElement(v.Z,{id:"titleTooltip"},l("title-tooltip"))},c.createElement(Z.Z,{controlId:"form-description"},c.createElement(p.Z,null,l("title-description")),c.createElement(h.Z,{name:"description",type:"text",placeholder:l("title-placeholder"),onChange:this.handleInputChange,isInvalid:this.state.description&&!n}),c.createElement(h.Z.Feedback,{type:"invalid"},l("invalid-description"))))),c.createElement(d.Z,{variant:"success",onClick:this.handleSubmit,disabled:!a||!e||!n,block:!0},l("common:create"))))}}]),n}(c.Component);N.defaultProps={};var H=(0,u.Z)(["namespace","common"])(N)},43006:function(e,t,n){n.d(t,{Z:function(){return F}});var a=n(15671),l=n(43144),r=n(97326),o=n(60136),s=n(29388),i=n(4942),c=n(1413),u=n(41488),d=n(25472),m=n(33606),p=n.n(m),h=n(48390),Z=n(99259),E=n(47701),f=n(93391),v=n(3671),C=n.n(v),g=n(33837),w=n.n(g),y=n(81064),b=n.n(y),D=n(6233),k=n.n(D),I={clearIndicator:function(e,t){return(0,c.Z)((0,c.Z)({},e),{},{cursor:"pointer"})},multiValueRemove:function(e,t){return(0,c.Z)((0,c.Z)({},e),{},{cursor:"pointer"})},valueContainer:function(e,t){return(0,c.Z)((0,c.Z)({},e),{},{cursor:"text"})}},S=function(e){return{label:e,value:e}},M=function(e){return b()(e)?null:C()(e)&&e[0].label&&e[0].value?e:e.map(S)},T=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var l;return(0,a.Z)(this,n),l=t.call(this,e),(0,i.Z)((0,r.Z)(l),"handleChange",(function(e){l.setState({value:e}),l.props.onChange(e)})),(0,i.Z)((0,r.Z)(l),"handleInputChange",(function(e,t){"menu-close"===t.action?l.addInputValues():"input-blur"!==t.action&&l.setState({inputValue:e})})),(0,i.Z)((0,r.Z)(l),"addInputValues",(function(){var e,t=l.state,n=t.inputValue,a=t.value;if(!n)return null;n=w()(n,",")?n.split(",").map((function(e){return k()(e)})):[k()(n)],e=a?a.concat(n.map(S)):n.map(S),l.setState({inputValue:"",value:e},(function(){l.props.onChange(l.state.value)}))})),(0,i.Z)((0,r.Z)(l),"handleKeyDown",(function(e){switch(e.key){case"Enter":case"Tab":l.addInputValues()}})),l.state={inputValue:"",value:M(e.defaultValue)},l}return(0,l.Z)(n,[{key:"componentDidUpdate",value:function(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:M(this.props.defaultValue)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=t.value,l=this.props.isInvalid,r={DropdownIndicator:null,MultiValueLabel:function(t){var n=function(){p()(t.data.label)};return u.createElement(f.Z,{overlay:u.createElement(E.Z,{id:"copy_tooltip"},e.props.t("copy-tooltip")),placement:"bottom"},u.createElement("span",{role:"button",tabIndex:0,onClick:n,onKeyPress:n,className:"text-select-copy","aria-label":e.props.t("copy-tooltip")},u.createElement(Z.c.MultiValueLabel,t)))}};return u.createElement(h.Z,{inputId:this.props.id,components:r,inputValue:n,isClearable:this.props.isClearable,isMulti:!0,menuIsOpen:!1,onChange:this.handleChange,onInputChange:this.handleInputChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,value:a,styles:(0,c.Z)((0,c.Z)({},I),{},{control:function(e,t){var n=(0,c.Z)({},e);return t.isFocused&&l&&(n.boxShadow="0 0 0 0.2rem rgba(220,53,69,0.25)"),n.borderColor=l?"#dc3545":"#ddd",n["&:hover"]={borderColor:l?"#dc3545":"#ddd"},n}},this.props.styles),t:this.props.t})}}]),n}(u.Component);T.defaultProps={defaultValue:[],id:null,isClearable:!1,isInvalid:!1,onChange:function(){},placeholder:"",styles:{}};var F=(0,d.Z)(["text_select","common"])(T)},82578:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ze}});var a=n(41488),l=n(29236),r=n(87462),o=n(15671),s=n(43144),i=n(97326),c=n(60136),u=n(29388),d=n(4942),m=n(25472),p=n(26881),h=n(52785),Z=n(70048),E=n(87095),f=n(29530),v=n(73109),C=n(72945),g=n(23596),w=n(75018),y=n(54012),b=n(73230),D=n(36659),k=n(54544),I=n(66070),S=n(93391),M=n(47701),T=n(59486),F=n(70954),x=n.n(F),_=n(6233),V=n.n(_),N=n(43006),H=n(3252),P=function(e){return a.createElement(H.Z,{show:e.show,onHide:e.close},a.createElement(H.Z.Header,{closeButton:!0},a.createElement(H.Z.Title,null,e.title)),a.createElement(H.Z.Body,null,e.message),a.createElement(H.Z.Footer,null,a.createElement(Z.Z,{onClick:e.close},"Close")))};P.defaultProps={close:function(){},message:"",show:!1,title:""};var B=P,O=n(42263),L=n(70289),U=n(3207),z=n(10077),K=n.n(z),R=n(51189),j=n(34513),q=n(51527),A=n.n(q),$=n(61562),G=n.n($),J=(n(92545),K()("isle-dashboard:edit-cohort"));function Q(e){var t=e.emails,n=e.title,a=!1;return t.forEach((function(e){G()(e)||(a=!0)})),!a&&n.length>=4}var W=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;return(0,o.Z)(this,n),a=t.call(this,e),(0,d.Z)((0,i.Z)(a),"handleInputChange",(function(e){var t=e.target,n=t.name,l=t.value;a.setState((0,d.Z)({},n,l),(function(){a.setState({disabled:!Q({emails:a.state.members,title:a.state.title})})}))})),(0,d.Z)((0,i.Z)(a),"handleUpdate",(function(){var e={_id:a.props._id,emailFilter:a.state.emailFilter,startDate:a.state.startDate.toDate(),endDate:a.state.endDate.toDate(),members:a.state.members.join(","),title:a.state.title,private:a.state.private};a.props.onUpdate(e),a.props.onHide()})),(0,d.Z)((0,i.Z)(a),"handleDelete",(function(){a.props.onDelete(a.props._id),a.closeDeleteModal(),a.props.onHide()})),(0,d.Z)((0,i.Z)(a),"closeDeleteModal",(function(){a.setState({showDeleteModal:!1})})),(0,d.Z)((0,i.Z)(a),"handleStudentChange",(function(e){J("Handle change of cohort members...");var t=x()(e)?e.map((function(e){return e.value})):[];a.setState({members:t,disabled:!Q({emails:t,title:a.state.title})})})),a.state={disabled:!1,startDate:A()(e.startDate),endDate:A()(e.endDate),title:e.title,members:e.members.map((function(e){return e.email})),showDeleteModal:!1,private:e.private,emailFilter:e.emailFilter},a}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.t,n=a.createElement(D.Z,{style:{padding:"10px"}},a.createElement(g.Z,null,a.createElement(C.Z,{md:6},a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"titleTooltip"},t("cohort-title-tooltip"))},a.createElement(b.Z,null,a.createElement(y.Z,null,t("common:title")),a.createElement(w.Z,{name:"title",type:"text",value:this.state.title,onChange:this.handleInputChange})))),a.createElement(C.Z,{md:6},a.createElement(b.Z,null,a.createElement(y.Z,null,t("cohort-period")),a.createElement("br",null),a.createElement(j.DateRangePicker,{startDateId:"panel_start_date_input",endDateId:"panel_end_date_input",startDate:this.state.startDate,endDate:this.state.endDate,onDatesChange:function(t){var n=t.startDate,a=t.endDate;return e.setState({startDate:n,endDate:a})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})))),a.createElement("hr",null),a.createElement(g.Z,null,a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"enrolledTooltip"},t("enrolled-tooltip"))},a.createElement(b.Z,{className:"cohort-modal-enrolled-group"},a.createElement(y.Z,null,t("enrolled-students")),a.createElement(N.Z,{placeholder:t("enter-emails"),defaultValue:this.state.members,onChange:this.handleStudentChange,styles:{control:function(){return{width:"100%"}}}})))),a.createElement("hr",null),a.createElement(g.Z,null,a.createElement(S.Z,{placement:"left",overlay:a.createElement(M.Z,{id:"preventTooltip"},t("prevent-tooltip"))},a.createElement(R.Z,{checked:this.state.private,onChange:function(t){e.setState({private:!e.state.private})},type:"checkbox",label:t("prevent-label")}))),a.createElement("hr",null),a.createElement(g.Z,null,a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"filterTooltip"},t("filter-tooltip"))},a.createElement(b.Z,null,a.createElement(y.Z,null,t("email-filter")),a.createElement(w.Z,{style:{width:"25vw"},name:"emailFilter",type:"text",value:this.state.emailFilter,placeholder:t("filter-placeholder"),onChange:this.handleInputChange})))));return a.createElement(a.Fragment,null,a.createElement(H.Z,{size:"lg",show:this.props.show,onHide:this.props.onHide},a.createElement(H.Z.Header,{closeButton:!0},a.createElement(H.Z.Title,{as:"h3"},t("edit-cohort",{title:this.props.title}))),a.createElement(H.Z.Body,null,n),a.createElement(H.Z.Footer,null,a.createElement(E.Z,null,a.createElement(Z.Z,{onClick:function(){e.setState({showDeleteModal:!0})},variant:"danger"},t("common:delete")),a.createElement(Z.Z,{onClick:this.props.onHide},t("common:cancel")),a.createElement(Z.Z,{variant:"success",disabled:this.state.disabled,onClick:this.handleUpdate},t("common:save"))))),a.createElement(O.Z,{show:this.state.showDeleteModal,close:this.closeDeleteModal,message:t("delete-cohort"),title:"".concat(t("delete"),"?"),onConfirm:this.handleDelete}))}}]),n}(a.Component);W.defaultProps={endDate:null,onUpdate:function(){},onDelete:function(){}};var X=W;function Y(e){var t=e.emails,n=e.title,a=!1;return t.forEach((function(e){G()(e)||(a=!0)})),!a&&n.length>=4}var ee=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;(0,o.Z)(this,n),a=t.call(this,e),(0,d.Z)((0,i.Z)(a),"handleInputChange",(function(e){var t=e.target,n=t.name,l=t.value;a.setState((0,d.Z)({},n,l),(function(){a.setState({disabled:!Y({emails:a.state.students,title:a.state.title})})}))})),(0,d.Z)((0,i.Z)(a),"onCreate",(function(){var e={emailFilter:a.state.emailFilter,title:a.state.title,startDate:a.state.startDate.toDate(),endDate:a.state.endDate.toDate(),private:a.state.private,students:a.state.students.join(",")};a.props.onCreate(e)})),(0,d.Z)((0,i.Z)(a),"handleStudentChange",(function(e){var t=x()(e)?e.map((function(e){return e.value})):[];a.setState({students:t,disabled:!Y({emails:t,title:a.state.title})})}));var l={startDate:A()().startOf("day"),endDate:A()().add(3,"months").endOf("day"),disabled:!0,students:[],private:!1,emailFilter:"",title:""};return a.state=l,a.onClose=function(){a.setState(l),a.props.close()},a}return(0,s.Z)(n,[{key:"renderBody",value:function(){var e=this,t=this.props.t;return a.createElement(D.Z,{style:{paddingLeft:20,paddingRight:20}},a.createElement(g.Z,null,a.createElement(C.Z,{md:6},a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"titleTooltip"},t("cohort-title-tooltip"))},a.createElement(b.Z,null,a.createElement(y.Z,null,t("common:title")),a.createElement(w.Z,{name:"title",type:"text",placeholder:t("cohort-title-placeholder"),onChange:this.handleInputChange})))),a.createElement(C.Z,{md:6},a.createElement(b.Z,null,a.createElement(y.Z,null,t("cohort-period")),a.createElement(j.DateRangePicker,{startDateId:"start_date_input",endDateId:"end_date_input",startDate:this.state.startDate,endDate:this.state.endDate,onDatesChange:function(t){var n=t.startDate,a=t.endDate;return e.setState({startDate:n,endDate:a})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})))),a.createElement("hr",null),a.createElement(g.Z,null,a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"enrolledTooltip"},t("enrolled-tooltip"))},a.createElement(b.Z,{className:"cohort-modal-enrolled-group"},a.createElement(y.Z,null,t("enrolled-students")),a.createElement(N.Z,{placeholder:t("enter-emails"),onChange:this.handleStudentChange,defaultValue:this.state.students,isClearable:!0,styles:{control:function(){return{width:"100%"}}}})))),a.createElement("hr",null),a.createElement(g.Z,null,a.createElement(S.Z,{placement:"left",overlay:a.createElement(M.Z,{id:"preventTooltip"},t("prevent-tooltip"))},a.createElement(R.Z,{checked:this.state.private,onChange:function(){e.setState({private:!e.state.private})},type:"checkbox",label:t("prevent-label")}))),a.createElement("hr",null),a.createElement(g.Z,null,a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"filterTooltip"},t("filter-tooltip"))},a.createElement(b.Z,null,a.createElement(y.Z,null,t("email-filter")),a.createElement(w.Z,{style:{width:"25vw"},name:"emailFilter",type:"text",placeholder:t("filter-placeholder"),onChange:this.handleInputChange})))))}},{key:"render",value:function(){var e=this.props.t;return a.createElement(H.Z,{size:"lg",show:this.props.show,onHide:this.onClose},a.createElement(H.Z.Header,{closeButton:!0},a.createElement(H.Z.Title,{as:"h3"},e("create-new-cohort"))),a.createElement(H.Z.Body,null,this.renderBody()),a.createElement(H.Z.Footer,null,a.createElement(Z.Z,{onClick:this.onClose},e("common:cancel")),a.createElement(Z.Z,{variant:"success",disabled:this.state.disabled,onClick:this.onCreate},e("common:create"))))}}]),n}(a.Component);ee.defaultProps={close:function(){},onCreate:function(){},show:!1};var te=ee,ne=n(87757),ae=n.n(ne),le=n(15861),re=n(89308),oe=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;return(0,o.Z)(this,n),a=t.call(this,e),(0,d.Z)((0,i.Z)(a),"handleSelection",(function(e){a.setState({selectedCourse:e.value})})),(0,d.Z)((0,i.Z)(a),"handleImport",(0,le.Z)(ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.copyNamespaceLessons({source:a.state.selectedCourse.title,target:a.props.targetNamespace.title});case 2:e.sent instanceof Error===!1&&a.props.close();case 4:case"end":return e.stop()}}),e)})))),a.state={selectedCourse:null},a}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.t,t=this.props.namespaces.map((function(e){return{label:e.title,value:e}}));return a.createElement(H.Z,{size:"lg",show:this.props.show,onHide:this.props.close},a.createElement(H.Z.Header,{closeButton:!0},a.createElement(H.Z.Title,{as:"h3"},e("import-course"))),a.createElement(H.Z.Body,null,a.createElement("p",null,e("import-course-description")),a.createElement(D.Z.Group,{controlId:"form-course-select"},a.createElement(D.Z.Label,null,e("select-namespace")),a.createElement(re.ZP,{options:t,onChange:this.handleSelection}))),a.createElement(H.Z.Footer,null,a.createElement(Z.Z,{onClick:this.props.close},e("common:cancel")),a.createElement(Z.Z,{variant:"success",disabled:!this.state.selectedCourse,onClick:this.handleImport},e("common:import"))))}}]),n}(a.Component);oe.defaultProps={namespaces:[],show:!1};var se=oe,ie=n(63834),ce=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;(0,o.Z)(this,n),a=t.call(this,e),(0,d.Z)((0,i.Z)(a),"handleInputChange",(function(e){var t=e.target,n=t.name,l=t.value;a.setState((0,d.Z)({},n,l))})),(0,d.Z)((0,i.Z)(a),"handleUpdate",(function(){a.props.updateCurrentNamespace({_id:a.props.namespace._id,description:a.state.description,title:a.state.title,enableTicketing:a.state.enableTicketing,owners:a.state.owners})})),(0,d.Z)((0,i.Z)(a),"handleDelete",(function(){a.props.deleteCurrentNamespace(a.props.namespace._id,a.props.history)})),(0,d.Z)((0,i.Z)(a),"close",(function(){a.setState({showModal:!1})})),(0,d.Z)((0,i.Z)(a),"closeDeleteModal",(function(){a.setState({showDeleteModal:!1})})),(0,d.Z)((0,i.Z)(a),"closeCreateCohortModal",(function(){a.setState({showCreateCohortModal:!1})})),(0,d.Z)((0,i.Z)(a),"closeImportModal",(function(){a.setState({showImportModal:!1})})),(0,d.Z)((0,i.Z)(a),"createCohort",(function(e){e.namespaceID=a.props.namespace._id,a.props.createCohort(e,a.props.namespace._id),a.closeCreateCohortModal()})),(0,d.Z)((0,i.Z)(a),"deleteCohort",(function(e){a.props.deleteCohort(e,a.props.namespace._id)})),(0,d.Z)((0,i.Z)(a),"updateCohort",(function(e){a.props.updateCohort(e,a.props.namespace._id)})),(0,d.Z)((0,i.Z)(a),"handleOwnerChange",(function(e){if(!e)return a.setState({owners:[]});var t=e.map((function(e){return V()(e.value)}));a.setState({owners:t})})),(0,d.Z)((0,i.Z)(a),"closeEditCohortModal",(function(){a.setState({selectedCohort:null,showEditCohortModal:!1})})),(0,d.Z)((0,i.Z)(a),"cohortModalFactory",(function(e){return function(){a.setState({selectedCohort:a.props.cohorts[e],showEditCohortModal:!0})}}));var l=a.props.namespace,r=l.title,s=l.description,c=l.owners,u=l.enableTicketing;return x()(c)&&(c=c.map((function(e){return e.email}))),a.state={title:r,description:s,owners:c,enableTicketing:u,showDeleteModal:!1,showImportModal:!1,showCreateCohortModal:!1,showEditCohortModal:!1,selectedCohort:null},a}return(0,s.Z)(n,[{key:"renderModals",value:function(){var e=this.props.t;return a.createElement(a.Fragment,null,a.createElement(B,{show:this.state.showModal,close:this.close,message:this.state.message,successful:this.state.successful,title:e("update-course")}),a.createElement(O.Z,{show:this.state.showDeleteModal,close:this.closeDeleteModal,message:e("delete-course"),title:"".concat(e("delete"),"?"),onConfirm:this.handleDelete}),this.state.showCreateCohortModal?a.createElement(te,{show:this.state.showCreateCohortModal,close:this.closeCreateCohortModal,onCreate:this.createCohort,t:this.props.t}):null,this.state.showImportModal?a.createElement(se,{show:this.state.showImportModal,close:this.closeImportModal,namespaces:this.props.user.ownedNamespaces,targetNamespace:this.props.namespace,copyNamespaceLessons:this.props.copyNamespaceLessons,t:this.props.t}):null,this.state.showEditCohortModal?a.createElement(X,(0,r.Z)({show:this.state.showEditCohortModal},this.state.selectedCohort,{onDelete:this.deleteCohort,onHide:this.closeEditCohortModal,onUpdate:this.updateCohort,t:this.props.t})):null)}},{key:"renderCohortList",value:function(){var e=this,t=this.props.t;return a.createElement(k.Z,null,this.props.cohorts.map((function(n,l){return a.createElement(I.Z,{variant:"light",eventKey:l,key:l,style:{backgroundColor:"white"}},a.createElement("label",null,n.title),a.createElement("span",{style:{marginLeft:5,color:"black"}},"(",t("no-students"),":"),a.createElement(h.Z,{variant:"primary"},n.members.length),a.createElement("span",{style:{color:"black"}},")"),a.createElement(Z.Z,{size:"sm",onClick:e.cohortModalFactory(l),style:{float:"right"}},t("common:edit")))})))}},{key:"render",value:function(){var e=this,t=this.props.t;if(!this.props.namespace._id)return a.createElement(v.Z,{className:"edit-namespace-container"},a.createElement(p.Z,{variant:"danger"},t("common:no-course-selected")));var n=(0,L.uq)(this.state.title),l=(0,U.Z)(this.state.title),r=(0,L.O5)(this.state.description),o=(0,L.OT)(this.state.owners);return a.createElement(v.Z,{className:"edit-namespace-container"},a.createElement(g.Z,null,a.createElement(C.Z,{sm:4},a.createElement(f.Z,null,a.createElement(f.Z.Header,null,a.createElement(f.Z.Title,{as:"h3"},t("edit-course"))),a.createElement(f.Z.Body,null,a.createElement(D.Z,{style:{padding:"20px"}},a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"ownerTooltip"},t("owner-tooltip"))},a.createElement(b.Z,null,a.createElement(y.Z,{htmlFor:"owners-text-select"},t("common:owners")),a.createElement(N.Z,{id:"owners-text-select",placeholder:t("enter-emails"),onChange:this.handleOwnerChange,defaultValue:this.state.owners,isInvalid:!(0,L.OT)(this.state.owners)}),a.createElement(w.Z.Feedback,{type:"invalid"},t("invalid-owners")))),a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"courseTooltip"},t("accessible-at"),a.createElement("code",null,ie.ZP+"/<course>/<lesson>"))},a.createElement(b.Z,{controlId:"form-course"},a.createElement(y.Z,null,t("course-identifier")),a.createElement(w.Z,{name:"title",type:"text",value:this.state.title,onChange:this.handleInputChange,isInvalid:!n}),a.createElement(w.Z.Feedback,{type:"invalid"},l?"Course identifier contains invalid character(s): "+l[0]:"Course identifier must be at least three characters long and should not contain any spaces."))),a.createElement(S.Z,{placement:"right",overlay:a.createElement(M.Z,{id:"titleTooltip"},t("title-tooltip"))},a.createElement(b.Z,{controlId:"form-description"},a.createElement(y.Z,null,t("title-description")),a.createElement(w.Z,{name:"description",type:"text",value:this.state.description,onChange:this.handleInputChange,isInvalid:!r}),a.createElement(w.Z.Feedback,{type:"invalid"},t("invalid-description")))),a.createElement(D.Z.Check,{"aria-label":t("enable-ticketing"),type:"checkbox",label:t("enable-ticketing"),defaultChecked:this.state.enableTicketing,onChange:function(t){e.setState({enableTicketing:t.target.checked})}})),a.createElement(Z.Z,{type:"submit",disabled:!o||!n||!r,onClick:this.handleUpdate},t("common:update"))),this.renderModals())),a.createElement(C.Z,{sm:5},a.createElement(f.Z,null,a.createElement(f.Z.Header,null,a.createElement(f.Z.Title,{as:"h3"},t("manage-cohorts"))),a.createElement(f.Z.Body,null,this.renderCohortList(),a.createElement(Z.Z,{size:"small",variant:"success",style:{float:"right",marginTop:14,background:"#3c763d"},onClick:function(){e.setState({showCreateCohortModal:!0})}},t("create-cohort"))))),a.createElement(C.Z,{sm:3},a.createElement(f.Z,null,a.createElement(f.Z.Header,null,a.createElement(f.Z.Title,{as:"h3"},t("common:actions"))),a.createElement(f.Z.Body,null,a.createElement(E.Z,{vertical:!0},a.createElement(Z.Z,{onClick:function(){e.setState({showDeleteModal:!0})},variant:"outline-danger"},t("delete-namespace")),a.createElement(Z.Z,{onClick:function(){e.setState({showImportModal:!0})},variant:"outline-secondary"},t("import-existing-course"))))))))}}]),n}(a.Component);ce.defaultProps={cohorts:[]};var ue=(0,m.Z)(["namespace","common"])((0,T.EN)(ce)),de=n(58713),me=n(905),pe=n(41985),he=n(38315);var Ze=(0,l.$j)((function(e){return{user:e.user,namespace:e.namespace,cohorts:e.namespace.cohorts}}),(function(e){return{addNotification:(0,pe.pP)(e),createCohort:(0,de.CA)(e),deleteCohort:(0,de.p6)(e),updateCohort:(0,de.nm)(e),deleteCurrentNamespace:(0,me.kC)(e),updateCurrentNamespace:(0,me.J3)(e),copyNamespaceLessons:(0,he.Ao)(e)}}))(ue)},3207:function(e,t){var n=/[\u2018\u201c!#$%&+^<=>{}()[\]`]/;t.Z=function(e){return e.match(n)}}}]);
//# sourceMappingURL=2645.44b6cf39.chunk.js.map