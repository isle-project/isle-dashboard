/*! For license information please see DataTable.8ca70d81.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5538],{90183:function(e,t,a){a.r(t),a.d(t,{default:function(){return He}});var n=a(38603),l=a(91532),o=a.n(l),s=a(32906),r=a(38564),i=a.n(r),d=a(58651),h=a(90037),u=a(92881),p=a.n(u),c=a(79174),m=a(16982),f=a(93918),b=a(72744),g=a(94123),v=a(69355),y=a.n(v),w=a(53975),E=a.n(w),C=a(37372),x=a.n(C),S=a(74802),N=a.n(S),T=a(89506),P=a.n(T),Z=a(64817),I=a.n(Z),V=a(87324),O=a.n(V),D=a(73130),k=a.n(D),B=a(27923),M=a.n(B),R=a(49618),F=a.n(R),$=a(15138),L=a.n($),K=a(14478),j=a.n(K),H=a(22949),z=a.n(H),A=a(42415),U=a(17218),W=a.n(U),q=a(45014),_=a.n(q),J=a(96077),G=a(28965),Y=a(61202),Q=a(92892),X=a(26516),ee=a(2443),te=a(24469),ae=a.n(te),ne=a(3021),le=a(11389),oe=a(39446),se=a(46832),re=a(35533),ie=a(63041),de=a.n(ie),he=JSON.parse('[{"target":".data-table-title-button","content":"On top of the data table you find the name of the data set. Clicking on it will open a modal window with a detailed description.","placement":"bottom","placementBeacon":"bottom"},{"target":".ReactTable","content":"Tabular display of the data set, with rows corresponding to individual records and columns to the different variables.","placement":"bottom","placementBeacon":"bottom"},{"target":".-header","content":"Variable names. Hovering over the names with your mouse opens a tooltip with the description of the respective variable. Clicking on any column orders the rows of the data table by the values of the chosen column. You can also select multiple columns by holding down the \\"Shift\\" key to sort by multiple columns","placement":"bottom","placementBeacon":"bottom"},{"target":".-filter","content":"Filter out rows by adjusting the filters for any column.","placement":"top","placementBeacon":"top"},{"target":".label-number-rows","content":"The number of currently displayed rows, i.e. the rows matching the specified filters, and in parentheses the total number of rows in the table.","placement":"top","placementBeacon":"top"},{"target":".reset-button","content":"Clicking on the reset button will clear all currently active filters and return the ordering of the rows to its default.","placement":"top","placementBeacon":"top"},{"target":".variable-descriptions-button","content":"The descriptions for each variable can also be accessed by clicking on this button.","placement":"top","placementBeacon":"top"}]');class ue extends n.Component{constructor(e){var t,a,n;super(e),n=()=>{this.setState({running:!this.state.running})},(a="startTour")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.state={running:!1},this.stepsWithId=de()(he,2).map((t=>(t.target=`#${e.id} `+t.target,t)))}render(){return n.createElement(n.Fragment,null,n.createElement(se.Z,{placement:"bottom",overlay:n.createElement(oe.Z,null,this.props.t(this.state.running?"close-tutorial":"show-tutorial"))},n.createElement(f.Z,{"aria-label":this.props.t("show-tutorial"),className:"help-button",variant:"light",onClick:this.startTour},n.createElement("div",{className:"fa fa-question"}))),n.createElement(re.ZP,{steps:this.stepsWithId,disableScrolling:!0,showProgress:!0,run:this.state.running,callback:e=>{e.type===re.FP.TOUR_END&&(this.setState({running:!1}),this.props.onTutorialCompletion())}}))}}ue.propTypes={onTutorialCompletion:o().func.isRequired};var pe=ue,ce=a(59657);function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},me.apply(this,arguments)}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class be extends n.Component{constructor(e){super(e),fe(this,"showTooltip",(()=>{this.setState({showTooltip:!0})})),fe(this,"hideTooltip",(()=>{this.setState({showTooltip:!1})})),this.state={showTooltip:!1}}render(){return n.createElement(n.Fragment,null,n.createElement(ce.Z,{show:this.state.showTooltip,target:this.title},(({placement:e,scheduleUpdate:t,arrowProps:a,outOfBoundaries:l,show:o,...s})=>n.createElement("div",me({},s,{style:{backgroundColor:"rgba(10, 10, 10,0.9)",padding:"2px 10px",color:"white",borderRadius:3,maxWidth:"300px",marginBottom:"10px",...s.style}}),this.props.tooltip))),n.createElement("span",{ref:e=>{this.title=e},onMouseOver:this.showTooltip,onFocus:this.showTooltip,onMouseOut:this.hideTooltip,onBlur:this.hideTooltip},this.props.title))}}be.propTypes={title:o().string.isRequired,tooltip:o().string},be.defaultProps={tooltip:""};var ge=be,ve=a(94688),ye=a.n(ve),we=a(28564),Ee=a(70658),Ce=a.n(Ee);function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xe.apply(this,arguments)}function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ne extends n.Component{constructor(e){super(e),Se(this,"showRangeInput",(()=>{this.setState({showRangeInput:!0})})),Se(this,"hideRangeInput",(()=>{this.setState({showRangeInput:!1})})),Se(this,"handleBlur",(()=>{this.props.onChange(this.state.currentValue)})),this.state={currentValue:e.defaultValue,defaultValue:e.defaultValue,showRangeInput:!1}}static getDerivedStateFromProps(e,t){if(e.defaultValue!==t.defaultValue){return{currentValue:e.defaultValue,defaultValue:e.defaultValue}}return null}render(){const{currentValue:e}=this.state;return n.createElement("div",{className:"input-range-wrapper",ref:e=>{this.inputRange=e}},n.createElement(ye(),{ariaLabelledby:this.props.ariaLabelledby,ariaControls:this.props.ariaControls,allowSameValues:!0,maxValue:this.props.maxValue,minValue:this.props.minValue,value:e,onChange:e=>{this.setState({currentValue:e})},onChangeComplete:e=>{this.props.onChange(e)},formatLabel:e=>n.createElement("span",{className:"input-range-clickable-label",role:"button",tabIndex:0,onKeyPress:this.showRangeInput,onClick:this.showRangeInput,title:this.props.t("click-to-set-value")},Ce()(e)),style:{float:"left"}}),n.createElement(ce.Z,{show:this.state.showRangeInput,target:this.inputRange},(({placement:t,scheduleUpdate:a,arrowProps:l,outOfBoundaries:o,show:s,...r})=>n.createElement("div",xe({className:"input-range-number-entry"},r,{style:{...r.style}}),n.createElement(we.Z,{inline:!0,value:e.min,min:this.props.minValue,max:e.max,onChange:e=>{const t={min:Number(e),max:this.state.currentValue.max};this.setState({currentValue:t})},onBlur:this.handleBlur,step:.1}),n.createElement(we.Z,{inline:!0,value:e.max,min:e.min,max:this.props.maxValue,onChange:e=>{const t={min:this.state.currentValue.min,max:Number(e)};this.setState({currentValue:t})},onBlur:this.handleBlur,step:.1}),n.createElement(f.Z,{variant:"outline-secondary",size:"sm",onClick:this.hideRangeInput},n.createElement("i",{className:"fas fa-times"}))))))}}Ne.propTypes={defaultValue:o().object.isRequired,maxValue:o().number.isRequired,minValue:o().number.isRequired,onChange:o().func.isRequired};var Te=Ne,Pe=a(76798);a(3100);function Ze(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ie=y()({html:!0,xhtmlOut:!0,breaks:!0,typographer:!1}),Ve=i()("isle:data-table"),Oe=(0,Y.Z)("data-table"),De=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}),ke=/[0-9.,]+/;function Be(e,t){return(e=null===e||void 0===e||"NA"===e?ae():e)-(t=null===t||void 0===t||"NA"===t?ae():t)}function Me(e,t){return e=null===e||void 0===e||"NA"===e?ae():e,t=null===t||void 0===t||"NA"===t?ae():t,De.compare(e,t)}function Re(e,t){const a=t[e.id];return!(!a&&e.value)&&(z()(e.value)?P()(e.value,a):P()(I()(a),I()(e.value)))}function Fe(e,t){const a=t[e.id];return a>=e.value.min&&a<=e.value.max}function $e(e,t,a){if(!e.value||F()(e.value))return!0;const n=e.pivotId||e.id;return void 0===t[n]||(z()(e.value)?P()(e.value,String(t[n])):String(t[n])===e.value)}const Le=()=>n.createElement("div",null);function Ke(e){e.target.style.width=e.target.value.length+1+"ch"}class je extends n.Component{constructor(e){super(e),Ze(this,"renderEditable",(e=>n.createElement("div",{style:{backgroundColor:"#fafafa"},contentEditable:!0,suppressContentEditableWarning:!0,onBlur:t=>{const a=[...this.state.rows],n=t.target.innerHTML;a[e.index][e.column.id]=ke.test(n)?Number(n):n,this.setState({rows:a},(()=>{this.props.onEdit(a)}))},dangerouslySetInnerHTML:{__html:this.state.rows[e.index][e.column.id]}}))),Ze(this,"renderCheckboxRemovable",(e=>n.createElement("input",{id:"checkBox",type:"checkbox",key:`${e.index}-${e.column.id}-${this.state.rows.length}`,onClick:t=>{const a=[...this.state.rows];a[e.index][e.column.id]=t.target.checked,this.setState({rows:a}),this.props.onClickRemove(a)}}))),Ze(this,"handleFilterChange",((e,t)=>{(0,s.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0].scrollTop=0;this.context.log({id:this.id,type:ee.Uc,value:t.id}),this.setState({filtered:e},(()=>{this.props.onFilteredChange(this.state.filtered.filter((e=>!W()(e.value))))}))})),Ze(this,"handleSortedChange",((e,t)=>{this.context.log({id:this.id,type:ee.mk,value:t.id}),this.setState({sorted:e})})),Ze(this,"showDescriptions",(()=>{this.setState({showVarModal:!0})})),Ze(this,"reset",(()=>{this.context.log({id:this.id,type:ee.Di,value:""}),this.setState({filtered:[],sorted:[]},(()=>{this.props.onFilteredChange(this.state.filtered)}))})),Ze(this,"showInfo",(()=>{Ve("Show dataset information..."),this.setState({showInfo:!0})})),Ze(this,"toggleSaveModal",(()=>{this.setState({showSaveModal:!this.state.showSaveModal})})),Ze(this,"saveJSON",(()=>{const e=new Blob([JSON.stringify(this.state.data)],{type:"application/json"}),t=this.props.dataInfo;let a;a=t&&t.name?t.name:"dataset.json",(0,Q.Z)(e,a)})),Ze(this,"saveCSV",(()=>{const e=this.context;a.e(5230).then(a.t.bind(a,95230,23)).then((t=>{(0,t.default)(this.state.rows,{header:!0},((t,a)=>{if(t)return e.addNotification({title:this.props.t("error-encountered"),message:this.props.t("error-csv")+t.message,level:"error",position:"tl"});const n=new Blob([a],{type:"text/plain"}),l=this.props.dataInfo;let o;o=l&&l.name?`${l.name}.csv`:"dataset.csv",(0,Q.Z)(n,o)}))}))})),Ze(this,"handleSaveCSV",(()=>{this.saveCSV(),this.toggleSaveModal()})),Ze(this,"handleSaveJSON",(()=>{this.saveJSON(),this.toggleSaveModal()})),Ze(this,"hideVarModal",(()=>{this.setState({showVarModal:!1})})),Ze(this,"hideInfoModal",(()=>{this.setState({showInfo:!1})})),Ze(this,"handleTableProps",(()=>({onScroll:e=>{let t=e.target.scrollLeft>0?e.target.scrollLeft:0;for(let a=0;a<this.frozenElems.length;a++)this.frozenElems[a].style.left=`${t}px`}}))),Ze(this,"handleTrProps",((e,t,a,n)=>{let l;return l=this.props.getTrProps?this.props.getTrProps(e,t,a,n):{},l.style||(l.style={}),l.style.width="max-content !important",l})),Ve("Constructor is invoked..."),this.id=e.id||Oe(e);const t=e.dataInfo||{};this.dragged=null,this.reorder=[],this.state={showInfo:!!t.showOnStartup,dataInfo:{info:t.info||[],name:t.name||"",variables:t.variables||null,showOnStartup:t.showOnStartup||null},showSaveModal:!1,id:this.id}}static getDerivedStateFromProps(e,t){Ve("Generating derived state...");let a=null;if(e.data!==t.data){let t,l;Ve("Data is new...");let o=z()(e.data);if(o||j()(e.data)){if(o?(t=e.data.slice(),l=_()(t[0])):(t=function(e){if(L()(e))return[];const t=_()(e),a=e[t[0]].length,n=new Array(a);for(let l=0;l<a;l++){n[l]={};for(let a=0;a<t.length;a++){let o=t[a];n[l][o]=e[o][l]}}return n}(e.data),l=_()(e.data)),Ve("Created a `rows` array of length: "+t.length),P()(l,"id"))for(let a=0;a<t.length;a++)e.showRemove&&!t[a].remove&&(t[a].remove=!1);else{for(let a=0;a<t.length;a++)e.showRemove&&!t[a].remove&&(t[a].remove=!1),t[a].id=a+1;l.push("id")}a={},a.rows=t,a.keys=l,a.filtered=e.filters,a.showTooltip=!1,a.data=e.data,a.columns=function(e,t){Ve("Create columns...");const a=e.t;return t.keys.filter((e=>"id"!==e)).map(((l,o)=>{let s=l;const r=e.dataInfo&&e.dataInfo.variables&&e.dataInfo.variables[l],i={id:l,accessor:e=>W()(e[l])?"NA":String(e[l]),minWidth:r?125:150};let d;if(r?s=n.createElement(ge,{title:l,tooltip:e.dataInfo.variables[l]}):e.deletable&&!P()(e.undeletableVars,l)&&(s=n.createElement("div",{style:{backgroundColor:"papayawhip"}},n.createElement(g.Z,{placement:"left",tooltip:a("rename-variable")},n.createElement("span",null,n.createElement("input",{type:"text",className:"header-text-input",style:{width:`${l.length+1}ch`},defaultValue:l,onBlur:t=>{const a=t.target.value;document.getElementById(`header-${l}`).setAttribute("draggable",!0),a.length>0&&l!==a&&e.onColumnNameChange(l,a)},onMouseEnter:e=>{document.getElementById(`header-${l}`).setAttribute("draggable",!1)},onChange:Ke,onClick:e=>{e.stopPropagation()}}))),n.createElement(g.Z,{placement:"left",tooltip:a("remove-variable")},n.createElement("button",{"aria-label":a("remove-variable"),className:"fa fa-times delete-button",onClick:t=>{t.stopPropagation(),e.onColumnDelete(l)}})))),i.Header=s,z()(e.data)){d=new Array(t.rows.length);for(let a=0;a<t.rows.length;a++)d[a]=e.data[a][l]}else d=e.data[l].slice();if(e.filterable){let o,s=!1;if(x()(d))s=!0,o=d;else{d=d.filter((e=>!W()(e)&&""!==e&&"NA"!==e)),o=p()(d);const t=e.filters.filter((e=>e.id===l))[0];s=!!(t&&(0,A.isPrimitive)(t.value.min)&&(0,A.isPrimitive)(t.value.max))||M()(d)&&o.length>2}s?(i.filterMethod=Fe,i.sortMethod=Be,i.style={textAlign:"right"},i.Filter=({filter:e,onChange:s})=>{const r=k()((0,G.Z)(o)),i=O()((0,J.Z)(o)),d={max:r,min:i};return n.createElement(Te,{ariaLabelledby:`header-${l}`,ariaControls:t.id,defaultValue:e?e.value:d,onChange:s,maxValue:r,minValue:i,t:a})}):o.length<=50?(o=o.map((e=>String(e))).sort(Me),E()(o[0])&&(i.style={textAlign:"right"}),i.filterMethod=$e,i.sortMethod=Me,i.Filter=({filter:e,onChange:t})=>n.createElement(ne.Z,{onChange:e=>{e&&e.length>0&&o.length>3?i.minWidth=300:i.minWidth=125,t(e)},style:{width:"100%"},value:e?e.value:null,searchable:!1,options:o,menuPlacement:"auto",multi:!0,placeholder:a("show-all"),components:{DropdownIndicator:Le,MultiValueLabel:e=>{const l=()=>{t(o.filter((t=>t!==e.children)))};return n.createElement(g.Z,{tooltip:a("select-others"),placement:"bottom"},n.createElement("span",{role:"button",tabIndex:0,onClick:l,onKeyPress:l,onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"cursor"}},n.createElement(le.c.MultiValueLabel,e)))}},escapeClearsValue:!0,closeMenuOnSelect:o.length<=2,menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999})}})):(i.filterMethod=Re,i.sortMethod=Me)}return i}))}(e,a)}}return e.dataInfo&&t.dataInfo&&e.dataInfo.name!==t.dataInfo.name&&(Ve("Data information has changed..."),a||(a={}),a.dataInfo={info:e.dataInfo.info||[],name:e.dataInfo.name||"",variables:e.dataInfo.variables||null,showOnStartup:e.dataInfo.showOnStartup||null}),a}componentDidMount(){if(Ve("Component has mounted..."),this.table){const e=(0,s.findDOMNode)(this.table).getElementsByClassName("rt-thead")[0],t=(0,s.findDOMNode)(this.table).getElementsByClassName("rt-thead")[1],a=(0,s.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0];a.addEventListener("scroll",(()=>{e.scrollLeft=a.scrollLeft,t.scrollLeft=a.scrollLeft}))}}componentDidUpdate(e,t){Ve("Component has updated...");let a={};if(!this.props.filters||this.props.filters===e.filters&&this.props.filters.length===e.filters.length||(Ve(`Data table now has ${this.props.filters.length} filters...`),a.filtered=this.props.filters),this.props.data!==e.data&&this.state.keys.length!==t.keys.length){const e=(0,s.findDOMNode)(this.table).getElementsByClassName("rt-thead")[0],t=(0,s.findDOMNode)(this.table).getElementsByClassName("rt-thead")[1],a=(0,s.findDOMNode)(this.table).getElementsByClassName("rt-tbody")[0];e.scrollLeft=e.scrollWidth,t.scrollLeft=t.scrollWidth,a.scrollLeft=a.scrollWidth}L()(a)||(Ve("Trigger a state change after update..."),this.setState(a))}render(){Ve("Rendering component");let{rows:e,dataInfo:t}=this.state;if(!e)return n.createElement(c.Z,{variant:"danger"},this.props.t("no-data"));let a,l=null;this.state.showVarModal?l=n.createElement(b.Z,{dialogClassName:"modal-50w",show:this.state.showVarModal,onHide:this.hideVarModal},n.createElement(b.Z.Header,{closeButton:!0},n.createElement(b.Z.Title,null,this.props.t("variables"))),n.createElement(b.Z.Body,null,function(e,t){const a=[];for(let l in e)N()(e,l)&&a.push(n.createElement("tr",{key:l},n.createElement("td",null,l),n.createElement("td",null,e[l])));return n.createElement("table",{className:"table-bordered table-condensed",style:{width:"100%"}},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,t("name")),n.createElement("th",null,t("description")))),n.createElement("tbody",null,a))}(t.variables,this.props.t))):this.state.showInfo&&(Ve("Rendering dataset information modal..."),l=n.createElement(b.Z,{show:this.state.showInfo,dialogClassName:"modal-50w",onHide:this.hideInfoModal},n.createElement(b.Z.Header,{closeButton:!0},n.createElement(b.Z.Title,null,t.name," ",this.props.t("description"))),n.createElement(b.Z.Body,{dangerouslySetInnerHTML:{__html:Ie.render(z()(t.info)?t.info.join("\n"):t.info)}}))),a=this.props.editable.length>0?this.state.columns.map((e=>(P()(this.props.editable,e.id)&&(e.Cell=this.renderEditable),e))):this.state.columns.slice(),this.reorder.forEach((e=>{a[e.a]=a.splice(e.b,1,a[e.a])[0]})),a=a.map(((e,t)=>"id"===e.Header?e:{...e,Header:n.createElement("span",{className:"draggable-header",id:`header-${e.id}`,draggable:"true",onDragStart:e=>{e.stopPropagation(),e.dataTransfer.setData("Text",t),this.dragged=t},onDrag:e=>e.stopPropagation,onDragEnd:e=>{e.stopPropagation(),setTimeout((()=>{this.dragged=null}),100)},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:e=>{e.preventDefault();let a=t,n=this.dragged;const l=this.state.columns.map((e=>e.id));l.shift();const o=l[a];l[a]=l[n],l[n]=o,this.props.onColumnDrag(l),this.reorder.push({a:a,b:n}),this.forceUpdate()}},e.Header)})),this.props.showIdColumn&&a.unshift({Header:"id",accessor:"id",className:"frozen",headerClassName:"frozen",filterable:!1,resizable:!1,width:50}),this.props.showRemove&&a.push({Header:this.props.t("remove"),accessor:"remove",Cell:this.renderCheckboxRemovable,filterable:!1}),a.push({Header:"",className:"table_last_col",filterable:!1,sortable:!1,resizable:!1,width:30});const o=n.createElement(g.Z,{placement:"bottom",tooltip:this.props.disableDownload?this.props.t("download-disabled"):this.props.t("download-data")},n.createElement(f.Z,{"aria-label":this.props.t("download-data"),className:"save-button",variant:"light",onClick:this.toggleSaveModal,disabled:this.props.disableDownload},n.createElement("i",{className:"fas fa-download"})));return n.createElement(n.Fragment,null,n.createElement("div",{className:"data-table-wrapper",id:this.id,style:this.props.style},n.createElement("div",{className:"data-table-header-wrapper"},n.createElement(g.Z,{placement:"bottom",tooltip:this.props.t("open-description"),show:t.info.length>0},n.createElement(f.Z,{variant:"light",disabled:0===t.info.length,onClick:this.showInfo,className:"data-table-title-button",style:{cursor:t.info.length>0?"pointer":"inherit"}},n.createElement("h4",{className:"data-table-title-button-h4"},t.name?t.name:this.props.t("data")))),o,n.createElement(pe,{id:this.id,session:this.context,onTutorialCompletion:this.props.onTutorialCompletion,t:this.props.t})),n.createElement(h.Z,{id:this.id,data:e,columns:a,showPagination:!0,sortable:!0,resizable:!0,filterable:this.props.filterable,filtered:this.state.filtered,sorted:this.state.sorted,showPageSizeOptions:!1,defaultPageSize:50,onFilteredChange:this.handleFilterChange,onSortedChange:this.handleSortedChange,style:this.props.style,getTableProps:this.handleTableProps,getTrProps:this.handleTrProps,previousText:this.props.t("previous"),nextText:this.props.t("next"),loadingText:this.props.t("loading"),noDataText:this.props.t("no-rows-found"),pageText:this.props.t("page"),ofText:this.props.t("of"),rowsText:this.props.t("rows")},((a,l,o)=>{const r=a.sortedData.length;return n.createElement("div",{ref:e=>{e&&(this.table=e,this.frozenElems=(0,s.findDOMNode)(this.table).getElementsByClassName("frozen"))}},n.createElement(m.Z,{className:"data-table-header-toolbar"},t.variables?n.createElement(g.Z,{placement:"right",tooltip:this.props.t("variable-descriptions-tooltip")},n.createElement(f.Z,{onClick:this.showDescriptions,variant:"light",size:"xsmall",className:"variable-descriptions-button"},this.props.t("variable-descriptions"))):null,r!==e.length||this.state.sorted&&this.state.sorted.length>0?n.createElement(g.Z,{placement:"left",tooltip:this.props.t("reset-display-tooltip")},n.createElement(f.Z,{onClick:this.reset,variant:"light",size:"xsmall",className:"reset-button"},this.props.t("reset-display"))):null),l(),n.createElement("label",{className:"label-number-rows"},n.createElement("i",null,this.props.t("number-rows"),": ",r," (",this.props.t("total"),": ",e.length,")")))}))),l,this.state.showSaveModal?n.createElement(b.Z,{show:this.state.showSaveModal,onHide:this.toggleSaveModal},n.createElement(b.Z.Header,{closeButton:!0},n.createElement(b.Z.Title,null,this.props.t("download-data"))),n.createElement(b.Z.Body,null,this.props.t("download-data-body")),n.createElement(b.Z.Footer,null,n.createElement(f.Z,{onClick:this.handleSaveCSV},this.props.t("save-csv")),n.createElement(f.Z,{onClick:this.handleSaveJSON},this.props.t("save-json")))):null)}}je.defaultProps={dataInfo:{info:[],name:"",variables:null,showOnStartup:!1},deletable:!1,undeletableVars:[],filterable:!0,editable:[],getTrProps:void 0,onColumnDrag(){},onColumnDelete(){},onColumnNameChange(){},onClickRemove(){},onEdit(){},onFilteredChange(){},onTutorialCompletion(){},filters:[],showRemove:!1,showIdColumn:!0,disableDownload:!1,className:"",style:{}},je.propTypes={data:o().oneOfType([o().array,o().object]).isRequired,dataInfo:o().object,deletable:o().bool,undeletableVars:o().arrayOf(o().string),filterable:o().bool,editable:o().array,getTrProps:o().func,onColumnDrag:o().func,onColumnDelete:o().func,onColumnNameChange:o().func,onClickRemove:o().func,onEdit:o().func,onTutorialCompletion:o().func,filters:o().array,onFilteredChange:o().func,showRemove:o().bool,showIdColumn:o().bool,disableDownload:o().bool,className:o().string,style:o().object},je.contextType=X.Z;var He=(0,d.Z)("data-table")((0,Pe.W)(je))},28564:function(e,t,a){a.d(t,{Z:function(){return Z}});var n=a(38603),l=a(91532),o=a.n(l),s=a(38564),r=a.n(s),i=a(52458),d=a(89506),h=a.n(d),u=a(4286),p=a.n(u),c=a(24500),m=a(17218),f=a.n(m),b=a(42415),g=a(88928),v=a.n(g),y=a(24469),w=a.n(y),E=a(94123),C=a(26516),x=a(61202);var S=function({min:e,max:t,step:a,t:n}){let l=`${n("enter")} ${n(1===a?"integer":"number")} `;return t!==v()&&e!==w()?l+=`${n("between")} ${e} ${n("and")} ${t}`:e!==w()?l+=`${n("larger-or-equal-to")} ${e}`:t!==v()&&(l+=`${n("smaller-or-equal-to")} ${t}`),l};const N=r()("isle:number-input"),T=(0,x.Z)("number-input"),P=e=>{const t=(0,n.useRef)(e.id||T(e)),{bind:l,defaultValue:o,min:s,max:r,step:d,value:u,onBlur:m,onChange:g}=e,{t:v}=(0,i.$)("input"),y=(0,n.useContext)(C.Z),[w,x]=(0,n.useState)(u||(l&&y.state?y.state[l]:o));(0,n.useEffect)((()=>{if(l){const e=a.g.lesson.state[l];e!==w&&(0,b.isPrimitive)(w)&&x(e)}}),[l,w]),(0,n.useEffect)((()=>{x(o)}),[o]),(0,n.useEffect)((()=>{l&&x(a.g.lesson.state[l])}),[l]);const P=(0,n.useCallback)((e=>{N("Handle change of input field...");let t=e.target.validity.valid,n=e.target.value;x(n),u||t&&""!==n&&"-"!==n&&"."!==n&&"-."!==n?(n=parseFloat(n),p()(n)&&(n=""),g(n),l&&a.g.lesson.setState({[l]:n})):l&&a.g.lesson.setState({[l]:n})}),[l,u,g]),Z=(0,n.useCallback)((e=>{N("Finished change...");let t=e.target.value;if(h()(t,"/")){N("Encountered a fraction...");const e=t.split("/");""!==e[0]&&""!==e[1]&&(t=parseFloat(e[0])/parseFloat(e[1]))}p()(t)?t="":""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t=parseFloat(t)),t>r?t=r:t<s?t=s:1===d&&""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t-=t%d),g(t),m(t),t!==w&&(x(t),l&&a.g.lesson.setState({[l]:t}))}),[l,s,r,d,w,m,g]),I=f()(e.tooltip)?S({min:s,max:r,step:d,t:v}):e.tooltip;if(!0===e.inline){const a=n.createElement("span",{className:"input",style:{padding:"5px",...e.style}},e.legend?n.createElement("label",{htmlFor:t.current}," ",e.legend," =  "):null,n.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==u?u:w,step:e.step,min:e.min,max:e.max,style:{width:"80px",paddingLeft:"6px",marginLeft:"3px",...e.inputStyle},onChange:P,onBlur:Z,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"}),e.description?n.createElement("span",null,"(",e.description,")"):n.createElement("span",null));return e.disabled?a:n.createElement(E.Z,{id:"number-input-tooltip-inline",placement:"top",show:!e.disabled,tooltip:I},a)}const V=n.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==u?u:w,step:e.step,min:e.min,max:e.max,style:{width:"80px",marginLeft:"24px",...e.inputStyle},onChange:P,onBlur:Z,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"});return n.createElement("div",{className:"input",style:{marginBottom:"4px",marginTop:"4px",...e.style}},e.legend?n.createElement("span",null,n.createElement("label",{htmlFor:t.current},(0,c.isPrimitive)(e.legend)?e.legend+":":e.legend),e.description?n.createElement("span",null," ",e.description):null):null,n.createElement(E.Z,{id:"number-input-tooltip",placement:e.tooltipPlacement,tooltip:I,show:!e.disabled},n.createElement("span",{className:"number-input-span"},V)))};P.defaultProps={bind:"",disabled:!1,legend:null,min:w(),max:v(),step:1,defaultValue:0,onBlur(){},onChange(){},onKeyDown(){},onKeyPress(){},onKeyUp(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},P.propTypes={bind:o().string,defaultValue:o().number,disabled:o().bool,inline:o().bool,legend:o().oneOfType([o().string,o().node]),max:o().number,min:o().number,numbersOnly:o().bool,onBlur:o().func,onChange:o().func,onKeyDown:o().func,onKeyPress:o().func,onKeyUp:o().func,step:o().oneOfType([o().number,o().string]),style:o().object,inputStyle:o().object,value:o().number,tooltip:o().string,tooltipPlacement:o().oneOf(["top","right","bottom","left"])};var Z=P},16982:function(e,t,a){var n=a(87462),l=a(63366),o=a(68761),s=a.n(o),r=a(38603),i=a(87001),d=["bsPrefix","className"],h=r.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,h=(0,l.Z)(e,d),u=(0,i.vE)(a,"btn-toolbar");return r.createElement("div",(0,n.Z)({},h,{ref:t,className:s()(o,u)}))}));h.displayName="ButtonToolbar",h.defaultProps={role:"toolbar"},t.Z=h},53975:function(e,t,a){var n=a(49651);e.exports=n},49651:function(e,t,a){var n=a(24500).isPrimitive;e.exports=function(e){var t,a,l;if(!n(e))return!1;if(0===(t=e.length))return!1;for(l=0;l<t;l++)if((a=e.charCodeAt(l))<48||a>57)return!1;return!0}}}]);
//# sourceMappingURL=DataTable.8ca70d81.chunk.js.map