(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[705,459],{39963:function(e,t,n){"use strict";n.r(t);var a=n(6610),l=n(5991),r=n(10379),i=n(60446),o=n(41488),s=n(10077),c=n.n(s),u=n(70048),p=n(29530),d=n(72731),m=n(87950),f=n(87914),g=n(51992),v=n(10724),b=n(64001),y=c()("isle:data-explorer:contingency-table"),h=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={relativeFreqs:!1,rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],group:null,nDecimalPlaces:3,variables:e.variables,display:[]},l}return(0,l.Z)(n,[{key:"generateContingencyTable",value:function(){var e=this.state,t=e.rowVar,n=e.colVar,a=e.group,l=e.relativeFreqs,r=e.nDecimalPlaces,i=e.display;if(!t||!n)return this.props.session.addNotification({title:this.props.t("select-variables"),message:this.props.t("select-row-and-column-variable"),level:"warning",position:"tr"});var s=o.createElement(g.Z,{rowVar:t,colVar:n,group:a,relativeFreqs:l,nDecimalPlaces:r,display:i,data:this.props.data});this.props.logAction(v.lS,{rowVar:t,colVar:n,group:a,relativeFreqs:l,display:i}),this.props.onCreated(s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.variables,a=t.groupingVariables,l=t.t;return o.createElement(p.Z,null,o.createElement(p.Z.Header,{as:"h4"},l("Contingency Table"),o.createElement(b.Z,{title:l("Contingency Table"),content:l("Contingency Table-description")})),o.createElement(p.Z.Body,null,o.createElement(m.Z,{legend:l("row-variable"),defaultValue:this.state.rowVar,options:n,onChange:function(t){e.setState({rowVar:t})}}),o.createElement(m.Z,{legend:l("column-variable"),defaultValue:this.state.colVar,options:n,onChange:function(t){e.setState({colVar:t})}}),o.createElement(m.Z,{legend:l("group-by"),options:a,clearable:!0,menuPlacement:"top",onChange:function(t){e.setState({group:t})},tooltip:l("contingency-table-group-tooltip")}),o.createElement(d.Z,{legend:l("relative-frequency"),defaultValue:!1,onChange:function(){e.setState({relativeFreqs:!e.state.relativeFreqs})}}),o.createElement(m.Z,{legend:l("display"),options:["Row Percent","Column Percent"],multi:!0,onChange:function(t){e.setState({display:t||[]})}}),this.state.relativeFreqs||this.state.display.length>0?o.createElement("p",null,l("report-relative-frequencies"),o.createElement(f.Z,{inline:!0,width:50,max:16,min:0,defaultValue:this.state.nDecimalPlaces,onChange:function(t){e.setState({nDecimalPlaces:t})}}),l("decimal-places")):null,o.createElement(u.Z,{variant:"primary",block:!0,onClick:this.generateContingencyTable.bind(this)},l("generate"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.variables.length!==t.variables.length?(y("Available variables have changed..."),{rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],variables:e.variables}):null}}]),n}(o.Component);h.defaultProps={defaultRowVar:null,defaultColVar:null,groupingVariables:null,logAction:function(){}},t.default=h},64001:function(e,t,n){"use strict";var a=n(41488),l=n(70048),r=n(92637),i=n(60145),o=n(52299),s=n(66734);t.Z=function(e){var t=a.createElement(r.Z,{id:"popover-positioned-right"},a.createElement(i.Z,null,e.title),a.createElement(o.Z,null,e.content));return a.createElement(s.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},a.createElement(l.Z,{size:"sm",variant:"outline-secondary",className:"question-button"},a.createElement("div",{className:"fa fa-question"})))}},72731:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(28991),l=n(96156),r=n(34699),i=n(41488),o=n(37691),s=n.n(o),c=n(84972),u=n(87651),p=(0,n(20216).Z)("checkbox-input"),d=function(e){var t=e.bind,o=e.defaultValue,d=e.disabled,m=e.onChange,f=(0,i.useRef)(e.id||p(e)),g=(0,i.useContext)(u.Z),v=(0,i.useState)(t&&g.state?g.state[t]:o),b=(0,r.Z)(v,2),y=b[0],h=b[1];(0,i.useEffect)((function(){h(o)}),[o]),(0,i.useEffect)((function(){t&&h(n.g.lesson.state[t])}),[t]),(0,i.useEffect)((function(){if(t){var e=n.g.lesson.state[t];e!==y&&h(e)}}),[t,y]);var E=(0,i.useCallback)((function(e){h(e),t&&n.g.lesson.setState((0,l.Z)({},t,e))}),[t]),Z=(0,i.useCallback)((function(e){var t=e.target.checked;m(t),E(t)}),[m,E]),C=function(){var t=null!==e.value?!e.value:!y;m(t),E(t)},x=i.createElement("input",{className:"checkbox-input",type:"checkbox",checked:null!==e.value?e.value:y,value:"checkbox",onChange:Z,disabled:d,"aria-label":e.tooltip});if(!0===e.inline)return i.createElement(c.Z,{tooltip:e.tooltip,placement:e.tooltipPlacement},i.createElement("span",{id:f.current,style:(0,a.Z)({marginLeft:"8px"},e.style)},x,i.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:d?"darkgray":null},onClick:C,onKeyPress:C},e.legend)));var V=d?s():C;return i.createElement(c.Z,{tooltip:e.tooltip,placement:e.tooltipPlacement},i.createElement("div",{id:f.current,className:"input checkbox-input-div",style:e.style},x,i.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:d?"darkgray":null},onClick:V,onKeyPress:V},e.legend)))};d.defaultProps={bind:"",onChange:function(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}};var m=d},87914:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var a=n(28991),l=n(96156),r=n(34699),i=n(41488),o=n(10077),s=n.n(o),c=n(26180),u=n(33837),p=n.n(u),d=n(62423),m=n.n(d),f=n(20842),g=n(81064),v=n.n(g),b=n(37221),y=n(14444),h=n.n(y),E=n(27394),Z=n.n(E),C=n(84972),x=n(87651),V=n(20216);var k=function(e){var t=e.min,n=e.max,a=e.step,l=e.t,r="".concat(l("enter")," ").concat(l(1===a?"integer":"number")," ");return n!==h()&&t!==Z()?r+="".concat(l("between")," ").concat(t," ").concat(l("and")," ").concat(n):t!==Z()?r+="".concat(l("larger-or-equal-to")," ").concat(t):n!==h()&&(r+="".concat(l("smaller-or-equal-to")," ").concat(n)),r},w=s()("isle:number-input"),P=(0,V.Z)("number-input"),K=function(e){var t=(0,i.useRef)(e.id||P(e)),o=e.bind,s=e.defaultValue,u=e.min,d=e.max,g=e.step,y=e.value,h=e.onBlur,E=e.onChange,Z=(0,c.$)("input").t,V=(0,i.useContext)(x.Z),K=(0,i.useState)(y||(o&&V.state?V.state[o]:s)),S=(0,r.Z)(K,2),F=S[0],q=S[1];(0,i.useEffect)((function(){if(o){var e=n.g.lesson.state[o];e!==F&&(0,b.isPrimitive)(F)&&q(e)}}),[o,F]),(0,i.useEffect)((function(){q(s)}),[s]),(0,i.useEffect)((function(){o&&q(n.g.lesson.state[o])}),[o]);var N=(0,i.useCallback)((function(e){w("Handle change of input field...");var t=e.target.validity.valid,a=e.target.value;q(a),y||t&&""!==a&&"-"!==a&&"."!==a&&"-."!==a?(a=parseFloat(a),m()(a)&&(a=""),E(a),o&&n.g.lesson.setState((0,l.Z)({},o,a))):o&&n.g.lesson.setState((0,l.Z)({},o,a))}),[o,y,E]),D=(0,i.useCallback)((function(e){w("Finished change...");var t=e.target.value;if(p()(t,"/")){w("Encountered a fraction...");var a=t.split("/");""!==a[0]&&""!==a[1]&&(t=parseFloat(a[0])/parseFloat(a[1]))}m()(t)?t="":""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t=parseFloat(t)),t>d?t=d:t<u?t=u:1===g&&""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t-=t%g),E(t),h(t),t!==F&&(q(t),o&&n.g.lesson.setState((0,l.Z)({},o,t)))}),[o,u,d,g,F,h,E]),B=v()(e.tooltip)?k({min:u,max:d,step:g,t:Z}):e.tooltip;if(!0===e.inline){var R=i.createElement("span",{className:"input",style:(0,a.Z)({padding:"5px"},e.style)},e.legend?i.createElement("label",{htmlFor:t.current}," ",e.legend," =  "):null,i.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==y?y:F,step:e.step,min:e.min,max:e.max,style:(0,a.Z)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},e.inputStyle),onChange:N,onBlur:D,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"}),e.description?i.createElement("span",null,"(",e.description,")"):i.createElement("span",null));return e.disabled?R:i.createElement(C.Z,{id:"number-input-tooltip-inline",placement:"top",show:!e.disabled,tooltip:B},R)}var T=i.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==y?y:F,step:e.step,min:e.min,max:e.max,style:(0,a.Z)({width:"80px",marginLeft:"24px"},e.inputStyle),onChange:N,onBlur:D,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"});return i.createElement("div",{className:"input",style:(0,a.Z)({marginBottom:"4px",marginTop:"4px"},e.style)},e.legend?i.createElement("span",null,i.createElement("label",{htmlFor:t.current},(0,f.isPrimitive)(e.legend)?e.legend+":":e.legend),e.description?i.createElement("span",null," ",e.description):null):null,i.createElement(C.Z,{id:"number-input-tooltip",placement:e.tooltipPlacement,tooltip:B,show:!e.disabled},i.createElement("span",{className:"number-input-span"},T)))};K.defaultProps={bind:"",disabled:!1,legend:null,min:Z(),max:h(),step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"};var S=K}}]);
//# sourceMappingURL=ContingencyTableMenu.0ac3a4d3.chunk.js.map