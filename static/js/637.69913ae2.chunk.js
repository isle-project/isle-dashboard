/*! For license information please see 637.69913ae2.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[637],{13222:function(e,t,n){"use strict";n.d(t,{Ib:function(){return p},Ll:function(){return h},kC:function(){return y},J3:function(){return g},qw:function(){return v},Tm:function(){return Z},hA:function(){return E},Vw:function(){return I}});var a=n(98816),r=n.n(a),s=n(14065),o=n(67361),i=n(63163),c=n(63022),l=n(76417),u=n(39285),d=n(1209);function p({title:e,owners:t,announcements:n=[],cohorts:a=[],description:r,enableTicketing:s,_id:o}){return{type:d.WF,payload:{title:e,announcements:n,cohorts:a,description:r,enableTicketing:s,owners:t,_id:o}}}const m=async(e,{title:t,description:n,owners:a,props:s})=>{try{const o=await r().post(c.ZP+"/create_namespace",{title:t,description:n,owners:a});if(!o.data.successful)return(0,l.EG)(e,new Error(o.data.message));const i=o.data.namespace;s.onNamespace(i),e(function(e){return{type:d.$8,payload:{namespace:e}}}(i)),s.history.replace("/lessons"),(0,l.wN)(e,{message:o.data.message,level:o.data.successful?"success":"error"})}catch(o){(0,l.EG)(e,o)}},h=e=>async({title:t,description:n,owners:a,props:r})=>{await m(e,{title:t,description:n,owners:a,props:r})},f=async(e,t,n)=>{try{const a=await r().post(c.ZP+"/delete_namespace",{id:t});n&&n.replace("/lessons"),e(function(e){return{type:d.ke,payload:{id:e}}}(t)),(0,l.wN)(e,{message:a.data.message,level:"success"})}catch(a){return(0,l.EG)(e,a)}},y=e=>async(t,n)=>{await f(e,t,n)},w=async(e,t)=>{try{const n=await r().post(c.ZP+"/update_namespace",{ns:t});e(p(n.data.namespace)),e(function({title:e,owners:t,description:n,enableTicketing:a,_id:r}){return{type:d.Rg,payload:{title:e,description:n,owners:t,enableTicketing:a,_id:r}}}(n.data.namespace)),(0,l.wN)(e,{message:n.data.message,level:"success"}),(0,u.k$)(e,{namespaceID:t._id})}catch(n){(0,l.EG)(e,n)}},g=e=>async(t,n)=>{await w(e,t)},v=e=>async({namespaceID:t,namespaceTitle:n})=>{await(async(e,{namespaceID:t,namespaceTitle:n})=>{try{const e=await r().get(c.ZP+"/get_namespace_actions?"+s.stringify({namespaceID:t})),a=new Blob([e.data],{type:"application/json"}),o=`actions_${n}.json`;(0,i.Z)(a,o)}catch(a){(0,l.EG)(e,a)}})(e,{namespaceID:t,namespaceTitle:n})},b=async(e,{email:t,lessonID:n,namespaceID:a,progress:s,cohort:i})=>{const u=await r().post(c.ZP+"/user_adjust_progress",{email:t,lessonID:n,namespaceID:a,progress:s});(0,l.wN)(e,{title:o.Z.t("common:updated"),message:u.data.message,level:"success"}),e(function({email:e,lessonID:t,progress:n,cohort:a}){return{type:d.LX,payload:{email:e,lessonID:t,progress:n,cohort:a}}}({email:t,lessonID:n,progress:s,cohort:i}))},Z=e=>async({email:t,lessonID:n,namespaceID:a,progress:r,cohort:s})=>{await b(e,{email:t,lessonID:n,namespaceID:a,progress:r,cohort:s})},E=e=>async()=>{await(async e=>{try{const t=await r().get(c.ZP+"/get_all_namespaces");e({type:d.XM,payload:{namespaces:t.data.namespaces}})}catch(t){return(0,l.EG)(e,t)}})(e)},I=e=>async({lessons:t,id:n})=>{await(async(e,{lessons:t,id:n})=>{try{await r().post(c.ZP+"/set_lesson_order",{lessons:t,id:n})}catch(a){return(0,l.EG)(e,a)}})(e,{lessons:t,id:n})}},44952:function(e,t,n){"use strict";n.d(t,{ZP:function(){return _},O5:function(){return k},OT:function(){return D},uq:function(){return T}});var a=n(38603),r=n(91532),s=n.n(r),o=n(58651),i=n(12630),c=n(14224),l=n(47331),u=n(87078),d=n(56233),p=n(72454),m=n(12908),h=n(69977),f=n(2561),y=n.n(f),w=n(62810),g=n.n(w),v=n(64300),b=n.n(v),Z=n(89506),E=n.n(Z),I=n(91170),C=n(63022),x=n(34071);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=y()("isle-dashboard:create-namespace");function D(e){let t=!1;return 0===e.length?t=!0:e.forEach((e=>{g()(e)||(t=!0)})),!t}function T(e){return e.length>=3&&!E()(e," ")&&!(0,x.Z)(e)}function k(e){return e.length>=3}class P extends a.Component{constructor(e){super(e),N(this,"handleInputChange",(e=>{const t=e.target,n=t.value,a=t.name;this.setState({[a]:n})})),N(this,"handleSubmit",(()=>{this.props.createNamespace({title:this.state.title,description:this.state.description,owners:this.state.owners,props:this.props})})),N(this,"handleOwnerChange",(e=>{if(!e)return this.setState({owners:[]});const t=e.map((e=>b()(e.value)));this.setState({owners:t})})),this.state={title:"",description:"",owners:[this.props.user.email]}}render(){const e=T(this.state.title),t=(0,x.Z)(this.state.title),n=k(this.state.description),r=D(this.state.owners);S("Validation status of input fields: "),S(`Title: ${e}`),S(`Description: ${n}`),S(`Owners: ${r}`);const{t:s}=this.props;return a.createElement("div",{className:"create-namespace-container"},a.createElement(c.Z,{className:"create-namespace-card"},a.createElement(c.Z.Header,null,a.createElement(c.Z.Title,{as:"h2"},s("create-course"))),a.createElement(p.Z,{style:{padding:"20px"}},a.createElement(m.Z,{placement:"right",overlay:a.createElement(h.Z,{id:"ownerTooltip"},s("owner-tooltip"))},a.createElement(d.Z,{controlId:"form-owners"},a.createElement(l.Z,null,s("common:owners")),a.createElement(I.Z,{id:"owners-text-select",onChange:this.handleOwnerChange,defaultValue:this.state.owners,isInvalid:!r,placeholder:s("enter-emails")}),a.createElement(u.Z.Feedback,{type:"invalid"},s("invalid-owners")))),a.createElement(m.Z,{placement:"right",overlay:a.createElement(h.Z,{id:"courseTooltip"},s("accessible-at"),a.createElement("code",null,C.ZP+"/<course>/<lesson>"))},a.createElement(d.Z,{controlId:"form-course"},a.createElement(l.Z,null,s("common:course")),a.createElement(u.Z,{name:"title",type:"text",placeholder:s("course-placeholder"),onChange:this.handleInputChange,isInvalid:this.state.title&&!e}),a.createElement(u.Z.Feedback,{type:"invalid"},t?"Course identifier contains invalid character(s): "+t[0]:"Course identifier must be at least three characters long and should not contain any spaces."))),a.createElement(m.Z,{placement:"right",overlay:a.createElement(h.Z,{id:"titleTooltip"},s("title-tooltip"))},a.createElement(d.Z,{controlId:"form-description"},a.createElement(l.Z,null,s("title-description")),a.createElement(u.Z,{name:"description",type:"text",placeholder:s("title-placeholder"),onChange:this.handleInputChange,isInvalid:this.state.description&&!n}),a.createElement(u.Z.Feedback,{type:"invalid"},s("invalid-description"))))),a.createElement(i.Z,{variant:"success",onClick:this.handleSubmit,disabled:!r||!e||!n,block:!0},s("common:create"))))}}P.propTypes={createNamespace:s().func.isRequired,user:s().object.isRequired},P.defaultProps={};var _=(0,o.Z)(["namespace","common"])(P)},91170:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var a=n(38603),r=n(91532),s=n.n(r),o=n(58651),i=n(74360),c=n.n(i),l=n(20993),u=n(11611),d=n(69977),p=n(12908),m=n(26216),h=n.n(m),f=n(89506),y=n.n(f),w=n(17218),g=n.n(w),v=n(64300),b=n.n(v);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={clearIndicator:(e,t)=>({...e,cursor:"pointer"}),multiValueRemove:(e,t)=>({...e,cursor:"pointer"}),valueContainer:(e,t)=>({...e,cursor:"text"})},I=e=>({label:e,value:e}),C=e=>g()(e)?null:h()(e)&&e[0].label&&e[0].value?e:e.map(I);class x extends a.Component{constructor(e){super(e),Z(this,"handleChange",(e=>{this.setState({value:e}),this.props.onChange(e)})),Z(this,"handleInputChange",((e,t)=>{"menu-close"===t.action?this.addInputValues():"input-blur"!==t.action&&this.setState({inputValue:e})})),Z(this,"addInputValues",(()=>{let e,{inputValue:t,value:n}=this.state;if(!t)return null;t=y()(t,",")?t.split(",").map((e=>b()(e))):[b()(t)],e=n?n.concat(t.map(I)):t.map(I),this.setState({inputValue:"",value:e},(()=>{this.props.onChange(this.state.value)}))})),Z(this,"handleKeyDown",(e=>{switch(e.key){case"Enter":case"Tab":this.addInputValues()}})),this.state={inputValue:"",value:C(e.defaultValue)}}componentDidUpdate(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:C(this.props.defaultValue)})}render(){const{inputValue:e,value:t}=this.state,n=this.props.isInvalid,r={DropdownIndicator:null,MultiValueLabel:e=>{const t=()=>{c()(e.data.label)};return a.createElement(p.Z,{overlay:a.createElement(d.Z,{id:"copy_tooltip"},this.props.t("copy-tooltip")),placement:"bottom"},a.createElement("span",{role:"button",tabIndex:0,onClick:t,onKeyPress:t,className:"text-select-copy","aria-label":this.props.t("copy-tooltip")},a.createElement(u.c.MultiValueLabel,e)))}};return a.createElement(l.Z,{inputId:this.props.id,components:r,inputValue:e,isClearable:this.props.isClearable,isMulti:!0,menuIsOpen:!1,onChange:this.handleChange,onInputChange:this.handleInputChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,value:t,styles:{...E,control:(e,t)=>{const a={...e};return t.isFocused&&n&&(a.boxShadow="0 0 0 0.2rem rgba(220,53,69,0.25)"),a.borderColor=n?"#dc3545":"#ddd",a["&:hover"]={borderColor:n?"#dc3545":"#ddd"},a},...this.props.styles},t:this.props.t})}}x.propTypes={defaultValue:s().array,id:s().string,isClearable:s().bool,isInvalid:s().bool,onChange:s().func,placeholder:s().string,styles:s().object},x.defaultProps={defaultValue:[],id:null,isClearable:!1,isInvalid:!1,onChange(){},placeholder:"",styles:{}};var N=(0,o.Z)(["text_select","common"])(x)},34071:function(e,t){"use strict";const n=/[\u2018\u201c!#$%&+^<=>{}()[\]`]/;t.Z=function(e){return e.match(n)}},63163:function(e,t){"use strict";const n=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function a(e){setImmediate((function(){throw e}),0)}function r(e){return n.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}const s=function(e){if("undefined"===typeof e||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))return;function t(){return e.URL||e.webkitURL||e}function n(e){setTimeout((function(){"string"===typeof e?t().revokeObjectURL(e):e.remove()}),4e4)}const s=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in s,i=/constructor/i.test(e.HTMLElement)||e.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),l=e.setImmediate||e.setTimeout;function u(u,d,p){p||(u=r(u));const m=this,h="application/octet-stream"===u.type;let f;function y(){!function(e,t,n){let r=(t=[].concat(t)).length;for(;r--;){let o=e["on"+t[r]];if("function"===typeof o)try{o.call(e,n||e)}catch(s){a(s)}}}(m,"writestart progress write writeend".split(" "))}if(m.readyState=m.INIT,o)return f=t().createObjectURL(u),void l((function(){s.href=f,s.download=d,function(e){const t=new MouseEvent("click");e.dispatchEvent(t)}(s),y(),n(f),m.readyState=m.DONE}),0);!function(){if((c||h&&i)&&e.FileReader){const t=new FileReader;return t.onloadend=function(){let n=c?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(n,"_blank")||(e.location.href=n),n=void 0,m.readyState=m.DONE,y()},t.readAsDataURL(u),void(m.readyState=m.INIT)}if(f||(f=t().createObjectURL(u)),h)e.location.href=f;else{e.open(f,"_blank")||(e.location.href=f)}m.readyState=m.DONE,y(),n(f)}()}const d=u.prototype;return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=r(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=null,d.onwritestart=null,d.onprogress=null,d.onwrite=null,d.onabort=null,d.onerror=null,d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||(void 0).content);t.Z=s},62810:function(e,t,n){"use strict";var a=n(40942);e.exports=a},40942:function(e,t,n){"use strict";var a=n(24500).isPrimitive,r=/@/;e.exports=function(e){return a(e)&&r.test(e)}},74360:function(e){function t(){return new DOMException("The request is not allowed","NotAllowedError")}e.exports=async function(e){try{await async function(e){if(!navigator.clipboard)throw t();return navigator.clipboard.writeText(e)}(e)}catch(n){try{await async function(e){const n=document.createElement("span");n.textContent=e,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const a=window.getSelection(),r=window.document.createRange();a.removeAllRanges(),r.selectNode(n),a.addRange(r);let s=!1;try{s=window.document.execCommand("copy")}finally{a.removeAllRanges(),window.document.body.removeChild(n)}if(!s)throw t()}(e)}catch(a){throw a||n||t()}}}},14224:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var a=n(87462),r=n(63366),s=n(68761),o=n.n(s),i=n(38603),c=n(54447),l=n(51906),u=n(49132),d=n(65044),p=["bsPrefix","className","variant","as"],m=i.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,l=e.variant,u=e.as,d=void 0===u?"img":u,m=(0,r.Z)(e,p),h=(0,c.vE)(n,"card-img");return i.createElement(d,(0,a.Z)({ref:t,className:o()(l?h+"-"+l:h,s)},m))}));m.displayName="CardImg",m.defaultProps={variant:null};var h=m,f=["bsPrefix","className","bg","text","border","body","children","as"],y=(0,u.Z)("h5"),w=(0,u.Z)("h6"),g=(0,l.Z)("card-body"),v=(0,l.Z)("card-title",{Component:y}),b=(0,l.Z)("card-subtitle",{Component:w}),Z=(0,l.Z)("card-link",{Component:"a"}),E=(0,l.Z)("card-text",{Component:"p"}),I=(0,l.Z)("card-header"),C=(0,l.Z)("card-footer"),x=(0,l.Z)("card-img-overlay"),N=i.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,l=e.bg,u=e.text,p=e.border,m=e.body,h=e.children,y=e.as,w=void 0===y?"div":y,v=(0,r.Z)(e,f),b=(0,c.vE)(n,"card"),Z=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:b+"-header"}}),[b]);return i.createElement(d.Z.Provider,{value:Z},i.createElement(w,(0,a.Z)({ref:t},v,{className:o()(s,b,l&&"bg-"+l,u&&"text-"+u,p&&"border-"+p)}),m?i.createElement(g,null,h):h))}));N.displayName="Card",N.defaultProps={body:!1},N.Img=h,N.Title=v,N.Subtitle=b,N.Body=g,N.Link=Z,N.Text=E,N.Header=I,N.Footer=C,N.ImgOverlay=x;var S=N},65044:function(e,t,n){"use strict";var a=n(38603).createContext(null);a.displayName="CardContext",t.Z=a},49132:function(e,t,n){"use strict";var a=n(87462),r=n(38603),s=n(68761),o=n.n(s);t.Z=function(e){return r.forwardRef((function(t,n){return r.createElement("div",(0,a.Z)({},t,{ref:n,className:o()(t.className,e)}))}))}}}]);
//# sourceMappingURL=637.69913ae2.chunk.js.map