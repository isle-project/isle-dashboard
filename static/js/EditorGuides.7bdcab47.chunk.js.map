{"version":3,"sources":["../node_modules/@isle-project/components/text-editor/guides/index.js","../node_modules/react-bootstrap/esm/ButtonToolbar.js"],"names":["debug","logger","Guides","target","show","onHide","t","useState","selected","setSelected","running","setRunning","editorNode","useRef","document","getElementById","createSteps","useCallback","saving","x","idx","out","content","overview","steps","setSteps","useEffect","current","handleStartClick","handleOptionChange","event","value","renderModal","guidePanel","Card","body","className","ButtonToolbar","Button","variant","onClick","Form","FormGroup","type","label","name","onChange","checked","leftColumn","Col","sm","style","marginBottom","rightColumn","Modal","dialogClassName","closeButton","as","Container","Row","Fragment","showProgress","disableScrolling","run","parentNode","callback","tour","EVENTS","continuous","defaultProps","_excluded","_ref","ref","bsPrefix","props","prefix","displayName","role"],"mappings":"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","file":"static/js/EditorGuides.7bdcab47.chunk.js","sourcesContent":["// MODULES //\n\nimport React, { Fragment, useCallback, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logger from 'debug';\nimport Button from 'react-bootstrap/Button';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport Joyride, { EVENTS } from '@isle-project/components/joyride';\nimport overview from './overview.json';\nimport saving from './saving.json';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:text-editor:guides' );\n\n\n// MAIN //\n\nconst Guides = ({ target, show, onHide, t }) => {\n\tdebug( `Rendering guides modal for \"${target}\" text editor` );\n\tconst [ selected, setSelected ] = useState( 'overview' );\n\tconst [ running, setRunning ] = useState( false );\n\tconst editorNode = useRef( document.getElementById( target ) );\n\tconst createSteps = useCallback( () => {\n\t\treturn {\n\t\t\tsaving: saving.map( ( x, idx ) => {\n\t\t\t\tconst out = { ...x };\n\t\t\t\tout.content = t( `saving-${idx}` );\n\t\t\t\tout.target = `#${target} ` + out.target;\n\t\t\t\treturn out;\n\t\t\t}),\n\t\t\toverview: overview.map( ( x, idx ) => {\n\t\t\t\tconst out = { ...x };\n\t\t\t\tout.content = t( `overview-${idx}` );\n\t\t\t\tout.target = `#${target} ` + out.target;\n\t\t\t\treturn out;\n\t\t\t})\n\t\t};\n\t}, [ target, t ] );\n\tconst [ steps, setSteps ] = useState( createSteps() );\n\tuseEffect( () => {\n\t\teditorNode.current = document.getElementById( target );\n\t\tsetSteps( createSteps() );\n\t}, [ createSteps, target, t ] );\n\tconst handleStartClick = useCallback( () => {\n\t\tdebug( `${running ? 'Stopping' : 'Starting'} the selected tour...` );\n\t\tonHide();\n\t\tsetRunning( !running );\n\t}, [ onHide, running ] );\n\tconst handleOptionChange = useCallback( ( event ) => {\n\t\tsetSelected( event.target.value );\n\t}, [] );\n\tconst renderModal = useCallback( () => {\n\t\t/* eslint-disable i18next/no-literal-string */\n\t\tlet guidePanel;\n\t\tif ( running ) {\n\t\t\tguidePanel = <Card body>\n\t\t\t\t<span className=\"title\">{t('cancel-tour')}</span>\n\t\t\t\t<p>\n\t\t\t\t\t{t('cancel-tour-msg')}\n\t\t\t\t</p>\n\t\t\t\t<ButtonToolbar>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleStartClick} >{t('cancel')}</Button>\n\t\t\t\t</ButtonToolbar>\n\t\t\t</Card>;\n\t\t} else {\n\t\t\tguidePanel = <Card body>\n\t\t\t\t<span className=\"title\">{t('select-tour')}</span>\n\t\t\t\t<Form>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tlabel={t('editor-overview')}\n\t\t\t\t\t\t\tname=\"overview\"\n\t\t\t\t\t\t\tvalue=\"overview\"\n\t\t\t\t\t\t\tonChange={handleOptionChange}\n\t\t\t\t\t\t\tchecked={selected === 'overview'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tlabel={t('saving-progress')}\n\t\t\t\t\t\t\tname=\"saving\"\n\t\t\t\t\t\t\tvalue=\"saving\"\n\t\t\t\t\t\t\tonChange={handleOptionChange}\n\t\t\t\t\t\t\tchecked={selected === 'saving'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Form>\n\t\t\t\t<ButtonToolbar>\n\t\t\t\t\t<Button variant=\"success\" onClick={handleStartClick} >\n\t\t\t\t\t\t{t('start-tour')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonToolbar>\n\t\t\t</Card>;\n\t\t}\n\t\tconst leftColumn = <Col sm={5}>\n\t\t\t<h5>{t('headers')}</h5>\n\t\t\t<Card body style={{ marginBottom: 10 }} >\n\t\t\t\t<pre>\n\t\t\t\t\t# {t('large-header')}<br />\n\t\t\t\t\t## {t('medium-header')}<br />\n\t\t\t\t\t### {t('small-header')}\n\t\t\t\t</pre>\n\t\t\t</Card>\n\t\t\t<h5>{t('emphasis')}</h5>\n\t\t\t<Card body style={{ marginBottom: 10 }} >\n\t\t\t\t<pre>\n\t\t\t\t\t<i>*{t('markup-italic')}*</i><br />\n\t\t\t\t\t<b>**{t('markup-bold')}**</b><br />\n\t\t\t\t\t<i>*We <b>**can**</b> combine them*</i><br />\n\t\t\t\t\t<u>++{t('markup-underlined')}++</u><br />\n\t\t\t\t\t<s>~~{t('markup-strikethrough')}~~</s><br />\n\t\t\t\t</pre>\n\t\t\t</Card>\n\t\t\t<h5>{t('quotes')}</h5>\n\t\t\t<Card body >\n\t\t\t\t<pre>\n\t\t\t\t\t{t('george-box')}<br />\n\t\t\t\t\t&gt; {t('models-wrong')}<br />\n\t\t\t\t\t&gt; {t('models-useful')}\n\t\t\t\t</pre>\n\t\t\t</Card>\n\t\t</Col>;\n\n\t\tconst rightColumn = <Col sm={7}>\n\t\t\t<h5>{t('lists')}</h5>\n\t\t\t<h6>{t('unordered')}</h6>\n\t\t\t<Card body style={{ marginBottom: 10 }} >\n\t\t\t\t<pre>\n\t\t\t\t* {t('item')} 1<br />\n\t\t\t\t* {t('item')} 2<br />\n\t\t\t\t&nbsp; &nbsp; * {t('item')} 2a<br />\n\t\t\t\t&nbsp; &nbsp; * {t('item')} 2b\n\t\t\t\t</pre>\n\t\t\t</Card>\n\t\t\t<h6>{t('ordered')}</h6>\n\t\t\t<Card body>\n\t\t\t\t<pre>\n\t\t\t\t1. {t('item')} 1<br />\n\t\t\t\t2. {t('item')} 2<br />\n\t\t\t\t3. {t('item')} 3<br />\n\t\t\t\t&nbsp; &nbsp;3a. {t('item')} 3a<br />\n\t\t\t\t&nbsp; &nbsp;3b. {t('item')} 3b\n\t\t\t\t</pre>\n\t\t\t</Card>\n\t\t</Col>;\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tonHide={onHide}\n\t\t\t\tshow={show}\n\t\t\t\tdialogClassName=\"modal-90w\"\n\t\t\t>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title as=\"h4\">\n\t\t\t\t\t\t{t('editor-guide')}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<span className=\"title\">{t('markdown-cheatsheet')}</span>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t{leftColumn}\n\t\t\t\t\t\t\t\t\t{rightColumn}\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={3}>\n\t\t\t\t\t\t\t\t{guidePanel}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button onClick={onHide} >{t('close')}</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t\t/* eslint-enable i18next/no-literal-string */\n\t}, [ handleOptionChange, onHide, running, selected, handleStartClick, show, t ] );\n\n\tdebug( `Selected tutorial ${selected} is${running ? ' ' : ' not ' }running` );\n\treturn (\n\t\t<Fragment>\n\t\t\t{renderModal()}\n\t\t\t{ selected === 'saving' ?\n\t\t\t\t<Joyride\n\t\t\t\t\tsteps={steps.saving}\n\t\t\t\t\tshowProgress\n\t\t\t\t\tdisableScrolling\n\t\t\t\t\trun={running}\n\t\t\t\t\tparentNode={editorNode.current}\n\t\t\t\t\tcallback={( tour ) => {\n\t\t\t\t\t\tconst type = tour.type;\n\t\t\t\t\t\tif ( type === EVENTS.TOUR_END ) {\n\t\t\t\t\t\t\tsetRunning( false );\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/> : null\n\t\t\t}\n\t\t\t{ selected === 'overview' ?\n\t\t\t\t<Joyride\n\t\t\t\t\tsteps={steps.overview}\n\t\t\t\t\tshowProgress\n\t\t\t\t\tdisableScrolling\n\t\t\t\t\tcontinuous\n\t\t\t\t\trun={running}\n\t\t\t\t\tparentNode={editorNode.current}\n\t\t\t\t\tcallback={( tour ) => {\n\t\t\t\t\t\tconst type = tour.type;\n\t\t\t\t\t\tif ( type === EVENTS.TOUR_END ) {\n\t\t\t\t\t\t\tsetRunning( false );\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/> : null\n\t\t\t}\n\t\t</Fragment>\n\t);\n};\n\n\n// PROPERTIES //\n\nGuides.propTypes = {\n\tonHide: PropTypes.func,\n\tshow: PropTypes.bool.isRequired\n};\n\nGuides.defaultProps = {\n\tonHide() {}\n};\n\n\n// EXPORTS //\n\nexport default Guides;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  role: 'toolbar'\n};\nvar ButtonToolbar = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn-toolbar');\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    ref: ref,\n    className: classNames(className, prefix)\n  }));\n});\nButtonToolbar.displayName = 'ButtonToolbar';\nButtonToolbar.defaultProps = defaultProps;\nexport default ButtonToolbar;"],"sourceRoot":""}