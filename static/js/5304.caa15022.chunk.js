/*! For license information please see 5304.caa15022.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5304],{76470:function(e,t,n){var o=n(64300),a=n.n(o),r=n(45014),s=n.n(r);const l=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;t.Z=function(e){const t={},n={},o=s()(e[0]).filter((e=>""!==e));for(let r=0;r<o.length;r++){const s=a()(o[r]);n[o[r]]=s,t[s]=new Array(e.length)}for(let a=0;a<e.length;a++)for(let r=0;r<o.length;r++){const s=o[r];let i=e[a][s];l.test(i)&&(i=Number(i)),t[n[s]][a]=i}return t}},17863:function(e,t,n){n.r(t);var o=n(38603),a=n(91532),r=n.n(a),s=n(2561),l=n.n(s),i=n(58651),c=n(53697),u=n.n(c),d=n(12630),m=n(12908),f=n(69977),p=n(88928),h=n.n(p),g=n(31617),Z=n(37933),E=n(76470),v=n(34668),b=n(72868),w=n(36647),y=n(33547),C=n(65307);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=l()("isle-dashboard:admin");class k extends o.Component{constructor(e){super(e),N(this,"createColumns",(()=>{const{t:e}=this.props,t=this.props.admin.namespaces;let n=0,a=h(),r=0;for(let o=0;o<t.length;o++){const e=t[o].owners.length;e&&e>n&&(n=e),t[o].createdAt>r&&(r=t[o].createdAt),t[o].updatedAt>r&&(r=t[o].updatedAt),t[o].createdAt<a&&(a=t[o].createdAt),t[o].updatedAt<a&&(a=t[o].updatedAt)}return r=u()(r),a=u()(a),[{Header:e("common:title"),id:"title",accessor:"title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:b.Z},{Header:e("common:description"),accessor:"description",style:{marginTop:"2px",color:"darkslategrey"},maxWidth:200,filterMethod:b.Z},(0,w.Z)({Header:e("common:owners"),accessor:"owners"}),(0,y.Z)({Header:`# ${e("common:owners")}`,accessor:"owners.length",maxWidth:120,style:{marginTop:"2px",color:"darkslategrey"},minValue:1,maxValue:n}),(0,C.Z)({Header:e("last-updated"),accessor:"updatedAt",startDate:a,endDate:r,t:e}),(0,C.Z)({Header:e("created-at"),accessor:"createdAt",startDate:a,endDate:r,t:e}),{Header:e("common:actions"),Cell:t=>o.createElement("div",null,o.createElement(m.Z,{placement:"bottom",overlay:o.createElement(f.Z,{id:"delete_course"},e("namespace:delete-course"))},o.createElement(d.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:this.askToDeleteSelectedCourseFactory(t.row._original),"aria-label":e("namespace:delete-course")},o.createElement("div",{className:"fa fa-trash-alt"})))),resizable:!1,filterable:!1,sortable:!1}]})),N(this,"askToDeleteSelectedCourseFactory",(e=>()=>{this.setState({showDeleteModal:!this.state.showDeleteModal,selectedCourse:e})})),N(this,"deleteSelectedCourse",(()=>{x(`Delete course ${this.state.selectedCourse.title} with id ${this.state.selectedCourse._id}`),this.setState({showDeleteModal:!1},(async()=>{await this.props.deleteCurrentNamespace(this.state.selectedCourse._id),this.props.getAllNamespaces()}))})),N(this,"toggleDeleteModal",(()=>{this.setState({showDeleteModal:!this.state.showDeleteModal})})),N(this,"toggleExplorer",(()=>{this.setState({showExplorer:!this.state.showExplorer})})),this.state={selectedCourse:null,showDeleteModal:!1,columns:this.createColumns(),showExplorer:!1}}componentDidMount(){this.props.getAllNamespaces()}componentDidUpdate(e){e.admin.namespaces!==this.props.admin.namespaces&&this.setState({columns:this.createColumns()})}render(){const{t:e}=this.props;if(this.state.showExplorer){const t=this.props.admin.namespaces;let n=[];for(let e=0;e<t.length;e++){const o=t[e],a={};a.title=o.title,a.description=o.description,a.enableTicketing=o.enableTicketing,a.announcements=o.announcements.length,a.owners=o.owners.length,a.createdAt=o.createdAt,a.updatedAt=o.updatedAt,n.push(a)}return n=(0,E.Z)(n),o.createElement(v.Z,{title:e("explorer-namespaces-title"),data:n,categorical:["title","enableTicketing","createdAt","updatedAt"],quantitative:["announcements","owners"],close:this.toggleExplorer})}return o.createElement(o.Fragment,null,o.createElement(g.Z,{data:this.props.admin.namespaces,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:e}),this.state.showDeleteModal?o.createElement(Z.Z,{title:e("namespace:delete-course"),message:o.createElement("span",null,e("namespace:delete-course-confirm"),o.createElement("span",{style:{color:"red"}},this.state.selectedCourse.title)),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedCourse}):null)}}k.propTypes={admin:r().object.isRequired,deleteCurrentNamespace:r().func.isRequired,getAllNamespaces:r().func.isRequired,t:r().func.isRequired},t.default=(0,i.Z)(["admin","namespace","common"])(k)},37933:function(e,t,n){var o=n(38603),a=n(91532),r=n.n(a),s=n(58651),l=n(12630),i=n(14704);const c=e=>o.createElement(i.Z,{show:e.show,onHide:e.close},o.createElement(i.Z.Header,null,o.createElement(i.Z.Title,{as:"h3"},e.title)),o.createElement(i.Z.Body,null,e.message),o.createElement(i.Z.Footer,null,o.createElement(l.Z,{onClick:e.close},e.t("cancel")),o.createElement(l.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))));c.propTypes={close:r().func,message:r().node,onConfirm:r().func,show:r().bool,title:r().string},c.defaultProps={close(){},message:"",onConfirm(){},show:!1,title:""},t.Z=(0,s.Z)(["common"])(c)},34668:function(e,t,n){const o=(0,n(221).Z)((()=>Promise.all([n.e(8504),n.e(6351)]).then(n.bind(n,27248))));t.Z=o},64300:function(e,t,n){var o=n(23215);e.exports=o},23215:function(e,t,n){var o=n(24500).isPrimitive,a=n(83087),r=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;e.exports=function(e){if(!o(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return a(e,r,"$1")}},56193:function(e,t,n){var o=n(87462),a=n(63366),r=n(91532),s=n.n(r),l=n(38603),i=n(68761),c=n.n(i),u=["label","onClick","className"],d={label:s().string.isRequired,onClick:s().func},m=l.forwardRef((function(e,t){var n=e.label,r=e.onClick,s=e.className,i=(0,a.Z)(e,u);return l.createElement("button",(0,o.Z)({ref:t,type:"button",className:c()("close",s),onClick:r},i),l.createElement("span",{"aria-hidden":"true"},"\xd7"),l.createElement("span",{className:"sr-only"},n))}));m.displayName="CloseButton",m.propTypes=d,m.defaultProps={label:"Close"},t.Z=m},14704:function(e,t,n){n.d(t,{Z:function(){return V}});var o=n(63366),a=n(87462),r=n(68761),s=n.n(r),l=n(28338),i=n(60825),c=n(13770),u=n(91665),d=n(12950),m=n(20980),f=n(86301),p=n(49183),h=n(31361),g=n(38603),Z=n(78673),E=(n(14180),n(94578)),v=n(90169),b=n(23415),w=n(95440),y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",C=".sticky-top",N=".navbar-toggler",x=function(e){function t(){return e.apply(this,arguments)||this}(0,E.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var o,a=t.style[e];t.dataset[e]=a,(0,v.Z)(t,((o={})[e]=parseFloat((0,v.Z)(t,e))+n+"px",o))},n.restore=function(e,t){var n,o=t.dataset[e];void 0!==o&&(delete t.dataset[e],(0,v.Z)(t,((n={})[e]=o,n)))},n.setContainerStyle=function(t,n){var o=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var a=(0,d.Z)();(0,b.Z)(n,y).forEach((function(e){return o.adjustAndStore("paddingRight",e,a)})),(0,b.Z)(n,C).forEach((function(e){return o.adjustAndStore("marginRight",e,-a)})),(0,b.Z)(n,N).forEach((function(e){return o.adjustAndStore("marginRight",e,a)}))}},n.removeContainerStyle=function(t,n){var o=this;e.prototype.removeContainerStyle.call(this,t,n),(0,b.Z)(n,y).forEach((function(e){return o.restore("paddingRight",e)})),(0,b.Z)(n,C).forEach((function(e){return o.restore("marginRight",e)})),(0,b.Z)(n,N).forEach((function(e){return o.restore("marginRight",e)}))},t}(w.Z),k=n(67561),A=n(51906),D=(0,A.Z)("modal-body"),R=g.createContext({onHide:function(){}}),S=n(54447),T=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],H=g.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,l=e.contentClassName,i=e.centered,c=e.size,u=e.children,d=e.scrollable,m=(0,o.Z)(e,T),f=(n=(0,S.vE)(n,"modal"))+"-dialog";return g.createElement("div",(0,a.Z)({},m,{ref:t,className:s()(f,r,c&&n+"-"+c,i&&f+"-centered",d&&f+"-scrollable")}),g.createElement("div",{className:s()(n+"-content",l)},u))}));H.displayName="ModalDialog";var F=H,M=(0,A.Z)("modal-footer"),P=n(56193),O=["bsPrefix","closeLabel","closeButton","onHide","className","children"],_=g.forwardRef((function(e,t){var n=e.bsPrefix,r=e.closeLabel,l=e.closeButton,i=e.onHide,c=e.className,u=e.children,d=(0,o.Z)(e,O);n=(0,S.vE)(n,"modal-header");var m=(0,g.useContext)(R),p=(0,f.Z)((function(){m&&m.onHide(),i&&i()}));return g.createElement("div",(0,a.Z)({ref:t},d,{className:s()(c,n)}),u,l&&g.createElement(P.Z,{label:r,onClick:p}))}));_.displayName="ModalHeader",_.defaultProps={closeLabel:"Close",closeButton:!1};var B,I=_,j=(0,n(49132).Z)("h4"),q=(0,A.Z)("modal-title",{Component:j}),z=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],$={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:F};function L(e){return g.createElement(k.Z,(0,a.Z)({},e,{timeout:null}))}function U(e){return g.createElement(k.Z,(0,a.Z)({},e,{timeout:null}))}var K=g.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,E=e.style,v=e.dialogClassName,b=e.contentClassName,w=e.children,y=e.dialogAs,C=e["aria-labelledby"],N=e.show,k=e.animation,A=e.backdrop,D=e.keyboard,T=e.onEscapeKeyDown,H=e.onShow,F=e.onHide,M=e.container,P=e.autoFocus,O=e.enforceFocus,_=e.restoreFocus,I=e.restoreFocusOptions,j=e.onEntered,q=e.onExit,$=e.onExiting,K=e.onEnter,V=e.onEntering,W=e.onExited,G=e.backdropClassName,J=e.manager,Q=(0,o.Z)(e,z),X=(0,g.useState)({}),Y=X[0],ee=X[1],te=(0,g.useState)(!1),ne=te[0],oe=te[1],ae=(0,g.useRef)(!1),re=(0,g.useRef)(!1),se=(0,g.useRef)(null),le=(0,m.Z)(),ie=le[0],ce=le[1],ue=(0,f.Z)(F);n=(0,S.vE)(n,"modal"),(0,g.useImperativeHandle)(t,(function(){return{get _modal(){return ie}}}),[ie]);var de=(0,g.useMemo)((function(){return{onHide:ue}}),[ue]);function me(){return J||(B||(B=new x),B)}function fe(e){if(i.Z){var t=me().isContainerOverflowing(ie),n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;ee({paddingRight:t&&!n?(0,d.Z)():void 0,paddingLeft:!t&&n?(0,d.Z)():void 0})}}var pe=(0,f.Z)((function(){ie&&fe(ie.dialog)}));(0,p.Z)((function(){(0,u.Z)(window,"resize",pe),se.current&&se.current()}));var he=function(){ae.current=!0},ge=function(e){ae.current&&ie&&e.target===ie.dialog&&(re.current=!0),ae.current=!1},Ze=function(){oe(!0),se.current=(0,h.Z)(ie.dialog,(function(){oe(!1)}))},Ee=function(e){"static"!==A?re.current||e.target!==e.currentTarget?re.current=!1:null==F||F():function(e){e.target===e.currentTarget&&Ze()}(e)},ve=(0,g.useCallback)((function(e){return g.createElement("div",(0,a.Z)({},e,{className:s()(n+"-backdrop",G,!k&&"show")}))}),[k,G,n]),be=(0,a.Z)({},E,Y);k||(be.display="block");return g.createElement(R.Provider,{value:de},g.createElement(Z.Z,{show:N,ref:ce,backdrop:A,container:M,keyboard:!0,autoFocus:P,enforceFocus:O,restoreFocus:_,restoreFocusOptions:I,onEscapeKeyDown:function(e){D||"static"!==A?D&&T&&T(e):(e.preventDefault(),Ze())},onShow:H,onHide:F,onEnter:function(e,t){e&&(e.style.display="block",fe(e)),null==K||K(e,t)},onEntering:function(e,t){null==V||V(e,t),(0,l.ZP)(window,"resize",pe)},onEntered:j,onExit:function(e){null==se.current||se.current(),null==q||q(e)},onExiting:$,onExited:function(e){e&&(e.style.display=""),null==W||W(e),(0,u.Z)(window,"resize",pe)},manager:me(),containerClassName:n+"-open",transition:k?L:void 0,backdropTransition:k?U:void 0,renderBackdrop:ve,renderDialog:function(e){return g.createElement("div",(0,a.Z)({role:"dialog"},e,{style:be,className:s()(r,n,ne&&n+"-static"),onClick:A?Ee:void 0,onMouseUp:ge,"aria-labelledby":C}),g.createElement(y,(0,a.Z)({},Q,{onMouseDown:he,className:v,contentClassName:b}),w))}}))}));K.displayName="Modal",K.defaultProps=$,K.Body=D,K.Header=I,K.Title=q,K.Footer=M,K.Dialog=F,K.TRANSITION_DURATION=300,K.BACKDROP_TRANSITION_DURATION=150;var V=K},51906:function(e,t,n){n.d(t,{Z:function(){return d}});var o=n(87462),a=n(63366),r=n(68761),s=n.n(r),l=n(62489),i=n(38603),c=n(54447),u=["className","bsPrefix","as"];function d(e,t){var n,r=void 0===t?{}:t,d=r.displayName,m=void 0===d?(n=e)[0].toUpperCase()+(0,l.Z)(n).slice(1):d,f=r.Component,p=r.defaultProps,h=i.forwardRef((function(t,n){var r=t.className,l=t.bsPrefix,d=t.as,m=void 0===d?f||"div":d,p=(0,a.Z)(t,u),h=(0,c.vE)(l,e);return i.createElement(m,(0,o.Z)({ref:n,className:s()(r,h)},p))}));return h.defaultProps=p,h.displayName=m,h}},49132:function(e,t,n){var o=n(87462),a=n(38603),r=n(68761),s=n.n(r);t.Z=function(e){return a.forwardRef((function(t,n){return a.createElement("div",(0,o.Z)({},t,{ref:n,className:s()(t.className,e)}))}))}}}]);
//# sourceMappingURL=5304.caa15022.chunk.js.map