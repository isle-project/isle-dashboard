{"version":3,"file":"static/js/5627.67911845.chunk.js","mappings":"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","sources":["actions/badge.js","components/ticket-modal/index.js","components/profile-page/two_factor_authentication.js","components/profile-page/enter_token_modal.js","components/profile-page/edit_modal.js","components/profile-page/action_types_display.js","components/profile-page/create_ticket_modal.js","components/profile-page/ticket_list.js","components/profile-page/index.js","actions/two_factor_auth.js","containers/visible-profile-page/index.js","utils/format_time.js"],"sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport axios from 'axios';\nimport i18next from 'i18next';\nimport contains from '@stdlib/assert/contains';\nimport server from 'constants/server';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { RETRIEVED_BADGES, USER_RECEIVED_BADGES } from 'constants/action_types.js';\n\n\n// FUNCTIONS //\n\n/**\n * Create a badge notification object for use in the `react-notification-system` component.\n *\n * @param {Object} opts - options\n * @param {string} opts.name - name of the badge\n * @param {string} opts.description - description of the badge\n * @param {string} opts.picture - URL with icon of the badge\n * @returns {Object} `react-notification-system` component configuration\n */\nfunction createBadgeNotification({ name, description, picture }) {\n\tconst pic = server + '/badges/' + picture;\n\treturn {\n\t\tchildren: (\n\t\t\t<div>\n\t\t\t\t<h3>{i18next.t('common:received-badge')}{name}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"received-badge-before\" />\n\t\t\t\t\t\t<img className=\"received-badge\" src={pic} alt=\"Received Badge\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<p style={{ marginTop: 15 }}>{i18next.t('common:received-badge-for')}<b>{description}</b></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\tlevel: 'info',\n\t\tposition: 'tc',\n\t\tdismissible: 'button',\n\t\tautoDismiss: 0\n\t};\n}\n\n\n// FUNCTIONS //\n\n/**\n * Returns an action for retrieving the user's badges.\n *\n * @param {Array} badges - retrieved user badges\n * @returns {Object} action\n */\nexport function receivedUserBadges( badges ) {\n\treturn {\n\t\ttype: USER_RECEIVED_BADGES,\n\t\tpayload: {\n\t\t\tbadges\n\t\t}\n\t};\n}\n\n/**\n * Returns an action for retrieved available badges.\n *\n * @param {Array} badges - retrieved available badges\n * @returns {Object} action\n */\nexport function retrievedBadges( badges ) {\n\treturn {\n\t\ttype: RETRIEVED_BADGES,\n\t\tpayload: {\n\t\t\tbadges\n\t\t}\n\t};\n}\n\n/**\n * Makes a GET request to retrieve the user's badges.\n *\n * @param {Function} dispatch - dispatch function\n */\nexport const getUserBadges = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_user_badges' );\n\t\tconst { badges, addedBadges } = res.data;\n\t\tdispatch( receivedUserBadges( badges ) );\n\t\tif ( addedBadges.length > 0 ) {\n\t\t\tfor ( let i = 0; i < badges.length; i++ ) {\n\t\t\t\tconst item = badges[i];\n\t\t\t\tif ( contains( addedBadges, item.name ) ) {\n\t\t\t\t\taddNotification( dispatch, createBadgeNotification( item ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to retrieve the user's badges.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a GET request to retrieve the user's badges\n */\nexport const getUserBadgesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getUserBadges( dispatch );\n\t};\n};\n\n/**\n * Makes a GET request to retrieve the available badges.\n *\n * @param {Function} dispatch - dispatch function\n */\nexport const getAvailableBadges = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_available_badges' );\n\t\tdispatch( retrievedBadges( res.data ) );\n\t} catch ( err ) {\n\t\taddErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a GET request to retrieve the available badges.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a GET request to retrieve the available badges\n */\nexport const getAvailableBadgesInjector = ( dispatch ) => {\n\treturn async () => {\n\t\tawait getAvailableBadges( dispatch );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Modal from 'react-bootstrap/Modal';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport server from 'constants/server';\nimport './ticket_modal.css';\n\n\n// FUNCTIONS //\n\nconst createTooltip = ( str ) => {\n\treturn <Tooltip id=\"tooltip\">{str}</Tooltip>;\n};\n\n\n// MAIN //\n\nclass TicketModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tresponse: ''\n\t\t};\n\t}\n\n\thandleResponseChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tresponse: event.target.value\n\t\t});\n\t}\n\n\thandleResponseSubmit = () => {\n\t\tthis.props.submitTicketMessage({\n\t\t\tmessage: this.state.response,\n\t\t\tticketID: this.props.ticket._id\n\t\t});\n\t\tthis.setState({\n\t\t\tresponse: ''\n\t\t});\n\t}\n\n\ttoggleCompletion = () => {\n\t\tif ( this.props.ticket.done ) {\n\t\t\tthis.props.openTicket( this.props.ticket._id );\n\t\t} else {\n\t\t\tthis.props.closeTicket( this.props.ticket._id );\n\t\t}\n\t}\n\n\trenderMessage = ( val, idx ) => {\n\t\tconst t = this.props.t;\n\t\tconst createdAt = new Date( val.createdAt );\n\t\treturn (\n\t\t\t<div className=\"message-container\" key={idx} >\n\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t<img src={`${server}/thumbnail/${val.picture}`} alt=\"User Profile Pic\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t<span className=\"message-author\">{ val.author }</span>\n\t\t\t\t\t\t&nbsp;{t('common:wrote-on', { date: `${createdAt.toLocaleTimeString()} ${createdAt.toLocaleDateString()}` })}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t{val.body}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst t = this.props.t;\n\t\tconst { ticket } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal show={this.props.show} onHide={this.props.onHide} dialogClassName=\"modal-60w\" >\n\t\t\t\t\t<Modal.Header>\n\t\t\t\t\t\t<Modal.Title as=\"h3\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t{t('common:title')}: {ticket.title}\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('close-ticket-modal') )}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\t\taria-label={t('close-ticket-modal')}\n\t\t\t\t\t\t\t\t\tclassName=\"modal-close\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">x</span>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body style={{ height: '60vh', overflowY: 'auto' }}>\n\t\t\t\t\t\t<span className=\"title\">{t('common:description')}:</span>\n\t\t\t\t\t\t<p style={{ whiteSpace: 'pre-wrap' }}>\n\t\t\t\t\t\t\t{ticket.description}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{ticket.namespace.title ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:course')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.namespace.title}</span>\n\t\t\t\t\t\t\t\t{' | '}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.lesson ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:lesson')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.lesson.title}</span>\n\t\t\t\t\t\t\t\t{' | '}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.component ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:component')}: `}</span>\n\t\t\t\t\t\t\t\t<span>{ticket.component}</span>\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ticket.attachments.length > 0 ?\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span className=\"title\">{`${t('common:attachments')}: `}</span>\n\t\t\t\t\t\t\t\t{ticket.attachments.map( ( file, idx ) => {\n\t\t\t\t\t\t\t\t\treturn ( <a aria-label={t('common:attachments')} href={`${server}/attachments/${file.filename}`} key={idx} style={{ marginLeft: 6 }} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-link\" style={{ marginRight: 2 }} ></i>\n\t\t\t\t\t\t\t\t\t\t{file.title}\n\t\t\t\t\t\t\t\t\t</a> );\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Fragment> :\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<span className=\"title\">{t('common:messages')}:</span>\n\t\t\t\t\t\t{ticket.messages.map( this.renderMessage )}\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer style={{ background: 'ghostwhite' }} >\n\t\t\t\t\t\t<FormGroup controlId=\"form-text\" style={{ width: 'calc(100% - 200px)' }} >\n\t\t\t\t\t\t\t<FormLabel>{t('enter-response')}</FormLabel>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tas=\"textarea\" rows=\"5\"\n\t\t\t\t\t\t\t\tvalue={this.state.response}\n\t\t\t\t\t\t\t\tplaceholder={ticket.done ? t('require-open-ticket') : t('response-comes-here')}\n\t\t\t\t\t\t\t\tonChange={this.handleResponseChange}\n\t\t\t\t\t\t\t\tdisabled={ticket.done}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<div style={{ float: 'right', width: '180px' }} >\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={this.handleResponseSubmit}\n\t\t\t\t\t\t\t\tdisabled={!this.state.response || ticket.done}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('submit-response')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={this.toggleCompletion}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.done ? t('common:open-ticket') : t('common:close-ticket')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('common:hide')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketModal.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\tticket: PropTypes.object.isRequired\n};\n\nTicketModal.defaultProps = {};\n\n\n// EXPORTS\n\nexport default withTranslation( [ 'ticket_modal', 'common' ] )( TicketModal );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\n\n\n// MAIN //\n\nclass TwoFactorAuthentication extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\ttoken: ''\n\t\t};\n\t}\n\n\trequestTfaQRCode = async () => {\n\t\tconst res = await this.props.getTfaQRCode();\n\t\tif ( res ) {\n\t\t\tthis.setState({\n\t\t\t\ttfaQRCode: {\n\t\t\t\t\t__html: res.data\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenableTfa = () => {\n\t\tthis.props.enableTFA( this.state.token );\n\t}\n\n\tdisableTfa = () => {\n\t\tthis.props.disableTFA();\n\t}\n\n\trenderQRCode = () => {\n\t\tif ( !this.state.tfaQRCode ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst t = this.props.t;\n\n\t\t/* eslint-disable react/no-danger */\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div dangerouslySetInnerHTML={this.state.tfaQRCode} />\n\t\t\t\t<p>\n\t\t\t\t\t{t('tfa-enable-instructions')}\n\t\t\t\t</p>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col sm={8} >\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tautoFocus={true} // eslint-disable-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\ttoken: event.target.value\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col sm={3} >\n\t\t\t\t\t\t<Button onClick={this.enableTfa} disabled={this.state.token.length !== 6} >\n\t\t\t\t\t\t\t{t('common:confirm')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Fragment>\n\t\t);\n\t\t/* eslint-enable react/no-danger */\n\t}\n\n\trender() {\n\t\tconst t = this.props.t;\n\t\tif ( !this.props.user.twoFactorAuth ) {\n\t\t\treturn (\n\t\t\t\t<Card bg=\"light\" >\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<span className=\"title\" >\n\t\t\t\t\t\t\t{t('common:two-factor-authentication')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{t('two-factor-authentication-is-disabled')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tstyle={{ float: 'right', marginRight: 5 }}\n\t\t\t\t\t\t\tonClick={this.requestTfaQRCode}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-qrcode\" style={{ marginRight: 10 }}></i>\n\t\t\t\t\t\t\t{t('common:enable')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{this.renderQRCode()}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Card bg=\"light\" border=\"success\" >\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t('two-factor-authentication')}\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{t('two-factor-authentication-is-enabled')}\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\tstyle={{ float: 'right', marginRight: 5 }}\n\t\t\t\t\t\tonClick={this.disableTfa}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('common:disable')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTwoFactorAuthentication.propTypes = {\n\tdisableTFA: PropTypes.func.isRequired,\n\tenableTFA: PropTypes.func.isRequired,\n\tgetTfaQRCode: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nTwoFactorAuthentication.defaultProps = {};\n\n\n// EXPORTS //\n\nexport default TwoFactorAuthentication;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport PropTypes from 'prop-types';\n\n\n// MAIN //\n\nclass EnterTokenModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\ttoken: null\n\t\t};\n\t}\n\n\thandleInputChange = ( event ) => {\n\t\tthis.setState({\n\t\t\ttoken: event.target.value\n\t\t});\n\t}\n\n\thandleSubmit = async () => {\n\t\tconst success = await this.props.authenticate({\n\t\t\twriteAccessToken: this.state.token\n\t\t});\n\t\tif ( success ) {\n\t\t\tthis.props.onHide();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Modal onHide={this.props.onHide} show={this.props.show} >\n\t\t\t\t<Modal.Header closeButton >\n\t\t\t\t\t<Modal.Title as=\"h3\">Enter Access Token</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<div>\n\t\t\t\t\t\tPlease enter the write-access token that was sent to you. If you have not received it yet,\n\t\t\t\t\t\tplease get in touch with <a href=\"mailto:pgb@andrew.cmu.edu\">Philipp Burckhardt</a>.\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={<Tooltip id=\"ownerTooltip\">Please enter the access token.</Tooltip>}>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col sm={2}>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>Token</FormLabel>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter token\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\tdisabled={!this.state.token}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nEnterTokenModal.propTypes = {\n\tauthenticate: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\n\n// EXPORTS //\n\nexport default EnterTokenModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectInput from 'react-select';\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Form from 'react-bootstrap/Form';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Modal from 'react-bootstrap/Modal';\nimport isEmptyObject from '@stdlib/assert/is-empty-object';\nimport logger from 'debug';\nimport TwoFactorAuthentication from './two_factor_authentication.js';\nimport EnterTokenModal from './enter_token_modal.js';\n\n\n// FUNCTIONS //\n\nconst createTooltip = ( str ) => {\n\treturn <Tooltip id=\"tooltip\">{str}</Tooltip>;\n};\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle-dashboard' );\n\n\n// MAIN //\n\nclass EditModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\temail: props.user.email,\n\t\t\tname: props.user.name,\n\t\t\torganization: props.user.organization,\n\t\t\tpassword: '',\n\t\t\tpasswordRepeat: '',\n\t\t\tchanged: false,\n\t\t\tshowTokenModal: false,\n\t\t\tcustomFields: props.user.customFields || {}\n\t\t};\n\t}\n\n\thandleUpdate = () => {\n\t\tconst { name, password, passwordRepeat, organization, customFields } = this.state;\n\t\tconst form = {\n\t\t\tname,\n\t\t\torganization\n\t\t};\n\t\tlet change = false;\n\t\tif ( password ) {\n\t\t\tif ( passwordRepeat === password ) {\n\t\t\t\tchange = true;\n\t\t\t\tform.password = password;\n\t\t\t}\n\t\t}\n\t\tif (\n\t\t\tname !== this.props.user.name ||\n\t\t\torganization !== this.props.user.organization\n\t\t) {\n\t\t\tchange = true;\n\t\t}\n\t\tif ( !isEmptyObject( customFields ) ) {\n\t\t\tform.customFields = customFields;\n\t\t\tchange = true;\n\t\t}\n\t\tif ( change ) {\n\t\t\tdebug( 'Update user...' );\n\t\t\tthis.props.updateUser( form );\n\t\t\tthis.props.onHide();\n\t\t}\n\t}\n\n\thandleInputChange = ( event ) => {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\t\tthis.setState({\n\t\t\t[ name ]: value,\n\t\t\tchanged: true\n\t\t});\n\t}\n\n\tgetNameValidationState = () => {\n\t\tconst { name } = this.state;\n\t\tif ( name && name.length > 3 ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetPasswordValidationState = () => {\n\t\tconst { password, passwordRepeat } = this.state;\n\t\tif ( password.length < 6 || passwordRepeat.length === 0 ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( password !== passwordRepeat ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\ttoggleTokenModal = () => {\n\t\tthis.setState({\n\t\t\tshowTokenModal: !this.state.showTokenModal\n\t\t});\n\t}\n\n\trenderInstructorButton() {\n\t\tif ( this.props.user.writeAccess ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst t = this.props.t;\n\t\treturn ( <Button\n\t\t\tonClick={this.toggleTokenModal}\n\t\t\tvariant=\"outline-success\"\n\t\t\tstyle={{ float: 'right', marginRight: 5 }}\n\t\t>{t('get-instructor-access')}</Button> );\n\t}\n\n\trender() {\n\t\tconst validPasswords = this.getPasswordValidationState();\n\t\tconst validName = this.getNameValidationState();\n\t\tconst enteredPasswords = this.state.password || this.state.passwordRepeat;\n\t\tconst user = this.props.user;\n\t\tconst t = this.props.t;\n\t\tconst userCustomFields = this.state.customFields;\n\t\tconst availableCustomFields = user.availableCustomFields || [];\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal show={this.props.show} onHide={this.props.onHide} dialogClassName=\"edit-modal\" >\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title as=\"h3\" style={{ width: '100%' }}>\n\t\t\t\t\t\t{t('profile')}\n\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('close-edit-modal') )}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\taria-label={t('close-edit-modal')}\n\t\t\t\t\t\t\t\tclassName=\"modal-close\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">x</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t{this.renderInstructorButton()}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form as={Row} >\n\t\t\t\t\t\t<Col sm={6} >\n\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\tcontrolId=\"form-email\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormLabel style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t{t('common:email')}\n\t\t\t\t\t\t\t\t\t{!user.verifiedEmail ? <Badge\n\t\t\t\t\t\t\t\t\t\tvariant=\"danger\" style={{ float: 'right' }}\n\t\t\t\t\t\t\t\t\t>{t('common:email-not-verified')}\n\t\t\t\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('resend-confirm-email') )}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={t('resend-confirm-email')}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\" variant=\"outline-light\" onClick={this.props.resendConfirmEmail}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 12, marginLeft: 6 }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-redo-alt\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t</Badge> : null}\n\t\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('update-name') )}>\n\t\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\t\tcontrolId=\"form-name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:name')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\tisInvalid={!validName}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t\t{t('invalid-name')}\n\t\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('update-organization') )}>\n\t\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\t\tcontrolId=\"form-organization\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:organization')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"organization\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.organization}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t{availableCustomFields.filter( x => x.showOnProfile || x.editableOnProfile ).map( ( x, idx ) => {\n\t\t\t\t\t\t\t\tlet input;\n\t\t\t\t\t\t\t\tconst value = userCustomFields[ x.name ];\n\t\t\t\t\t\t\t\tif ( x.type === 'checkbox' ) {\n\t\t\t\t\t\t\t\t\tinput = <Form.Check\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tlabel={x.name}\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!x.editableOnProfile}\n\t\t\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = event.target.checked;\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>;\n\t\t\t\t\t\t\t\t} else if ( x.type === 'text' ) {\n\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{x.name}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\tname={x.name}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={`Enter ${x.name}...`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!x.editableOnProfile}\n\t\t\t\t\t\t\t\t\t\t\tonChange={( event ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = event.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Case: dropdown menu\n\t\t\t\t\t\t\t\t\tinput = <FormGroup\n\t\t\t\t\t\t\t\t\t\tcontrolId={`form-${x.name}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>{x.name}</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={value ?\n\t\t\t\t\t\t\t\t\t\t\t\t{ label: value, value: value } :\n\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!x.editableOnProfile}\n\t\t\t\t\t\t\t\t\t\t\toptions={x.options.map( e => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn { value: e, label: e };\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonChange={( elem ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst newCustomFields = { ...this.state.customFields };\n\t\t\t\t\t\t\t\t\t\t\t\tnewCustomFields[ x.name ] = elem.value;\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomFields: newCustomFields,\n\t\t\t\t\t\t\t\t\t\t\t\t\tchanged: true\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormGroup>;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<OverlayTrigger key={idx} placement=\"top\" overlay={createTooltip( x.description )} >\n\t\t\t\t\t\t\t\t\t\t{input}\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm={6} >\n\t\t\t\t\t\t\t<OverlayTrigger placement=\"right\" overlay={createTooltip( t('enter-password') )}>\n\t\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\t\tcontrolId=\"form-password\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FormLabel>{t('common:password')}</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t('common:choose-new-password')}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\tmaxLength={30}\n\t\t\t\t\t\t\t\t\t\tminLength={6}\n\t\t\t\t\t\t\t\t\t\tisInvalid={enteredPasswords && !validPasswords}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t\tPlease enter a new password with at least six characters.\n\t\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t<FormGroup\n\t\t\t\t\t\t\t\tcontrolId=\"form-repeat-password\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tname=\"passwordRepeat\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.passwordRepeat}\n\t\t\t\t\t\t\t\t\tautoComplete=\"none\"\n\t\t\t\t\t\t\t\t\tplaceholder={t('repeat-new-password')}\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\tmaxLength={30}\n\t\t\t\t\t\t\t\t\tminLength={6}\n\t\t\t\t\t\t\t\t\tisInvalid={enteredPasswords && !validPasswords}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t('invalid-password')}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<TwoFactorAuthentication\n\t\t\t\t\t\t\t\tuser={this.props.user} t={this.props.t}\n\t\t\t\t\t\t\t\tdisableTFA={this.props.disableTFA}\n\t\t\t\t\t\t\t\tenableTFA={this.props.enableTFA}\n\t\t\t\t\t\t\t\tgetTfaQRCode={this.props.getTfaQRCode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form>\n\t\t\t\t\t<Row style={{ paddingTop: 10 }} >\n\t\t\t\t\t\t<Button block disabled={!this.state.changed || !validName || ( !validPasswords && enteredPasswords )} onClick={this.handleUpdate}>\n\t\t\t\t\t\t\t{t('common:update')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t</Modal>\n\t\t\t\t<EnterTokenModal\n\t\t\t\t\tuser={user}\n\t\t\t\t\tauthenticate={this.props.authenticate}\n\t\t\t\t\tshow={this.state.showTokenModal}\n\t\t\t\t\tonHide={this.toggleTokenModal}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nEditModal.propTypes = {\n\tauthenticate: PropTypes.func.isRequired,\n\tdisableTFA: PropTypes.func.isRequired,\n\tenableTFA: PropTypes.func.isRequired,\n\tgetTfaQRCode: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\tresendConfirmEmail: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tt: PropTypes.func.isRequired,\n\tupdateUser: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nEditModal.defaultProps = {};\n\n\n// EXPORTS\n\nexport default EditModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from 'react-bootstrap/Table';\nimport objectKeys from '@stdlib/utils/keys';\n\n\n// MAIN //\n\nclass ActionTypesDisplay extends Component {\n\tshouldComponentUpdate( nextProps ) {\n\t\tif ( nextProps.selectedNamespaceID !== this.props.selectedNamespaceID ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tconst { selectedNamespace, lessonData: data } = this.props;\n\t\tif ( !selectedNamespace || !data ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst lessons = selectedNamespace.lessons;\n\t\tif ( !lessons ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst actionTypes = {};\n\t\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\t\tconst lesson = lessons[ i ];\n\t\t\tconst id = lesson._id;\n\t\t\tif ( data[ id ] ) {\n\t\t\t\tconst types = data[ id ].actionTypes;\n\t\t\t\tif ( types ) {\n\t\t\t\t\tconst typeNames = objectKeys( types );\n\t\t\t\t\tfor ( let j = 0; j < typeNames.length; j++ ) {\n\t\t\t\t\t\tconst name = typeNames[ j ];\n\t\t\t\t\t\tif ( actionTypes[ name ] ) {\n\t\t\t\t\t\t\tactionTypes[ name ] += types[ name ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionTypes[ name ] = types[ name ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst keys = objectKeys( actionTypes );\n\t\tconst rows = new Array( keys.length );\n\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\tconst type = keys[ i ];\n\t\t\tconst count = actionTypes[ keys[ i ] ];\n\t\t\trows[ i ] = <tr key={i}>\n\t\t\t\t<td>{type}</td>\n\t\t\t\t<td>{count}</td>\n\t\t\t</tr>;\n\t\t}\n\t\treturn ( <Table size=\"sm\" striped style={{ fontSize: '0.8rem' }}>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Action Type</th>\n\t\t\t\t\t<th>Count</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</Table> );\n\t}\n}\n\n\n// PROPERTIES //\n\nActionTypesDisplay.propTypes = {\n\tlessonData: PropTypes.object,\n\tselectedNamespace: PropTypes.object,\n\tselectedNamespaceID: PropTypes.string\n};\n\nActionTypesDisplay.defaultProps = {\n\tlessonData: null,\n\tselectedNamespace: null,\n\tselectedNamespaceID: ''\n};\n\n\n// EXPORTS //\n\nexport default ActionTypesDisplay;\n","// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport platform from 'platform';\nimport logger from 'debug';\nimport SelectInput from 'react-select';\nimport Modal from 'react-bootstrap/Modal';\nimport FormControl from 'react-bootstrap/FormControl';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport Button from 'react-bootstrap/Button';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Tooltip from 'react-bootstrap/Tooltip';\n\n\n// VARIABLES //\n\nconst debug = logger( 'isle:toolbar:ticketing' );\n\n\n// FUNCTIONS //\n\nconst createOption = ( ns ) => {\n\treturn { value: ns, label: ns.title };\n};\n\n\n// MAIN //\n\nclass CreateTicketModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\tselectedCourse: props.enrolledNamespaces ? createOption( props.enrolledNamespaces[ 0 ] ) : null,\n\t\t\tfiles: []\n\t\t};\n\t}\n\n\tattachFile = () => {\n\t\tconst input = document.createElement( 'input' );\n\t\tinput.type = 'file';\n\t\tinput.onchange = ( e ) => {\n\t\t\tconst files = e.target.files;\n\t\t\tconst newFiles = [ ...this.state.files, ...files ];\n\t\t\tthis.setState({\n\t\t\t\tfiles: newFiles\n\t\t\t});\n\t\t};\n\t\tinput.click();\n\t}\n\n\thandleTitleChange = ( event ) => {\n\t\tthis.setState({\n\t\t\ttitle: event.target.value\n\t\t});\n\t}\n\n\thandleDescriptionChange = ( event ) => {\n\t\tthis.setState({\n\t\t\tdescription: event.target.value\n\t\t});\n\t}\n\n\thandleCourseChange = ( newValue ) => {\n\t\tthis.setState({\n\t\t\tselectedCourse: newValue\n\t\t});\n\t}\n\n\thandleSubmit = async () => {\n\t\tdebug( 'Create ticket...' );\n\t\tawait this.props.createTicket({\n\t\t\ttitle: this.state.title,\n\t\t\tdescription: this.state.description,\n\t\t\tplatform: {\n\t\t\t\tname: platform.name,\n\t\t\t\tversion: platform.version,\n\t\t\t\tproduct: platform.product,\n\t\t\t\tmanufacturer: platform.manufacturer,\n\t\t\t\tos: platform.os,\n\t\t\t\tdescription: platform.description\n\t\t\t},\n\t\t\tnamespace: this.state.selectedCourse.value,\n\t\t\tfiles: this.state.files\n\t\t});\n\t\tthis.props.onHide();\n\t}\n\n\tremoveFileFactory = ( idx ) => {\n\t\treturn () => {\n\t\t\tconst newFiles = this.state.files.slice();\n\t\t\tnewFiles.splice( idx, 1 );\n\t\t\tthis.setState({\n\t\t\t\tfiles: newFiles\n\t\t\t});\n\t\t};\n\t}\n\n\trenderAttachments() {\n\t\tif ( this.state.files.length === 0 ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<span className=\"title\">{this.props.t('attachments')}:</span>\n\t\t\t\t<ListGroup className=\"ticketing-attachment-list\" >\n\t\t\t\t\t{this.state.files.map( ( file, idx ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ListGroup.Item key={`file-${idx}`}>\n\t\t\t\t\t\t\t\t{file.name}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={this.removeFileFactory( idx )}\n\t\t\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tx\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ListGroup>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Modal onHide={this.props.onHide} show={this.props.show} dialogClassName=\"modal-40w\" >\n\t\t\t\t<Modal.Header closeButton >\n\t\t\t\t\t<Modal.Title as=\"h3\" >{t('new-ticket')}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<p>{t('ticketing-intro')}</p>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormLabel>{t('common:course')}:</FormLabel>\n\t\t\t\t\t\t<SelectInput\n\t\t\t\t\t\t\toptions={this.props.enrolledNamespaces.map( createOption )}\n\t\t\t\t\t\t\tonChange={this.handleCourseChange}\n\t\t\t\t\t\t\tvalue={this.state.selectedCourse}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormLabel>{t('common:title')}:</FormLabel>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder={t('ticket-title-placeholder')}\n\t\t\t\t\t\t\tonChange={this.handleTitleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup controlId=\"form-text\" >\n\t\t\t\t\t\t<FormLabel>{t('common:description')}:</FormLabel>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tas=\"textarea\" rows=\"5\"\n\t\t\t\t\t\t\tplaceholder={t('ticket-description-placeholder')}\n\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\tonChange={this.handleDescriptionChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t{this.renderAttachments()}\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={<Tooltip id=\"attachmentTooltip\">{t('attach-file')}</Tooltip>}>\n\t\t\t\t\t\t<Button onClick={this.attachFile} >\n\t\t\t\t\t\t\t<i className=\"fas fa-paperclip\"></i>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Button onClick={this.props.onHide} >\n\t\t\t\t\t\t{t('common:cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={this.handleSubmit} >\n\t\t\t\t\t\t{t('create-ticket')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCreateTicketModal.propTypes = {\n\tcreateTicket: PropTypes.func.isRequired,\n\tenrolledNamespaces: PropTypes.array,\n\tonHide: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired\n};\n\nCreateTicketModal.defaultProps = {\n\tenrolledNamespaces: []\n};\n\n\n// EXPORTS //\n\nexport default CreateTicketModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport Modal from 'react-bootstrap/Modal';\nimport TicketModal from 'components/ticket-modal';\nimport CreateTicketModal from './create_ticket_modal.js';\n\n\n// VARIABLES //\n\nconst RE_TICKET = /ticket=([^&]*)/;\n\n\n// MAIN //\n\nclass TicketListModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tshowCreateModal: false,\n\t\t\tshowMessagesModal: false,\n\t\t\tshowOpen: true\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this.props.getUserTickets();\n\t\tif ( this.props.history && this.props.history.location.search ) {\n\t\t\tconst match = RE_TICKET.exec( this.props.history.location.search );\n\t\t\tif ( match && match[ 1 ] ) {\n\t\t\t\tconst { tickets } = this.props.user;\n\t\t\t\tif ( tickets ) {\n\t\t\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\t\t\tif ( ticket._id === match[ 1 ] ) {\n\t\t\t\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tselectedTicket: ticket,\n\t\t\t\t\t\t\t\tshowMessagesModal: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleCreateModal = () => {\n\t\tthis.setState({\n\t\t\tshowCreateModal: !this.state.showCreateModal\n\t\t});\n\t}\n\n\ttoggleTicketModal = () => {\n\t\tthis.setState({\n\t\t\tshowMessagesModal: !this.state.showMessagesModal\n\t\t});\n\t}\n\n\ttoggleShowAll = () => {\n\t\tthis.setState({\n\t\t\tshowOpen: !this.state.showOpen\n\t\t});\n\t}\n\n\trenderTicketList() {\n\t\tconst out = [];\n\t\tconst { user, t } = this.props;\n\t\tif ( !user ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { tickets } = user;\n\t\tif ( !tickets ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( this.state.showOpen ) {\n\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\tif ( ticket.done === true ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tout.push(\n\t\t\t\t\t<ListGroup.Item key={`ticket-${i}`}>\n\t\t\t\t\t\t{ticket.title}: {ticket.description}\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ticket-status-tooltip\">\n\t\t\t\t\t\t\t{t('common:close-ticket')}\n\t\t\t\t\t\t</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\" size=\"sm\"\n\t\t\t\t\t\t\t\tstyle={{ float: 'right', marginLeft: 6 }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.closeTicket( ticket._id );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-square\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tselectedTicket: ticket\n\t\t\t\t\t\t\t\t}, this.toggleTicketModal );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:messages')}\n\t\t\t\t\t\t\t<Badge className=\"ticket-badge\" variant=\"secondary\" >{ticket.messages.length}</Badge>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( let i = 0; i < tickets.length; i++ ) {\n\t\t\t\tconst ticket = tickets[ i ];\n\t\t\t\tif ( ticket.done === false ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tout.push(\n\t\t\t\t\t<ListGroup.Item key={`ticket-${i}`}>\n\t\t\t\t\t\t{ticket.title}: {ticket.description}\n\t\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"ticket-status-tooltip\">\n\t\t\t\t\t\t\t{t('common:open-ticket')}\n\t\t\t\t\t\t</Tooltip>}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tsize=\"sm\" style={{ float: 'right', marginLeft: 6 }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.openTicket( ticket._id );\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-check-square\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\tstyle={{ float: 'right' }}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tselectedTicket: ticket\n\t\t\t\t\t\t\t\t}, this.toggleTicketModal );\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:messages')}\n\t\t\t\t\t\t\t<Badge className=\"ticket-badge\" variant=\"secondary\" >{ticket.messages.length}</Badge>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn ( <ListGroup>\n\t\t\t{out}\n\t\t</ListGroup> );\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst enrolledNamespaces = this.props.user.enrolledNamespaces.filter( x => x.enableTicketing );\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Modal onHide={this.props.onHide} show={this.props.show} dialogClassName=\"modal-40w\" >\n\t\t\t\t\t<Modal.Header closeButton >\n\t\t\t\t\t\t<Modal.Title as=\"h3\">{t('my-tickets')}</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t{this.renderTicketList()}\n\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.toggleShowAll}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.showOpen ? t('show-completed-tickets') : t('show-open-tickets')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.toggleCreateModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('new-ticket')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.props.onHide}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('common:close')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t\t{ this.state.showCreateModal ? <CreateTicketModal\n\t\t\t\t\tshow={this.state.showCreateModal}\n\t\t\t\t\tonHide={this.toggleCreateModal}\n\t\t\t\t\tenrolledNamespaces={enrolledNamespaces}\n\t\t\t\t\tcreateTicket={this.props.createTicket}\n\t\t\t\t\tt={t}\n\t\t\t\t/> : null }\n\t\t\t\t{ this.state.showMessagesModal ? <TicketModal\n\t\t\t\t\tshow={this.state.showMessagesModal}\n\t\t\t\t\tonHide={this.toggleTicketModal}\n\t\t\t\t\tticket={this.state.selectedTicket}\n\t\t\t\t\tsubmitTicketMessage={this.props.submitTicketMessage}\n\t\t\t\t\tcloseTicket={this.props.closeTicket}\n\t\t\t\t\topenTicket={this.props.openTicket}\n\t\t\t\t/> : null }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nTicketListModal.propTypes = {\n\tcloseTicket: PropTypes.func.isRequired,\n\tcreateTicket: PropTypes.func.isRequired,\n\tgetUserTickets: PropTypes.func.isRequired,\n\tonHide: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tshow: PropTypes.bool.isRequired,\n\tsubmitTicketMessage: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\n\n// EXPORTS //\n\nexport default TicketListModal;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport path from 'path';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Media from 'react-bootstrap/Media';\nimport Nav from 'react-bootstrap/Nav';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport keys from '@stdlib/utils/keys';\nimport isObject from '@stdlib/assert/is-object';\nimport isArray from '@stdlib/assert/is-array';\nimport anyBy from '@stdlib/utils/any-by';\nimport formatTime from 'utils/format_time.js';\nimport asyncComponent from 'components/async';\nimport server from 'constants/server';\nimport EditModal from './edit_modal.js';\nconst ProfilePicModal = asyncComponent( () => import( './profile_pic_modal.js' ) );\nconst TimeSpent = asyncComponent( () => import( './time_spent.js' ) );\nconst ProgressStats = asyncComponent( () => import( './progress.js' ) );\nimport ActionTypesDisplay from './action_types_display.js';\nimport TicketListModal from './ticket_list.js';\nimport hoodie from './img/hoodie.jpg';\nimport badge from './img/question.svg';\nimport badgeCircle from './img/badge_circle.svg';\nimport './profile-page.css';\nimport './message-page.css';\n\n\n// FUNCTIONS //\n\nfunction id2Name( lessons, id ) {\n\tif ( !lessons ) {\n\t\treturn '';\n\t}\n\tfor ( let i = 0; i < lessons.length; i++ ) {\n\t\tif ( lessons[ i ]._id === id ) {\n\t\t\treturn lessons[ i ].title;\n\t\t}\n\t}\n\treturn '';\n}\n\n\n// MAIN //\n\nclass ProfilePage extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tlet selectedNamespace = null;\n\t\tlet selectedNamespaceID = null;\n\t\tif ( props.user.enrolledNamespaces.length > 0 ) {\n\t\t\tselectedNamespace = props.user.enrolledNamespaces[ 0 ];\n\t\t\tselectedNamespaceID = selectedNamespace._id;\n\t\t}\n\t\tthis.state = {\n\t\t\tshowEditModal: false,\n\t\t\tshowProfilePicModal: false,\n\t\t\tshowTicketListModal: false,\n\t\t\tselectedNamespace: selectedNamespace,\n\t\t\tselectedNamespaceID: selectedNamespaceID,\n\t\t\tselectedDataType: 'messages',\n\t\t\tselectedStatsType: 'progress'\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( !this.props.user.files ) {\n\t\t\tthis.props.getUserFiles();\n\t\t}\n\t\tconst course = this.state.selectedNamespace;\n\t\tif ( course ) {\n\t\t\tthis.props.getLessons( course.title );\n\t\t}\n\t\tthis.props.getUserBadges();\n\t}\n\n\ttoggleEditModal = () => {\n\t\tthis.setState({\n\t\t\tshowEditModal: !this.state.showEditModal\n\t\t});\n\t}\n\n\ttoggleTicketListModal = () => {\n\t\tthis.setState({\n\t\t\tshowTicketListModal: !this.state.showTicketListModal\n\t\t});\n\t}\n\n\ttoggleProfilePicModal = () => {\n\t\tthis.setState({\n\t\t\tshowProfilePicModal: !this.state.showProfilePicModal\n\t\t});\n\t}\n\n\thandleSelect = ( newValue, event ) => {\n\t\tconst namespaceName = event.target.title;\n\t\tconst id = event.target.dataset.id;\n\t\tthis.setState({\n\t\t\tselectedNamespaceID: newValue,\n\t\t\tselectedNamespace: this.props.user.enrolledNamespaces[ id ]\n\t\t}, () => {\n\t\t\tconst course = this.props.user.enrolledNamespaces[ id ];\n\t\t\tif ( !isObject( course.lessons[ 0 ] ) ) {\n\t\t\t\tthis.props.getLessons( namespaceName );\n\t\t\t}\n\t\t});\n\t}\n\n\thandleStatsSelect = ( newValue, event ) => {\n\t\tthis.setState({\n\t\t\tselectedStatsType: newValue\n\t\t});\n\t}\n\n\trenderRightPanel() {\n\t\tif ( !this.state.selectedNamespace ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( this.state.selectedStatsType === 'progress' ) {\n\t\t\treturn (\n\t\t\t\t<ProgressStats\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tselectedNamespace={this.state.selectedNamespace}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif ( this.state.selectedStatsType === 'timeSpent' ) {\n\t\t\treturn (\n\t\t\t\t<TimeSpent\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tselectedNamespace={this.state.selectedNamespace}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\n\thandleDataSelect = ( newValue, event ) => {\n\t\tthis.setState({\n\t\t\tselectedDataType: newValue\n\t\t});\n\t}\n\n\tsubmitTicketMessage = ({ message, ticketID }) => {\n\t\tthis.props.sendTicketMessage({ message, ticketID, user: this.props.user });\n\t}\n\n\trenderLeftPanel() {\n\t\tif ( !this.state.selectedNamespace ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( this.state.selectedDataType === 'files' ) {\n\t\t\treturn this.renderFiles();\n\t\t}\n\t\tif ( this.state.selectedDataType === 'actions' ) {\n\t\t\tconst data = this.props.user.lessonData;\n\t\t\treturn ( <ActionTypesDisplay\n\t\t\t\tlessonData={data}\n\t\t\t\tselectedNamespace={this.state.selectedNamespace}\n\t\t\t\tselectedNamespaceID={this.state.selectedNamespaceID}\n\t\t\t/> );\n\t\t}\n\t\tif ( this.state.selectedDataType === 'messages' ) {\n\t\t\treturn this.renderMessages();\n\t\t}\n\t}\n\n\trenderFiles() {\n\t\tconst { t, user } = this.props;\n\t\tlet files = user.files;\n\t\tif ( files ) {\n\t\t\tfiles = files[ this.state.selectedNamespaceID ];\n\t\t}\n\t\tif ( !isArray( files ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst out = [];\n\t\tfor ( let i = 0; i < files.length; i++ ) {\n\t\t\tconst file = files[ i ];\n\t\t\tconst lessonName = id2Name( this.state.selectedNamespace.lessons, file.lesson );\n\n\t\t\tlet cl = 'fas fa-file-image fa-4x';\n\t\t\tconst pth = path.extname( file.filename );\n\t\t\tswitch ( pth ) {\n\t\t\t\tcase '.html':\n\t\t\t\t\tcl = 'fab fa-html5 fa-4x';\n\t\t\t\tbreak;\n\t\t\t\tcase '.pdf':\n\t\t\t\t\tcl = 'far fa-file-pdf fa-4x';\n\t\t\t\tbreak;\n\t\t\t\tcase '.jpg':\n\t\t\t\t\tcl = 'fas fa-file-image fa-4x';\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tout.push( <Media key={i}>\n\t\t\t\t<div className=\"mr-3\">\n\t\t\t\t\t<a href={server+'/'+file.filename} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t<i className={cl} />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<Media.Body>\n\t\t\t\t\t<a href={server+'/'+file.filename} target=\"_blank\" rel=\"noopener noreferrer\" >\n\t\t\t\t\t\t<h4>{file.title}</h4>\n\t\t\t\t\t</a>\n\t\t\t\t\t<p>{t('common:date')}: {new Date( file.createdAt ).toLocaleDateString()}{lessonName ? `, ${t('common:lesson')}: ${lessonName}` : lessonName}</p>\n\t\t\t\t</Media.Body>\n\t\t\t</Media> );\n\t\t}\n\t\treturn out;\n\t}\n\n\trenderMessages() {\n\t\tif ( !this.state.selectedNamespace.announcements ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<div>{ this.state.selectedNamespace.announcements.map( (value, index) => {\n\t\t\t\tconst date = new Date(value.createdAt);\n\t\t\t\tconst dateString = date.toLocaleDateString() + '  -  ' + date.toLocaleTimeString( navigator.language, {\n\t\t\t\t\thour: '2-digit',\n\t\t\t\t\tminute: '2-digit'\n\t\t\t\t});\n\t\t\t\treturn (\n\t\t\t\t\t<div key={index} className=\"message-container\">\n\t\t\t\t\t\t<div className=\"message-data\">\n\t\t\t\t\t\t\t<div className=\"message-profile-pic\">\n\t\t\t\t\t\t\t\t<img src={value.picture} alt=\"Message User Profile\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"message-author-line\">\n\t\t\t\t\t\t\t\t<span className=\"message-author\">{ value.author } </span>\n\t\t\t\t\t\t\t\twrote on { dateString }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"message-title\">\n\t\t\t\t\t\t\t{ value.title }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"message-body\">\n\t\t\t\t\t\t\t{ value.body }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})\n\t\t\t}</div>\n\t\t);\n\t}\n\n\trenderStatisticDataToolbar() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t<Nav variant=\"tabs\" activeKey={this.state.selectedDataType} onSelect={this.handleDataSelect}>\n\t\t\t<Nav.Item >\n\t\t\t\t<Nav.Link eventKey=\"messages\" title={t('messages')}>\n\t\t\t\t\t{t('messages')}\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav.Item>\n\t\t\t<Nav.Item >\n\t\t\t\t<Nav.Link eventKey=\"files\" title={t('common:files')}>\n\t\t\t\t\t{t('common:files')}\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav.Item>\n\t\t\t<Nav.Item >\n\t\t\t\t<Nav.Link eventKey=\"actions\" title={t('actions')}>\n\t\t\t\t\t{t('actions')}\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav.Item>\n\t\t</Nav>\n\t\t);\n\t}\n\n\trenderStatisticStatsToolbar() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Nav variant=\"tabs\" activeKey={this.state.selectedStatsType} onSelect={this.handleStatsSelect}>\n\t\t\t\t<Nav.Item >\n\t\t\t\t\t<Nav.Link eventKey=\"progress\" title={t('progress')}>\n\t\t\t\t\t\t{t('progress')}\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item >\n\t\t\t\t\t<Nav.Link eventKey=\"timeSpent\" title={t('time-spent')} >\n\t\t\t\t\t\t{t('time-spent')}\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t</Nav>\n\t\t);\n\t}\n\n\trenderStatisticSection() {\n\t\tconst { t, user } = this.props;\n\t\tconst courses = user.enrolledNamespaces;\n\t\treturn (\n\t\t\t<div className=\"profile-page-statistics\">\n\t\t\t\t<div className=\"profile-page-statistics-navigation-title\">{t('common:courses')}</div>\n\t\t\t\t<div className=\"profile-page-statistics-navigation\">\n\t\t\t\t<Nav variant=\"tabs\" activeKey={this.state.selectedNamespaceID} onSelect={this.handleSelect}>\n\t\t\t\t\t{courses.map( ( course, i ) => {\n\t\t\t\t\t\tconst title = course.title;\n\t\t\t\t\t\tconst id = course._id;\n\t\t\t\t\t\treturn ( <Nav.Item key={i}>\n\t\t\t\t\t\t\t<Nav.Link eventKey={id} title={title} data-id={i} >\n\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t</Nav.Item> );\n\t\t\t\t\t})}\n\t\t\t\t</Nav>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-data-select\">{t('common:data')}</div>\n\t\t\t\t<div className=\"profile-page-statistics-top-actions\">\n\t\t\t\t\t{ this.state.selectedNamespaceID ? this.renderStatisticDataToolbar() : null }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-title2\">\n\t\t\t\t\t{t('common:statistics')}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-actions\">\n\t\t\t\t\t{this.renderLeftPanel()}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-select\">\n\t\t\t\t\t{ this.state.selectedNamespaceID ? this.renderStatisticStatsToolbar() : null }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-statistics-stats\">\n\t\t\t\t\t{this.renderRightPanel()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderBadgesSection() {\n\t\tlet list = [];\n\t\tlet badges = this.props.user.badges || [];\n\n\t\tfor ( let i = 0; i < 24; i++ ) {\n\t\t\tlet temp = badge;\n\t\t\tlet desc = 'Hidden Badge';\n\t\t\tlet display = 'profile-page-badge-item-interior unknown';\n\t\t\tlet badgeState = 'badge-not-acquired';\n\t\t\tif ( i < badges.length ) {\n\t\t\t\ttemp = server + '/badges/' + badges[i].picture;\n\t\t\t\tdesc = badges[i].description;\n\t\t\t\tdisplay = 'profile-page-badge-item-interior';\n\t\t\t\tif ( badges[i].acquired ) {\n\t\t\t\t\tbadgeState='badge-acquired';\n\t\t\t\t}\n\t\t\t}\n\t\t\tlist.push(\n\t\t\t\t<div style={{ animation: 'scale-up ' + ((i*0.05) + 0.1) + 's' }} className=\"profile-page-badge-item-nova\" key={i}>\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={<Tooltip id={`badge-${i}-description`} >{ desc }</Tooltip>}>\n\t\t\t\t\t\t<div className=\"profile-page-badge-item\">\n\t\t\t\t\t\t\t<img className=\"mask\" src={badgeCircle} alt=\"\" />\n\t\t\t\t\t\t\t<div className={display} >\n\t\t\t\t\t\t\t\t<img className={badgeState} src={temp} alt=\"User Badge\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn list;\n\t}\n\n\trenderUserSection() {\n\t\tconst { t, user } = this.props;\n\t\tlet date = null;\n\t\tif ( user.createdAt ) {\n\t\t\tdate = new Date( user.createdAt ).toLocaleDateString();\n\t\t}\n\t\tlet userPic = hoodie;\n\t\tif ( user.picture ) {\n\t\t\tuserPic = user.picture;\n\t\t}\n\t\tconst showTicketingButton = anyBy( this.props.user.enrolledNamespaces, x => x.enableTicketing );\n\t\tconst nLessons = keys( user.lessonData ).length;\n\t\treturn (\n\t\t\t<div className=\"profile-page-user-container\">\n\t\t\t\t<div\n\t\t\t\t\trole=\"button\" className=\"profile-page-user-portrait\"\n\t\t\t\t\tonClick={this.toggleProfilePicModal}\n\t\t\t\t\tonKeyPress={this.toggleProfilePicModal}\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t>\n\t\t\t\t\t<img alt=\"User Profile\" src={userPic} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-user-personal\">\n\t\t\t\t\t<div className=\"profile-page-user-personal-name\">\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<Card.Title as=\"h3\">\n\t\t\t\t\t\t\t\t\t{user.name} <br />\n\t\t\t\t\t\t\t\t\t{user.organization ? <small>{user.organization}</small>: null }\n\t\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t\t{date ? <div>{t('registered-since', { date })}</div> : null}\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<div className=\"profile-page-user-values\">\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-legend\">{t('score')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-value\">\n\t\t\t\t\t\t\t\t\t\t{user.score}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-legend\">{t('no-lessons')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-value\">{nLessons}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-legend\">{t('time-spent')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"profile-page-user-value\">\n\t\t\t\t\t\t\t\t\t\t{formatTime( user.spentTime )}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button style={{ marginTop: 15 }} block onClick={this.toggleEditModal}>{t('edit-profile')}</Button>\n\t\t\t\t\t\t\t{ showTicketingButton ? <Button style={{ marginTop: 15 }} block onClick={this.toggleTicketListModal}>{t('show-tickets')}</Button> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profile-page-user-footer\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"profile-page-grid-container\">\n\t\t\t\t\t<div className=\"profile-page-left\">\n\t\t\t\t\t\t{this.renderUserSection()}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderStatisticSection()}\n\t\t\t\t\t<div className=\"profile-page-badge-title\">{t('common:badges')}</div>\n\t\t\t\t\t<div className=\"profile-page-badge-container\">\n\t\t\t\t\t\t{this.renderBadgesSection()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<EditModal\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tauthenticate={this.props.authenticate}\n\t\t\t\t\tshow={this.state.showEditModal}\n\t\t\t\t\taddNotification={this.props.addNotification}\n\t\t\t\t\tupdateUser={this.props.updateUser}\n\t\t\t\t\tonHide={this.toggleEditModal}\n\t\t\t\t\tresendConfirmEmail={this.props.resendConfirmEmail}\n\t\t\t\t\tdisableTFA={this.props.disableTFA}\n\t\t\t\t\tenableTFA={this.props.enableTFA}\n\t\t\t\t\tgetTfaQRCode={this.props.getTfaQRCode}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t\t<TicketListModal\n\t\t\t\t\tcreateTicket={this.props.createTicket}\n\t\t\t\t\tshow={this.state.showTicketListModal}\n\t\t\t\t\tonHide={this.toggleTicketListModal}\n\t\t\t\t\tgetUserTickets={this.props.getUserTickets}\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tsubmitTicketMessage={this.submitTicketMessage}\n\t\t\t\t\tcloseTicket={this.props.closeTicket}\n\t\t\t\t\topenTicket={this.props.openTicket}\n\t\t\t\t\thistory={this.props.history}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t\t<ProfilePicModal\n\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\tshow={this.state.showProfilePicModal}\n\t\t\t\t\tonHide={this.toggleProfilePicModal}\n\t\t\t\t\tuploadProfilePic={this.props.uploadProfilePic}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nProfilePage.propTypes = {\n\taddNotification: PropTypes.func.isRequired,\n\tauthenticate: PropTypes.func.isRequired,\n\tcloseTicket: PropTypes.func.isRequired,\n\tcreateTicket: PropTypes.func.isRequired,\n\tdisableTFA: PropTypes.func.isRequired,\n\tenableTFA: PropTypes.func.isRequired,\n\tgetLessons: PropTypes.func.isRequired,\n\tgetTfaQRCode: PropTypes.func.isRequired,\n\tgetUserBadges: PropTypes.func.isRequired,\n\tgetUserFiles: PropTypes.func.isRequired,\n\tgetUserTickets: PropTypes.func.isRequired,\n\topenTicket: PropTypes.func.isRequired,\n\tresendConfirmEmail: PropTypes.func.isRequired,\n\tsendTicketMessage: PropTypes.func.isRequired,\n\tupdateUser: PropTypes.func.isRequired,\n\tuploadProfilePic: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired\n};\n\nProfilePage.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'profile_page', 'common' ] )( ProfilePage );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport axios from 'axios';\nimport server from 'constants/server';\nimport i18next from 'i18next';\nimport { addNotification, addErrorNotification } from 'actions/notification';\nimport { DISABLED_TFA, ENABLED_TFA, GET_TFA_QRCODE } from 'constants/action_types.js';\n\n\n// EXPORTS //\n\n/**\n * Makes a request to the server to get the two-factor authentication qrcode.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {(Object|void)} qrcode or void\n */\nexport const getTfaQRCode = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.get( server+'/get_tfa_qrcode' );\n\t\tdispatch({\n\t\t\ttype: GET_TFA_QRCODE,\n\t\t\tpayload: {\n\t\t\t\tevents: res.data.events\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a request for a two-factor authentication qrcode with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a request for a two-factor authentication qrcode\n */\nexport const getTfaQRCodeInjector = dispatch => {\n\treturn async () => {\n\t\tconst result = await getTfaQRCode( dispatch );\n\t\treturn result;\n\t};\n};\n\n/**\n * Makes a POST request to the server to enable two-factor authentication for the user making the request.\n *\n * @param {Function} dispatch - dispatch function\n * @param {string} token - the token to use for the two-factor authentication\n * @returns {void}\n */\nexport const enableTFA = async ( dispatch, token ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/enable_tfa', {\n\t\t\ttoken\n\t\t});\n\t\taddNotification( dispatch, {\n\t\t\ttitle: res.data.verified ? i18next.t('common:tfa-enabled') : i18next.t('common:tfa-not-enabled'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: res.data.verified ? 'success' : 'error'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: ENABLED_TFA,\n\t\t\tpayload: {\n\t\t\t\tverified: res.data.verified\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to enable two-factor authentication for the user making the request with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a POST request to enable two-factor authentication for the user making the request\n */\nexport const enableTFAInjector = dispatch => {\n\treturn async ( token ) => {\n\t\tawait enableTFA( dispatch, token );\n\t};\n};\n\n/**\n * Makes a POST request to the server to disable two-factor authentication for the user making the request.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {void}\n */\nexport const disableTFA = async ( dispatch ) => {\n\ttry {\n\t\tconst res = await axios.post( server+'/disable_tfa' );\n\t\taddNotification( dispatch, {\n\t\t\ttitle: i18next.t('common:tfa-disabled'),\n\t\t\tmessage: res.data.message,\n\t\t\tlevel: 'success'\n\t\t});\n\t\tdispatch({\n\t\t\ttype: DISABLED_TFA,\n\t\t\tpayload: {\n\t\t\t\tmessage: res.data.message,\n\t\t\t\tdisabled: res.data.disabled\n\t\t\t}\n\t\t});\n\t} catch ( err ) {\n\t\treturn addErrorNotification( dispatch, err );\n\t}\n};\n\n/**\n * Returns a function to make a POST request to disable two-factor authentication for the user making the request with a bound dispatch function.\n *\n * @param {Function} dispatch - dispatch function\n * @returns {Function} function to make a POST request to disable two-factor authentication for the user making the request\n */\nexport const disableTFAInjector = dispatch => {\n\treturn async () => {\n\t\tawait disableTFA( dispatch );\n\t};\n};\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ProfilePage from 'components/profile-page';\nimport { getLessonsInjector } from 'actions/lesson';\nimport { getUserBadgesInjector } from 'actions/badge';\nimport { getUserFilesInjector } from 'actions/file';\nimport { authenticateInjector, uploadProfilePicInjector, updateUserInjector, resendConfirmEmailInjector } from 'actions/user';\nimport { addNotificationInjector } from 'actions/notification';\nimport { createTicketInjector, getUserTicketsInjector } from 'actions/ticket';\nimport { sendTicketMessageInjector, closeTicketInjector, openTicketInjector } from 'actions/ticket';\nimport { enableTFAInjector, disableTFAInjector, getTfaQRCodeInjector } from 'actions/two_factor_auth.js';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tuser: state.user\n\t};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\taddNotification: addNotificationInjector( dispatch ),\n\t\tcreateTicket: createTicketInjector( dispatch ),\n\t\tgetUserBadges: getUserBadgesInjector( dispatch ),\n\t\tupdateUser: updateUserInjector( dispatch ),\n\t\tauthenticate: authenticateInjector( dispatch ),\n\t\tgetUserFiles: getUserFilesInjector( dispatch ),\n\t\tgetLessons: getLessonsInjector( dispatch ),\n\t\tresendConfirmEmail: resendConfirmEmailInjector( dispatch ),\n\t\tsendTicketMessage: sendTicketMessageInjector( dispatch ),\n\t\tcloseTicket: closeTicketInjector( dispatch ),\n\t\topenTicket: openTicketInjector( dispatch ),\n\t\tgetUserTickets: getUserTicketsInjector( dispatch ),\n\t\tuploadProfilePic: uploadProfilePicInjector( dispatch ),\n\t\tenableTFA: enableTFAInjector( dispatch ),\n\t\tdisableTFA: disableTFAInjector( dispatch ),\n\t\tgetTfaQRCode: getTfaQRCodeInjector( dispatch )\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleProfilePage = connect( mapStateToProps, mapDispatchToProps )( ProfilePage );\n\n\n// EXPORTS //\n\nexport default VisibleProfilePage;\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport floor from '@stdlib/math/base/special/floor';\n\n\n// MAIN //\n\n/**\n* Formats a timestamp in a human readable format.\n*\n* @param {number} timestamp - timestamp\n* @param {Object} [opts] - options\n* @param {string} [opts.hours] - hours\n* @param {string} [opts.minutes] - minutes\n* @param {string} [opts.seconds] - seconds\n* @returns {string} formatted timestamp\n*/\nconst formatTime = ( time, opts = { hours: true, minutes: true, seconds: true }) => {\n\ttime = time / 1000;\n\tconst hours = floor( time / ( 60*60 ) );\n\ttime = time % ( 60*60 );\n\tlet minutes = floor( time / 60 );\n\tif ( minutes < 10 ) {\n\t\tminutes = '0'+minutes;\n\t}\n\ttime = time % 60;\n\tlet seconds = floor( time );\n\tif ( seconds < 10 ) {\n\t\tseconds = '0'+seconds;\n\t}\n\tlet out = '';\n\tif ( opts.hours ) {\n\t\tout += hours;\n\t}\n\tif ( opts.minutes ) {\n\t\tif ( out ) {\n\t\t\tout += ':';\n\t\t}\n\t\tout += minutes;\n\t}\n\tif ( opts.seconds ) {\n\t\tif ( out ) {\n\t\t\tout += ':';\n\t\t}\n\t\tout += seconds;\n\t}\n\treturn out;\n};\n\n\n// EXPORTS //\n\nexport default formatTime;\n"],"names":["receivedUserBadges","badges","type","USER_RECEIVED_BADGES","payload","getUserBadges","dispatch","axios","server","res","data","addedBadges","length","i","item","contains","name","addNotification","description","picture","pic","children","i18next","className","src","alt","style","marginTop","level","position","dismissible","autoDismiss","addErrorNotification","getUserBadgesInjector","getAvailableBadges","RETRIEVED_BADGES","getAvailableBadgesInjector","TicketModal","props","event","setState","response","target","value","submitTicketMessage","message","state","ticketID","ticket","_id","done","openTicket","closeTicket","val","idx","t","createdAt","Date","key","author","date","toLocaleTimeString","toLocaleDateString","body","str","this","Fragment","Modal","show","onHide","dialogClassName","as","width","title","OverlayTrigger","placement","overlay","Tooltip","id","Button","onClick","float","variant","height","overflowY","whiteSpace","namespace","lesson","component","attachments","map","file","href","filename","marginLeft","rel","marginRight","messages","renderMessage","background","FormGroup","controlId","FormLabel","FormControl","rows","placeholder","onChange","handleResponseChange","disabled","block","handleResponseSubmit","toggleCompletion","Component","defaultProps","withTranslation","TwoFactorAuthentication","getTfaQRCode","tfaQRCode","__html","enableTFA","token","disableTFA","dangerouslySetInnerHTML","Row","Col","sm","autoFocus","enableTfa","user","twoFactorAuth","Card","bg","border","disableTfa","requestTfaQRCode","renderQRCode","EnterTokenModal","authenticate","writeAccessToken","closeButton","Form","handleInputChange","handleSubmit","createTooltip","debug","logger","EditModal","password","passwordRepeat","organization","customFields","form","change","isEmptyObject","updateUser","showTokenModal","email","changed","writeAccess","toggleTokenModal","validPasswords","getPasswordValidationState","validName","getNameValidationState","enteredPasswords","userCustomFields","availableCustomFields","renderInstructorButton","verifiedEmail","Badge","size","resendConfirmEmail","fontSize","isInvalid","filter","x","showOnProfile","editableOnProfile","input","label","defaultChecked","newCustomFields","checked","autoComplete","defaultValue","options","e","elem","maxLength","minLength","paddingTop","handleUpdate","ActionTypesDisplay","nextProps","selectedNamespaceID","selectedNamespace","lessonData","lessons","actionTypes","types","typeNames","objectKeys","j","keys","Array","count","Table","striped","createOption","ns","CreateTicketModal","document","createElement","onchange","files","newFiles","click","newValue","selectedCourse","createTicket","platform","version","product","manufacturer","os","slice","splice","enrolledNamespaces","ListGroup","removeFileFactory","handleCourseChange","handleTitleChange","handleDescriptionChange","renderAttachments","attachFile","RE_TICKET","TicketListModal","showCreateModal","showMessagesModal","showOpen","getUserTickets","history","location","search","match","exec","tickets","selectedTicket","out","push","toggleTicketModal","enableTicketing","renderTicketList","toggleShowAll","toggleCreateModal","ProfilePicModal","asyncComponent","TimeSpent","ProgressStats","id2Name","ProfilePage","showEditModal","showTicketListModal","showProfilePicModal","namespaceName","dataset","course","isObject","getLessons","selectedStatsType","selectedDataType","sendTicketMessage","getUserFiles","renderFiles","renderMessages","isArray","lessonName","cl","path","Media","announcements","index","dateString","navigator","language","hour","minute","Nav","activeKey","onSelect","handleDataSelect","eventKey","handleStatsSelect","courses","handleSelect","renderStatisticDataToolbar","renderLeftPanel","renderStatisticStatsToolbar","renderRightPanel","list","temp","badge","desc","display","badgeState","acquired","animation","badgeCircle","userPic","hoodie","showTicketingButton","anyBy","nLessons","role","toggleProfilePicModal","onKeyPress","tabIndex","score","formatTime","spentTime","toggleEditModal","toggleTicketListModal","renderUserSection","renderStatisticSection","renderBadgesSection","uploadProfilePic","GET_TFA_QRCODE","events","getTfaQRCodeInjector","result","verified","ENABLED_TFA","enableTFAInjector","DISABLED_TFA","disableTFAInjector","connect","addNotificationInjector","createTicketInjector","updateUserInjector","authenticateInjector","getUserFilesInjector","getLessonsInjector","resendConfirmEmailInjector","sendTicketMessageInjector","closeTicketInjector","openTicketInjector","getUserTicketsInjector","uploadProfilePicInjector","time","opts","hours","minutes","seconds","floor"],"sourceRoot":""}