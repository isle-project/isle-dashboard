"use strict";(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[5157,459],{43927:function(e,t,n){n.r(t);var a=n(87462),l=n(1413),i=n(70885),o=n(41488),s=n(44996),u=n.n(s),r=n(70048),c=n(29530),d=n(72945),m=n(23596),p=n(72731),f=n(87950),g=n(87914),b=n(82948),y=n(12376),v=n(10724),Z=n(64001),h=u()("isle:data-explorer:histogram"),E={start:null,size:100,end:null},C=function(e){var t=(0,o.useState)(!1),n=(0,i.Z)(t,2),s=n[0],u=n[1],C=(0,o.useState)(null),x=(0,i.Z)(C,2),S=x[0],k=x[1],w=(0,o.useState)(1),V=(0,i.Z)(w,2),P=V[0],K=V[1],N=(0,o.useState)(e.defaultValue||e.variables[0]),D=(0,i.Z)(N,2),F=D[0],B=D[1],A=(0,o.useState)(null),O=(0,i.Z)(A,2),U=O[0],z=O[1],H=(0,o.useState)("Overlay"),L=(0,i.Z)(H,2),q=L[0],T=L[1],I=(0,o.useState)(2),j=(0,i.Z)(I,2),M=j[0],R=j[1],_=(0,o.useState)(10),G=(0,i.Z)(_,2),$=G[0],J=G[1],Q=(0,o.useState)(E),W=(0,i.Z)(Q,2),X=W[0],Y=W[1],ee=(0,o.useState)("Automatic"),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],le=e.variables,ie=e.groupingVariables,oe=e.t;(0,o.useEffect)((function(){Y(E)}),[ne]);return o.createElement(c.Z,null,o.createElement(c.Z.Header,{as:"h4"},oe("Histogram"),o.createElement(Z.Z,{title:oe("Histogram"),content:oe("Histogram-description")})),o.createElement(c.Z.Body,null,o.createElement(f.Z,{legend:oe("variable"),defaultValue:F,options:le,onChange:B}),o.createElement(m.Z,null,o.createElement(d.Z,{md:5},o.createElement(f.Z,{legend:oe("group-by"),options:ie,clearable:!0,onChange:z})),o.createElement(d.Z,{md:4},U?o.createElement(f.Z,{legend:"".concat(oe("mode"),":"),defaultValue:q,options:["Overlay","Facets"],onChange:T}):null),o.createElement(d.Z,{md:3},U&&"Facets"===q?o.createElement(g.Z,{legend:oe("columns"),defaultValue:2,min:1,onChange:R,style:{marginTop:0},inputStyle:{width:70,marginLeft:0,marginTop:2}}):null)),o.createElement("div",null,o.createElement(f.Z,{legend:oe("binning-strategy"),options:["Automatic","Select # of bins","Set bin width"],defaultValue:ne,inline:!0,onChange:ae}),"Automatic"!==ne?o.createElement("div",null,o.createElement(g.Z,{legend:oe("start"),inline:!0,defaultValue:X.start,onChange:function(e){var t=(0,l.Z)({},X);t.start=e,Y(t)},step:"any",inputStyle:{width:70}}),"Select # of bins"===ne?o.createElement(g.Z,{legend:oe("bins"),defaultValue:$,min:1,step:1,onChange:J,inline:!0,inputStyle:{width:70}}):null,"Set bin width"===ne?o.createElement(g.Z,{legend:oe("size"),inline:!0,defaultValue:X.size,onChange:function(e){var t=(0,l.Z)({},X);t.size=e,Y(t)},step:"any",inputStyle:{width:70}}):null,o.createElement(g.Z,{legend:oe("end"),inline:!0,defaultValue:X.end,onChange:function(e){var t=(0,l.Z)({},X);t.end=e,Y(t)},step:"any",inputStyle:{width:70}})):null),e.showDensityOption?o.createElement("div",null,o.createElement(p.Z,{legend:oe("display-density"),defaultValue:s,onChange:u}),o.createElement(f.Z,{legend:oe("overlay-density-line"),options:["Data-driven","Normal","Uniform","Exponential"],disabled:!s,defaultValue:S,clearable:!0,menuPlacement:"top",onChange:k}),"Data-driven"===S?o.createElement(g.Z,{legend:oe("bandwidth-adjustment"),defaultValue:P,min:0,step:.1,onChange:K}):null):null,o.createElement(r.Z,{variant:"primary",block:!0,onClick:function(){h("Generate a histogram with ".concat($," bins"));var t=(0,b.Z)(6),n={variable:F,group:U,groupMode:q,displayDensity:s,densityType:S,binStrategy:ne};"Select # of bins"===ne&&(n.nBins=$),n.xBins=X,"Facets"===q&&(n.nCols=M),"Data-driven"===S&&(n.bandwidthAdjust=P);var i=(0,l.Z)((0,l.Z)({},n),{},{plotId:t}),u=o.createElement(y.Z,(0,a.Z)({data:e.data},n,{id:t,action:i,onShare:function(){e.session.addNotification({title:e.t("plot-shared"),message:e.t("plot-shared-message"),level:"success",position:"tr"}),e.logAction(v.V3,i)}}));e.logAction(v.NM,i),e.onCreated(u)}},oe("generate"))))};C.defaultProps={defaultValue:null,groupingVariables:null,logAction:function(){},showDensityOption:!0,onSelected:function(){}},t.default=C},64001:function(e,t,n){var a=n(41488),l=n(70048),i=n(92637),o=n(60145),s=n(52299),u=n(66734);t.Z=function(e){var t=a.createElement(i.Z,{id:"popover-positioned-right"},a.createElement(o.Z,null,e.title),a.createElement(s.Z,null,e.content));return a.createElement(u.Z,{trigger:["click","hover","focus"],placement:"left",rootClose:!0,overlay:t},a.createElement(l.Z,{size:"sm",variant:"outline-secondary",className:"question-button"},a.createElement("div",{className:"fa fa-question"})))}},72731:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(1413),l=n(4942),i=n(70885),o=n(41488),s=n(37691),u=n.n(s),r=n(84972),c=n(87651),d=(0,n(20216).Z)("checkbox-input"),m=function(e){var t=e.bind,s=e.defaultValue,m=e.disabled,p=e.onChange,f=(0,o.useRef)(e.id||d(e)),g=(0,o.useContext)(c.Z),b=(0,o.useState)(t&&g.state?g.state[t]:s),y=(0,i.Z)(b,2),v=y[0],Z=y[1];(0,o.useEffect)((function(){Z(s)}),[s]),(0,o.useEffect)((function(){t&&Z(n.g.lesson.state[t])}),[t]),(0,o.useEffect)((function(){if(t){var e=n.g.lesson.state[t];e!==v&&Z(e)}}),[t,v]);var h=(0,o.useCallback)((function(e){Z(e),t&&n.g.lesson.setState((0,l.Z)({},t,e))}),[t]),E=(0,o.useCallback)((function(e){var t=e.target.checked;p(t),h(t)}),[p,h]),C=function(){var t=null!==e.value?!e.value:!v;p(t),h(t)},x=o.createElement("input",{className:"checkbox-input",type:"checkbox",checked:null!==e.value?e.value:v,value:"checkbox",onChange:E,disabled:m,"aria-label":e.tooltip});if(!0===e.inline)return o.createElement(r.Z,{tooltip:e.tooltip,placement:e.tooltipPlacement},o.createElement("span",{id:f.current,style:(0,a.Z)({marginLeft:"8px"},e.style)},x,o.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:m?"darkgray":null},onClick:C,onKeyPress:C},e.legend)));var S=m?u():C;return o.createElement(r.Z,{tooltip:e.tooltip,placement:e.tooltipPlacement},o.createElement("div",{id:f.current,className:"input checkbox-input-div",style:e.style},x,o.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:m?"darkgray":null},onClick:S,onKeyPress:S},e.legend)))};m.defaultProps={bind:"",onChange:function(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}};var p=m},87914:function(e,t,n){n.d(t,{Z:function(){return K}});var a=n(1413),l=n(4942),i=n(70885),o=n(41488),s=n(44996),u=n.n(s),r=n(26180),c=n(33837),d=n.n(c),m=n(62423),p=n.n(m),f=n(20842),g=n(81064),b=n.n(g),y=n(37221),v=n(14444),Z=n.n(v),h=n(27394),E=n.n(h),C=n(84972),x=n(87651),S=n(20216);var k=function(e){var t=e.min,n=e.max,a=e.step,l=e.t,i="".concat(l("enter")," ").concat(l(1===a?"integer":"number")," ");return n!==Z()&&t!==E()?i+="".concat(l("between")," ").concat(t," ").concat(l("and")," ").concat(n):t!==E()?i+="".concat(l("larger-or-equal-to")," ").concat(t):n!==Z()&&(i+="".concat(l("smaller-or-equal-to")," ").concat(n)),i},w=u()("isle:number-input"),V=(0,S.Z)("number-input"),P=function(e){var t=(0,o.useRef)(e.id||V(e)),s=e.bind,u=e.defaultValue,c=e.min,m=e.max,g=e.step,v=e.value,Z=e.onBlur,h=e.onChange,E=(0,r.$)("input").t,S=(0,o.useContext)(x.Z),P=(0,o.useState)(v||(s&&S.state?S.state[s]:u)),K=(0,i.Z)(P,2),N=K[0],D=K[1];(0,o.useEffect)((function(){if(s){var e=n.g.lesson.state[s];e!==N&&(0,y.isPrimitive)(N)&&D(e)}}),[s,N]),(0,o.useEffect)((function(){D(u)}),[u]),(0,o.useEffect)((function(){s&&D(n.g.lesson.state[s])}),[s]);var F=(0,o.useCallback)((function(e){w("Handle change of input field...");var t=e.target.validity.valid,a=e.target.value;D(a),v||t&&""!==a&&"-"!==a&&"."!==a&&"-."!==a?(a=parseFloat(a),p()(a)&&(a=""),h(a),s&&n.g.lesson.setState((0,l.Z)({},s,a))):s&&n.g.lesson.setState((0,l.Z)({},s,a))}),[s,v,h]),B=(0,o.useCallback)((function(e){w("Finished change...");var t=e.target.value;if(d()(t,"/")){w("Encountered a fraction...");var a=t.split("/");""!==a[0]&&""!==a[1]&&(t=parseFloat(a[0])/parseFloat(a[1]))}p()(t)?t="":""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t=parseFloat(t)),t>m?t=m:t<c?t=c:1===g&&""!==t&&"-"!==t&&"."!==t&&"-."!==t&&(t-=t%g),h(t),Z(t),t!==N&&(D(t),s&&n.g.lesson.setState((0,l.Z)({},s,t)))}),[s,c,m,g,N,Z,h]),A=b()(e.tooltip)?k({min:c,max:m,step:g,t:E}):e.tooltip;if(!0===e.inline){var O=o.createElement("span",{className:"input",style:(0,a.Z)({padding:"5px"},e.style)},e.legend?o.createElement("label",{htmlFor:t.current}," ",e.legend," =  "):null,o.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==v?v:N,step:e.step,min:e.min,max:e.max,style:(0,a.Z)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},e.inputStyle),onChange:F,onBlur:B,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"}),e.description?o.createElement("span",null,"(",e.description,")"):o.createElement("span",null));return e.disabled?O:o.createElement(C.Z,{id:"number-input-tooltip-inline",placement:"top",show:!e.disabled,tooltip:A},O)}var U=o.createElement("input",{id:t.current,type:e.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:e.disabled,value:null!==v?v:N,step:e.step,min:e.min,max:e.max,style:(0,a.Z)({width:"80px",marginLeft:"24px"},e.inputStyle),onChange:F,onBlur:B,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,autoComplete:"off"});return o.createElement("div",{className:"input",style:(0,a.Z)({marginBottom:"4px",marginTop:"4px"},e.style)},e.legend?o.createElement("span",null,o.createElement("label",{htmlFor:t.current},(0,f.isPrimitive)(e.legend)?e.legend+":":e.legend),e.description?o.createElement("span",null," ",e.description):null):null,o.createElement(C.Z,{id:"number-input-tooltip",placement:e.tooltipPlacement,tooltip:A,show:!e.disabled},o.createElement("span",{className:"number-input-span"},U)))};P.defaultProps={bind:"",disabled:!1,legend:null,min:E(),max:Z(),step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"};var K=P}}]);
//# sourceMappingURL=HistogramMenu.a2390250.chunk.js.map